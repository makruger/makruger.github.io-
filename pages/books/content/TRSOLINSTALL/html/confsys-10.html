<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Configuring the Solaris Management Console for LDAP (Task Map) - Solaris Trusted Extensions Installation and Configuration</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Trusted Extensions Installation and Configuration</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="txconf-37.html">Previous</a>
             </td>
             <td align="right">
                 <a href="headl-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-4.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="ovw-1.html">1.&nbsp;&nbsp;Security Planning for Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="tmap-1.html">2.&nbsp;&nbsp;Installation and Configuration Roadmap for Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="startinst-1.html">3.&nbsp;&nbsp;Installing Solaris Trusted Extensions Software  (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="txconf-1.html">4.&nbsp;&nbsp;Configuring Trusted Extensions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="txldap-1.html">5.&nbsp;&nbsp;Configuring LDAP for Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="txldap-16.html">Configuring an LDAP Server on a Trusted Extensions Host (Task Map)</a></p>
<p class="toc level2"><a href="txldap-18.html">Configuring an LDAP Proxy Server on a Trusted Extensions Host (Task Map)</a></p>
<p class="toc level2"><a href="txconf-8.html">Configuring the Sun Java System Directory Server on a Trusted Extensions System</a></p>
<p class="toc level3"><a href="txconf-8.html#txldap-3">Collect Information for the Directory Server for LDAP</a></p>
<p class="toc level3"><a href="txconf-8.html#txldap-4">Install the Sun Java System Directory Server</a></p>
<p class="toc level3"><a href="txconf-8.html#txldap-12">Protect Access Logs for the Sun Java System Directory Server</a></p>
<p class="toc level3"><a href="txconf-8.html#txldap-14">Protect Error Logs for the Sun Java System Directory Server</a></p>
<p class="toc level3"><a href="txconf-8.html#txldap-10">Configure a Multilevel Port for the Sun Java System Directory Server</a></p>
<p class="toc level3"><a href="txconf-8.html#txldap-2">Populate the Sun Java System Directory Server</a></p>
<p class="toc level2 tocsp"><a href="txconf-37.html">Creating a Trusted Extensions Proxy for an Existing Sun Java System Directory Server</a></p>
<p class="toc level3"><a href="txconf-37.html#txldap-6">Create an LDAP Proxy Server</a></p>
<div class="onpage">
<p class="toc level2 tocsp"><a href="">Configuring the Solaris Management Console for LDAP (Task Map)</a></p>
<p class="toc level3"><a href="#txldap-11">Register LDAP Credentials With the Solaris Management Console</a></p>
<p class="toc level3"><a href="#txldap-19">Enable an LDAP Client to Administer LDAP</a></p>
<p class="toc level3"><a href="#txldap-7">Edit the LDAP Toolbox in the Solaris Management Console</a></p>
<p class="toc level3"><a href="#txldap-9">Verify That the Solaris Management Console Contains Trusted Extensions Information</a></p>
</div>
<p class="toc level1 tocsp"><a href="headl-1.html">6.&nbsp;&nbsp;Configuring a Headless System With Trusted Extensions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="appol-1.html">A.&nbsp;&nbsp;Site Security Policy</a></p>
<p class="toc level1 tocsp"><a href="aptxconf-1.html">B.&nbsp;&nbsp;Using CDE Actions to Install Zones in Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="checklist-1.html">C.&nbsp;&nbsp;Configuration Checklist for Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="confsys-10"></a><h3>Configuring the Solaris Management Console for LDAP (Task Map)</h3>
<a name="indexterm-253"></a><a name="indexterm-254"></a><a name="indexterm-255"></a><a name="indexterm-256"></a><a name="indexterm-257"></a><p>The Solaris Management Console is the GUI for administering the network of
systems that are running Trusted Extensions.</p><table><col width="21.13*"><col width="44.28*"><col width="33.56*"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Initialize the Solaris Management Console.</p></td>
<td align="left" valign="top" scope="row"><p>Initialize the Solaris
Management Console. This procedure is performed once per system in the global zone.</p></td>
<td align="left" valign="top" scope="row"><p><a href="txconf-60.html#confsys-21">Initialize the Solaris Management Console Server in Trusted Extensions</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Register
credentials.</p></td>
<td align="left" valign="top" scope="row"><p>Authenticate the Solaris Management Console with the LDAP server.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#txldap-11">Register LDAP Credentials With the Solaris Management Console</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Enable LDAP administration on
a system.</p></td>
<td align="left" valign="top" scope="row"><p>By default, LDAP administration is turned off at installation. You explicitly enable
particular systems to be LDAP administration systems.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#txldap-19">Enable an LDAP Client to Administer LDAP</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Create the LDAP toolbox.</p></td>
<td align="left" valign="top" scope="row"><p>Create the LDAP
toolbox in the Solaris Management Console for Trusted Extensions.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#txldap-7">Edit the LDAP Toolbox in the Solaris Management Console</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Verify communications.</p></td>
<td align="left" valign="top" scope="row"><p>Verify that Trusted
Extensions hosts can become LDAP clients.</p></td>
<td align="left" valign="top" scope="row"><p><a href="txconf-60.html#txldap-8">Make the Global Zone an LDAP Client in Trusted Extensions</a></p></td>
</tr>
</table>

<a name="txldap-11"></a><h4>Register LDAP Credentials With the Solaris Management Console</h4><a name="indexterm-258"></a><a name="indexterm-259"></a><a name="indexterm-260"></a><a name="indexterm-261"></a><a name="indexterm-262"></a><h6>Before You Begin</h6><p>You must be the <tt>root</tt> user on an LDAP server that is running
Trusted Extensions. The server can be a proxy server.</p><p>Your Sun Java System Directory Server must be configured. You have completed
one of the following configurations:</p>
<ul><li><p><a href="txldap-16.html">Configuring an LDAP Server on a Trusted Extensions Host (Task Map)</a></p></li>
<li><p><a href="txldap-18.html">Configuring an LDAP Proxy Server on a Trusted Extensions Host (Task Map)</a></p></li></ul>
<ol>
<li><b>Register the LDAP administrative credentials.</b><pre># <tt><b>/usr/sadm/bin/dtsetup storeCred</b></tt>
Administrator DN:Type the value for cn on your system
Password:Type the Directory Manager password
Password (confirm):Retype the password</pre></li>
<li><b>Verify communications with the Directory Server.</b><pre># <tt><b>/usr/sadm/bin/dtsetup scopes</b></tt>
Getting list of manageable scopes...
Scope 1 file:Displays name of file scope
Scope 2 ldap:Displays name of ldap scope</pre><p>Your LDAP server setup determines the LDAP scopes that are listed. After the
server is registered, the LDAP toolbox can be edited, and then used.</p></li></ol><a name="txldap-ex-cred-1"></a>Example&nbsp;5-1 Registering LDAP Credentials<p>In this example, the name of the LDAP server is <tt>LDAP1</tt>, the name
of the LDAP client is <tt>myhost</tt>, and the value for <tt>cn</tt> is
the default, <tt>Directory Manager</tt>.</p><pre># <tt><b>/usr/sadm/bin/dtsetup storeCred</b></tt>
Administrator DN:<tt><b>cn=Directory Manager</b></tt>
Password:<tt><b>abcde1;!</b></tt>
Password (confirm):<tt><b>abcde1;!</b></tt>
# <tt><b>/usr/sadm/bin/dtsetup scopes</b></tt>
Getting list of manageable scopes...
Scope 1 file:/myhost/myhost
Scope 2 ldap:/myhost/cd=myhost,dc=example,dc=com</pre>

<a name="txldap-19"></a><h4>Enable an LDAP Client to Administer LDAP</h4><a name="indexterm-263"></a><a name="indexterm-264"></a><a name="indexterm-265"></a><a name="indexterm-266"></a><p>By default, systems are installed to not listen on ports that present security
risks. Therefore, you must explicitly turn on network communications with the LDAP server.
Perform this procedure only on systems from which you plan to administer your
network of systems and users.</p><h6>Before You Begin</h6><p>You must be superuser or in the Security Administrator role in the
global zone.</p><ul>
<li><b>Enable the system to administer LDAP.</b><pre># <tt><b>svccfg -s wbem setprop options/tcp_listen=true</b></tt></pre><p>To view the LDAP toolbox, you must complete <a href="#txldap-7">Edit the LDAP Toolbox in the Solaris Management Console</a>.</p></li></ul>

<a name="txldap-7"></a><h4>Edit the LDAP Toolbox in the Solaris Management Console</h4><a name="indexterm-267"></a><a name="indexterm-268"></a><a name="indexterm-269"></a><a name="indexterm-270"></a><a name="indexterm-271"></a><h6>Before You Begin</h6><p>You must be superuser. The LDAP credentials must be registered with the Solaris
Management Console, and you must know the output of the <tt>/usr/sadm/bin/dtsetup scopes</tt> command.
For details, see <a href="#txldap-11">Register LDAP Credentials With the Solaris Management Console</a>.</p><ol>
<li><b>Find the LDAP toolbox.</b><pre># <tt><b>cd /var/sadm/smc/toolboxes/tsol_ldap</b></tt>
# <tt><b>ls *tbx</b></tt>
tsol_ldap.tbx</pre></li>
<li><b>Provide the LDAP server name.</b><ol style="list-style-type: lower-alpha">
				 
<li><b>Open the trusted editor.</b></li>
<li><b>Copy and paste the full pathname of the <tt>tsol_ldap.tbx</tt> toolbox as the argument
to the editor.</b><p>For example, the following path is the default location of the LDAP toolbox:</p><pre>/var/sadm/smc/toolboxes/tsol_ldap/tsol_ldap.tbx</pre></li>
<li><b>Replace the scope information.</b><p>Replace the <tt>server</tt> tags between the <tt>&lt;Scope></tt> and <tt>&lt;/Scope></tt> tags with the
output of the <tt>ldap:/......</tt> line from the <tt>/usr/sadm/bin/dtsetup scopes</tt> command.</p><pre>&lt;Scope>ldap:/&lt;<i>myhost</i>>/&lt;dc=<i>domain</i>,dc=<i>suffix</i>>&lt;/Scope></pre></li>
<li><b>Replace every instance of <tt>&lt;?server?></tt> or <tt>&lt;?server ?></tt> with the LDAP server.</b><pre>&lt;Name> <i>ldap-server-name</i>: Scope=ldap, Policy=TSOL&lt;/Name>
services and configuration of <i>ldap-server-name</i>.&lt;/Description>
and configuring <i>ldap-server-name</i>.&lt;/Description>
&lt;ServerName><i>ldap-server-name</i>&lt;/ServerName>
&lt;ServerName><i>ldap-server-name</i>&lt;/ServerName></pre></li>
<li><b>Save the file, and exit the editor.</b></li></ol></li>
<li><b>Stop and start the <tt>wbem</tt> service.</b><p>The <tt>smc</tt> daemon is controlled by the <tt>wbem</tt> service.</p><pre># <tt><b>svcadm disable wbem</b></tt>
# <tt><b>svcadm enable wbem</b></tt></pre></li></ol><a name="txldap-17"></a>Example&nbsp;5-2 Configuring the LDAP Toolbox<p>In this example, the name of the LDAP server is <tt>LDAP1</tt>. To configure
the toolbox, the administrator replaces the instances of <tt>server</tt> with LDAP1.</p><pre>&lt;Name><tt><b>LDAP1</b></tt>: Scope=ldap, Policy=TSOL&lt;/Name>
services and configuration of <tt><b>LDAP1</b></tt>.&lt;/Description>
and configuring <tt><b>LDAP1</b></tt>.&lt;/Description>
&lt;ServerName><tt><b>LDAP1</b></tt>&lt;/ServerName>
&lt;ServerName><tt><b>LDAP1</b></tt>&lt;/ServerName></pre>

<a name="txldap-9"></a><h4>Verify That the Solaris Management Console Contains Trusted Extensions Information</h4><h6>Before You Begin</h6><p>You must be logged in to an LDAP client in an administrative
role, or as superuser. To make a system an LDAP client, see <a href="txconf-60.html#txldap-8">Make the Global Zone an LDAP Client in Trusted Extensions</a>.</p><p>To use the LDAP toolbox, you must have completed <a href="#txldap-7">Edit the LDAP Toolbox in the Solaris Management Console</a> and <a href="txconf-60.html#confsys-21">Initialize the Solaris Management Console Server in Trusted Extensions</a>.</p><ol>
<li><b>Start the Solaris Management Console.</b><pre># <tt><b>/usr/sbin/smc &amp;</b></tt></pre></li>
<li><b>Open a Trusted Extensions toolbox.</b><p>A Trusted Extensions toolbox has the value <tt>Policy=TSOL</tt>.</p><ul>
<li><b>To check that local files can be accessed, open the This Computer
(<i>this-host</i>: <tt>Scope=Files, Policy=TSOL</tt>) toolbox.</b></li>
<li><b>To check that databases on the LDAP server can be accessed, open the
This Computer (<i>this-host</i>: <tt>Scope=LDAP, Policy=TSOL</tt>) toolbox.</b></li></ul></li>
<li><b>Under System Configuration, navigate to Computers and Networks, then Security Templates.</b></li>
<li><b>Check that the correct templates and labels have been applied to the remote
systems.</b></li></ol><h6>Troubleshooting</h6><p>To troubleshoot LDAP configuration, see <a href="http://docs.sun.com/doc/819-3194/setupproblems-1?a=view">Chapter 13, LDAP Troubleshooting (Reference), in <i>System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</i></a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="txconf-37.html">Previous</a>
             </td>
             <td align="right">
                 <a href="headl-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

