<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Mobile IP With Reverse Tunneling - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="mipoverview-30.html">Previous</a>
             </td>
             <td align="right">
                 <a href="mipoverview-12.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level2"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level2"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level2"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<p class="toc level2"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level2"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level2"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<p class="toc level2"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level2"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level3"><a href="mipoverview-25.html">Introduction to Mobile IP</a></p>
<p class="toc level3"><a href="mipoverview-29.html">Mobile IP Functional Entities</a></p>
<p class="toc level3"><a href="mipoverview-2.html">How Mobile IP Works</a></p>
<p class="toc level3"><a href="mipoverview-5.html">Agent Discovery</a></p>
<p class="toc level3"><a href="mipoverview-30.html">Care-of Addresses</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Mobile IP With Reverse Tunneling</a></p>
</div>
<p class="toc level3"><a href="mipoverview-12.html">Mobile IP Registration</a></p>
<p class="toc level3"><a href="mipoverview-18.html">Routing Datagrams to and From Mobile Nodes</a></p>
<p class="toc level3"><a href="mipoverview-23.html">Security Considerations for Mobile IP</a></p>
<p class="toc level2 tocsp"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level2"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="mipoverview-45"></a><h3>Mobile IP With Reverse Tunneling</h3>
<a name="indexterm-2526"></a><a name="indexterm-2527"></a><p>The section <a href="mipoverview-2.html">How Mobile IP Works</a> assumes that the routing within the Internet is independent of
the source address of the datagram. However, intermediate routers might check for a
topologically correct source address. If an intermediate router does check, the mobile node
needs to set up a reverse tunnel. By setting up a reverse tunnel
from the care-of address to the home agent, you ensure a topologically correct
source address for the IP data packet. Reverse tunnel support is advertised by
foreign agents and home agents. A mobile node can request a reverse tunnel
between the foreign agent and the home agent when the mobile node
registers. A reverse tunnel is a tunnel that starts at the care-of address
of the mobile node and terminates at the home agent. The following figure
shows the Mobile IP topology that uses a reverse tunnel.</p><a name="mipoverview-fig-36"></a><h6>Figure&nbsp;27-4 Mobile IP With a Reverse Tunnel</h6><img src="figures/ReverseTunnel.gif" alt="Illustrates how a mobile node communicates through a reverse tunnel to a correspondent node."></img>

<a name="mipoverview-46"></a><h4>Limited Private Addresses Support</h4>
<a name="indexterm-2528"></a><a name="indexterm-2529"></a><p>Mobile nodes that have private addresses that are not globally routeable through the
Internet require reverse tunnels. Solaris Mobile IP supports mobile nodes that are privately
addressed. See <a href="mipmanaging-23.html">Overview of the Solaris Mobile IP Implementation</a> for the functions that Solaris Mobile IP does not support.</p><p>Enterprises employ private addresses when external connectivity is not required. Private addresses are
not routeable through the Internet. When a mobile node has a private address,
the mobile node can only communicate with a correspondent node by having its
datagrams reverse-tunneled to its home agent. The home agent then delivers the datagram
to the correspondent node in whatever manner the datagram is normally delivered when
the mobile node is at home. The following figure shows a network
topology with two mobile nodes that are privately addressed. The two mobile nodes
use the same care-of address when they are registered to the same foreign
agent.</p><a name="mipoverview-fig-38"></a><h6>Figure&nbsp;27-5 Privately Addressed Mobile Nodes Residing on the Same Foreign Network</h6><img src="figures/PrivateAddr1.gif" alt="Illustrates the network topology of two privately addressed mobile nodes that use the same care-of address when registered to the same foreign agent."></img><p>The care-of address and the home agent address must be globally routeable
addresses if these addresses belong to different domains that are connected by a
public Internet.</p><p>The same foreign network can include two mobile nodes that are privately
addressed with the same IP address. However, each mobile node must have a
different home agent. Also, each mobile node must be on different advertising subnets
of a single foreign agent. The following figure shows a network topology that
depicts this situation.</p><a name="mipoverview-fig-39"></a><h6>Figure&nbsp;27-6 Privately Addressed Mobile Nodes Residing on Different Foreign Networks</h6><img src="figures/PrivateAddr2.gif" alt="Illustrates the network topology of two privately addressed mobile nodes that reside on different foreign networks."></img>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="mipoverview-30.html">Previous</a>
             </td>
             <td align="right">
                 <a href="mipoverview-12.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

