<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Administering and Logging Network Status Displays - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ipv6-admintasks-53.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipv6-admintasks-72.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level2"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level2"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level3"><a href="ipv6-admintasks-2.html">Major TCP/IP Administrative Tasks (Task Map)</a></p>
<p class="toc level3"><a href="ipconfig-141.html">Monitoring the Interface Configuration With the <tt>ifconfig</tt> Command</a></p>
<p class="toc level4"><a href="ipconfig-141.html#ipconfig-46">How to Get Information About a Specific Interface</a></p>
<p class="toc level4"><a href="ipconfig-141.html#ipconfig-171">How to Display Interface Address Assignments</a></p>
<p class="toc level3 tocsp"><a href="ipconfig-142.html">Monitoring Network Status With the <tt>netstat</tt> Command</a></p>
<p class="toc level4"><a href="ipconfig-142.html#ipconfig-143">How to Display Statistics by Protocol</a></p>
<p class="toc level4"><a href="ipconfig-142.html#esbee">How to Display the Status of Transport Protocols</a></p>
<p class="toc level4"><a href="ipconfig-142.html#ipconfig-144">How to Display Network Interface Status</a></p>
<p class="toc level4"><a href="ipconfig-142.html#ipv6-admintasks-16">How to Display the Status of Sockets</a></p>
<p class="toc level4"><a href="ipconfig-142.html#ipv6-admintasks-48">How to Display the Status of Transmissions for Packets of a Specific Address Type</a></p>
<p class="toc level4"><a href="ipconfig-142.html#ipconfig-145">How to Display the Status of Known Routes</a></p>
<p class="toc level3 tocsp"><a href="ipv6-admintasks-53.html">Probing Remote Hosts With the <tt>ping</tt> Command</a></p>
<p class="toc level4"><a href="ipv6-admintasks-53.html#ipv6-admintasks-54">How to Determine if a Remote Host Is Running</a></p>
<p class="toc level4"><a href="ipv6-admintasks-53.html#ipv6-admintasks-56">How to Determine if a Host Is Dropping Packets</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Administering and Logging Network Status Displays</a></p>
<p class="toc level4"><a href="#ipv6-admintasks-22">How to Control the Display Output of IP-Related Commands</a></p>
<p class="toc level4"><a href="#ipv6-admintasks-59">How to Log Actions of the IPv4 Routing Daemon</a></p>
<p class="toc level4"><a href="#ipv6-admintasks-62">How to Trace the Activities of the IPv6 Neighbor Discovery Daemon</a></p>
</div>
<p class="toc level3 tocsp"><a href="ipv6-admintasks-72.html">Displaying Routing Information With the <tt>traceroute</tt> Command</a></p>
<p class="toc level4"><a href="ipv6-admintasks-72.html#ipv6-admintasks-73">How to Find Out the Route to a Remote Host</a></p>
<p class="toc level4"><a href="ipv6-admintasks-72.html#ipv6-admintasks-29">How to Trace All Routes</a></p>
<p class="toc level3 tocsp"><a href="ipv6-admintasks-670.html">Monitoring Packet Transfers With the <tt>snoop</tt> Command</a></p>
<p class="toc level4"><a href="ipv6-admintasks-670.html#ipv6-admintasks-67">How to Check Packets From All Interfaces</a></p>
<p class="toc level4"><a href="ipv6-admintasks-670.html#ipv6-admintasks-674">How to Capture <tt>snoop</tt> Output Into a File</a></p>
<p class="toc level4"><a href="ipv6-admintasks-670.html#ipv6-admintasks-676">How to Check Packets Between an IPv4 Server and a Client</a></p>
<p class="toc level4"><a href="ipv6-admintasks-670.html#ipv6-admintasks-10">How to Monitor IPv6 Network Traffic</a></p>
<p class="toc level3 tocsp"><a href="ipv6-admintasks-43.html">Administering Default Address Selection</a></p>
<p class="toc level4"><a href="ipv6-admintasks-43.html#ipv6-admintasks-77">How to Administer the IPv6 Address Selection Policy Table</a></p>
<p class="toc level4"><a href="ipv6-admintasks-43.html#ipv6-admintasks-87">How to Modify the IPv6 Address Selection Table for the Current Session Only</a></p>
<p class="toc level2 tocsp"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<p class="toc level2"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level2"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level2"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<p class="toc level2"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level2"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level2"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level2"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="ipv6-admintasks-5"></a><h3>Administering and Logging Network Status Displays</h3>
<p>The following tasks show how to check the status of the network
by using well-known networking commands.</p>

<a name="ipv6-admintasks-22"></a><h4>How to Control the Display Output of IP-Related Commands</h4><a name="indexterm-875"></a><a name="indexterm-876"></a><p>You can control the output of the <tt>netstat</tt> and <tt>ifconfig</tt> commands to
display IPv4 information only, or both IPv4 and IPv6 information.</p><ol>
<li><b>Create the <tt>/etc/default/inet_type</tt> file.</b></li>
<li><b>Add one of the following entries to <tt>/etc/default/inet_type</tt>, as required for your network:</b>
<ul><li><p>To display IPv4 information only:</p><pre>DEFAULT_IP=IP_VERSION4</pre></li>
<li><p>To display both IPv4 and IPv6 information:</p><pre>DEFAULT_IP=BOTH</pre><p>Or</p><pre>DEFAULT_IP=IP_VERSION6</pre><p>For more information about the <tt>inet_type</tt> file, see the <a href="http://docs.sun.com/doc/819-2251/inet-type-4?a=view"><tt>inet_type</tt>(4)</a> man page.</p></li></ul>

<hr><p><b>Note - </b>The <tt>-4</tt> and <tt>-6</tt> flags in the <tt>ifconfig</tt> command override the values
set in the <tt>inet_type</tt> file. The <tt>-f</tt> flag in the <tt>netstat</tt> command also overrides
the values set in the <tt>inet_type</tt> file. </p>
<hr>
</li></ol><a name="eojat"></a>Example&nbsp;8-14 Controlling Output to Select IPv4 and IPv6 Information
<ul><li><p>When you specify the <tt>DEFAULT_IP=BOTH</tt> or <tt>DEFAULT_IP=IP_VERSION6</tt> variable in the <tt>inet_type</tt> file, you should have the following output:</p><pre>% <tt><b>ifconfig -a</b></tt>
lo0: flags=1000849 mtu 8232 index 1
        inet 10.10.0.1 netmask ff000000 
qfe0: flags=1000843 mtu 1500 index 2
        inet 10.46.86.54 netmask ffffff00 broadcast 10.46.86.255
        ether 8:0:20:56:a8 
lo0: flags=2000849 mtu 8252 index 1
        inet6 ::1/128 
qfe0: flags=2000841 mtu 1500 index 2
        ether 8:0:20:56:a8 
        inet6 fe80::a00:fe73:56a8/10 
qfe0:1: flags=2080841 mtu 1500 index 2
        inet6 2001:db8:3c4d:5:a00:fe73:56a8/64 </pre></li>
<li><p>When you specify the <tt>DEFAULT_IP=IP_VERSION4</tt> or <tt>DEFAULT_IP=IP_VERSION6</tt> variable in the <tt>inet_type</tt> file, you should have the following output:</p><pre>% <tt><b>ifconfig -a</b></tt>
lo0: flags=849 mtu 8232
        inet 10.10.0.1 netmask ff000000 
qfe0: flags=843 mtu 1500
        inet 10.46.86.54 netmask ffffff00 broadcast 10.46.86.255
        ether 8:0:20:56:a8</pre></li></ul>


<a name="ipv6-admintasks-59"></a><h4>How to Log Actions of the IPv4 Routing Daemon</h4><a name="indexterm-877"></a><a name="indexterm-878"></a><p>If you suspect a malfunction of <tt>routed</tt>, the IPv4 routing daemon, you can
start a log that traces the daemon's activity. The log includes all packet
transfers when you start the <tt>routed</tt> daemon. </p><ol>
<li><b>On the local host, assume the Primary Administrator role, or become superuser.</b><p>The Primary Administrator role includes the Primary Administrator profile. To create the role
and assign the role to a user, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="ipconfig-step-63"></a><b>Create a log file of routing daemon actions: </b><pre># <tt><b>/usr/sbin/in.routed /var/</b></tt><i>log-file-name</i></pre>
<hr><p><b>Caution - </b>On a busy network, this command can generate almost continuous output.</p>
<hr>
</li></ol><a name="eojba"></a>Example&nbsp;8-15 Network Log for the <tt>in.routed</tt> Daemon<p>The following example shows the beginning of the log that is created by
the procedure <a href="#ipv6-admintasks-59">How to Log Actions of the IPv4 Routing Daemon</a>.</p><pre>-- 2003/11/18 16:47:00.000000 --
Tracing actions started
RCVBUF=61440
Add interface lo0  #1   127.0.0.1      -->127.0.0.1/32   
   &lt;UP|LOOPBACK|RUNNING|MULTICAST|IPv4> &lt;PASSIVE> 
Add interface hme0 #2   10.10.48.112    -->10.10.48.0/25   
    &lt;UP|BROADCAST|RUNNING|MULTICAST|IPv4> 
turn on RIP
Add    10.0.0.0        -->10.10.48.112      metric=0  hme0  &lt;NET_SYN>
Add    10.10.48.85/25  -->10.10.48.112      metric=0  hme0  &lt;IF|NOPROP></pre>

<a name="ipv6-admintasks-62"></a><h4>How to Trace the Activities of the IPv6 Neighbor Discovery Daemon</h4><a name="indexterm-879"></a><a name="indexterm-880"></a><p>If you suspect a malfunction of the IPv6 <tt>in.ndpd</tt> daemon, you can start
a log that traces the daemon's activity. This trace is displayed on the
standard output until terminated. This trace includes all packet transfers when you start
the <tt>in.ndpd</tt> daemon. </p><ol>
<li><b>Assume the Primary Administrator role, or become superuser, on the local IPv6 node.</b><p>The Primary Administrator role includes the Primary Administrator profile. To create the role
and assign the role to a user, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="ipv6-admintasks-step-64"></a><b>Start a trace of the <tt>in.ndpd</tt> daemon.</b><pre># <tt><b>/usr/lib/inet/in.ndpd -t</b></tt></pre></li>
<li><a name="ipv6-admintasks-step-65"></a><b>Terminate the trace as needed by typing Control-C.</b></li></ol><a name="eojae"></a>Example&nbsp;8-16 Trace of the <tt>in.ndpd</tt> Daemon<p>The following output shows the beginning of a trace of <tt>in.ndpd</tt>.</p><pre># <tt><b>/usr/lib/inet/in.ndpd -t</b></tt>
Nov 18 17:27:28 Sending solicitation to  ff02::2 (16 bytes) on hme0
Nov 18 17:27:28         Source LLA: len 6 &lt;08:00:20:b9:4c:54>
Nov 18 17:27:28 Received valid advert from fe80::a00:20ff:fee9:2d27 (88 bytes) on hme0
Nov 18 17:27:28         Max hop limit: 0
Nov 18 17:27:28         Managed address configuration: Not set
Nov 18 17:27:28         Other configuration flag: Not set
Nov 18 17:27:28         Router lifetime: 1800
Nov 18 17:27:28         Reachable timer: 0
Nov 18 17:27:28         Reachable retrans timer: 0
Nov 18 17:27:28         Source LLA: len 6 &lt;08:00:20:e9:2d:27>
Nov 18 17:27:28         Prefix: 2001:08db:3c4d:1::/64
Nov 18 17:27:28                 On link flag:Set
Nov 18 17:27:28                 Auto addrconf flag:Set
Nov 18 17:27:28                 Valid time: 2592000
Nov 18 17:27:28                 Preferred time: 604800
Nov 18 17:27:28         Prefix: 2002:0a00:3010:2::/64
Nov 18 17:27:28                 On link flag:Set
Nov 18 17:27:28                 Auto addrconf flag:Set
Nov 18 17:27:28                 Valid time: 2592000
Nov 18 17:27:28                 Preferred time: 604800</pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ipv6-admintasks-53.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipv6-admintasks-72.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

