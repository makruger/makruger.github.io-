<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Mobile IP Configuration File - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="mipmanaging-23.html">Previous</a>
             </td>
             <td align="right">
                 <a href="mipmanaging-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level2"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level2"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level2"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<p class="toc level2"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level2"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level2"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<p class="toc level2"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level2"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level2"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level2"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level3"><a href="mipmanaging-23.html">Overview of the Solaris Mobile IP Implementation</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Mobile IP Configuration File</a></p>
</div>
<p class="toc level3"><a href="mipmanaging-1.html">Configuring the Mobility IP Agent</a></p>
<p class="toc level3"><a href="mipmanaging-3.html">Mobile IP Mobility Agent Status</a></p>
<p class="toc level3"><a href="mipmanaging-36.html">Mobile IP State Information</a></p>
<p class="toc level3"><a href="mipmanaging-41.html"><tt>netstat</tt> Extensions for Mobile IP</a></p>
<p class="toc level3"><a href="mipmanaging-37.html"><tt>snoop</tt> Extensions for Mobile IP</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="mipmanaging-26"></a><h3>Mobile IP Configuration File</h3>
<p><a name="indexterm-2693"></a><a name="indexterm-2694"></a><a name="indexterm-2695"></a><a name="indexterm-2696"></a><a name="indexterm-2697"></a><a name="indexterm-2698"></a>The <tt>mipagent</tt> command reads configuration information from the <tt>/etc/inet/mipagent.conf</tt> configuration file at startup. Mobile
IP uses the <tt>/etc/inet/mipagent.conf</tt> configuration file to initialize the Mobile IP mobility agent.
When configured and deployed, the mobility agent issues periodic router advertisements and responds
to router discovery solicitation messages as well as Mobile IP registration messages. </p><p>See the <a href="http://docs.sun.com/doc/819-2251/mipagent.conf-4?a=view"><tt>mipagent.conf</tt>(4)</a> man page for a description of file attributes. See the
<a href="http://docs.sun.com/doc/819-2240/mipagent-1m?a=view"><tt>mipagent</tt>(1M)</a> man page for a description of this file's usage.</p>

<a name="mipmanaging-28"></a><h4>Configuration File Format</h4>
<a name="indexterm-2699"></a><p>The Mobile IP configuration file consists of sections. Each section has a
unique name and is enclosed in square brackets. Each section contains one or
more labels. You assign values to the labels by using the following format:</p><pre>[Section_name]
     <i>Label-name</i> = <i>value-assigned</i></pre><p><a href="#mipmanaging-5">Configuration File Sections and Labels</a> describes the section names, labels, and possible values.</p>

<a name="mipmanaging-4"></a><h4>Sample Configuration Files</h4>
<a name="indexterm-2700"></a><p>The default Solaris installation provides the following sample configuration files in the <tt>/etc/inet</tt>
directory:</p>
<ul><li><p><tt>mipagent.conf-sample</tt> &ndash; Contains a sample configuration for a Mobile IP agent that provides both foreign agent and home agent functionality</p></li>
<li><p><tt>mipagent.conf.fa-sample</tt> &ndash; Contains a sample configuration for a Mobile IP agent that provides only foreign agent functionality</p></li>
<li><p><tt>mipagent.conf.ha-sample</tt> &ndash; Contains a sample configuration for a Mobile IP agent that provides only home agent functionality</p></li></ul>
<p>These sample configuration files contain mobile node address and security settings. Before you
can implement Mobile IP, you must create a configuration file with the name
<tt>mipagent.conf</tt> and place it in the <tt>/etc/inet</tt> directory. This file contains the configuration
settings that satisfy your Mobile IP implementation requirements. You can also choose one
of the sample configuration files, modify it with your addresses and security settings,
and copy it to <tt>/etc/inet/mipagent.conf</tt>.</p><p>For more information, see <a href="mipimplementing-2.html#mipimplementing-90">How to Create the Mobile IP Configuration File</a>.</p>

<a name="mipmanaging-7"></a><h5><tt>mipagent.conf-sample</tt> File</h5>
<p>The following listing shows the sections, labels, and values that are contained in
the <tt>mipagent.conf-sample</tt> file. <a href="#mipmanaging-5">Configuration File Sections and Labels</a> describes the syntax, sections, labels, and values. </p><pre>[General]
   Version = 1.0    # version number for the configuration file. (required)
   
[Advertisements hme0]
   HomeAgent = yes
   ForeignAgent = yes
   PrefixFlags = yes
   AdvertiseOnBcast = yes
   RegLifetime = 200
   AdvLifetime = 200
   AdvFrequency = 5
   ReverseTunnel = no
   ReverseTunnelRequired = no
   
[GlobalSecurityParameters]
   MaxClockSkew = 300
   HA-FAauth = yes
   MN-FAauth = yes
   Challenge = no
   KeyDistribution = files

[Pool 1]
   BaseAddress = 10.68.30.7
   Size = 4

[SPI 257]
   ReplayMethod = none
   Key = 11111111111111111111111111111111

[SPI 258]
   ReplayMethod = none
   Key = 15111111111111111111111111111111

[Address 10.1.1.1]
   Type = node
   SPI = 258

[Address mobilenode@sun.com]
   Type = node
   SPI = 257
   Pool = 1

[Address Node-Default]
   Type = node
   SPI = 258
   Pool = 1

[Address 10.68.30.36]
   Type = agent    
   SPI = 257[Address 10.68.30.36]    
   Type = agent    
   SPI = 257    
   IPsecRequest = apply {auth_algs md5 sa shared} 
   IPsecReply = permit {auth_algs md5}  
   IPsecTunnel =  apply {encr_algs 3des sa shared}</pre>

<a name="mipmanaging-8"></a><h5><tt>mipagent.conf.fa-sample</tt> File</h5>
<p>The following listing shows the sections, labels, and values that are contained in
the <tt>mipagent.conf.fa-sample</tt> file. <a href="#mipmanaging-5">Configuration File Sections and Labels</a> describes the syntax, sections, labels, and values.</p><p>The <tt>mipagent.conf.fa-sample</tt> file shows a configuration that provides only foreign agent functionality. This
sample file does not contain a <tt>Pool</tt> section because pools are used only
by a home agent. Otherwise, this file is the same as the <tt>mipagent.conf-sample</tt>
file.</p><pre>[General]
   Version = 1.0    # version number for the configuration file. (required)
   
[Advertisements hme0]
   HomeAgent = no
   ForeignAgent = yes
   PrefixFlags = yes
   AdvertiseOnBcast = yes
   RegLifetime = 200
   AdvLifetime = 200
   AdvFrequency = 5
   ReverseTunnel = yes
   ReverseTunnelRequired = no
   
[GlobalSecurityParameters]
   MaxClockSkew = 300
   HA-FAauth = yes
   MN-FAauth = yes
   Challenge = no
   KeyDistribution = files

[SPI 257]
   ReplayMethod = none
   Key = 11111111111111111111111111111111

[SPI 258]
   ReplayMethod = none
   Key = 15111111111111111111111111111111

[Address 10.1.1.1]
   Type = node
   SPI = 258

[Address 10.68.30.36]
   Type = agent    
   SPI = 257[Address 10.68.30.36]    
   Type = agent    
   SPI = 257    
   IPsecRequest = apply {auth_algs md5 sa shared} 
   IPsecReply = permit {auth_algs md5}  
   IPsecTunnel = apply {encr_algs 3des sa shared}</pre>

<a name="mipmanaging-9"></a><h5><tt>mipagent.conf.ha-sample</tt> File</h5>
<p>The following listing shows the sections, labels, and values that are contained in
the <tt>mipagent.conf.ha-sample</tt> file. <a href="#mipmanaging-5">Configuration File Sections and Labels</a> describes the syntax, sections, labels, and values. </p><p>The <tt>mipagent.conf.ha-sample</tt> file shows a configuration that provides only home agent functionality. Otherwise,
this file is the same as the <tt>mipagent.conf-sample</tt> file.</p><pre>[General]
   Version = 1.0    # version number for the configuration file. (required)
   
[Advertisements hme0]
   HomeAgent = yes
   ForeignAgent = no
   PrefixFlags = yes
   AdvertiseOnBcast = yes
   RegLifetime = 200
   AdvLifetime = 200
   AdvFrequency = 5
   ReverseTunnel = yes
   ReverseTunnelRequired = no

[GlobalSecurityParameters]
   MaxClockSkew = 300
   HA-FAauth = yes
   MN-FAauth = yes
   Challenge = no
   KeyDistribution = files

[Pool 1]
   BaseAddress = 10.68.30.7
   Size = 4

[SPI 257]
   ReplayMethod = none
   Key = 11111111111111111111111111111111

[SPI 258]
   ReplayMethod = none
   Key = 15111111111111111111111111111111

[Address 10.1.1.1]
   Type = node
   SPI = 258

[Address mobilenode@sun.com]
   Type = node
   SPI = 257
   Pool = 1

[Address Node-Default]
   Type = node
   SPI = 258
   Pool = 1[Address 10.68.30.36]
    Type = agent    
    SPI = 257    
    IPsecRequest = apply {auth_algs md5 sa shared} 
    IPsecReply = permit {auth_algs md5}  
    IPsecTunnel = apply {encr_algs 3des sa shared}</pre>

<a name="mipmanaging-5"></a><h4>Configuration File Sections and Labels</h4>
<p><a name="indexterm-2701"></a>The Mobile IP configuration file contains the following sections:</p>
<ul><li><p><tt>General</tt> (Required)</p></li>
<li><p><tt>Advertisements</tt> (Required)</p></li>
<li><p><tt>GlobalSecurityParameters</tt> (Optional)</p></li>
<li><p><tt>Pool</tt> (Optional)</p></li>
<li><p><tt>SPI</tt> (Optional)</p></li>
<li><p><tt>Address</tt> (Optional)</p></li></ul>
<p>The <tt>General</tt> and <tt>GlobalSecurityParameters</tt> sections   contain information relevant to the operation
of the Mobile IP agent. These sections can appear only once in the
configuration file.</p>

<a name="mipmanaging-12"></a><h5><tt>General</tt> Section</h5>
<a name="indexterm-2702"></a><p><a name="indexterm-2703"></a><a name="indexterm-2704"></a><a name="indexterm-2705"></a>The <tt>General</tt> section contains only one label: the version number of the configuration
file. The <tt>General</tt> section has the following syntax:</p><pre>[General]
     Version = 1.0</pre>

<a name="mipmanaging-13"></a><h5><tt>Advertisements</tt> Section</h5>
<a name="indexterm-2706"></a><a name="indexterm-2707"></a><p><a name="indexterm-2708"></a><a name="indexterm-2709"></a>The <tt>Advertisements</tt> section contains the <tt>HomeAgent</tt> and <tt>ForeignAgent</tt> labels, as well as
other labels. You must include a different <tt>Advertisements</tt> section for each interface on the
local host that provides Mobile IP services. The <tt>Advertisements</tt> section has the following
syntax:</p><pre>[Advertisements <i>interface</i>]
     HomeAgent = &lt;yes/no>
     ForeignAgent = &lt;yes/no>
     .
     .</pre><p><a name="indexterm-2710"></a><a name="indexterm-2711"></a>Typically, your system has a single interface, such as <tt>eri0</tt> or <tt>hme0</tt>,
and supports both home agent and foreign agent operations. If this situation exists
for the example <tt>hme0</tt>, then the <tt>yes</tt> value is assigned to both the
<tt>HomeAgent</tt> and <tt>ForeignAgent</tt> labels as follows:</p><pre>[Advertisements hme0]
     HomeAgent = yes
     ForeignAgent = yes
     .
     .</pre><p>For advertisement over dynamic interfaces, use '*' for the device ID part.
For example, <i>Interface-name</i> ppp* actually implies all PPP interfaces that are configured after the
<tt>mipagent</tt> daemon has been started. All the attributes in the advertisement section of
a dynamic interface type remain the same.</p><p><a name="indexterm-2712"></a>The following table describes the labels and values that you can use
in the <tt>Advertisements</tt> section.</p><a name="mipimplementing-tbl-38b"></a><h6>Table&nbsp;29-1 <tt>Advertisements</tt> Section Labels and Values</h6><table><col width="160.20*"><col width="70.45*"><col width="165.34*"><tr><th align="left" valign="top" scope="column"><p>Label</p></th>
<th align="left" valign="top" scope="column"><p>Value</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>HomeAgent</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>yes</tt> or <tt>no</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2713"></a>Determines if the <tt>mipagent</tt> daemon provides home agent functionality.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ForeignAgent</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>yes</tt>
or <tt>no</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2714"></a>Determines if <tt>mipagent</tt> provides foreign agent functionality.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>PrefixFlags</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>yes</tt> or <tt>no</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2715"></a>Specifies if advertisements
include the optional prefix-length extension.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>AdvertiseOnBcast</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>yes</tt> or <tt>no</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2716"></a>If <tt>yes</tt>, advertisements are sent on
<tt>255.255.255.255</tt>, rather than <tt>224.0.0.1</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>RegLifetime</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>n</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2717"></a>The maximum lifetime value that is accepted in registration
requests, in seconds.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>AdvLifetime</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>n</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2718"></a>The maximum length of time that the advertisement is considered valid in
the absence of further advertisements, in seconds.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>AdvFrequency</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>n</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2719"></a>Time between two consecutive advertisements, in
seconds.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ReverseTunnel</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>yes</tt> or <tt>no</tt><tt>FA</tt> or <tt>HA</tt> or <tt>both</tt></p></td>
<td align="left" valign="top" scope="row"><p>Determines if <tt>mipagent</tt> provides reverse-tunnel functionality.
</p><p>The value <tt>yes</tt> means that both the foreign agent and home agent support
reverse tunneling. The value <tt>no</tt> means that the interface does not support reverse
tunneling.</p><p><a name="indexterm-2720"></a>The value <tt>FA</tt> means that the foreign agent supports reverse tunneling. The value
<tt>HA</tt> means that the home agent supports reverse tunneling. The value <tt>both</tt> means
that both the foreign agent and home agent support reverse tunneling.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ReverseTunnelRequired</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>yes</tt> or <tt>no</tt></p></td>
<td align="left" valign="top" scope="row"><p>Determines
if <tt>mipagent</tt> requires reverse tunnel functionality. Consequently, determines if a mobile node must
request a reverse tunnel during registration.</p><p>The value <tt>yes</tt> means that both the
foreign agent and home agent require a reverse tunnel. The value <tt>no</tt> means
that the interface does not require a reverse tunnel.</p><p><a name="indexterm-2721"></a>The value <tt>FA</tt> means that
the foreign agent requires a reverse tunnel. The value <tt>HA</tt> means that the
home agent requires a reverse tunnel.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>AdvInitCount</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>n</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2722"></a>Determines the initial number of unsolicited advertisements. The
default value is 1. This value is meaningful only if <tt>AdvLimitUnsolicited</tt> is <tt>yes</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>AdvLimitUnsolicited</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>yes</tt>
or <tt>no</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2723"></a>Enables or disables a limited number of unsolicited advertisements over the mobility
interface.</p></td>
</tr>
</table>

<a name="mipmanaging-16"></a><h5><tt>GlobalSecurityParameters</tt> Section</h5>
<a name="indexterm-2724"></a><a name="indexterm-2725"></a><p>The <tt>GlobalSecurityParameters</tt> section contains the labels <tt>maxClockSkew</tt>, <tt>HA-FAauth</tt>, <tt>MN-FAauth</tt>, <tt>Challenge</tt>, and <tt>KeyDistribution</tt>.
This section has the following syntax:</p><pre>[GlobalSecurityParameters]
     MaxClockSkew = <i>n</i>
     HA-FAauth = &lt;yes/no>
     MN-FAauth = &lt;yes/no>
     Challenge = &lt;yes/no>
     KeyDistribution = files</pre><p><a name="indexterm-2726"></a><a name="indexterm-2727"></a><a name="indexterm-2728"></a>The Mobile IP protocol provides message replay protection by allowing timestamps to be
present in the messages. If the clocks differ, the home agent returns an
error to the mobile node with the current time and the mobile
node can register again by using the current time. You use the <tt>MaxClockSkew</tt>
label to configure the maximum number of seconds that differ between the home
agent and the mobile node's clocks. The default value is 300 seconds. </p><p>The <tt>HA-FAauth</tt> and <tt>MN-FAauth</tt> labels enable or disable the requirement for home-foreign and
mobile-foreign authentication, respectively. The default value is disabled. You use the <tt>challenge</tt> label
so that the foreign agent issues challenges to the mobile node in its
advertisements. The label is used for replay protection. The default value is disabled
here, also.</p><p><a name="indexterm-2729"></a>The following table describes the labels and values that you can use
in the <tt>GlobalSecurityParameters</tt> section.</p><a name="mipimplementing-tbl-38c"></a><h6>Table&nbsp;29-2 <tt>GlobalSecurityParameters</tt> Section Labels and Values</h6><table><col width="110.97*"><col width="60.63*"><col width="224.39*"><tr><th align="left" valign="top" scope="column"><p>Label</p></th>
<th align="left" valign="top" scope="column"><p>Value</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>MaxClockSkew</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>n</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2730"></a>The number of seconds that <tt>mipagent</tt> accepts as a difference between
its own local time and the time that is found in registration
requests</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>HA-FAauth</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>yes</tt> or <tt>no</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2731"></a>Specifies if HA-FA authentication extensions must be present in registration requests
and replies</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>MN-FAauth</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>yes</tt> or <tt>no</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2732"></a>Specifies if MN-FA authentication extensions must be present in
registration requests and replies</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Challenge</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>yes</tt> or <tt>no</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2733"></a>Specifies if the foreign agent includes challenges in
its mobility advertisements</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>KeyDistribution</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>files</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2734"></a>Must be set to files</p></td>
</tr>
</table>

<a name="mipmanaging-17"></a><h5><tt>Pool</tt> Section</h5>
<a name="indexterm-2735"></a><a name="indexterm-2736"></a><p><a name="indexterm-2737"></a>Mobile nodes can be assigned dynamic addresses by the home agent. Dynamic address
assignment is done within the <tt>mipagent</tt> daemon independently of DHCP. You can create
an address pool that can be used by mobile nodes by requesting a
home address. Address pools are configured through the <tt>Pool</tt> section in the configuration
file.</p><p>The <tt>Pool</tt> section contains the <tt>BaseAddress</tt> and <tt>Size</tt> labels. The <tt>Pool</tt> section
has the following syntax:</p><pre>[Pool <i>pool-identifier</i>]
     BaseAddress = <i>IP-address</i>
     Size = <i>size</i></pre>
<hr><p><b>Note - </b><a name="indexterm-2738"></a><a name="indexterm-2739"></a>If you use a <tt>Pool</tt> identifier, then it must also exist in the
mobile node's <tt>Address</tt> section.</p>
<hr>
<p><a name="indexterm-2740"></a>You use the <tt>Pool</tt> section to define address pools that can be assigned
to the mobile nodes. You use the <tt>BaseAddress</tt> label to set the first
IP address in the pool. You use the <tt>Size</tt> label to specify the
number of addresses available in the pool.</p><p>For example, if IP addresses <tt>192.168.1.1</tt> through <tt>192.168.1.100</tt> are reserved in pool
10, the <tt>Pool</tt> section has the following entry:</p><pre>[Pool 10]
     BaseAddress = 192.168.1.1
     Size = 100</pre>
<hr><p><b>Note - </b><a name="indexterm-2741"></a>Address ranges should not encompass the broadcast address. For example, you should not
assign <tt>BaseAddress = 192.168.1.200</tt> and <tt>Size = 60</tt>, because this range encompasses the broadcast address <tt>192.168.1.255</tt>.</p>
<hr>
<p><a name="indexterm-2742"></a>The following table describes the labels and values that are used in
the <tt>Pool</tt> section.</p><a name="mipimplementing-tbl-38e"></a><h6>Table&nbsp;29-3 <tt>Pool</tt> Section Labels and Values</h6><table><col width="84*"><col width="89*"><col width="223*"><tr><th align="left" valign="top" scope="column"><p>Label</p></th>
<th align="left" valign="top" scope="column"><p>Value</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>BaseAddress</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>n.n.n.n</tt> </p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2743"></a>First address in the address pool</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Size</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>n</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2744"></a>Number of addresses in
the pool</p></td>
</tr>
</table>

<a name="mipmanaging-14"></a><h5><tt>SPI</tt> Section</h5>
<a name="indexterm-2745"></a><a name="indexterm-2746"></a><p><a name="indexterm-2747"></a><a name="indexterm-2748"></a><a name="indexterm-2749"></a><a name="indexterm-2750"></a>Because the Mobile IP protocol requires message authentication, you must identify the security
context by using a security parameter index (SPI). You define the security context
in the <tt>SPI</tt> section. You must include a different <tt>SPI</tt> section for
each security context that is defined. A numerical ID identifies the security context.
The Mobile IP protocol reserves the first 256 SPIs. Therefore, you should use
only SPI values greater than 256. The <tt>SPI</tt> section contains security-related information, such
as shared secrets and replay protection.</p><p>The <tt>SPI</tt> section also contains the <tt>ReplayMethod</tt> and <tt>Key</tt> labels. The <tt>SPI</tt>
section has the following syntax:</p><pre>[SPI <i>SPI-identifier</i>]
     ReplayMethod = &lt;none/timestamps>
     Key = <i>key</i></pre><p>Two communicating peers must share the same SPI identifier. You must configure them
with the same key and replay method. You specify the key as
a string of hexadecimal digits. The maximum length is 16 bytes. For example,
if the key is 16 bytes long, and contains the hexadecimal values <tt>0</tt>
through <tt>f</tt>, the key string might resemble the following:</p><pre>Key = 0102030405060708090a0b0c0d0e0f10</pre><p>Keys must have an even number of digits, corresponding to the two
digits per byte representation.</p><p><a name="indexterm-2751"></a>The following table describes the labels and values that you can use
in the <tt>SPI</tt> section.</p><a name="mipimplementing-tbl-38d"></a><h6>Table&nbsp;29-4 <tt>SPI</tt> Section Labels and Values</h6><table><col width="84.00*"><col width="77.14*"><col width="234.86*"><tr><th align="left" valign="top" scope="column"><p>Label</p></th>
<th align="left" valign="top" scope="column"><p>Value</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ReplayMethod</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>none</tt> or <tt>timestamps</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2752"></a>Specifies the type of replay authentication used for
the SPI</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Key</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>x</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2753"></a>Authentication key in hexadecimal</p></td>
</tr>
</table>

<a name="mipmanaging-15"></a><h5><tt>Address</tt> Section</h5>
<a name="indexterm-2754"></a><a name="indexterm-2755"></a><p><a name="indexterm-2756"></a><a name="indexterm-2757"></a>The Solaris implementation of Mobile IP enables you to configure mobile nodes using
one of three methods. Each method is configured in the <tt>Address</tt> section.
The first method follows the traditional Mobile IP protocol, and requires that each
mobile node have a home address. The second method enables a mobile node
to be identified through its Network Access Identifier (NAI). The last method enables
you to configure a <b>default</b> mobile node, which can be used by any
mobile node that has the proper SPI value and related keying material.</p>

<a name="mipmanaging-29"></a><h5>Mobile Node</h5>
<p>The <tt>Address</tt> section for a mobile node contains the <tt>Type</tt> and <tt>SPI</tt>
labels that define the address type and SPI identifier. The <tt>Address</tt> section has
the following syntax:</p><pre>[Address <i>address</i>]
     Type = node
     SPI = <i>SPI-identifier</i></pre><p><a name="indexterm-2758"></a>You must include an <tt>Address</tt> section in a home agent's configuration file for
each mobile node that is supported.</p><p><a name="indexterm-2759"></a><a name="indexterm-2760"></a>If Mobile IP message authentication is required between the foreign agent and home
agent, you must include an <tt>Address</tt> section for each peer with which an
agent needs to communicate. </p><p><a name="indexterm-2761"></a><a name="indexterm-2762"></a><a name="indexterm-2763"></a>The SPI value that you configure must represent an <tt>SPI</tt> section that is
present in the configuration file.</p><p>You can also configure private addresses for a mobile node.</p><p><a name="indexterm-2764"></a>The following table describes the labels and values that you can use
in the <tt>Address</tt> section for a mobile node.</p><a name="mipimplementing-tbl-38f"></a><h6>Table&nbsp;29-5 <tt>Address</tt> Section Labels and Values (Mobile Node)</h6><table><col width="84*"><col width="89*"><col width="223*"><tr><th align="left" valign="top" scope="column"><p>Label</p></th>
<th align="left" valign="top" scope="column"><p>Value</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Type</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>node</tt> </p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2765"></a>Specifies that the entry is
for a mobile node</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>SPI</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>n</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2766"></a>Specifies the SPI value for the associated entry</p></td>
</tr>
</table>

<a name="mipmanaging-43"></a><h5>Mobility Agent</h5>
<p>The <tt>Address</tt> section for a mobility agent contains the <tt>Type</tt> and <tt>SPI</tt>
labels that define the address type and SPI identifier. This section also contains
IPsec request, reply, and tunnel labels. The <tt>Address</tt> section for a mobility agent
has the following syntax:</p><pre>[Address <i>address</i>]
     Type = agent
     SPI = <i>SPI-identifier</i>
     IPsecRequest = <i>action</i> {<i>properties</i>} [: <i>action</i> {<i>properties</i>}]
     IPsecReply = <i>action</i> {<i>properties</i>} [: <i>action</i> {<i>properties</i>}]
     IPsecTunnel = <i>action</i> {<i>properties</i>} [: <i>action</i> {<i>properties</i>}]</pre><p><a name="indexterm-2767"></a>You must include an <tt>Address</tt> section in a home agent's configuration file for
each mobility agent that is supported.</p><p><a name="indexterm-2768"></a><a name="indexterm-2769"></a><a name="indexterm-2770"></a>If Mobile IP message authentication is required between the foreign agent and the
home agent, you must include an <tt>Address</tt> section for each peer with which
an agent needs to communicate. </p><p><a name="indexterm-2771"></a><a name="indexterm-2772"></a><a name="indexterm-2773"></a>The SPI value that you configure must represent an <tt>SPI</tt> section that is
present in the configuration file.</p><p>The following table describes the labels and values that you can use
in the <tt>Address</tt> section for a mobility agent.</p><a name="mipmanaging-tbl-44"></a><h6>Table&nbsp;29-6 <tt>Address</tt> Section Labels and Values (Mobility Agent)</h6><table><col width="33.00*"><col width="23.14*"><col width="42.86*"><tr><th align="left" valign="top" scope="column"><p>Label</p></th>
<th align="left" valign="top" scope="column"><p>Value</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Type</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>agent</tt></p></td>
<td align="left" valign="top" scope="row"><p>Specifies that the entry is
for a mobility agent</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>SPI</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>n</tt></p></td>
<td align="left" valign="top" scope="row"><p>Specifies the SPI value for the associated entry</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>IPsecRequest</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>apply</tt> or
<tt>permit</tt> (see following note)</p></td>
<td align="left" valign="top" scope="row"><p>IPsec properties to invoke for registration requests to and
from this mobility agent peer</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>IPsecReply</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>apply</tt> or <tt>permit</tt> (see following note)</p></td>
<td align="left" valign="top" scope="row"><p>IPsec properties to invoke
for registration replies to and from this mobility agent peer</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>IPsecTunnel</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>apply</tt> or <tt>permit</tt> (see
following note)</p></td>
<td align="left" valign="top" scope="row"><p>IPsec properties to invoke for tunnel traffic to and from this
mobility agent peer</p></td>
</tr>
</table>
<hr><p><b>Note - </b>The <tt>apply</tt> values correspond to outbound datagrams. The <tt>permit</tt> values correspond to inbound
datagrams. Therefore, <tt>IPsecRequest apply</tt> values and <tt>IPsecReply permit</tt> values are used by the foreign agent
to send and receive registration datagrams. The <tt>IPsecRequest permit</tt> values and the <tt>IPsecReply apply</tt> values
are used by the home agent to receive and send registration datagrams.</p>
<hr>


<a name="mipmanaging-30"></a><h5>Mobile Node Identified by Its NAI</h5>
<a name="indexterm-2774"></a><a name="indexterm-2775"></a><p><a name="indexterm-2776"></a>The <tt>Address</tt> section for a mobile node that is identified by its NAI
contains the <tt>Type</tt>, <tt>SPI</tt>, and <tt>Pool</tt> labels. The NAI parameter enables you
to identify mobile nodes through their NAI. The <tt>Address</tt> section, using the NAI
parameter, has the following syntax:</p><pre>[Address <i>NAI</i>]
     Type = Node
     SPI = <i>SPI-identifier</i>
     Pool = <i>pool-identifier</i></pre><p>To use pools, you identify mobile nodes through their NAI. The <tt>Address</tt>
section permits you to configure an NAI, as opposed to a home
address. An NAI uses the format <tt>user@domain</tt>. You use the <tt>Pool</tt> label to specify
which address pool to use in order to allocate the home address
to the mobile node.</p><p><a name="indexterm-2777"></a>The following table describes the labels and values that you can use
in the <tt>Address</tt> section for a mobile node that is identified by its NAI.</p><a name="mipmanaging-tbl-32"></a><h6>Table&nbsp;29-7 <tt>Address</tt> Section Labels and Values (Mobile Node Identified by Its NAI)</h6><table><col width="84*"><col width="89*"><col width="223*"><tr><th align="left" valign="top" scope="column"><p>Label</p></th>
<th align="left" valign="top" scope="column"><p>Value</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Type</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>node</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2778"></a>Specifies
that the entry is for a mobile node</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>SPI</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>n</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2779"></a>Specifies the SPI value for
the associated entry</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Pool</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>n</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2780"></a>Allocates the pool from which an address is assigned to
a mobile node</p></td>
</tr>
</table><p>You must have corresponding <tt>SPI</tt> and <tt>Pool</tt> sections for the <tt>SPI</tt> and <tt>Pool</tt>
labels that are defined in an <tt>Address</tt> section with a mobile node that
is identified by its NAI, as shown in the following figure.</p><a name="mipmanaging-fig-35"></a><h6>Figure&nbsp;29-1 Corresponding <tt>SPI</tt> and <tt>Pool</tt> Sections for Address Section With Mobile Node Identified by Its NAI</h6><img src="figures/AddressRelation.gif" alt="Shows that an SPI of 251 and POOL of 10 correspond to the same SPI and POOL numbers in the ADDRESS NAI section."></img>

<a name="mipmanaging-31"></a><h5>Default Mobile Node</h5>
<a name="indexterm-2781"></a><a name="indexterm-2782"></a><p>The <tt>Address</tt> section for a default mobile node contains the <tt>Type</tt>, <tt>SPI</tt>,
and <tt>Pool</tt> labels. The <tt>Node-Default</tt> parameter enables you to permit all mobile
nodes to get service if they have the correct SPI (defined in this
section). The <tt>Address</tt> section, using the <tt>Node-Default</tt> parameter, has the following syntax:</p><pre>[Address Node-Default]
     Type = Node
     SPI = <i>SPI-identifier</i>
     Pool = <i>pool-identifier</i></pre><p>The <tt>Node-Default</tt> parameter enables you to reduce the size of the configuration file.
Otherwise, each mobile node requires its own section. However, the <tt>Node-Default</tt> parameter does
pose a security risk. If a mobile node is no longer trusted for
any reason, you need to update the security information on all trusted mobile
nodes. This task can be very tedious. However, you can use the
<tt>Node-Default</tt> parameter in networks that consider security risks unimportant. </p><p><a name="indexterm-2783"></a>The following table describes the labels and values that you can use
in the <tt>Address</tt> section for a default mobile node.</p><a name="mipmanaging-tbl-33"></a><h6>Table&nbsp;29-8 <tt>Address</tt> Section Labels and Values (Default Mobile Node)</h6><table><col width="84*"><col width="89*"><col width="223*"><tr><th align="left" valign="top" scope="column"><p>Label</p></th>
<th align="left" valign="top" scope="column"><p>Value</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Type</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>node</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2784"></a>Specifies that the entry is
for a mobile node</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>SPI</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>n</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2785"></a>Specifies the SPI value for the associated entry</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Pool</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>n</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-2786"></a>Allocates the
pool from which an address is assigned to a mobile node</p></td>
</tr>
</table><p>You must have corresponding <tt>SPI</tt> and <tt>Pool</tt> sections for the <tt>SPI</tt> and <tt>Pool</tt>
labels that are defined in the <tt>Address</tt> section with a default mobile node,
as shown in the following figure.</p><a name="mipmanaging-fig-34"></a><h6>Figure&nbsp;29-2 Corresponding <tt>SPI</tt> and <tt>Pool</tt> Sections for Address Section With a Default Mobile Node</h6><img src="figures/AddressRelationDefault.gif" alt="Shows that an SPI of 251 and POOL of 10 correspond to the same SPI and POOL numbers in the ADDRESS NODE-DEFAULT section."></img>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="mipmanaging-23.html">Previous</a>
             </td>
             <td align="right">
                 <a href="mipmanaging-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

