<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Planning for Routers on Your Network - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ipplan-26.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipv6-overview-7.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level3"><a href="ipplan-3.html">Network Planning (Task Map)</a></p>
<p class="toc level3"><a href="ipplan-2.html">Determining the Network Hardware</a></p>
<p class="toc level3"><a href="ipplan-4.html">Deciding on an IP Addressing Format for Your Network</a></p>
<p class="toc level3"><a href="ipplan-34.html">Obtaining Your Network's IP Number</a></p>
<p class="toc level3"><a href="ipplan-5.html">Designing an IPv4 Addressing Scheme</a></p>
<p class="toc level3"><a href="ipplan-26.html">Naming Entities on Your Network</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Planning for Routers on Your Network</a></p>
</div>
<p class="toc level2 tocsp"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level2"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level2"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<p class="toc level2"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level2"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level2"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<p class="toc level2"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level2"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level2"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level2"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="ipplan-37"></a><h3>Planning for Routers on Your Network</h3>
<p><a name="indexterm-282"></a><a name="indexterm-283"></a>Recall that in TCP/IP, two types of entities exist on a network: hosts
and routers. All networks must have hosts, while not all networks require routers.
The physical topology of the network determines if you need routers. This section
introduces the concepts of network topology and routing. These concepts are important when
you decide to add another network to your existing network environment. </p>

<a name="ipplan-38"></a><h4>Network Topology Overview</h4>
<p><a name="indexterm-284"></a><a name="indexterm-285"></a><a name="indexterm-286"></a><a name="indexterm-287"></a>Network topology describes how networks fit together. Routers are the entities that connect
networks to each other. A router is any machine that has two or
more network interfaces and implements IP forwarding. However, the system cannot function as
a router until properly configured, as described in <a href="gcvjj.html#ipconfig-116">Configuring an IPv4 Router</a>. </p><p><a name="indexterm-288"></a>Routers connect two or more networks to form larger internetworks. The routers must
be configured to pass packets between two adjacent networks. The routers also should
be able to pass packets to networks that lie beyond the adjacent networks.
</p><p>The following figure shows the basic parts of a network topology. The first
illustration shows a simple configuration of two networks that are connected by a
single router. The second illustration shows a configuration of three networks, interconnected by
two routers. In the first example, Router R joins Network 1 and Network
2 into a larger internetwork. In the second example, Router R1 connects Networks
1 and 2. Router R2 connects Networks 2 and 3. The connections form
a network that includes Networks 1, 2, and 3.</p><a name="ipplan-fig-39"></a><h6>Figure&nbsp;2-3 Basic Network Topology</h6><img src="figures/ipplan.fig133.gif" alt="Diagram shows the topology of two networks that are connected by a single router."></img><p>In addition to joining networks into internetworks, routers route packets between networks that
are based on the addresses of the destination network. As internetworks grow more
complex, each router must make more and more decisions about the packet destinations.
</p><p><a name="indexterm-289"></a><a name="indexterm-290"></a><a name="indexterm-291"></a><a name="indexterm-292"></a><a name="indexterm-293"></a>The following figure shows a more complex case. Router R3 directly connects networks
1 and 3. The redundancy improves reliability. If network 2 goes down, router
R3 still provides a route between networks 1 and 3. You can interconnect
many networks. However, the networks must use the same network protocols. </p><a name="ipplan-fig-41"></a><h6>Figure&nbsp;2-4 A Network Topology That Provides an Additional Path Between Networks</h6><img src="figures/ipplan.fig144.gif" alt="Diagram shows the topology of three networks that are connected by two routers."></img>

<a name="ipplan-43"></a><h4>How Routers Transfer Packets</h4>
<p><a name="indexterm-294"></a><a name="indexterm-295"></a><a name="indexterm-296"></a>The IP address of the recipient, which is a part of the
packet header, determines how the packet is routed. If this address includes the network
number of the local network, the packet goes directly to the host with
that IP address. If the network number is not the local network,
the packet goes to the router on the local network.</p><p><a name="indexterm-297"></a>Routers maintain routing information in <b>routing tables</b>. These tables contain the IP address of
the hosts and routers on the networks to which the router is connected.
The tables also contain pointers to these networks. When a router receives a
packet, the router checks its routing table to determine if the table lists
the destination address in the header. If the table does not contain the
destination address, the router forwards the packet to another router that is listed
in its routing table. Refer to <a href="gcvjj.html#ipconfig-116">Configuring an IPv4 Router</a> for detailed information on routers. </p><p>The following figure shows a network topology with three networks that are connected
by two routers. </p><a name="ipplan-fig-44"></a><h6>Figure&nbsp;2-5 A Network Topology With Three Interconnected Networks</h6><img src="figures/ipplan.fig146.gif" alt="Diagram shows a sample of three networks that are connected by two routers."></img><p><a name="indexterm-298"></a>Router R1 connects networks <tt>192.9.200</tt> and <tt>192.9.201</tt>. Router R2 connects networks <tt>192.9.201</tt>
and <tt>192.9.202</tt>. If Host A on network <tt>192.9.200</tt>  sends a message to
Host B on network <tt>192.9.202</tt>, the following events occur:</p>
<ol><li><p>Host A sends a packet out over network <tt>192.9.200</tt>. The packet header contains the IPv4 address of the recipient Host B, <tt>192.9.202.10</tt>.</p></li>
<li><p>None of the machines on network <tt>192.9.200</tt> has the IPv4 address <tt>192.9.202.10</tt>. Therefore, Router R1 accepts the packet.</p></li>
<li><p>Router R1 examines its routing tables. No machine on network <tt>192.9.201</tt> has the address <tt>192.9.202.10</tt>. However, the routing tables do list Router R2.</p></li>
<li><p>R1 then selects R2 as the &ldquo;next hop&rdquo; Router. R1 sends the packet to R2. </p></li>
<li><p><a name="indexterm-299"></a><a name="indexterm-300"></a><a name="indexterm-301"></a><a name="indexterm-302"></a><a name="indexterm-303"></a><a name="indexterm-304"></a><a name="indexterm-305"></a>Because R2 connects network <tt>192.9.201</tt> to <tt>192.9.202</tt>, R2 has routing information for Host B. Router R2 then forwards the packet to network <tt>192.9.202</tt>, where Host B accepts the packet. </p></li></ol>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ipplan-26.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipv6-overview-7.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

