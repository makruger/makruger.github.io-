<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>IPv6 Addressing Formats Beyond the Basics - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ipv6-ref-76.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipv6-ref-2.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level2"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level2"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level2"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<p class="toc level2"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<div class="onpage">
<p class="toc level3"><a href="">IPv6 Addressing Formats Beyond the Basics</a></p>
</div>
<p class="toc level3"><a href="ipv6-ref-2.html">IPv6 Packet Header Format</a></p>
<p class="toc level3"><a href="ipv6-ref-81.html">Dual-Stack Protocols</a></p>
<p class="toc level3"><a href="ipv6-ref-83.html">Solaris 10 IPv6 Implementation</a></p>
<p class="toc level3"><a href="ipv6-ref-34.html">IPv6 Neighbor Discovery Protocol</a></p>
<p class="toc level3"><a href="ipv6-ref-33.html">IPv6 Routing</a></p>
<p class="toc level3"><a href="ipv6-ref-47.html">IPv6 Tunnels</a></p>
<p class="toc level3"><a href="ipv6-ref-64.html">IPv6 Extensions to Solaris Name Services</a></p>
<p class="toc level3"><a href="ipv6-ref-71.html">NFS and RPC IPv6 Support</a></p>
<p class="toc level3"><a href="ipv6-ref-103.html">IPv6 Over ATM Support</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level2"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level2"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<p class="toc level2"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level2"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level2"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level2"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="ipv6-ref-77"></a><h3>IPv6 Addressing Formats Beyond the Basics</h3>
<p><a href="ipv6-overview-7.html">Chapter&nbsp;3, Planning an IPv6 Addressing Scheme (Overview)</a> introduces the most common IPv6 addressing formats: unicast site address and link-local
address. This section includes in-depth explanations of addressing formats that are not covered
in detail in <a href="ipv6-overview-7.html">Chapter&nbsp;3, Planning an IPv6 Addressing Scheme (Overview)</a>:</p>
<ul><li><p><a href="#ipv6-ref-107">6to4-Derived Addresses</a></p></li>
<li><p><a href="#ipv6-overview-201">IPv6 Multicast Addresses in Depth</a></p></li></ul>


<a name="ipv6-ref-107"></a><h4>6to4-Derived Addresses</h4>
<p><a name="indexterm-1175"></a><a name="indexterm-1176"></a><a name="indexterm-1177"></a><a name="indexterm-1178"></a>If you plan to configure a 6to4 tunnel from a router or
host endpoint, you must advertise the 6to4 site prefix  in the <tt>/etc/inet/ndpd.conf</tt>
file on the endpoint system. For an introduction and tasks for configuring 6to4 tunnels,
refer to <a href="ipv6-config-tasks-16.html#ipv6-config-tasks-24">How to Configure a 6to4 Tunnel</a>. </p><p>The next figure shows the parts of a 6to4 site prefix.</p><a name="ipv6-ref-fig-78"></a><h6>Figure&nbsp;11-1 Parts of a 6to4 Site Prefix</h6><img src="figures/six-4-prefix.gif" alt="This figure shows the format of a 6to4 site prefix and shows a site prefix example. The cited tables explain the information in the figure."></img><p>The next figure shows the parts of a subnet prefix for a
6to4 site, such as you would include in the <tt>ndpd.conf</tt> file.</p><a name="ipv6-ref-fig-79"></a><h6>Figure&nbsp;11-2 Parts of a 6to4 Subnet Prefix</h6><img src="figures/six-4-advert.gif" alt="This figure shows the format of a 6to4 prefix and shows a prefix example. The following context explains the information in the figure."></img><p><a name="indexterm-1179"></a>This table explains the parts of a 6to4 subnet prefix.</p><table><col width="41.25*"><col width="31.25*"><col width="77.51*"><tr><th align="left" valign="top" scope="column"><p>Part</p></th>
<th align="left" valign="top" scope="column"><p>Length</p></th>
<th align="left" valign="top" scope="column"><p>Definition</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Prefix</p></td>
<td align="left" valign="top" scope="row"><p>16 bits</p></td>
<td align="left" valign="top" scope="row"><p>6to4 prefix
label 2002 (0x2002).</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>IPv4 address</p></td>
<td align="left" valign="top" scope="row"><p>32 bits</p></td>
<td align="left" valign="top" scope="row"><p>Unique IPv4 address that is already configured on
the 6to4 interface. For the advertisement, you specify the hexadecimal representation of the
IPv4 address, rather than the IPv4 dotted-decimal representation.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Subnet ID</p></td>
<td align="left" valign="top" scope="row"><p>16 bits</p></td>
<td align="left" valign="top" scope="row"><p>Subnet ID, which must
be a value that is unique for the link at your 6to4 site.</p></td>
</tr>
</table>

<a name="ipv6-ref-53"></a><h5>6to4-Derived Addressing on a Host</h5>
<p><a name="indexterm-1180"></a><a name="indexterm-1181"></a>When an IPv6 host receives the 6to4-derived prefix by way of a router
advertisement, the host  automatically reconfigures a 6to4-derived address on an interface. The
address has the following format:</p><pre><i>prefix:IPv4-address:subnet-ID:interface-ID</i>/64</pre><p>The output from the <tt>ifconfig</tt> <tt>-a</tt> command on a host with a 6to4
interface might resemble the following:</p><pre>qfe1:3: flags=2180841&lt;UP,RUNNING,MULTICAST,ADDRCONF,ROUTER,IPv6>
 mtu 1500 index 7
        inet6 2002:8192:56bb:9258:a00:20ff:fea9:4521/64 </pre><p>In this output, the 6to4-derived address follows <tt>inet6</tt>.</p><p>This table explains the parts of the 6to4-derived address.</p><table><col width="36.03*"><col width="23.32*"><col width="90.65*"><tr><th align="left" valign="top" scope="column"><p>Address Part</p></th>
<th align="left" valign="top" scope="column"><p>Length</p></th>
<th align="left" valign="top" scope="column"><p>Definition</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><i>prefix</i></p></td>
<td align="left" valign="top" scope="row"><p>16 bits</p></td>
<td align="left" valign="top" scope="row"><p><tt>2002</tt>, which
is the 6to4 prefix</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><i>IPv4-address</i></p></td>
<td align="left" valign="top" scope="row"><p>32 bits</p></td>
<td align="left" valign="top" scope="row"><p><tt>8192:56bb</tt>, which is the IPv4 address, in hexadecimal notation,
for the 6to4 pseudo-interface that is configured on the 6to4 router</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><b>subnet-ID</b></p></td>
<td align="left" valign="top" scope="row"><p>16 bits</p></td>
<td align="left" valign="top" scope="row"><p><tt>9258</tt>,
which is the address of the subnet of which this host is a
member</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><b>interface-ID</b></p></td>
<td align="left" valign="top" scope="row"><p>64 bits</p></td>
<td align="left" valign="top" scope="row"><p><tt>a00:20ff:fea9:4521</tt>, which is the interface ID of the host interface that is
configured for 6to4</p></td>
</tr>
</table>

<a name="ipv6-overview-201"></a><h4>IPv6 Multicast Addresses in Depth</h4>
<a name="indexterm-1182"></a><a name="indexterm-1183"></a><a name="indexterm-1184"></a><p>The IPv6 multicast address provides a method for distributing identical information or services
to a defined group of interfaces, called the <b>multicast group</b>. Typically, the interfaces
of the multicast group are on different nodes. An interface can belong to
any number of multicast groups. Packets sent to the multicast address go to
all members of the multicast group. For example, one use of multicast addresses
is for broadcasting information, similar to the capability of the IPv4 broadcast address.</p><p>The following table shows the format of the multicast address.</p><a name="chapter1-tbl-22"></a><h6>Table&nbsp;11-1 IPv6 Multicast Address Format</h6><table><col width="77.70*"><col width="49.45*"><col width="58.35*"><col width="55.90*"><col width="59.52*"><col width="137.02*"><col width="129.05*"><tr><td align="left" valign="top" scope="row"><p>8 bits</p></td>
<td align="left" valign="top" scope="row"><p>4 bits</p></td>
<td align="left" valign="top" scope="row"><p>4
bits</p></td>
<td align="left" valign="top" scope="row"><p>8 bits</p></td>
<td align="left" valign="top" scope="row"><p>8 bits</p></td>
<td align="left" valign="top" scope="row"><p>64 bits</p></td>
<td align="left" valign="top" scope="row"><p>32 bits</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>11111111</tt></p></td>
<td align="left" valign="top" scope="row"><p><i>FLGS</i></p></td>
<td align="left" valign="top" scope="row"><p><tt>SCOP</tt></p></td>
<td align="left" valign="top" scope="row"><p><i>Reserved</i></p></td>
<td align="left" valign="top" scope="row"><p><i>Plen</i></p></td>
<td align="left" valign="top" scope="row"><p><i>Network prefix</i></p></td>
<td align="left" valign="top" scope="row"><p><i>Group ID</i></p></td>
</tr>
</table><p>The following is a summary of the contents of each field.</p>
<ul><li><p><tt>11111111</tt> &ndash; Identifies the address as a multicast address.</p></li>
<li><p><i>FLGS</i> &ndash; Set of the four flags 0,0,P,T. The first two flags must be zero. The P field has one of the following values:</p>
<ul><li><p>0 = Multicast address that is not assigned based on the network prefix</p></li>
<li><p>1 = Multicast address that is assigned based on the network prefix</p></li></ul>
<p>If P is set to 1, then T must also be 1.</p></li>
<li><p><i>Reserved</i> - Reserved value of zero.</p></li>
<li><p><i>Plen</i> - Number of bits in the site prefix that identify the subnet, for a multicast address that is assigned based on a site prefix.</p></li>
<li><p><i>Group ID</i> - Identifier for the multicast group, either permanent or dynamic.</p></li></ul>
<p>For complete details about the multicast format, refer to <a href="ftp://ftp.rfc-editor.org/in-notes/rfc3306.txt">RFC 3306, "Unicast-Prefix-based IPv6 Multicast Addresses</a>.</p><p>Some IPv6 multicast addresses are permanently assigned by the Internet Assigned Numbers Authority
(IANA). Some examples are the All Nodes Multicast Addresses and All Routers Multicast
Addresses that are required by all IPv6 hosts and IPv6 routers. IPv6 multicast
addresses can also be dynamically allocated. For more information about the proper use
of multicast addresses and groups, see <a href="ftp://ftp.rfc-editor.org/in-notes/rfc3307.txt">RFC 3307, "Allocation Guidelines for IPv6 Multicast Addresses"</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ipv6-ref-76.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipv6-ref-2.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

