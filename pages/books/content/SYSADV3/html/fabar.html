<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Deactivating and Disabling Solaris IP Filter - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="etmhi.html">Previous</a>
             </td>
             <td align="right">
                 <a href="eubbd.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level2"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level2"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level2"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<p class="toc level2"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level2"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level2"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<p class="toc level2"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level2"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level3"><a href="etmhi.html">Configuring Solaris IP Filter</a></p>
<p class="toc level4"><a href="etmhi.html#gdwzk">How to Enable Solaris IP Filter</a></p>
<p class="toc level4"><a href="etmhi.html#eubbr">How to Re-Enable Solaris IP Filter</a></p>
<p class="toc level4"><a href="etmhi.html#gdwzr">How to Enable Loopback Filtering</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Deactivating and Disabling Solaris IP Filter</a></p>
<p class="toc level4"><a href="#ettms">How to Deactivate Packet Filtering</a></p>
<p class="toc level4"><a href="#ettmt">How to Deactivate NAT</a></p>
<p class="toc level4"><a href="#ettmo">How to Disable Packet Filtering</a></p>
</div>
<p class="toc level3 tocsp"><a href="eubbd.html">Working With Solaris IP Filter Rule Sets</a></p>
<p class="toc level3"><a href="faaxo.html">Displaying Statistics and Information for Solaris IP Filter</a></p>
<p class="toc level4"><a href="faaxo.html#faapk">How to View State Tables for Solaris IP Filter</a></p>
<p class="toc level4"><a href="faaxo.html#faapx">How to View State Statistics for Solaris IP Filter</a></p>
<p class="toc level4"><a href="faaxo.html#faapy">How to View NAT Statistics for Solaris IP Filter</a></p>
<p class="toc level4"><a href="faaxo.html#faapz">How to View Address Pool Statistics for Solaris IP Filter</a></p>
<p class="toc level3 tocsp"><a href="faavk.html">Working With Log Files for Solaris IP Filter</a></p>
<p class="toc level4"><a href="faavk.html#gdfwa">How to Set Up a Log File for Solaris IP Filter</a></p>
<p class="toc level4"><a href="faavk.html#faaqc">How to View Solaris IP Filter Log Files</a></p>
<p class="toc level4"><a href="faavk.html#faaqf">How to Flush the Packet Log File</a></p>
<p class="toc level4"><a href="faavk.html#faard">How to Save Logged Packets to a File</a></p>
<p class="toc level3 tocsp"><a href="ipfilter-admin-2.html">Creating and Editing Solaris IP Filter Configuration Files</a></p>
<p class="toc level4"><a href="ipfilter-admin-2.html#fahpp">How to Create a Configuration File for Solaris IP Filter</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level2"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level2"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="fabar"></a><h3>Deactivating and Disabling Solaris IP Filter</h3>
<p>You might want to deactivate or disable packet filtering and NAT under the
following circumstances:</p>
<ul><li><p>For testing purposes</p></li>
<li><p>To troubleshoot system problems when you think the problems are caused by Solaris IP Filter</p></li></ul>
<p>The following task map identifies the procedures associated with deactivating or disabling Solaris
IP Filter features.</p><a name="euazs"></a><h6>Table&nbsp;26-2 Deactivating and Disabling Solaris IP Filter (Task Map)</h6><table><col width="33*"><col width="33*"><col width="33*"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Deactivate packet filtering.</p></td>
<td align="left" valign="top" scope="row"><p>Deactivate packet filtering using the <tt>ipf</tt> command.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#ettms">How to Deactivate Packet Filtering</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Deactivate
NAT.</p></td>
<td align="left" valign="top" scope="row"><p>Deactivate NAT using the <tt>ipnat</tt> command.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#ettmt">How to Deactivate NAT</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Disable packet filtering and NAT.</p></td>
<td align="left" valign="top" scope="row"><p>Disable packet filtering
and NAT using the <tt>ipf</tt> command.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#ettmo">How to Disable Packet Filtering</a></p></td>
</tr>
</table>

<a name="ettms"></a><h4>How to Deactivate Packet Filtering</h4><a name="indexterm-2352"></a><a name="indexterm-2353"></a><p>The following procedure deactivates Solaris IP Filter packet filtering by flushing the packet
filtering rules from the active filtering rule set. The procedure does not disable
Solaris IP Filter. You can reactivate Solaris IP Filter by adding rules to
the rule set.</p><ol>
<li><b>Assume a role that includes the IP Filter Management rights profile, or become
superuser.</b><p>You can assign the IP Filter Management rights profile to a role that
you create. To create the role and assign the role to a user,
see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><b>Use one of the following methods to deactivate Solaris IP Filter rules:</b>
<ul><li><p>Remove the active rule set from the kernel.</p><pre># <tt><b>ipf -Fa</b></tt></pre><p>This command deactivates all packet filtering rules.</p></li>
<li><p>Remove incoming packet filtering rules.</p><pre># <tt><b>ipf -Fi</b></tt></pre><p>This command deactivates packet filtering rules for incoming packets.</p></li>
<li><p>Remove outgoing packet filtering rules.</p><pre># <tt><b>ipf -Fo</b></tt></pre><p>This command deactivates packet filtering rules for outgoing packets.</p></li></ul>
</li></ol>

<a name="ettmt"></a><h4>How to Deactivate NAT</h4><a name="indexterm-2354"></a><a name="indexterm-2355"></a><a name="indexterm-2356"></a><a name="indexterm-2357"></a><p>The following procedure deactivates Solaris IP Filter NAT rules by flushing the NAT
rules from the active NAT rules set. The procedure does not disable Solaris
IP Filter. You can reactivate Solaris IP Filter by adding rules to the
rule set.</p><ol>
<li><b>Assume a role that includes the IP Filter Management rights profile, or become
superuser.</b><p>You can assign the IP Filter Management rights profile to a role that
you create. To create the role and assign the role to a user,
see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><b>Remove NAT from the kernel.</b><pre># <tt><b>ipnat -FC</b></tt></pre><p>The <tt>-C</tt> option removes all entries in the current NAT rule listing. The
<tt>-F</tt> option removes all active entries in the current NAT translation table, which
shows the currently active NAT mappings.</p></li></ol>

<a name="ettmo"></a><h4>How to Disable Packet Filtering</h4><a name="indexterm-2358"></a><a name="indexterm-2359"></a><a name="indexterm-2360"></a><p>When you run this procedure, both packet filtering and NAT are removed from
the kernel. If you use this procedure, you must re-enable Solaris IP
Filter in order to reactivate packet filtering and NAT. For more information, see
<a href="etmhi.html#eubbr">How to Re-Enable Solaris IP Filter</a>.</p><ol>
<li><b>Assume a role that includes the IP Filter Management rights profile, or become
superuser.</b><p>You can assign the IP Filter Management rights profile to a role that
you create. To create the role and assign the role to a user,
see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><b>Disable packet filtering and allow all packets to pass into the network.</b><pre># <tt><b>ipf &ndash;D</b></tt></pre>
<hr><p><b>Note - </b>The <tt>ipf <tt>-D</tt></tt> command flushes the rules from the rule set. When you re-enable
filtering, you must add rules to the rule set.</p>
<hr>
</li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="etmhi.html">Previous</a>
             </td>
             <td align="right">
                 <a href="eubbd.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

