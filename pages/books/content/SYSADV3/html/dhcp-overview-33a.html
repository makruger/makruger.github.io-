<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>DHCP Client Administration - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="dhcp-config-67.html">Previous</a>
             </td>
             <td align="right">
                 <a href="dhcp-overview-35a.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level2"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level2"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level2"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<p class="toc level2"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level2"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level3"><a href="geflo.html">About the Solaris DHCP Client</a></p>
<p class="toc level3"><a href="dhcp-config-67.html">Enabling and Disabling a Solaris DHCP Client</a></p>
<p class="toc level4"><a href="dhcp-config-67.html#dhcp-config-105">How to Enable the Solaris DHCP Client</a></p>
<p class="toc level4"><a href="dhcp-config-67.html#dhcp-config-104">How to Disable a Solaris DHCP Client</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">DHCP Client Administration</a></p>
</div>
<p class="toc level3"><a href="dhcp-overview-35a.html">DHCP Client Systems With Multiple Network Interfaces</a></p>
<p class="toc level3"><a href="eyhuv.html">DHCP Client Host Names</a></p>
<p class="toc level4"><a href="eyhuv.html#dhcp-admin-1058sm">How to Enable a Solaris Client to Request a Specific Host Name</a></p>
<p class="toc level3 tocsp"><a href="dhcp-overview-5.html">DHCP Client Systems and Name Services</a></p>
<p class="toc level3"><a href="extkj.html">DHCP Client Event Scripts</a></p>
<p class="toc level2 tocsp"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<p class="toc level2"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level2"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level2"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level2"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="dhcp-overview-33a"></a><h3>DHCP Client Administration</h3>
<p><a name="indexterm-1521"></a>The Solaris DHCP client software does not require administration under normal system operation.
The <tt>dhcpagent</tt> daemon automatically starts when the system boots, renegotiates leases, and stops
when the system shuts down. You cannot manually start and stop the <tt>dhcpagent</tt>
daemon directly. However, as superuser on the client system, you can use the
<tt>ifconfig</tt> command to affect <tt>dhcpagent</tt>'s management of the network interface, if necessary.</p>

<a name="dhcp-overview-21"></a><h4><tt>ifconfig</tt> Command Options Used With the DHCP Client</h4>
<p><a name="indexterm-1522"></a>The <tt>ifconfig</tt> command enables you to do the following:</p>
<ul><li><p><a name="indexterm-1523"></a><b>Start the DHCP client</b> &ndash; The command <tt>ifconfig</tt> <i>interface</i> <tt>dhcp start</tt> initiates the interaction between <tt>dhcpagent</tt> and the DHCP server to obtain an IP address and a new set of configuration options. This command is useful when you change information that you want a client to use immediately, such as when you add IP addresses or change the subnet mask.</p></li>
<li><p><a name="indexterm-1524"></a><b>Request network configuration information only</b> &ndash; The command <tt>ifconfig</tt> <i>interface</i> <tt>dhcp inform</tt> causes <tt>dhcpagent</tt> to issue a request for network configuration parameters, with the exception of the IP address. This command is useful when the network interface has a valid IP address, but the client system needs updated network options. For example, this command is useful if you do not use DHCP to manage IP addresses, but you do use it to configure hosts on the network.</p></li>
<li><p><a name="indexterm-1525"></a><a name="indexterm-1526"></a><b>Request a lease extension</b> &ndash; The command <tt>ifconfig</tt> <i>interface</i> <tt>dhcp extend</tt> causes <tt>dhcpagent</tt> to issue a request to renew the lease. The client does automatically request to renew leases. However, you might want to use this command if you change the lease time and want clients to use the new lease time immediately, rather than waiting for the next attempt at lease renewal.</p></li>
<li><p><a name="indexterm-1527"></a><b>Release the IP address</b> &ndash; The command <tt>ifconfig</tt> <i>interface</i> <tt>dhcp release</tt> causes <tt>dhcpagent</tt> to relinquish the IP address used by the network interface. Release of the IP address happens automatically when the lease expires. You might want to issue this command if the lease time is long and you need to take down the network interface for an extended period of time. You should use this command when you remove the system from the network.</p></li>
<li><p><a name="indexterm-1528"></a><b>Drop the IP address</b> &ndash; The command <tt>ifconfig</tt> <i>interface</i> <tt>dhcp drop</tt> causes <tt>dhcpagent</tt> to take down the network interface without informing the DHCP server. This command enables the client to use the same IP address when it reboots.</p></li>
<li><p><a name="indexterm-1529"></a><b>Ping the network interface</b> &ndash; The command <tt>ifconfig</tt> <i>interface</i> <tt>dhcp ping</tt> lets you determine if the interface is under the control of DHCP.</p></li>
<li><p><a name="indexterm-1530"></a><a name="indexterm-1531"></a><b>View the DHCP configuration status of the network interface</b> &ndash; The command <tt>ifconfig</tt> <i>interface</i> <tt>dhcp status</tt> displays the current state of the DHCP client. The display indicates the following items:</p>
<ul><li><p>If an IP address has been bound to the client</p></li>
<li><p>The number of requests sent, received, and declined</p></li>
<li><p>If this interface is the primary interface</p></li>
<li><p>Times when the lease was obtained, when it expires, and when renewal attempts are scheduled to begin</p></li></ul>
<p>For example:</p><pre># <tt><b>ifconfig hme0 dhcp status</b></tt>
Interface  State         Sent  Recv  Declined  Flags 
hme0       BOUND            1     1         0   [PRIMARY]  
(Began,Expires,Renew)=(08/16/2005 15:27, 08/18/2005 13:31, 08/17/2005 15:24)</pre></li></ul>


<a name="dhcp-overview-22"></a><h4>Setting DHCP Client Configuration Parameters</h4>
<a name="indexterm-1532"></a><a name="indexterm-1533"></a><p>The <tt>/etc/default/dhcpagent</tt> file on the client system contains tunable parameters for the <tt>dhcpagent</tt>.
You can use a text editor to change several parameters that affect client
operation. The <tt>/etc/default/dhcpagent</tt> file is well documented, so for more information, you should refer
to the file as well as to the <a href="http://docs.sun.com/doc/819-2240/dhcpagent-1m?a=view"><tt>dhcpagent</tt>(1M)</a> man page.</p><p><a name="indexterm-1534"></a>The <tt>/etc/dhcp.</tt><i>interface</i><tt></tt> file is another location in which parameters affecting the DHCP client
are set. Parameters set in this file are used by system startup scripts
with the <tt>ifconfig</tt> command.</p><p>By default, the DHCP client is configured as follows:</p>
<ul><li><p>The client system uses DHCP on one physical network interface.</p><p>If you want to use DHCP on more than one physical network interface, see <a href="dhcp-overview-35a.html">DHCP Client Systems With Multiple Network Interfaces</a>.</p></li>
<li><p>The client system does not require a particular host name.</p><p>If you want a client to request a specific host name, see <a href="eyhuv.html">DHCP Client Host Names</a>.</p></li>
<li><p>The client is not automatically configured as a name service client if the DHCP client was configured after the Solaris installation.</p><p>See <a href="dhcp-overview-5.html">DHCP Client Systems and Name Services</a> for information about using name services with DHCP clients.</p></li>
<li><p>The client requests only the subnet mask, router IP address, client host name, and encapsulated vendor options.</p><p>The DHCP client's parameter file can be set up to request more options in the <tt>PARAM_REQUEST_LIST</tt> keyword in the <tt>/etc/default/dhcpagent</tt> file. The DHCP server can be configured to provide options that were not specifically requested. See <a href="dhcp-overview-14a.html#dhcp-overview-9">About DHCP Macros</a> and <a href="dhcp-admin-125.html">Working With DHCP Macros (Task Map)</a> for information about using DHCP server macros to send information to clients.</p></li></ul>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="dhcp-config-67.html">Previous</a>
             </td>
             <td align="right">
                 <a href="dhcp-overview-35a.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

