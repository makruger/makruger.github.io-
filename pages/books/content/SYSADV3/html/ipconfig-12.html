<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>TCP/IP Configuration Files - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ipref-8.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipv6-ref-32.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level2"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level2"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level2"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<div class="onpage">
<p class="toc level3"><a href="">TCP/IP Configuration Files</a></p>
</div>
<p class="toc level3"><a href="ipv6-ref-32.html"><tt>inetd</tt> Internet Services Daemon</a></p>
<p class="toc level3"><a href="ipconfig-42.html">Network Databases and the <tt>nsswitch.conf</tt> File</a></p>
<p class="toc level3"><a href="ipref-13.html">Routing Protocols in the Solaris OS</a></p>
<p class="toc level3"><a href="ipref-4.html">Network Classes</a></p>
<p class="toc level2 tocsp"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level2"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level2"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<p class="toc level2"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level2"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level2"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level2"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="ipconfig-12"></a><h3>TCP/IP Configuration Files</h3>
<p><a name="indexterm-937"></a><a name="indexterm-938"></a><a name="indexterm-939"></a>Each system on the network obtains its TCP/IP configuration information from the following
TCP/IP configuration files and network databases: </p>
<ul><li><p><tt>/etc/hostname.</tt><i>interface</i> file</p></li>
<li><p><tt>/etc/nodename</tt> file</p></li>
<li><p><tt>/etc/defaultdomain</tt> file</p></li>
<li><p><tt>/etc/defaultrouter</tt> file (optional)</p></li>
<li><p><tt>hosts</tt> database</p></li>
<li><p><tt>netmasks</tt> database (optional)</p></li></ul>
<p>The Solaris installation program creates these files as part of the installation process.
You can also edit the files manually, as explained in this section. The
<tt>hosts</tt> and <tt>netmasks</tt> databases are two of the network databases read by the
name services available on Solaris networks. <a href="ipconfig-42.html">Network Databases and the <tt>nsswitch.conf</tt> File</a> describes in detail the concept of
network databases. .</p>

<a name="ipconfig-13"></a><h4><tt>/etc/hostname.</tt><i>interface</i> File</h4>
<p><a name="indexterm-940"></a><a name="indexterm-941"></a><a name="indexterm-942"></a><a name="indexterm-943"></a><a name="indexterm-944"></a>This file defines the physical network interfaces on the local host. At least
one <tt>/etc/hostname.</tt><i>interface</i> file should exist on the local system. The Solaris installation program
creates an <tt>/etc/hostname</tt><i>.interface</i> file for the first interface that is found during the installation
process. This interface usually has the lowest device number, for example <tt>eri0</tt>, and is
referred to as the <b>primary network interface</b>. If the installation programs finds additional interfaces, you
optionally can configure them, as well, as part of the installation process.</p><p>If you add a new network interface to your system after installation, you
must create an <tt>/etc/hostname.</tt><i>interface</i> file for that interface, as explained in <a href="fpcso.html#fpdcn">How to Configure a Physical Interface After System Installation</a>. Also,
for the Solaris software to recognize and use the new network interface, you
need to load the interface's device driver into the appropriate directory. Refer to
the documentation that comes with the new network interface for the appropriate <i>interface</i>
name and device driver instructions.</p><p>The basic <tt>/etc/hostname.</tt><i>interface</i> file contains one entry: the host name or IPv4 address
that is associated with the network interface. The IPv4 address can be expressed
in traditional dotted decimal format or in CIDR notation. If you use a
host name as the entry for the <tt>/etc/hostname.</tt><i>interface</i> file, that host name must also
exist in the <tt>/etc/inet/hosts</tt> file. </p><p>For example, suppose <tt>smc0</tt> is the primary network interface for a system that
is called <tt>tenere</tt>. The <tt>/etc/hostname.smc0</tt> file could have as its entry an
IPv4 address in dotted decimal notation or in CIDR notation, or the host
name <tt>tenere</tt> .</p>
<hr><p><b>Note - </b>IPv6 uses the <tt>/etc/hostname6.</tt><i>interface</i> file for defining network interfaces. For more information, refer
to <a href="ipv6-ref-83.html#ipv6-ref-73">IPv6 Interface Configuration File</a>.</p>
<hr>


<a name="ipconfig-15a"></a><h4><tt>/etc/nodename</tt> File</h4>
<p><a name="indexterm-945"></a><a name="indexterm-946"></a><a name="indexterm-947"></a><a name="indexterm-948"></a><a name="indexterm-949"></a><a name="indexterm-950"></a><a name="indexterm-951"></a>This file should contain one entry: the host name of the local system.
For example, on system <tt>timbuktu</tt>, the file <tt>/etc/nodename</tt> would contain the entry
<tt>timbuktu</tt>. </p>

<a name="ipconfig-16"></a><h4><tt>/etc/defaultdomain</tt> File</h4>
<p><a name="indexterm-952"></a><a name="indexterm-953"></a><a name="indexterm-954"></a><a name="indexterm-955"></a><a name="indexterm-956"></a><a name="indexterm-957"></a>This file should contain one entry: the fully qualified domain name of the
administrative domain to which the local host's network belongs. You can supply this
name to the Solaris installation program or edit the file at a later
date. For more information on network domains, refer to <a href="http://docs.sun.com/doc/819-3194"><i>System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</i></a>.</p>

<a name="ipconfig-17"></a><h4><tt>/etc/defaultrouter</tt> File</h4>
<p><a name="indexterm-958"></a><a name="indexterm-959"></a><a name="indexterm-960"></a><a name="indexterm-961"></a><a name="indexterm-962"></a><a name="indexterm-963"></a><a name="indexterm-964"></a>This file can contain an entry for each router that is directly connected
to the network. The entry should be the name for the network
interface that functions as a router between networks. The presence of the <tt>/etc/defaultrouter</tt>
file indicates that the system is configured to support static routing.</p>

<a name="ipconfig-18"></a><h4><tt>hosts</tt> Database</h4>
<p><a name="indexterm-965"></a><a name="indexterm-966"></a><a name="indexterm-967"></a><a name="indexterm-968"></a><a name="indexterm-969"></a>The <tt>hosts</tt> database contains the IPv4 addresses and host names of systems on
your network. If you use the NIS or DNS name service, or the
LDAP directory service, the <tt>hosts</tt> database is maintained in a database that is
designated for host information. For example, on a network that runs NIS, the
<tt>hosts</tt> database is maintained in the <tt>hostsbyname</tt> file. </p><p><a name="indexterm-970"></a>If you use local files for the name service, the <tt>hosts</tt> database is
maintained in the <tt>/etc/inet/hosts</tt> file. This file contains the host names and IPv4
addresses of the primary network interface, other network interfaces that are attached to
the system, and any other network addresses that the system must check for.
</p>
<hr><p><b>Note - </b><a name="indexterm-971"></a><a name="indexterm-972"></a>For compatibility with BSD-based operating systems, the <tt>/etc/hosts</tt> file is a symbolic link to
<tt>/etc/inet/hosts</tt>. </p>
<hr>


<a name="ipconfig-19"></a><h5><tt>/etc/inet/hosts</tt> File Format</h5>
<p><a name="indexterm-973"></a><a name="indexterm-974"></a><a name="indexterm-975"></a>The <tt>/etc/inet/hosts</tt> file uses the basic syntax that follows. Refer to the <a href="http://docs.sun.com/doc/819-2251/hosts-4?a=view"><tt>hosts</tt>(4)</a>
man page for complete syntax information. </p><p><i>IPv4-address hostname [nicknames] [#comment]</i></p><dl><dt><i>IPv4-address</i></dt>
<dd><p>Contains the IPv4 address for each interface that the local host must recognize. </p></dd>
<dt><i>hostname</i></dt>
<dd><p>Contains the host name that is assigned to the system at setup, plus the host names that are assigned to additional network interfaces that the local host must recognize.</p></dd>
<dt><i>[nickname]</i></dt>
<dd><p>Is an optional field that contains a nickname for the host.</p></dd>
<dt><i>[#comment]</i></dt>
<dd><p>Is an optional field for a comment.</p></dd>
</dl>


<a name="ipconfig-20"></a><h5>Initial <tt>/etc/inet/hosts</tt> File</h5>
<p><a name="indexterm-976"></a><a name="indexterm-977"></a><a name="indexterm-978"></a>When you run the Solaris installation program on a system, the program configures
the initial <tt>/etc/inet/hosts</tt> file. This file contains the minimum entries that the local
host requires. The entries include the loopback address, the host IPv4 address, and
the host name. </p><p>For example, the Solaris installation program might create the following <tt>/etc/inet/hosts</tt> file
for system <tt>tenere</tt> shown in <a href="ipconfig-3.html#ipconfig-fig-10">Figure&nbsp;5-1</a>:</p><a name="ipconfig-ex-21"></a>Example&nbsp;10-1 <tt>/etc/inet/hosts</tt> File for System <tt>tenere</tt><pre>127.0.0.1     localhost         loghost    #loopback address
192.168.200.3   tenere                      #host name</pre>

<a name="ipconfig-22"></a><h5>Loopback Address</h5>
<p><a name="indexterm-979"></a><a name="indexterm-980"></a><a name="indexterm-981"></a><a name="indexterm-982"></a>In <a href="#ipconfig-ex-21">Example&nbsp;10-1</a>, the IPv4 address <tt>127.0.0.1</tt> is the <b>loopback address</b>. The loopback address is the
reserved network interface that is used by the local system to allow interprocess
communication. This address enables the host to send packets to itself. The <tt>ifconfig</tt>
command uses the loopback address for configuration and testing, as explained in <a href="ipconfig-141.html">Monitoring the Interface Configuration With the <tt>ifconfig</tt> Command</a>.
Every system on a TCP/IP network must use the IP address <tt>127.0.0.1</tt>
for IPv4 loopback on the local host. </p>

<a name="ipconfig-23"></a><h5>Host Name</h5>
<p><a name="indexterm-983"></a><a name="indexterm-984"></a><a name="indexterm-985"></a><a name="indexterm-986"></a>The IPv4 address <tt>192.168.200.1</tt> and the name <tt>tenere</tt> are the address and
host name of the local system. They are assigned to the system's primary
network interface. </p>

<a name="ipconfig-24a"></a><h5>Multiple Network Interfaces</h5>
<a name="indexterm-987"></a><p>Some systems have more than one network interface, because they are either routers
or multihomed hosts. Each network interface that is attached to the system requires
its own IP address and associated name. During installation, you must configure the
primary network interface. If a particular system has multiple interfaces at installation time,
the Solaris installation program also prompts you about these additional interfaces. You can
optionally configure one or more additional interfaces at this time, or manually, at
a later date.</p><p><a name="indexterm-988"></a><a name="indexterm-989"></a><a name="indexterm-990"></a><a name="indexterm-991"></a><a name="indexterm-992"></a>After Solaris installation, you can configure additional interfaces for a router or multihomed
host by adding interface information to the systems' <tt>/etc/inet/hosts</tt> file. For more
information on configuring routers and multihomed hosts refer to <a href="gcvjj.html#ipconfig-116">Configuring an IPv4 Router</a> and <a href="gcvjj.html#ipconfig-22a">Configuring Multihomed Hosts</a>.</p><p><a href="#ipconfig-ex-25">Example&nbsp;10-2</a> shows the <tt>/etc/inet/hosts</tt> file for system <tt>timbuktu</tt> that is shown in <a href="ipconfig-3.html#ipconfig-fig-10">Figure&nbsp;5-1</a>.</p><a name="ipconfig-ex-25"></a>Example&nbsp;10-2 <tt>/etc/inet/hosts</tt> File for System <tt>timbuktu</tt><pre>127.0.0.1        localhost     loghost
192.168.200.70   timbuktu      #This is the local host name
192.168.201.10   timbuktu-201  #Interface to network 192.9.201</pre><p><a name="indexterm-993"></a><a name="indexterm-994"></a><a name="indexterm-995"></a><a name="indexterm-996"></a><a name="indexterm-997"></a><a name="indexterm-998"></a><a name="indexterm-999"></a>With these two interfaces, <tt>timbuktu</tt> connects networks <tt>192.168.200</tt> and <tt>192.168.201</tt> as a router. </p>

<a name="ipconfig-26"></a><h5>How Name Services Affect the <tt>hosts</tt> Database</h5>
<p><a name="indexterm-1000"></a><a name="indexterm-1001"></a><a name="indexterm-1002"></a>The NIS and DNS name services, and LDAP directory service, maintain host names
and addresses on one or more servers. These servers maintain <tt>hosts</tt> databases
that contain information for every host and router (if applicable) on the servers'
network. Refer to <a href="http://docs.sun.com/doc/819-3194"><i>System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</i></a> for more information about these services.</p>

<a name="ipconfig-27"></a><h5>When Local Files Provide the Name Service</h5>
<p><a name="indexterm-1003"></a>On a network that uses local files for the name service, systems that
run in local files mode consult their individual <tt>/etc/inet/hosts</tt> files for IPv4 addresses
and host names of other systems on the network. Therefore, these system's <tt>/etc/inet/hosts</tt>
files must contain the following: </p>
<ul><li><p>Loopback address</p></li>
<li><p>IPv4 address and host name of the local system (primary network interface)</p></li>
<li><p>IPv4 address and host name of additional network interfaces that are attached to this system, if applicable</p></li>
<li><p>IPv4 addresses and host names of all hosts on the local network</p></li>
<li><p>IPv4 addresses and host names of any routers that this system must know about, if applicable</p></li>
<li><p>IPv4 address of any system your system wants to refer to by its host name</p></li></ul>
<p><a name="indexterm-1004"></a><a href="#ipref-fig-17">Figure&nbsp;10-1</a> shows the <tt>/etc/inet/hosts</tt> file for system <tt>tenere</tt>. This system runs in local files
mode. Notice that the file contains the IPv4 addresses and host names for
every system on the <tt>192.9.200</tt> network. The file also contains the IPv4 address
and interface name <tt>timbuktu-201</tt>. This interface connects the <tt>192.9.200</tt> network to the <tt>192.9.201</tt>
network. </p><p><a name="indexterm-1005"></a><a name="indexterm-1006"></a><a name="indexterm-1007"></a><a name="indexterm-1008"></a><a name="indexterm-1009"></a><a name="indexterm-1010"></a><a name="indexterm-1011"></a><a name="indexterm-1012"></a><a name="indexterm-1013"></a><a name="indexterm-1014"></a>A system that is configured as a network client uses the local
<tt>/etc/inet/hosts</tt> file for its loopback address and IPv4 address.</p><a name="ipref-fig-17"></a><h6>Figure&nbsp;10-1 <tt>/etc/inet/hosts</tt> File for a System Running in Local Files Mode</h6><img src="figures/iptask.fig196.gif" alt="Shows what the hosts file might look like for a system that is running in local files mode."></img>

<a name="ipconfig-30"></a><h4><tt>netmasks</tt> Database</h4>
<p><a name="indexterm-1015"></a><a name="indexterm-1016"></a><a name="indexterm-1017"></a><a name="indexterm-1018"></a><a name="indexterm-1019"></a><a name="indexterm-1020"></a><a name="indexterm-1021"></a>You need to edit the <tt>netmasks</tt> database as part of network configuration <b>only</b>
if you have set up subnetting on your network. The <tt>netmasks</tt> database consists of
a list of networks and their associated subnet masks.</p>
<hr><p><b>Note - </b>When you create subnets, each new network must be a separate physical network.
You cannot apply subnetting to a single physical network.</p>
<hr>


<a name="ipconfig-31"></a><h5>What Is Subnetting?</h5>
<p><a name="indexterm-1022"></a><a name="indexterm-1023"></a><a name="indexterm-1024"></a><a name="indexterm-1025"></a><a name="indexterm-1026"></a><b>Subnetting</b> is a method for maximizing the limited 32-bit IPv4 addressing space and
reducing the size of the routing tables in a large internetwork. With any
address class, subnetting provides a means of allocating a part of the host
address space to network addresses, which lets you have more networks. The part
of the host address space that is allocated to new network addresses is
known as the <b>subnet number</b>.</p><p>In addition to making more efficient use of the IPv4 address space, subnetting
has several administrative benefits. Routing can become very complicated as the number of
networks grows. A small organization, for example, might give each local network a
class C number. As the organization grows, the administration of a number of
different network numbers could become complicated. A better idea is to allocate a
few class B network numbers to each major division in an organization. For
example, you could allocate one Class B network to Engineering, one Class B
to Operations, and so on. Then, you could divide each class B network
into additional networks, using the additional network numbers gained by subnetting. This division
can also reduce the amount of routing information that must be communicated among
routers.</p>

<a name="ipconfig-32"></a><h5>Creating the Network Mask for IPv4 Addresses</h5>
<p><a name="indexterm-1027"></a><a name="indexterm-1028"></a><a name="indexterm-1029"></a><a name="indexterm-1030"></a><a name="indexterm-1031"></a>As part of the subnetting process, you need to select a network-wide
<b>netmask</b>. The netmask determines how many and which bits in the host address
space represent the subnet number and how many and which bits represent the
host number. Recall that the complete IPv4 address consists of 32 bits. Depending
on the address class, as many as 24 bits and as few as
8 bits can be available for representing the host address space. The
netmask is specified in the <tt>netmasks</tt> database.</p><p>If you plan to use subnets, you must determine your netmask before
you configure TCP/IP. If you plan to install the operating system as part
of network configuration, the Solaris installation program requests the netmask for your network.</p><p>As described in <a href="ipplan-5.html">Designing an IPv4 Addressing Scheme</a>, 32-bit IP addresses consist of a network part
and a host part. The 32 bits are divided into 4 bytes. Each
byte is assigned to either the network number or the host number, depending
on the network class. </p><p>For example, in a class B IPv4 address, the 2 bytes on
the left are assigned to the network number, and the 2 bytes on
the right are assigned to the host number. In the class B IPv4
address <tt>172.16.10</tt>, you can assign the 2 bytes on the right to hosts.</p><p>If you are to implement subnetting, you need to use some of
the bits in the bytes that are assigned to the host number to
apply to subnet addresses. For example, a 16-bit host address space provides addressing
for 65,534 hosts. If you apply the third byte to subnet addresses and
the fourth byte to host addresses, you can address up to 254 networks,
with up to 254 hosts on each network.</p><p>The bits in the host address bytes that are applied to subnet
addresses and those applied to host addresses are determined by a <b>subnet mask</b>. Subnet masks
are used to select bits from either byte for use as subnet
addresses. Although netmask bits must be contiguous, they need not align on byte
boundaries.</p><p><a name="indexterm-1032"></a><a name="indexterm-1033"></a><a name="indexterm-1034"></a>The netmask can be applied to an IPv4 address by using the
bitwise logical AND operator. This operation selects out the network number and subnet number
positions of the address. </p><p><a name="indexterm-1035"></a><a name="indexterm-1036"></a>Netmasks can be explained in terms of their binary representation. You can use
a calculator for binary-to-decimal conversion. The following examples show both the decimal and
binary forms of the netmask. </p><p>If a netmask <tt>255.255.255.0</tt> is applied to the IPv4 address <tt>172.16.41.101</tt>, the result
is the IPv4 address of <tt>172.16.41.0.</tt></p><p><tt>172.16.41.101</tt> &amp; <tt>255.255.255.0</tt> = <tt>172.16.41.0</tt></p><p>In binary form, the operation is as follows:</p><p>10000001.10010000.00101001.01100101 (IPv4 address)</p><p>ANDed with</p><p>11111111.11111111.11111111.00000000 (netmask)</p><p>Now the system looks for a network number of <tt>172.16.41</tt> instead of a
network number of <tt>172.16</tt>. If your network has the number <tt>172.16.41</tt>, that number
is what the system checks for and finds. Because you can assign up
to 254 values to the third byte of the IPv4 address space, subnetting
lets you create address space for 254 networks, where previously space was available
for only one.</p><p>If you are providing address space for only two additional networks, you can
use the following subnet mask:</p><p><tt>255.255.192.0</tt></p><p>This netmask provides the following result:</p><p>11111111.11111111.1100000.00000000</p><p><a name="indexterm-1037"></a><a name="indexterm-1038"></a><a name="indexterm-1039"></a><a name="indexterm-1040"></a><a name="indexterm-1041"></a><a name="indexterm-1042"></a><a name="indexterm-1043"></a><a name="indexterm-1044"></a>This result still leaves 14 bits available for host addresses. Because all 0s
and 1s are reserved, at least 2 bits must be reserved for
the host number. </p>

<a name="ipconfig-33"></a><h5><tt>/etc/inet/netmasks</tt> File</h5>
<p><a name="indexterm-1045"></a><a name="indexterm-1046"></a><a name="indexterm-1047"></a>If your network runs NIS or LDAP, the servers for these name
services maintain <tt>netmasks</tt> databases. For networks that use local files for the name service,
this information is maintained in the <tt>/etc/inet/netmasks</tt> file. </p>
<hr><p><b>Note - </b><a name="indexterm-1048"></a><a name="indexterm-1049"></a>For compatibility with BSD-based operating systems, the <tt>/etc/netmasks</tt> file is a symbolic
link to <tt>/etc/inet/netmasks</tt>.</p>
<hr>
<p>The following example shows the <tt>/etc/inet/netmasks</tt> file for a class B network. </p><a name="ipconfig-ex-34"></a>Example&nbsp;10-3 <tt>/etc/inet/netmasks</tt> File for a Class B Network<pre> # The netmasks file associates Internet Protocol (IPv4) address
 # masks with IPv4 network numbers.
 #
 #     network-number    netmask
 #
 # Both the network-number and the netmasks are specified in
 # &ldquo;decimal dot&rdquo; notation, e.g:
 #
 #        128.32.0.0   255.255.255.0
 192.168.0.0  255.255.255.0</pre><p>If the <tt>/etc/netmasks</tt> file does not exist, create it with a text editor.
Use the following syntax:</p><pre><i>network-number netmask-number</i></pre><p>Refer to the <a href="http://docs.sun.com/doc/819-2251/netmasks-4?a=view"><tt>netmasks</tt>(4)</a> man page for complete details.</p><p>When creating netmask numbers, type the network number that is assigned by the
ISP or Internet Registry (not the subnet number) and the netmask number in
<tt>/etc/inet/netmasks</tt>. Each subnet mask should be on a separate line.</p><p>For example: </p><pre>128.78.0.0        255.255.248.0</pre><p><a name="indexterm-1050"></a><a name="indexterm-1051"></a><a name="indexterm-1052"></a><a name="indexterm-1053"></a><a name="indexterm-1054"></a>You can also type symbolic names for network numbers in the <tt>/etc/inet/hosts</tt>
file. You can then use these network names instead of the network numbers
as parameters to commands. </p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ipref-8.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipv6-ref-32.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

