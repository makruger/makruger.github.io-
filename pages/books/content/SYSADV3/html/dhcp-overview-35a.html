<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>DHCP Client Systems With Multiple Network Interfaces - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="dhcp-overview-33a.html">Previous</a>
             </td>
             <td align="right">
                 <a href="eyhuv.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level2"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level2"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level2"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<p class="toc level2"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level2"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level3"><a href="geflo.html">About the Solaris DHCP Client</a></p>
<p class="toc level3"><a href="dhcp-config-67.html">Enabling and Disabling a Solaris DHCP Client</a></p>
<p class="toc level4"><a href="dhcp-config-67.html#dhcp-config-105">How to Enable the Solaris DHCP Client</a></p>
<p class="toc level4"><a href="dhcp-config-67.html#dhcp-config-104">How to Disable a Solaris DHCP Client</a></p>
<p class="toc level3 tocsp"><a href="dhcp-overview-33a.html">DHCP Client Administration</a></p>
<div class="onpage">
<p class="toc level3"><a href="">DHCP Client Systems With Multiple Network Interfaces</a></p>
</div>
<p class="toc level3"><a href="eyhuv.html">DHCP Client Host Names</a></p>
<p class="toc level4"><a href="eyhuv.html#dhcp-admin-1058sm">How to Enable a Solaris Client to Request a Specific Host Name</a></p>
<p class="toc level3 tocsp"><a href="dhcp-overview-5.html">DHCP Client Systems and Name Services</a></p>
<p class="toc level3"><a href="extkj.html">DHCP Client Event Scripts</a></p>
<p class="toc level2 tocsp"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<p class="toc level2"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level2"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level2"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level2"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="dhcp-overview-35a"></a><h3>DHCP Client Systems With Multiple Network Interfaces</h3>
<p><a name="indexterm-1535"></a><a name="indexterm-1536"></a><a name="indexterm-1537"></a><a name="indexterm-1538"></a><a name="indexterm-1539"></a>The DHCP client can simultaneously manage several different interfaces on one system. The
interfaces can be physical interfaces or logical interfaces. Each interface has its own
IP address and lease time. If more than one network interface is configured
for DHCP, the client issues separate requests to configure them. The client maintains
a separate set of network configuration parameters for each interface. Although the parameters
are stored separately, some of the parameters are global in nature. The global
parameters apply to the system as a whole, rather than to a particular
network interface.</p><p>The host name, NIS domain name, and time zone are global parameters and
should have the same values for each interface. However, these values may differ
due to errors in the information specified by the DHCP administrator. To ensure
that there is only one answer to a query for a global
parameter, only the parameters for the primary network interface are requested. You can insert
the word <tt>primary</tt> in the <tt>/etc/dhcp.</tt><i>interface</i> file for the interface that you
want to be treated as the primary interface. If the <tt>primary</tt> keyword is
not used, the first interface in alphabetical order is considered to be the
primary interface.</p><p>The DHCP client manages leases for logical interfaces and physical interfaces identically, except
for the following limitations on logical interfaces:</p>
<ul><li><p>The DHCP client does not manage the default routes that are associated with logical interfaces.</p><p>The Solaris kernel associates routes with physical interfaces, not logical interfaces. When a physical interface's IP address is established, the necessary default routes should be placed in the routing table. If DHCP is used subsequently to configure a logical interface associated with that physical interface, the necessary routes should already be in place. The logical interface uses the same routes.</p><p>When a lease expires on a physical interface, the DHCP client removes the default routes that are associated with the interface. When a lease expires on a logical interface, the DHCP client does not remove the default routes associated with the logical interface. The associated physical interface and possibly other logical interfaces might need to use the same routes.</p><p>If you need to add or remove default routes that are associated with a DHCP-controlled interface, you can use the DHCP client event script mechanism. See <a href="extkj.html">DHCP Client Event Scripts</a>.</p></li>
<li><p>The DHCP client does not automatically generate client identifiers for logical interfaces.</p><p>The client identifier is used to uniquely identify a DHCP client so that it can receive configuration information that is specifically targeted to that client. For physical interfaces, the DHCP client identifier is derived from the media access control (MAC) address of the system's network interface hardware. However, no Internet standard exists for the format of DHCP client identifiers for physical interfaces that have multiple leases. You must create your own client identifier for any logical interface that you want to be configured through DHCP. The client identifier must be specified in the <tt>/etc/default/dhcpagent</tt> file with the <i>interface</i>.<tt>CLIENT_ID</tt> keyword. For example, to specify the client identifier <tt>orangutan-ce0&ndash;1</tt> for the logical interface <tt>ce0:1</tt>, you would use the following entry:</p><p><tt>ce0:1.CLIENT_ID=orangutan-ce0-1</tt></p><p>See the <tt>/etc/default/dhcpagent</tt> file and the <a href="http://docs.sun.com/doc/819-2240/dhcpagent-1m?a=view"><tt>dhcpagent</tt>(1M)</a> man page for more information about the parameters you can set in the file.</p><p>If you do not configure a client identifier, <tt>ifconfig</tt> fails when it tries to configure the logical interface to use DHCP. The error message is:</p><pre>ifconfig: ce0:1: interface does not have a configured DHCP client id</pre></li></ul>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="dhcp-overview-33a.html">Previous</a>
             </td>
             <td align="right">
                 <a href="eyhuv.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

