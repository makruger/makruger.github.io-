<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Creating the Mobile IP Configuration File - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="mipimplementing-64.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ettmw.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level2"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level2"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level2"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<p class="toc level2"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level2"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level2"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<p class="toc level2"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level2"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level2"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level3"><a href="mipimplementing-64.html">Creating the Mobile IP Configuration File (Task Map)</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Creating the Mobile IP Configuration File</a></p>
<p class="toc level4"><a href="#esqdj">How to Plan for Mobile IP</a></p>
<p class="toc level4"><a href="#mipimplementing-90">How to Create the Mobile IP Configuration File</a></p>
<p class="toc level4"><a href="#mipimplementing-66">How to Configure the <tt>General</tt> Section</a></p>
<p class="toc level4"><a href="#mipimplementing-67">How to Configure the <tt>Advertisements</tt> Section</a></p>
<p class="toc level4"><a href="#mipimplementing-68">How to Configure the <tt>GlobalSecurityParameters</tt> Section</a></p>
<p class="toc level4"><a href="#mipimplementing-70">How to Configure the <tt>Pool</tt> Section</a></p>
<p class="toc level4"><a href="#mipimplementing-69">How to Configure the <tt>SPI</tt> Section</a></p>
<p class="toc level4"><a href="#mipimplementing-71">How to Configure the <tt>Address</tt> Section</a></p>
</div>
<p class="toc level3 tocsp"><a href="ettmw.html">Modifying the Mobile IP Configuration File (Task Map)</a></p>
<p class="toc level3"><a href="mipimplementing-63.html">Modifying the Mobile IP Configuration File</a></p>
<p class="toc level4"><a href="mipimplementing-63.html#mipimplementing-6">How to Modify the <tt>General</tt> Section</a></p>
<p class="toc level4"><a href="mipimplementing-63.html#mipimplementing-12">How to Modify the <tt>Advertisements</tt> Section</a></p>
<p class="toc level4"><a href="mipimplementing-63.html#mipimplementing-17">How to Modify the <tt>GlobalSecurityParameters</tt> Section</a></p>
<p class="toc level4"><a href="mipimplementing-63.html#mipimplementing-27">How to Modify the <tt>Pool</tt> Section</a></p>
<p class="toc level4"><a href="mipimplementing-63.html#mipimplementing-22">How to Modify the <tt>SPI</tt> Section</a></p>
<p class="toc level4"><a href="mipimplementing-63.html#mipimplementing-32">How to Modify the <tt>Address</tt> Section</a></p>
<p class="toc level4"><a href="mipimplementing-63.html#mipimplementing-44">How to Add or Delete Configuration File Parameters</a></p>
<p class="toc level4"><a href="mipimplementing-63.html#mipimplementing-46">How to Display Current Parameter Values in the Configuration File</a></p>
<p class="toc level3 tocsp"><a href="mipimplementing-5.html">Displaying Mobility Agent Status</a></p>
<p class="toc level4"><a href="mipimplementing-5.html#mipimplementing-57">How to Display Mobility Agent Status</a></p>
<p class="toc level3 tocsp"><a href="mipimplementing-97.html">Displaying Mobility Routes on a Foreign Agent</a></p>
<p class="toc level4"><a href="mipimplementing-97.html#mipimplementing-98">How to Display Mobility Routes on a Foreign Agent</a></p>
<p class="toc level2 tocsp"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="mipimplementing-2"></a><h3>Creating the Mobile IP Configuration File</h3>
<a name="indexterm-2628"></a><p>This section explains how to plan for Mobile IP and create the
<tt>/etc/inet/mipagent.conf</tt>file.</p>

<a name="esqdj"></a><h4>How to Plan for Mobile IP</h4><p><a name="indexterm-2629"></a>When you configure the <tt>mipagent.conf</tt> file for the first time, you need
to perform the following tasks:</p><ol>
<li><b>Depending on your organization's requirements for its hosts, determine what functionality your Mobile
IP agent can provide:</b>
<ul><li><p><a name="indexterm-2630"></a>Foreign agent functionality only</p></li>
<li><p><a name="indexterm-2631"></a>Home agent functionality only</p></li>
<li><p>Both foreign agent and home agent functionality</p></li></ul>
</li>
<li><b><a name="indexterm-2632"></a>Create the <tt>/etc/inet/mipagent.conf</tt> file and specify the settings you require by using the
procedures that are described in this section. You can also copy one of
the following files to <tt>/etc/inet/mipagent.conf</tt> and modify it according to your requirements:</b>
<ul><li><p>For foreign agent functionality, copy <tt>/etc/inet/mipagent.conf.fa-sample</tt>.</p></li>
<li><p>For home agent functionality, copy <tt>/etc/inet/mipagent.conf.ha-sample</tt>.</p></li>
<li><p>For both foreign agent and home agent functionality, copy <tt>/etc/inet/mipagent.conf-sample</tt>.</p></li></ul>
</li>
<li><b><a name="indexterm-2633"></a>You can reboot your system to invoke the boot script that starts the
<tt>mipagent</tt> daemon. Or, you can also start <tt>mipagent</tt>  by typing the following
command:</b><pre># /etc/inet.d/mipagent start</pre></li></ol>

<a name="mipimplementing-90"></a><h4>How to Create the Mobile IP Configuration File</h4><ol>
<li><b>Assume the Primary Administrator role, or become superuser, on the system where you
want to enable Mobile IP.</b><p>The Primary Administrator role includes the Primary Administrator profile. To create the role
and assign the role to a user, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="mipimplementing-step-93"></a><b>Create the <tt>/etc/inet/mipagent.conf</tt> file by using one of the following options:</b>
<ul><li><p>In the <tt>/etc/inet</tt> directory, create an empty file named <tt>mipagent.conf</tt>.</p></li>
<li><p>From the following list, copy the sample file that provides the functionality you want for the <tt>/etc/inet/mipagent.conf</tt> file.</p>
<ul><li><p><tt>/etc/inet/mipagent.conf.fa-sample</tt></p></li>
<li><p><tt>/etc/inet/mipagent.conf.ha-sample</tt></p></li>
<li><p><tt>/etc/inet/mipagent.conf-sample</tt></p></li></ul>
</li></ul>
</li>
<li><a name="mipimplementing-step-96"></a><b>Add or change configuration parameters in the <tt>/etc/inet/mipagent.conf</tt> file to conform to your
configuration requirements.</b><p>The remaining procedures in this section describe the steps to modify sections in
<tt>/etc/inet/mipagent.conf</tt>.</p></li></ol>

<a name="mipimplementing-66"></a><h4>How to Configure the <tt>General</tt> Section</h4><p>If you copied one of the sample files in the <tt>/etc/inet</tt> directory, you
can omit this procedure because the sample file contains this entry. <a href="mipmanaging-26.html#mipmanaging-12"><tt>General</tt> Section</a>
provides descriptions of the labels and values that are used in this section.</p><ul>
<li><a name="mipimplementing-step-78"></a><b>Edit the <tt>/etc/inet/mipagent.conf</tt> file and add the following lines:</b><pre>[General]
     Version = 1.0</pre>
<hr><p><b>Note - </b><a name="indexterm-2634"></a><a name="indexterm-2635"></a>The <tt>/etc/inet/mipagent.conf</tt> file must contain this entry.</p>
<hr>
</li></ul>

<a name="mipimplementing-67"></a><h4>How to Configure the <tt>Advertisements</tt> Section</h4><p><a href="mipmanaging-26.html#mipmanaging-13"><tt>Advertisements</tt> Section</a> provides descriptions of the labels and values that are used in this
section.</p><ul>
<li><a name="mipimplementing-step-80"></a><b>Edit the <tt>/etc/inet/mipagent.conf</tt> file and add or change the following lines by
using the values that are required for your configuration.</b><pre>[Advertisements <i>interface</i>]
     HomeAgent = &lt;yes/no>
     ForeignAgent = &lt;yes/no>
     PrefixFlags = &lt;yes/no>
     AdvertiseOnBcast = &lt;yes/no>
     RegLifetime = <i>n</i>
     AdvLifetime = <i>n</i>
     AdvFrequency = <i>n</i>
     ReverseTunnel = &lt;yes/no/FA/HA/both>
     ReverseTunnelRequired = &lt;yes/no/FA/HA></pre>
<hr><p><b>Note - </b><a name="indexterm-2636"></a><a name="indexterm-2637"></a><a name="indexterm-2638"></a><a name="indexterm-2639"></a><a name="indexterm-2640"></a><a name="indexterm-2641"></a><a name="indexterm-2642"></a><a name="indexterm-2643"></a><a name="indexterm-2644"></a>You must include a different <tt>Advertisements</tt> section for each interface on the local host
that provides Mobile IP services.</p>
<hr>
</li></ul>

<a name="mipimplementing-68"></a><h4>How to Configure the <tt>GlobalSecurityParameters</tt> Section</h4><p><a name="indexterm-2645"></a><a name="indexterm-2646"></a><a name="indexterm-2647"></a><a name="indexterm-2648"></a><a name="indexterm-2649"></a><a href="mipmanaging-26.html#mipmanaging-16"><tt>GlobalSecurityParameters</tt> Section</a> provides descriptions of the labels and values that are used in
this section.</p><ul>
<li><a name="mipimplementing-step-82"></a><b>Edit the <tt>/etc/inet/mipagent.conf</tt> file and add or change the following lines by
using the values that are required for your configuration:</b><pre>[GlobalSecurityParameters]
     MaxClockSkew = <i>n</i>
     HA-FAauth = &lt;yes/no>
     MN-FAauth = &lt;yes/no>
     Challenge = &lt;yes/no>
     KeyDistribution = files</pre></li></ul>

<a name="mipimplementing-70"></a><h4>How to Configure the <tt>Pool</tt> Section</h4><p><a name="indexterm-2650"></a><a name="indexterm-2651"></a><a href="mipmanaging-26.html#mipmanaging-17"><tt>Pool</tt> Section</a> provides descriptions of the labels and values that are used in this
section:</p><ol>
<li><a name="mipimplementing-step-86"></a><b>Edit the <tt>/etc/inet/mipagent.conf</tt> file</b></li>
<li><b>Add or change the following lines by using the values that are
required for your configuration:</b><pre>[Pool <i>pool-identifier</i>]
     BaseAddress = <i>IP-address</i>
     Size = <i>size</i></pre></li></ol>

<a name="mipimplementing-69"></a><h4>How to Configure the <tt>SPI</tt> Section</h4><p><a href="mipmanaging-26.html#mipmanaging-14"><tt>SPI</tt> Section</a> provides descriptions of the labels and values that are used in this
section.</p><ol>
<li><a name="mipimplementing-step-84"></a><b>Edit the <tt>/etc/inet/mipagent.conf</tt> file. </b></li>
<li><b>Add or change the following lines by using the values that are
required for your configuration:</b><pre>[SPI <i>SPI-identifier</i>]
     ReplayMethod = &lt;none/timestamps>
     Key = <i>key</i></pre>
<hr><p><b>Note - </b><a name="indexterm-2652"></a><a name="indexterm-2653"></a><a name="indexterm-2654"></a>You must include a different <tt>SPI</tt> section for each security context that is
deployed.</p>
<hr>
</li></ol>

<a name="mipimplementing-71"></a><h4>How to Configure the <tt>Address</tt> Section</h4><p><a href="mipmanaging-26.html#mipmanaging-15"><tt>Address</tt> Section</a> provides descriptions of the labels and values that are used in this
section.</p><ol>
<li><a name="mipimplementing-step-88"></a><b>Edit the <tt>/etc/inet/mipagent.conf</tt> file.</b></li>
<li><b>Add or change the following lines by using the values that are
required for your configuration:</b>
<ul><li><p><a name="indexterm-2655"></a><b>For a mobile node, use the following:</b></p><pre>[Address <i>address</i>]
     Type = node
     SPI = SPI-identifier</pre></li>
<li><p><b>For an agent, use the following:</b></p><pre>[Address <i>address</i>]
     Type = agent
     SPI = <i>SPI-identifier</i>
     IPsecRequest = <i>action</i> {<i>properties</i>} [: <i>action</i> {<i>properties</i>}]
     IPsecReply = <i>action</i> {<i>properties</i>} [: <i>action</i> {<i>properties</i>}]
     IPsecTunnel = <i>action</i> {<i>properties</i>} [: <i>action</i> {<i>properties</i>}]</pre><p>where <i>action</i> and <i>{properties}</i> are any action and associated properties that are defined in the <a href="http://docs.sun.com/doc/819-2254/ipsec-7p?a=view"><tt>ipsec</tt>(7P)</a> man page.</p>
<hr><p><b>Note - </b><a name="indexterm-2656"></a><a name="indexterm-2657"></a>The SPI that is configured previously corresponds to the MD5 protection mechanism that is required by RFC 2002. The SPI that is configured previously does not correspond to the SPI that is used by IPsec. For more information about IPsec, see <a href="ipsec-ov-1.html">Chapter&nbsp;19, IP Security Architecture (Overview)</a> and <a href="ipsec-mgtasks-1.html">Chapter&nbsp;20, Configuring IPsec (Tasks)</a>. Also see the <a href="http://docs.sun.com/doc/819-2254/ipsec-7p?a=view"><tt>ipsec</tt>(7P)</a> man page.</p>
<hr>
</li>
<li><p><a name="indexterm-2658"></a><a name="indexterm-2659"></a><a name="indexterm-2660"></a><b>For a mobile node that is identified by its NAI, use the following:</b></p><pre>[Address <i>NAI</i>]
     Type = Node
     SPI = <i>SPI-identifier</i>
     Pool = <i>pool-identifier</i></pre></li>
<li><p><b>For a default mobile node, use the following:</b></p><pre>[Address Node-Default]
     Type = Node
     SPI = <i>SPI-identifier</i>
     Pool = <i>pool-identifier</i></pre></li></ul>
</li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="mipimplementing-64.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ettmw.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

