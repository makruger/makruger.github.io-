<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Configuring and Communicating Over WiFi Interfaces - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="fpjvl.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipv6-config-tasks-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level2"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level2"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level3"><a href="fpdih.html">Interface Administration (Task Map)</a></p>
<p class="toc level3"><a href="fpcwh.html">Basics for Administering Physical Interfaces</a></p>
<p class="toc level3"><a href="fpcso.html">Administering Individual Network Interfaces</a></p>
<p class="toc level4"><a href="fpcso.html#fpdik">How to Obtain Interface Status</a></p>
<p class="toc level4"><a href="fpcso.html#fpdcn">How to Configure a Physical Interface After System Installation</a></p>
<p class="toc level4"><a href="fpcso.html#fpcvg">How to Remove a Physical Interface</a></p>
<p class="toc level4"><a href="fpcso.html#eyprp">SPARC: How to Ensure That the MAC Address of an Interface Is Unique</a></p>
<p class="toc level3 tocsp"><a href="fpjve.html">Administering Virtual Local Area Networks</a></p>
<p class="toc level3"><a href="fpjvl.html">Administering Link Aggregations</a></p>
<p class="toc level4"><a href="fpjvl.html#gafxi">How to Create a Link Aggregation</a></p>
<p class="toc level4"><a href="fpjvl.html#gafxe">How to Modify an Aggregation</a></p>
<p class="toc level4"><a href="fpjvl.html#gaxdg">How to Remove an Interface From an Aggregation</a></p>
<p class="toc level4"><a href="fpjvl.html#galsb">How to Delete an Aggregation</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Configuring and Communicating Over WiFi Interfaces</a></p>
<p class="toc level4"><a href="#gdwra">How to Connect to a WiFi Network</a></p>
<p class="toc level4"><a href="#gdwrw">How to Monitor the WiFi Link</a></p>
</div>
<p class="toc level2 tocsp"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level2"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<p class="toc level2"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level2"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level2"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<p class="toc level2"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level2"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level2"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level2"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="gduew"></a><h3>Configuring and Communicating Over WiFi Interfaces</h3>
<p><a name="indexterm-686"></a><a name="indexterm-687"></a><a name="indexterm-688"></a><a name="indexterm-689"></a>The  IEEE 802.11 specifications define wireless communications for local area networks. These
specifications and the networks they describe are referred to collectively as <b>WiFi</b>, a
term that is trademarked by the Wi-Fi Alliance trade group. WiFi networks are
reasonably easy to configure by both providers and prospective clients. Therefore, they are
increasingly popular and in common use throughout the world. WiFi networks use the same
radio wave technology as cellular phones, televisions, and radios. </p><p>The Solaris OS contains features that enable you to configure a system as
a WiFi client. This section explains how to use the WiFi connectivity
options of the <tt>dladm</tt> command to connect a laptop or home computer to a
local WiFi network. </p>
<hr><p><b>Note - </b>The Solaris OS does not contain features for configuring WiFi  servers
or access points.</p>
<hr>


<a name="gdyyz"></a><h4>Finding a WiFi Network</h4>
<p><a name="indexterm-690"></a>WiFi networks typically come in three varieties:</p>
<ul><li><p>Commercially available WiFi networks</p></li>
<li><p>Municipal WiFi networks</p></li>
<li><p>Private WiFi networks</p></li></ul>
<p><a name="indexterm-691"></a><a name="indexterm-692"></a><a name="indexterm-693"></a>A location that is served by WiFi is referred to as a
<b>hot spot</b>. Each hot spot includes an access point. The <b>access point</b> is a router
with a &ldquo;wired&rdquo; connection to the Internet, for example, Ethernet or DSL. The
Internet connection is usually through a wireless Internet service provider (WISP) or traditional
ISP.</p>

<a name="gdzin"></a><h5>Commercial WiFi Networks</h5>
<p>Many hotels and cafes offer wireless Internet connections as a service to their
customers with laptop computers. These commercial hot spots have access points within their
facilities. The access points are routers with wired connections to a WISP that
serves commercial locations. Typical WISPs include independent providers and cellular phone companies. </p><p>You can use a laptop that runs the Solaris OS to connect
to a WiFi network that is offered by a hotel or other commercial
hot spot. Ask for instructions at the hot spot for connecting to the
WiFi network. Typically, the connection process involves supplying a key to a browser
that you launch upon login. You might have to pay a fee to
the hotel or WISP in order to use the network.</p><p><a name="indexterm-694"></a>Commercial locations that are Internet hot spots usually advertise this capability to their
patrons. You can also find lists of wireless hot spots from various web
sites, for example, <a href="http://www.wi-fihotspotlist.com">Wi-FiHotSpotList.com</a>.</p>

<a name="gdzhq"></a><h5>Municipal WiFi Networks</h5>
<p>Cities throughout the world, cities have constructed free municipal WiFi networks, which their
citizens can access from systems in their homes. Municipal WiFi uses radio transmitters
on telephone poles or other outdoor locations to form a &ldquo;mesh&rdquo; over the
area that the network serves. These transmitters are the access points to the
municipal WiFi network. If your area is served by a municipal WiFi network,
your home might be included in the network's mesh. </p><p>Access to municipal WiFi is usually free. You can access the municipal
network from a properly equipped laptop or personal computer that runs the Solaris
OS. You do not need a home router to access the municipal network
from your system. However, configuring a home router is recommended for areas where
the signal from the municipal network is weak. Home routers are also recommended
if you require secure connections over the WiFi network. For more information, see
<a href="#gdxqy">WiFi Networks and Security</a>.</p>

<a name="gdzil"></a><h5>Private WiFi Networks</h5>
<p>Because WiFi networks are relatively easy to configure, companies and universities use private
WiFi networks with access limited to employees or students. Private WiFi networks typically
require you to supply a key when you connect or run a secure
VPN after you connect. You need a properly equipped laptop or PC that
runs the Solaris OS and permission to use the security features in order
to connect to the private network.</p>

<a name="gduei"></a><h4>Planning for WiFi Communications</h4>
<p>Before you can connect your system to a WiFi network, complete the
following instructions.</p>

<a name="gdzhd"></a><h5>How to Prepare a System for WiFi Communications</h5>
<h6>Before You Begin</h6><p><a name="indexterm-695"></a>The following preparations assumes that your system is a laptop or personal computer
that runs the Solaris Express, Developer Edition 2/07 release.</p><ol>
<li><b>Equip your system with a supported WiFi interface.</b><p><a name="indexterm-696"></a><a name="indexterm-697"></a>Your system must have a WiFi card that is supported by Solaris. For
the Solaris Express, Developer Edition 2/07, you can use WiFi cards that
support most Atheros chip sets. For a list of currently supported drivers and
chip sets, , refer to <a href="http://opensolaris.org/os/community/laptop/wireless">Wireless Networking for OpenSolaris</a>.</p><p>If the interface is not already present on the system, follow the manufacturer's
instructions for installing the interface card. You configure the interface software during the
procedure <a href="#gdwra">How to Connect to a WiFi Network</a>.</p></li>
<li><b>Locate your system in a place that is served by a WiFi
network, either commercial, municipal, or private.</b><p>Your system must be near the access point for the network, which is
normally not a consideration for a commercial or private network hot spot. However,
if you plan to use a free municipal network, your location must be
near the transmitter access point.</p></li>
<li><b>(Optional) Set up a wireless router to serve as an additional access point.</b><p><a name="indexterm-698"></a>Set up your own router if no WiFi network is available at your
location. For example, if you have a DSL line, connect the wireless
router to the DSL router. Then the wireless router becomes the access point
for your wireless devices. </p></li></ol>

<a name="gdwra"></a><h4>How to Connect to a WiFi Network</h4><h6>Before You Begin</h6><p><a name="indexterm-699"></a>The following procedure assumes that you have followed the instructions in <a href="#gdzhd">How to Prepare a System for WiFi Communications</a>.</p><ol>
<li><b>Assume the Primary Administrator role, or become superuser.</b><p>The Primary Administrator role includes the Primary Administrator profile. To create the role
and assign the role to a user, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><b>Check for available links.</b><pre># <tt><b>dladm show-link</b></tt>
ath0             type: non-vlan  mtu: 1500       device: ath0
e1000g           type: non-vlan  mtu: 1500       device: e1000g</pre><p>In this example, the output indicates that two links are available. The <tt>ath0</tt>
link supports WiFi communications using the Solaris Express, Developer Edition 2/07 software. The
<tt>e1000g</tt> link is for attaching the system to a wired network.</p></li>
<li><b>Configure the WiFi interface.</b><p><a name="indexterm-700"></a>Use the following steps to configure the interface:</p>
<ul><li><p>Plumb the link that supports WiFi:</p><pre># <tt><b>ifconfig ath0 plumb</b></tt></pre></li>
<li><p>Verify that the link has been plumbed:</p><pre># <tt><b>ifconfig -a</b></tt>

lo0: flags=2001000849&lt;UP,LOOPBACK,RUNNING,MULTICAST,IPv4,VIRTUAL> mtu 8232 index 1
        inet 127.0.0.1 netmask ff000000
e1000g: flags=2001004802&lt;BROADCAST,RUNNING,MULTICAST,DHCP,IPv4,CoS> mtu 1500 index 2
        inet 0.0.0.0 netmask 0
        ether 0:e:6:4:8:1
ath0: flags=201000803&lt;UP,BROADCAST,RUNNING,MULTICAST,IPv4,CoS> mtu 1500 index 3
        inet 0.0.0.0 netmask ff000000
        ether 0:b:6:e:f:18</pre></li></ul>
</li>
<li><b><a name="indexterm-701"></a>Check for available networks.</b><pre># <tt><b>dladm scan-wifi</b></tt>
 LINK       ESSID         BSSID/IBSSID       SEC     STRENGTH   MODE   SPEED
 ath0       net1         00:0e:38:49:01:d0  none     good       g      54Mb
 ath0       net2         00:0e:38:49:02:f0  none     very weak  g      54Mb
 ath0       net3         00:0d:ed:a5:47:e0  none     very good  g      54Mb
 </pre><p>The example output of the <tt>scan-wifi</tt> command displays information about the available WiFi networks
at the current location. The information in the output includes:</p><dl><dt><tt>LINK</tt></dt>
<dd><p>Link name to be used in the WiFi connection.</p></dd>
<dt><tt>ESSID</tt></dt>
<dd><p><a name="indexterm-702"></a><a name="indexterm-703"></a>Extended Service Set ID. The <tt>ESSID</tt> is the name of the WiFi network, such as <tt>net1</tt>, <tt>net2</tt>, and <tt>net3</tt> in the example output.</p></dd>
<dt><tt>BSSID/IBSSID</tt></dt>
<dd><p><a name="indexterm-704"></a><a name="indexterm-705"></a>Basic Service Set ID, the unique identifier for a particular <tt>ESSID</tt>. The <tt>BSSID</tt> is the 48-bit MAC address of the nearby access point that serves the network with a particular <tt>ESSID</tt>. </p></dd>
<dt><tt>SEC</tt></dt>
<dd><p>Type of security that is needed to access the network. The values are <tt>none</tt> or <tt>WEP</tt>. For information about WEP, refer to <a href="#gdxqy">WiFi Networks and Security</a>.</p></dd>
<dt><tt>STRENGTH</tt></dt>
<dd><p>Strength of the radio signals from the WiFi networks that are available at your location.</p></dd>
<dt><tt>MODE</tt></dt>
<dd><p>Version of the 802 .11 protocol that is run by the network. The modes are a, b, or g, or these modes in combination.</p></dd>
<dt><tt>SPEED</tt></dt>
<dd><p>Speed in megabits per second of the particular network.</p></dd>
</dl>
</li>
<li><b>Connect to a WiFi network.</b><p><a name="indexterm-706"></a>Do either of the following:</p>
<ul><li><p>Connect to the unsecured WiFi network with the strongest signal.</p><pre># <tt><b>dladm connect-wifi</b></tt></pre></li>
<li><p>Connect to an unsecured network by specifying its <tt>ESSID</tt>.</p><pre># <tt><b>dladm connect-wifi -e</b></tt> <i>ESSID</i></pre><p>The <tt>connect-wifi</tt> subcommand of <tt>dladm</tt> has several more options for connecting to a WiFi network. For complete details, refer to the <a href="http://docs.sun.com/doc/819-2240/dladm-1m?a=view"><tt>dladm</tt>(1M)</a> man page.</p></li></ul>
</li>
<li><b>Configure an IP address for the interface.</b><p>Do either of the following:</p>
<ul><li><p>Obtain an IP address from a DHCP server.</p><pre># <tt><b>ifconfig</b></tt> <b>interface</b> <tt><b>dhcp start</b></tt></pre><p>If the WiFi network does not support DHCP, you receive the following message:</p><pre>ifconfig: <i>interface</i>: interface does not exist or cannot be managed using DHCP</pre></li>
<li><p>Configure a static IP address:</p><p>Use this option if you have a dedicated IP address for the system.</p><pre># <tt><b>ifconfig</b></tt> <b>interface IP-address/CIDR-mask | netmask</b></pre></li></ul>
</li>
<li><b>Check the status of the WiFi network to which the system is
connected.</b><pre># <tt><b>dladm show-wifi</b></tt>
LINK       STATUS        ESSID         SEC     STRENGTH   MODE   SPEED
ath0       connected     net3         none    very good   g      36Mb</pre><p>In this example, the output indicates that the system is now connected to
the <tt>net3</tt> network. The earlier <tt>scan-wifi</tt> output indicated that <tt>net3</tt> had the strongest signal
among the available networks. The <tt>dladm show-wifi</tt> command automatically chooses the WiFi network with
strongest signal, unless you directly specify a different network.</p></li>
<li><b>Access the Internet through the WiFi network.</b><p>Do either of the following, depending on the network to which the system
is connected:</p>
<ul><li><p>If the access point offers free service, you can now run a browser or an application of your choice.</p></li>
<li><p>If the access point is in a commercial hot spot that requires a fee, follow the instructions provided at the current location. Typically, you run a browser, supply a key, and give credit card information to the network provider.</p></li></ul>
</li>
<li><b>Conclude the session.</b><p><a name="indexterm-707"></a>Do one of the following:</p>
<ul><li><p>Terminate the WiFi session but leave the system running.</p><pre># <tt><b>dladm disconnect-wifi</b></tt> </pre></li>
<li><p>Terminate a particular WiFi session when more than one session is currently running.</p><pre># <tt><b>dladm disconnect-wifi</b></tt> <i>link</i></pre><p>where <i>link</i> represents the interface that was used for the session.</p></li>
<li><p>Cleanly shut down the system while the WiFi session is running.</p><pre># <tt><b>shutdown -g0 -i5</b></tt></pre><p>You do not need to explicitly disconnect the WiFi session prior to turning off the system through the <tt>shutdown</tt> command.</p></li></ul>
</li></ol><a name="gdwrx"></a>Example&nbsp;6-8 Connecting to a Specific WiFi Network<p><a name="indexterm-708"></a>The following example shows a typical scenario that you might encounter when using
a laptop that runs the Solaris Express, Developer Edition 2/07 release in an
Internet coffee house. </p><p>Learn whether a WiFi link is available.</p><pre># <tt><b>dladm show-wifi</b></tt>
ath0             type: non-vlan    mtu: 1500         device: ath0</pre><p>The <tt>ath0</tt> link is installed on the laptop. Configure the <tt>ath0</tt> interface, and
verify that it is up.</p><pre># <tt><b>ifconfig ath0 plumb</b></tt>
# <tt><b>ifconfig -a</b></tt>
lo0: flags=2001000849&lt;LOOPBACK,RUNNING,MULTICAST,IPv4,VIRTUAL> mtu 8232 index 1
        inet 127.0.0.1 netmask ff000000
ath0: flags=201000803&lt;BROADCAST,RUNNING,MULTICAST,IPv4,CoS> mtu 1500 index 3
        inet 0.0.0.0 netmask ff000000
        ether 0:b:6b:4e:8f:18</pre><p>Display the available WiFi links at your location.</p><pre># <tt><b>dladm scan-wifi</b></tt>
 LINK       ESSID         BSSID/IBSSID       SEC     STRENGTH   MODE   SPEED
 ath0       net1         00:0e:38:49:01:d0  none     weak       g      54Mb
 ath0       net2         00:0e:38:49:02:f0  none     very weak  g      54Mb
 ath0       net3         00:0d:ed:a5:47:e0  wep      very good  g      54Mb
 ath0       citinet      00:40:96:2a:56:b5  none     good       b      11Mb</pre><p>The output indicates that <tt>net3</tt> has the best signal. <tt>net3</tt> requires a
key, for which the provider for the coffee house charges a fee. <tt>citinet</tt>
is a free network provided by the local town.</p><p>Connect to the <tt>citinet</tt> network.</p><pre># <tt><b>dladm connect-wifi -e citinet</b></tt></pre><p>The <tt>-e</tt> option of <tt>connect-wifi</tt> takes the <tt>ESSID</tt> of the preferred WiFi network
as its argument. The argument in this command is <tt>citinet</tt>, the <tt>ESSID</tt> of the
free local network. The <tt>dladm connect-wifi</tt> command offers several options for connecting to the
WiFi network. For more information, refer to the <a href="http://docs.sun.com/doc/819-2240/dladm-1m?a=view"><tt>dladm</tt>(1M)</a> man page.</p><p>Configure an IP address for the WiFi interface.</p><pre># <tt><b>ifconfig ath0 10.192.16.3/24 up</b></tt>
# <tt><b>ifconfig -a</b></tt>
lo0: flags=2001000849&lt;UP,LOOPBACK,RUNNING,MULTICAST,IPv4,VIRTUAL> mtu 8232 index 1
        inet 127.0.0.1 netmask ff000000
e1000g0: flags=201004843&lt;UP,,BROADCAST,RUNNING,MULTICAST,DHCP,IPv4,CoS> mtu 1500 index 3
        inet 129.146.69.34 netmask fffffe00 broadcast 129.146.69.255
        ether 0:e:7b:b5:64:a4
ath0: flags=201004843&lt;UP,BROADCAST,RUNNING,MULTICAST,DHCP,IPv4,CoS> mtu 1500 index 4
        inet 10.192.16.3 netmask ffffff00 broadcast 10.255.255.255
        ether 0:b:6b:4e:8f:18</pre><p>This example assumes that you have the static IP address <tt>10.192.16.3/24</tt> configured
on your laptop.</p><pre># <tt><b>dladm show-wifi</b></tt>
LINK       STATUS        ESSID         SEC     STRENGTH   MODE   SPEED
ath0       connected     citinet       none    good       g      11Mb</pre><p>The output indicates that the laptop is now connected to network <tt>citinet</tt>.</p><pre># <tt><b>firefox</b></tt></pre><p>The home page for the Firefox browser displays.</p><p>Run a browser or other application to commence your work over the
WiFi network.</p><pre># <tt><b>dladm disconnect-wifi</b></tt>
# <tt><b>dladm show-wifi</b></tt>
LINK       STATUS        ESSID         SEC     STRENGTH   MODE   SPEED
ath0       disconnected   --            --       --       --       --</pre><p>The output of <tt>show-wifi</tt> verifies that you have disconnected the <tt>ath0</tt> link from
the WiFi network.</p>

<a name="gdwrw"></a><h4>How to Monitor the WiFi Link</h4><p><a name="indexterm-709"></a>This procedure shows how to monitor the status of a WiFi link through
standard networking tools, and change link properties through the <tt>linkprop</tt> subcommand.</p><ol>
<li><b>Assume the Primary Administrator role, or become superuser.</b><p>The Primary Administrator role includes the Primary Administrator profile. To create the role
and assign the role to a user, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><b>Connect to the WiFi network, as described in <a href="#gdwra">How to Connect to a WiFi Network</a>.</b></li>
<li><b>View the properties of the link.</b><p>Use the following syntax:</p><pre># <tt><b>dladm show-linkprop</b></tt> <i>interface</i></pre><p>For example, you would use the following syntax to show the status
of the connection established over the <tt>ath0</tt> link:</p><pre># <tt><b>dladm show-linkprop ath0</b></tt>
PROPERTY        VALUE           DEFAULT         POSSIBLE
channel         5               --              -- 
powermode       off             off             off,fast,max
radio           ?               on              on,off 
speed           36               --              1,2,5.5,6,9,11,12,18,24,36,48,54</pre></li>
<li><b>Set a fixed speed for the link.</b>
<hr><p><b>Caution - </b>The Solaris OS automatically chooses the optimal speed for the WiFi connection. Modifying
the initial speed of the link might cause reduced performance or prevent the
establishment of certain WiFi connections.</p>
<hr>
<p>You can modify the link speed to one of the possible values
for speed that is listed in the <tt>show-linkprop</tt> output.</p><pre># <tt><b>dladm set-linkprop -p speed=</b></tt><i>value link</i></pre></li>
<li><b><a name="indexterm-710"></a>Check the packet flow over the link.</b><pre># <tt><b>netstat -I ath0 -i 5</b></tt>
   input   ath0      output       input  (Total)    output
packets errs  packets errs  colls  packets errs  packets errs  colls
317     0     106     0     0      2905    0     571     0     0
14      0     0       0     0      20      0     0       0     0
7       0     0       0     0      16      0     1       0     0
5       0     0       0     0      9       0     0       0     0
304     0     10      0     0      631     0     316     0     0
338     0     9       0     0      722     0     381     0     0
294     0     7       0     0      670     0     371     0     0
306     0     5       0     0      649     0     338     0     0
289     0     5       0     0      597     0     301     0     0</pre></li></ol><a name="gdygw"></a>Example&nbsp;6-9 Set the Speed of a Link<p><a name="indexterm-711"></a>This example shows how to set the speed of a link after
you have connected to a WiFi network</p><pre># <tt><b>dladm show-linkprop -p speed ath0</b></tt>
PROPERTY        VALUE           DEFAULT         POSSIBLE
speed           24               --              1,2,5,6,9,11,12,18,24,36,48,54
# <tt><b>dladm set-linkprop -p speed=36 ath0</b></tt>

# <tt><b>dladm show-linkprop -p speed ath0</b></tt>
PROPERTY        VALUE           DEFAULT         POSSIBLE
speed           36               --              1,2,5,6,9,11,12,18,24,36,48,54</pre>

<a name="gdxqy"></a><h4>WiFi Networks and Security</h4>
<p><a name="indexterm-712"></a><a name="indexterm-713"></a>Radio wave technology makes WiFi networks readily available and often freely accessible to
users in many locations. As a result, connecting to a WiFi network can
be an insecure undertaking. However, certain types of WiFi connections are more secure:</p>
<ul><li><p>Connecting to a private, restricted-access WiFi network</p><p>Private networks, such as internal networks established by corporations or universities, restrict access to their networks to users who can provide the correct security challenge. Potential users must supply a key during the connection sequence or log in to the network through a secure VPN.</p></li>
<li><p>Encrypting your connection to the WiFi network</p><p>You can encrypt communications between your system and a WiFi network by using a secure key. Your access point to the WiFi network must be a router in your home or office with a secure key-generating feature. Your system and the router establish and then share the key before creating the secure connection.</p></li></ul>
<p>The <tt>dladm</tt> command can use a Wired Equivalent Privacy (WEP) key for encrypting
connections through the access point. The WEP protocol is defined in IEEE 802.11
specifications for wireless connections. For complete details on the WEP-related options of the
<tt>dladm</tt> command, refer to the <a href="http://docs.sun.com/doc/819-2240/dladm-1m?a=view"><tt>dladm</tt>(1M)</a> man page.</p>

<a name="gdwjm"></a><h5>How to Set Up an Encrypted WiFi Network Connection</h5>
<p><a name="indexterm-714"></a> The next procedure shows how to set up secure communications between a
system and a router in the home. Many wireless and wired routers for
the home have an encryption feature that can generate a secure key.
This procedure assumes that you use such a router and have its documentation
available. The procedure also assumes that your system is already plugged into the
router.</p><ol>
<li><b>Start the software for configuring the home router.</b><p>Refer to the manufacturer's documentation for instructions. Router manufacturers typically offer an internal web
site or a graphical user interface for router configuration.</p></li>
<li><b>Generate the value for the WEP key.</b><p><a name="indexterm-715"></a><a name="indexterm-716"></a>Follow the manufacturer's instructions for creating a secure key for the router. The
router configuration GUI might ask you to supply a passphrase of your choice
for the key. The software then uses the passphrase to generate a hexadecimal
string, typically 5 bytes or 13 bytes in length. This string becomes the
value to be used for the WEP key.</p></li>
<li><b>Apply and save the key configuration.</b><p>Refer to the manufacturer's documentation for instructions.</p></li>
<li><b>Assume the Primary Administrator role, or become superuser.</b><p>The Primary Administrator role includes the Primary Administrator profile. To create the role
and assign the role to a user, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><b>Create a secure object that contains the WEP key.</b><p>Open a terminal window on the system and type the following:</p><pre># <tt><b>dladm create-secobj -c wep</b></tt> <i>keyname</i></pre><p>where <i>keyname</i> represents the name you want to give to the key.</p></li>
<li><b>Supply the value for the WEP key to the secure object.</b><p>The <tt>create-secobj</tt> subcommand then runs a script that requests the value for the
key. </p><pre>provide value for <i>keyname</i>: <i>5 or 13 byte key</i>
confirm value for <i>keyname</i>: <i>retype key</i></pre><p>This value is the key that was generated by the router. The
script accepts either a five byte or thirteen byte string, in ASCII or
in hexadecimal for the key value.</p></li>
<li><b>View the contents of the key that you just created.</b><pre># <tt><b>dladm show-secobj</b></tt>
OBJECT               CLASS
<i>keyname</i>                wep</pre><p>where <i>keyname</i> is the name for the secure object.</p></li>
<li><b>Make an encrypted connection to the WiFi network.</b><pre># <tt><b>dladm connect-wifi -e</b></tt> <i>network</i> -k <i>keyname interface</i></pre></li>
<li><b>Verify that the connection is secure.</b><pre># <tt><b>dladm show-wifi</b></tt>
LINK       STATUS        ESSID         SEC     STRENGTH   MODE   SPEED
ath0       connected     net1          wep     good       g      11Mb</pre><p>The <tt>wep</tt> value under the <tt>SEC</tt> heading indicates that WEP encryption is in
place for the connection.</p></li></ol><a name="gdygb"></a>Example&nbsp;6-10 Setting Up Encrypted WiFi Communications<p><a name="indexterm-717"></a>This example assumes that you have already done the following:</p>
<ul><li><p>Connected your system to a home router that can create a WEP key</p></li>
<li><p>Followed the router manufacturer's documentation and created the WEP key</p></li>
<li><p>Saved the key so that you can use it to create the secure object on your system</p></li></ul>
<pre># <tt><b>dladm create-secobj -c wep mykey</b></tt>
provide value for mykey: *****
confirm value for mkey: *****</pre><p>When you supply the WEP key generated that is by the router,
asterisks mask the value that you type.</p><pre># <tt><b>dladm show-secobj</b></tt>
OBJECT               CLASS
 mykey               wep
# <tt><b>dladm connect-wifi -e citinet -k mykey ath0</b></tt></pre><p>This command establishes an encrypted connection to the WiFi network <tt>citinet,</tt> using
the secure object <tt>mykey</tt>.</p><pre># <tt><b>dladm show-wifi</b></tt>
LINK       STATUS        ESSID         SEC     STRENGTH   MODE   SPEED
ath0       connected     citinet       wep     good       g      36Mb</pre><p>This output verifies that you are connected to <tt>citinet</tt> through WEP encryption.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="fpjvl.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipv6-config-tasks-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

