<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Utilities for Key Generation in IPsec - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ipsecref-24.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipsecref-26.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level2"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level2"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level2"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<p class="toc level2"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level2"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level2"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<p class="toc level3"><a href="ipsecref-22.html"><tt>ipsecconf</tt> Command</a></p>
<p class="toc level3"><a href="ipsecref-23.html"><tt>ipsecinit.conf</tt> File</a></p>
<p class="toc level3"><a href="ipsecref-17.html"><tt>ipsecalgs</tt> Command</a></p>
<p class="toc level3"><a href="ipsecref-24.html">Security Associations Database for IPsec</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Utilities for Key Generation in IPsec</a></p>
</div>
<p class="toc level3"><a href="ipsecref-26.html"><tt>snoop</tt> Command and IPsec</a></p>
<p class="toc level2 tocsp"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level2"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level2"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level2"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="ipsecref-25"></a><h3>Utilities for Key Generation in IPsec</h3>
<a name="indexterm-1928"></a><a name="indexterm-1929"></a><a name="indexterm-1930"></a><a name="indexterm-1931"></a><a name="indexterm-1932"></a><a name="indexterm-1933"></a><p>The IKE protocol provides automatic key management for IPv4 and IPv6 addresses. See
<a href="ike-task-1.html">Chapter&nbsp;23, Configuring IKE (Tasks)</a> for instructions on how to set up IKE. The manual keying utility
is the <tt>ipseckey</tt> command, which is described in the <a href="http://docs.sun.com/doc/819-2240/ipseckey-1m?a=view"><tt>ipseckey</tt>(1M)</a> man page.</p><p>You use the <tt>ipseckey</tt> command to manually populate the security association databases (SADBs)
when automated key management is not used. When you invoke the <tt>ipseckey</tt> command
with no arguments, the command enters an interactive mode and displays a prompt
that enables you to make entries. Some commands require an explicit security association (SA)
type, while others permit you to specify the SA type and act
on all SA types.</p><p>While the <tt>ipseckey</tt> command has only a limited number of general options, the
command supports a rich command language. You can specify that requests be delivered
by means of a programmatic interface specific for manual keying. For additional information,
see the <a href="http://docs.sun.com/doc/819-2254/pf-key-7p?a=view"><tt>pf_key</tt>(7P)</a> man page.</p>

<a name="ipsecref-41"></a><h4>Security Considerations for <tt>ipseckey</tt></h4>
<p><a name="indexterm-1934"></a><a name="indexterm-1935"></a><a name="indexterm-1936"></a>The <tt>ipseckey</tt> command enables superuser or a role with the Network Security profile
to enter sensitive cryptographic keying information. If an adversary gains access to this
information, the adversary can compromise the security of IPsec traffic. You should consider
the following issues when you handle keying material and use the <tt>ipseckey</tt> command:</p>
<ul><li><p>Have you refreshed the keying material? Periodic key refreshment is a fundamental security practice. Key refreshment guards against potential weaknesses of the algorithm and keys, and limits the damage of an exposed key.</p></li>
<li><p>Is the TTY going over a network? Is the <tt>ipseckey</tt> command in interactive mode?</p>
<ul><li><p>In interactive mode, the security of the keying material is the security of the network path for this TTY's traffic. You should avoid using the <tt>ipseckey</tt> command over a clear-text telnet or rlogin session.</p></li>
<li><p>Even local windows might be vulnerable to attacks by a concealed program that reads window events.</p></li></ul>
</li>
<li><p>Have you used the <tt>-f</tt> option? Is the file being accessed over the network? Can the file be read by the world?</p>
<ul><li><p>An adversary can read a network-mounted file as the file is being read. You should avoid using a world-readable file that contains keying material.</p></li>
<li><p>Protect your naming system. If the following two conditions are met, then your host names are no longer trustworthy:</p>
<ul><li><p>Your source address is a host that can be looked up over the network.</p></li>
<li><p>Your naming system is compromised.</p></li></ul>
</li></ul>
</li></ul>
<p>Security weaknesses often arise from the misapplication of tools, not from the actual
tools. You should be cautious when using the <tt>ipseckey</tt> command. Use a console
or other hard-connected TTY for the safest mode of operation.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ipsecref-24.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipsecref-26.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

