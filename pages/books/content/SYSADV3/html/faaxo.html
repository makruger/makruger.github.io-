<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Displaying Statistics and Information for Solaris IP Filter - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="eubbd.html">Previous</a>
             </td>
             <td align="right">
                 <a href="faavk.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level2"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level2"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level2"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<p class="toc level2"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level2"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level2"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<p class="toc level2"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level2"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level3"><a href="etmhi.html">Configuring Solaris IP Filter</a></p>
<p class="toc level4"><a href="etmhi.html#gdwzk">How to Enable Solaris IP Filter</a></p>
<p class="toc level4"><a href="etmhi.html#eubbr">How to Re-Enable Solaris IP Filter</a></p>
<p class="toc level4"><a href="etmhi.html#gdwzr">How to Enable Loopback Filtering</a></p>
<p class="toc level3 tocsp"><a href="fabar.html">Deactivating and Disabling Solaris IP Filter</a></p>
<p class="toc level4"><a href="fabar.html#ettms">How to Deactivate Packet Filtering</a></p>
<p class="toc level4"><a href="fabar.html#ettmt">How to Deactivate NAT</a></p>
<p class="toc level4"><a href="fabar.html#ettmo">How to Disable Packet Filtering</a></p>
<p class="toc level3 tocsp"><a href="eubbd.html">Working With Solaris IP Filter Rule Sets</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Displaying Statistics and Information for Solaris IP Filter</a></p>
<p class="toc level4"><a href="#faapk">How to View State Tables for Solaris IP Filter</a></p>
<p class="toc level4"><a href="#faapx">How to View State Statistics for Solaris IP Filter</a></p>
<p class="toc level4"><a href="#faapy">How to View NAT Statistics for Solaris IP Filter</a></p>
<p class="toc level4"><a href="#faapz">How to View Address Pool Statistics for Solaris IP Filter</a></p>
</div>
<p class="toc level3 tocsp"><a href="faavk.html">Working With Log Files for Solaris IP Filter</a></p>
<p class="toc level4"><a href="faavk.html#gdfwa">How to Set Up a Log File for Solaris IP Filter</a></p>
<p class="toc level4"><a href="faavk.html#faaqc">How to View Solaris IP Filter Log Files</a></p>
<p class="toc level4"><a href="faavk.html#faaqf">How to Flush the Packet Log File</a></p>
<p class="toc level4"><a href="faavk.html#faard">How to Save Logged Packets to a File</a></p>
<p class="toc level3 tocsp"><a href="ipfilter-admin-2.html">Creating and Editing Solaris IP Filter Configuration Files</a></p>
<p class="toc level4"><a href="ipfilter-admin-2.html#fahpp">How to Create a Configuration File for Solaris IP Filter</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level2"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level2"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="faaxo"></a><h3>Displaying Statistics and Information for Solaris IP Filter</h3>
<a name="fabah"></a><h6>Table&nbsp;26-4 Displaying Solaris IP Filter Statistics and Information (Task Map)</h6><table><col width="50*"><col width="50.00*"><col width="50*"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>View state tables.</p></td>
<td align="left" valign="top" scope="row"><p>View state tables
to obtain information about packet filtering using the <tt>ipfstat</tt> command.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#faapk">How to View State Tables for Solaris IP Filter</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>View state statistics.</p></td>
<td align="left" valign="top" scope="row"><p>View statistics
on packet state information using the <tt>ipfstat</tt> <tt>-s</tt> command.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#faapx">How to View State Statistics for Solaris IP Filter</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>View NAT statistics.</p></td>
<td align="left" valign="top" scope="row"><p>View NAT
statistics using the <tt>ipnat</tt> <tt>-s</tt> command.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#faapy">How to View NAT Statistics for Solaris IP Filter</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>View address pool statistics.</p></td>
<td align="left" valign="top" scope="row"><p>View address pool statistics
using the <tt>ippool</tt> <tt>-s</tt> command.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#faapz">How to View Address Pool Statistics for Solaris IP Filter</a></p></td>
</tr>
</table>

<a name="faapk"></a><h4>How to View State Tables for Solaris IP Filter</h4><a name="indexterm-2421"></a><a name="indexterm-2422"></a><a name="indexterm-2423"></a><a name="indexterm-2424"></a><a name="indexterm-2425"></a><ol>
<li><b>Assume a role that includes the IP Filter Management rights profile, or become
superuser.</b><p>You can assign the IP Filter Management rights profile to a role that
you create. To create the role and assign the role to a user,
see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><b>View the state table.</b><pre># <tt><b>ipfstat</b></tt></pre>
<hr><p><b>Note - </b>You can use the <tt>-t</tt> option to view the state table in the
top utility format.</p>
<hr>
</li></ol><a name="fahst"></a>Example&nbsp;26-16 Viewing State Tables for Solaris IP Filter<p>The following example shows how to view a state table.</p><pre># <tt><b>ipfstat</b></tt>
bad packets:            in 0    out 0
 input packets:         blocked 160 passed 11 nomatch 1 counted 0 short 0
output packets:         blocked 0 passed 13681 nomatch 6844 counted 0 short 0
 input packets logged:  blocked 0 passed 0
output packets logged:  blocked 0 passed 0
 packets logged:        input 0 output 0
 log failures:          input 0 output 0
fragment state(in):     kept 0  lost 0
fragment state(out):    kept 0  lost 0
packet state(in):       kept 0  lost 0
packet state(out):      kept 0  lost 0
ICMP replies:   0       TCP RSTs sent:  0
Invalid source(in):     0
Result cache hits(in):  152     (out):  6837
IN Pullups succeeded:   0       failed: 0
OUT Pullups succeeded:  0       failed: 0
Fastroute successes:    0       failures:       0
TCP cksum fails(in):    0       (out):  0
IPF Ticks:      14341469
Packet log flags set: (0)
        none</pre>

<a name="faapx"></a><h4>How to View State Statistics for Solaris IP Filter</h4><a name="indexterm-2426"></a><a name="indexterm-2427"></a><a name="indexterm-2428"></a><ol>
<li><b>Assume a role that includes the IP Filter Management rights profile, or become
superuser.</b><p>You can assign the IP Filter Management rights profile to a role that
you create. To create the role and assign the role to a user,
see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><b>View the state statistics.</b><pre># <tt><b>ipfstat -s</b></tt></pre></li></ol><a name="fahsv"></a>Example&nbsp;26-17 Viewing State Statistics for Solaris IP Filter<p>The following example shows how to view state statistics.</p><pre># <tt><b>ipfstat -s</b></tt>
IP states added:
        0 TCP
        0 UDP
        0 ICMP
        0 hits
        0 misses
        0 maximum
        0 no memory
        0 max bucket
        0 active
        0 expired
        0 closed
State logging enabled

State table bucket statistics:
        0 in use        
        0.00% bucket usage
        0 minimal length
        0 maximal length
        0.000 average length</pre>

<a name="faapy"></a><h4>How to View NAT Statistics for Solaris IP Filter</h4><a name="indexterm-2429"></a><a name="indexterm-2430"></a><a name="indexterm-2431"></a><a name="indexterm-2432"></a><ol>
<li><b>Assume a role that includes the IP Filter Management rights profile, or become
superuser.</b><p>You can assign the IP Filter Management rights profile to a role that
you create. To create the role and assign the role to a user,
see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><b>View NAT statistics.</b><pre># <tt><b>ipnat -s</b></tt></pre></li></ol><a name="fahsx"></a>Example&nbsp;26-18 Viewing NAT Statistics for Solaris IP Filter<p>The following example shows how to view NAT statistics.</p><pre># <tt><b>ipnat -s</b></tt>
mapped  in      0       out     0
added   0       expired 0
no memory       0       bad nat 0
inuse   0
rules   1
wilds   0</pre>

<a name="faapz"></a><h4>How to View Address Pool Statistics for Solaris IP Filter</h4><a name="indexterm-2433"></a><a name="indexterm-2434"></a><a name="indexterm-2435"></a><a name="indexterm-2436"></a><ol>
<li><b>Assume a role that includes the IP Filter Management rights profile, or become
superuser.</b><p>You can assign the IP Filter Management rights profile to a role that
you create. To create the role and assign the role to a user,
see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><b>View address pool statistics.</b><pre># <tt><b>ippool -s</b></tt></pre></li></ol><a name="fahsw"></a>Example&nbsp;26-19 Viewing Address Pool Statistics for Solaris IP Filter<p>The following example shows how to view address pool statistics.</p><pre># <tt><b>ippool -s</b></tt>
Pools:  3
Hash Tables:    0
Nodes:  0</pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="eubbd.html">Previous</a>
             </td>
             <td align="right">
                 <a href="faavk.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

