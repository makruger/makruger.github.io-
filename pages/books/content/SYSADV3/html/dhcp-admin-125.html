<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Working With DHCP Macros (Task Map) - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="dhcp-admin-124.html">Previous</a>
             </td>
             <td align="right">
                 <a href="dhcp-admin-206.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level2"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level2"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level2"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<p class="toc level2"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level3"><a href="dhcp-admin-1.html">About DHCP Manager</a></p>
<p class="toc level4"><a href="dhcp-admin-1.html#dhcp-admin-4">How to Start and Stop DHCP Manager</a></p>
<p class="toc level3 tocsp"><a href="dhcp-admin-rbac1211.html">Setting Up User Access to DHCP Commands</a></p>
<p class="toc level4"><a href="dhcp-admin-rbac1211.html#dhcp-admin-518">How to Grant Users Access to DHCP Commands</a></p>
<p class="toc level3 tocsp"><a href="dhcp-admin-32.html">Starting and Stopping the DHCP Service</a></p>
<p class="toc level4"><a href="dhcp-admin-32.html#dhcp-admin-109">How to Start and Stop the DHCP Service (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-32.html#dhcp-admin-7">How to Enable and Disable the DHCP Service (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-32.html#dhcp-admin-1206">How to Enable and Disable the DHCP Service (<tt>dhcpconfig -S</tt>)</a></p>
<p class="toc level3 tocsp"><a href="faayz.html">DHCP Service and the Service Management Facility</a></p>
<p class="toc level3"><a href="dhcp-admin-51.html">Modifying DHCP Service Options (Task Map)</a></p>
<p class="toc level4"><a href="dhcp-admin-51.html#dhcp-admin-119">How to Generate Verbose DHCP Log Messages (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-51.html#dhcp-admin-118">How to Generate Verbose DHCP Log Messages (Command Line)</a></p>
<p class="toc level4"><a href="dhcp-admin-51.html#dhcp-admin-117">How to Enable and Disable DHCP Transaction Logging (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-51.html#dhcp-admin-16">How to Enable and Disable DHCP Transaction Logging (Command Line)</a></p>
<p class="toc level4"><a href="dhcp-admin-51.html#dhcp-admin-14">How to Log DHCP Transactions to a Separate <tt>syslog</tt> File</a></p>
<p class="toc level4"><a href="dhcp-admin-51.html#dhcp-admin-303">How to Enable Dynamic DNS Updating for DHCP Clients</a></p>
<p class="toc level4"><a href="dhcp-admin-51.html#dhcp-admin-121">How to Customize DHCP Performance Options (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-51.html#dhcp-admin-20">How to Customize DHCP Performance Options (Command Line)</a></p>
<p class="toc level3 tocsp"><a href="dhcp-admin-15.html">Adding, Modifying, and Removing DHCP Networks (Task Map)</a></p>
<p class="toc level4"><a href="dhcp-admin-15.html#dhcp-admin-123">How to Specify Network Interfaces for DHCP Monitoring (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-15.html#dhcp-admin-1214">How to Specify Network Interfaces for DHCP Monitoring (<tt>dhcpconfig</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-15.html#dhcp-admin-24">How to Add a DHCP Network (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-15.html#dhcp-admin-127-1115">How to Add a DHCP Network (<tt>dhcpconfig</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-15.html#dhcp-admin-26">How to Modify the Configuration of a DHCP Network (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-15.html#dhcp-admin-127">How to Modify the Configuration of a DHCP Network (<tt>dhtadm</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-15.html#dhcp-admin-28">How to Remove a DHCP Network (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-15.html#dhcp-admin-27">How to Remove a DHCP Network (<tt>pntadm</tt>)</a></p>
<p class="toc level3 tocsp"><a href="dhcp-admin-94.html">Supporting BOOTP Clients With the DHCP Service (Task Map)</a></p>
<p class="toc level4"><a href="dhcp-admin-94.html#dhcp-admin-113">How to Set Up Support of Any BOOTP Client (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-94.html#dhcp-admin-112">How to Set Up Support of Registered BOOTP Clients (DHCP Manager)</a></p>
<p class="toc level3 tocsp"><a href="dhcp-admin-124.html">Working With IP Addresses in the DHCP Service (Task Map)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-32art">How to Add a Single IP Address (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-33art">How to Duplicate an Existing IP Address (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-34art">How to Add Multiple IP Addresses (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-34pnt">How to Add IP Addresses (<tt>pntadm</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-35art">How to Modify IP Address Properties (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-35pnt">How to Modify IP Address Properties (<tt>pntadm</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-36art">How to Mark IP Addresses as Unusable (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-36pnt">How to Mark IP Addresses as Unusable (<tt>pntadm</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-37art">How to Delete IP Addresses From DHCP Service (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-37pnt">How to Delete IP Addresses From the DHCP Service (<tt>pntadm</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-38art">How to Assign a Consistent IP Address to a DHCP Client (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-38pnt">How to Assign a Consistent IP Address to a DHCP Client (<tt>pntadm</tt>)</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Working With DHCP Macros (Task Map)</a></p>
<p class="toc level4"><a href="#dhcp-admin-13">How to View Macros Defined on a DHCP Server (DHCP Manager)</a></p>
<p class="toc level4"><a href="#dhcp-admin-13dh">How to View Macros Defined on a DHCP Server (<tt>dhtadm</tt>)</a></p>
<p class="toc level4"><a href="#dhcp-admin-39art">How to Change Values for Options in a DHCP Macro (DHCP Manager)</a></p>
<p class="toc level4"><a href="#dhcp-admin-39dh">How to Change Values for Options in a DHCP Macro (<tt>dhtadm</tt>)</a></p>
<p class="toc level4"><a href="#dhcp-admin-40art">How to Add Options to a DHCP Macro (DHCP Manager)</a></p>
<p class="toc level4"><a href="#dhcp-admin-40dh">How to Add Options to a DHCP Macro (<tt>dhtadm</tt>)</a></p>
<p class="toc level4"><a href="#dhcp-admin-41art">How to Delete Options From a DHCP Macro (DHCP Manager)</a></p>
<p class="toc level4"><a href="#dhcp-admin-41dh">How to Delete Options From a DHCP Macro (<tt>dhtadm</tt>)</a></p>
<p class="toc level4"><a href="#dhcp-admin-42art">How to Create a DHCP Macro (DHCP Manager)</a></p>
<p class="toc level4"><a href="#dhcp-admin-42dh">How to Create a DHCP Macro (<tt>dhtadm</tt>)</a></p>
<p class="toc level4"><a href="#dhcp-admin-43art">How to Delete a DHCP Macro (DHCP Manager)</a></p>
<p class="toc level4"><a href="#dhcp-admin-43dh">How to Delete a DHCP Macro (<tt>dhtadm</tt>)</a></p>
</div>
<p class="toc level3 tocsp"><a href="dhcp-admin-206.html">Working With DHCP Options (Task Map)</a></p>
<p class="toc level4"><a href="dhcp-admin-206.html#dhcp-admin-44art">How to Create DHCP Options (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-206.html#dhcp-admin-45art">How to Create DHCP Options (<tt>dhtadm</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-206.html#dhcp-admin-46art">How to Modify DHCP Option Properties (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-206.html#dhcp-admin-47art">How to Modify DHCP Option Properties (<tt>dhtadm</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-206.html#dhcp-admin-48art">How to Delete DHCP Options (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-206.html#dhcp-admin-49art">How to Delete DHCP Options (<tt>dhtadm</tt>)</a></p>
<p class="toc level3 tocsp"><a href="dhcp-admin-38.html">Supporting Solaris Network Installation With the DHCP Service</a></p>
<p class="toc level3"><a href="dhcp-admin-122.html">Supporting Remote Boot and Diskless Boot Clients (Task Map)</a></p>
<p class="toc level3"><a href="dhcp-admin-1211.html">Setting Up DHCP Clients to Receive Information Only (Task Map)</a></p>
<p class="toc level3"><a href="dhcp-admin-cv1211.html">Converting to a New DHCP Data Store</a></p>
<p class="toc level4"><a href="dhcp-admin-cv1211.html#dhcp-admin-572">How to Convert the DHCP Data Store (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-cv1211.html#dhcp-admin-576">How to Convert the DHCP Data Store <tt>(dhcpconfig -C</tt>)</a></p>
<p class="toc level3 tocsp"><a href="dhcp-admin-mv1211.html">Moving Configuration Data Between DHCP Servers (Task Map)</a></p>
<p class="toc level4"><a href="dhcp-admin-mv1211.html#dhcp-admin-proc-1204">How to Export Data From a DHCP Server (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-mv1211.html#dhcp-admin-proc-1205">How to Export Data From a DHCP Server (<tt>dhcpconfig -X</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-mv1211.html#dhcp-admin-proc-510">How to Import Data on a DHCP Server (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-mv1211.html#dhcp-admin-proc-317">How to Import Data on a DHCP Server (<tt>dhcpconfig -I</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-mv1211.html#dhcp-admin-proc-257">How to Modify Imported DHCP Data (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-mv1211.html#dhcp-admin-proc-324">How to Modify Imported DHCP Data (<tt>pntadm</tt>, <tt>dhtadm</tt>)</a></p>
<p class="toc level2 tocsp"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level2"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<p class="toc level2"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level2"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level2"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level2"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="dhcp-admin-125"></a><h3>Working With DHCP Macros (Task Map)</h3>
<p><a name="indexterm-1468"></a><b>DHCP macros</b> are containers of DHCP options. The Solaris DHCP service uses macros to
gather options that should be passed to clients. DHCP Manager and the <tt>dhcpconfig</tt>
utility create a number of macros automatically when you configure the server. See
<a href="dhcp-overview-14a.html#dhcp-overview-9">About DHCP Macros</a> for background information about macros. See <a href="chapter3-20.html">Chapter&nbsp;14, Configuring the DHCP Service (Tasks)</a> for information about macros created
by default.</p><p>You might find that when changes occur on your network, you need
to make changes to the configuration information that is passed to clients. To change
configuration  information, you need to work with DHCP macros. You can view,
create, modify, duplicate, and delete DHCP macros.</p><p>When you work with macros, you must know about DHCP standard options, which
are described in the <a href="http://docs.sun.com/doc/819-2251/dhcp-inittab-4?a=view"><tt>dhcp_inittab</tt>(4)</a> man page.</p><p><a name="indexterm-1469"></a>The following task map lists tasks to help you view, create, modify, and
delete DHCP macros.</p><table><col width="84.94*"><col width="121.77*"><col width="210.28*"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>View DHCP macros.</p></td>
<td align="left" valign="top" scope="row"><p>Display a list of all the macros
that are defined on the DHCP server.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#dhcp-admin-13">How to View Macros Defined on a DHCP Server (DHCP Manager)</a></p><p><a href="#dhcp-admin-13dh">How to View Macros Defined on a DHCP Server (<tt>dhtadm</tt>)</a> </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Create DHCP macros.</p></td>
<td align="left" valign="top" scope="row"><p>Create new macros
to support DHCP clients.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#dhcp-admin-42art">How to Create a DHCP Macro (DHCP Manager)</a></p><p><a href="#dhcp-admin-42dh">How to Create a DHCP Macro (<tt>dhtadm</tt>)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Modify values that are passed in macros to DHCP
clients.</p></td>
<td align="left" valign="top" scope="row"><p>Change macros by modifying existing options, adding options to macros, or removing options
from macros.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#dhcp-admin-39art">How to Change Values for Options in a DHCP Macro (DHCP Manager)</a></p><p><a href="#dhcp-admin-39dh">How to Change Values for Options in a DHCP Macro (<tt>dhtadm</tt>)</a></p><p><a href="#dhcp-admin-40art">How to Add Options to a DHCP Macro (DHCP Manager)</a></p><p><a href="#dhcp-admin-40dh">How to Add Options to a DHCP Macro (<tt>dhtadm</tt>)</a></p><p><a href="#dhcp-admin-41art">How to Delete Options From a DHCP Macro (DHCP Manager)</a></p><p><a href="#dhcp-admin-41dh">How to Delete Options From a DHCP Macro (<tt>dhtadm</tt>)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Delete DHCP macros.</p></td>
<td align="left" valign="top" scope="row"><p>Remove DHCP macros that are no longer used.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#dhcp-admin-43art">How to Delete a DHCP Macro (DHCP Manager)</a></p><p><a href="#dhcp-admin-43dh">How to Delete a DHCP Macro (<tt>dhtadm</tt>)</a></p></td>
</tr>
</table><p>The following figure shows the Macros tab in the DHCP Manager window.</p><a name="dhcp-admin-fig-211"></a><h6>Figure&nbsp;15-14 DHCP Manager's Macros Tab</h6><img src="figures/dhcp-macros-tab.gif" alt="Macros tab shows list of macros with one macro selected. Option names and values contained in macro are shown. Find field and Next button are shown." width="800" height="600"></img>

<a name="dhcp-admin-13"></a><h4>How to View Macros Defined on a DHCP Server (DHCP Manager)</h4><ol>
<li><a name="dhcp-admin-step-215"></a><b>In DHCP Manager, select the Macros tab.</b><p>See <a href="dhcp-admin-1.html#dhcp-admin-4">How to Start and Stop DHCP Manager</a> for information about DHCP Manager.</p><p>The Macros area on the left side of the window displays, in alphabetical
order, all the macros defined on the DHCP server. Macros preceded by a
folder icon include references to other macros, whereas macros preceded by a document
icon do not reference other macros.</p></li>
<li><a name="dhcp-admin-step-216"></a><b>To open a macro folder, click the handle icon to the left of
the folder icon.</b><p>The macros that are included in the selected macro are listed.</p></li>
<li><a name="dhcp-admin-step-217"></a><b>To view the content of a macro, click the macro name. </b><p>Options and their assigned values are displayed.</p></li></ol>

<a name="dhcp-admin-13dh"></a><h4>How to View Macros Defined on a DHCP Server (<tt>dhtadm</tt>)</h4><ol>
<li><b>Become superuser or assume a role or user name that is assigned to
the DHCP Management profile.</b><p>For more information about the DHCP Management profile, see <a href="dhcp-admin-rbac1211.html">Setting Up User Access to DHCP Commands</a>.</p><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><a name="dhcp-admin-step-548"></a><b>Display the macros by typing the following command:</b><pre># <tt><b>dhtadm -P</b></tt></pre><p>This command prints to standard output the formatted contents of the <tt>dhcptab</tt>
table, including all macros and symbols defined on the DHCP server.</p></li></ol>

<a name="dhcp-admin-18"></a><h4>Modifying DHCP Macros</h4>
<p><a name="indexterm-1470"></a><a name="indexterm-1471"></a>You might need to modify macros when some aspect of your network changes
and one or more DHCP clients need to know about the change.
For example, you might add a router or an NIS server, create a
new subnet, or change the lease policy.</p><p>Before you modify a macro, determine the name of the DHCP option
you want to change, add, or delete. The standard DHCP options are listed
in the DHCP Manager help and in the <a href="http://docs.sun.com/doc/819-2251/dhcp-inittab-4?a=view"><tt>dhcp_inittab</tt>(4)</a> man page.</p><p><a name="indexterm-1472"></a>You can use the <tt>dhtadm -M -m</tt> command or DHCP Manager to modify macros. See
the <a href="http://docs.sun.com/doc/819-2240/dhtadm-1m?a=view"><tt>dhtadm</tt>(1M)</a> man page for more information about <tt>dhtadm</tt>.</p><p>The following figure shows DHCP Manager's Macro Properties dialog box.</p><a name="dhcp-admin-fig-219"></a><h6>Figure&nbsp;15-15 Macro Properties Dialog Box in DHCP Manager</h6><img src="figures/dhcp-macro-props.gif" alt="Dialog box shows list of options and their values. Shows Select, Add, Modify, up and down, and Delete buttons. Shows check box to notify server." width="565" height="376"></img>

<a name="dhcp-admin-39art"></a><h4>How to Change Values for Options in a DHCP Macro (DHCP Manager)</h4><ol>
<li><a name="dhcp-admin-step-223"></a><b>In DHCP Manager, select the Macros tab.</b><p>See <a href="dhcp-admin-1.html#dhcp-admin-4">How to Start and Stop DHCP Manager</a> for information about DHCP Manager.</p></li>
<li><a name="dhcp-admin-step-224"></a><b>Select the macro that you want to change.</b></li>
<li><a name="dhcp-admin-step-225"></a><b>Choose Properties from the Edit menu.</b><p>The Macro Properties dialog box opens.</p></li>
<li><a name="dhcp-admin-step-226"></a><b>In the table of Options, select the option that you want to change.</b><p>The option's name and its value are displayed in the Option Name and
Option Value fields.</p></li>
<li><a name="dhcp-admin-step-227"></a><b>In the Option Value field, select the old value and type the new
value for the option.</b></li>
<li><a name="dhcp-admin-step-228"></a><b>Click Modify.</b><p>The new value is displayed in the options table.</p></li>
<li><a name="dhcp-admin-step-229"></a><b>Select Notify DHCP Server of Change.</b><p>This selection tells the DHCP server to reread the <tt>dhcptab</tt> table to put
the change into effect immediately after you click OK.</p></li>
<li><a name="dhcp-admin-step-230"></a><b>Click OK.</b></li></ol>

<a name="dhcp-admin-39dh"></a><h4>How to Change Values for Options in a DHCP Macro (<tt>dhtadm</tt>)</h4><ol>
<li><b>Become superuser or assume a role or user name that is assigned to
the DHCP Management profile.</b><p>For more information about the DHCP Management profile, see <a href="dhcp-admin-rbac1211.html">Setting Up User Access to DHCP Commands</a>.</p><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><a name="dhcp-admin-step-551"></a><b>Change option values by typing a command of the following format:</b><pre># <tt><b>dhtadm -M -m </tt><i>macroname</i><tt> -e '</tt><i>option</i><tt>=</tt><i>value</i><tt>:</tt><i>option</i><tt>=</tt><i>value</i><tt>' -g</b></tt></pre><p>For example, to change the lease time and the Universal Time Offset in
the macro <tt>bluenote</tt>, you would type:</p><p># <tt><b>dhtadm -M -m bluenote -e 'LeaseTim=43200:UTCOffst=28800' -g</b></tt></p></li></ol>

<a name="dhcp-admin-40art"></a><h4>How to Add Options to a DHCP Macro (DHCP Manager)</h4><ol>
<li><a name="dhcp-admin-step-233"></a><b>In DHCP Manager, select the Macros tab.</b><p>See <a href="dhcp-admin-1.html#dhcp-admin-4">How to Start and Stop DHCP Manager</a> for information about DHCP Manager.</p></li>
<li><a name="dhcp-admin-step-234"></a><b>Select the macro that you want to change.</b></li>
<li><a name="dhcp-admin-step-235"></a><b>Choose Properties from the Edit menu.</b><p>The Macro Properties dialog box opens.</p></li>
<li><a name="dhcp-admin-step-236"></a><b>In the Option Name field, specify the name of an option by using
one of the following methods:</b><ul>
<li><a name="dhcp-admin-step-237"></a><b>Click the Select button next to the Option Name field to select an
option to add to the macro.</b><p>The Select Option dialog box displays an alphabetized list of names of standard
category options and descriptions. If you want to add an option that is
not in the standard category, use the Category list to select a category.</p><p>See <a href="dhcp-overview-14a.html#dhcp-overview-9">About DHCP Macros</a> for more information about macro categories.</p></li>
<li><a name="dhcp-admin-step-238"></a><b>Type <tt><b>Include</b></tt> if you want to include a reference to an existing macro
in the new macro.</b></li></ul></li>
<li><a name="dhcp-admin-step-239"></a><b>Type the value for the option in the Option Value field.</b><p>If you typed <tt><b>Include</b></tt> as the option name, you must specify the name
of an existing macro in the Option Value field.</p></li>
<li><a name="dhcp-admin-step-240"></a><b>Click Add.</b><p>The option is added to the bottom of the list of options in
this macro.  To change the option's position in the macro, select the
option and click the arrow buttons to move the option up or down
in the list.</p></li>
<li><a name="dhcp-admin-step-241"></a><b>Select Notify DHCP Server of Change.</b><p>This selection tells the DHCP server to reread the <tt>dhcptab</tt> table to put
the change into effect immediately after you click OK.</p></li>
<li><a name="dhcp-admin-step-242"></a><b>Click OK.</b></li></ol>

<a name="dhcp-admin-40dh"></a><h4>How to Add Options to a DHCP Macro (<tt>dhtadm</tt>)</h4><ol>
<li><b>Become superuser or assume a role or user name that is assigned to
the DHCP Management profile.</b><p>For more information about the DHCP Management profile, see <a href="dhcp-admin-rbac1211.html">Setting Up User Access to DHCP Commands</a>.</p><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><a name="dhcp-admin-step-554"></a><b>Add options to a macro by typing a command of the following format:</b><pre># <tt><b>dhtadm -M -m </tt><i>macroname</i><tt> -e '</tt><i>option</i><tt>=</tt><i>value</i><tt>' -g</b></tt></pre><p>For example, to add the ability to negotiate leases in the macro
<tt>bluenote</tt>, you would type the following command:</p><p># <tt><b>dhtadm -M -m bluenote -e 'LeaseNeg=_NULL_VALUE' -g</b></tt></p><p>Note that if an option does not require a value, you must use
<tt>_NULL_VALUE</tt> as the value for the option.</p></li></ol>

<a name="dhcp-admin-41art"></a><h4>How to Delete Options From a DHCP Macro (DHCP Manager)</h4><ol>
<li><a name="dhcp-admin-step-245"></a><b>In DHCP Manager, select the Macros tab.</b><p>See <a href="dhcp-admin-1.html#dhcp-admin-4">How to Start and Stop DHCP Manager</a> for information about DHCP Manager.</p></li>
<li><a name="dhcp-admin-step-246"></a><b>Select the macro that you want to change.</b></li>
<li><a name="dhcp-admin-step-247"></a><b>Choose Properties from the Edit menu.</b><p>The Macro Properties dialog box opens.</p></li>
<li><a name="dhcp-admin-step-248"></a><b>Select the option that you want to remove from the macro.</b></li>
<li><a name="dhcp-admin-step-249"></a><b>Click Delete.</b><p>The option is removed from the list of options for this macro.</p></li>
<li><a name="dhcp-admin-step-250"></a><b>Select Notify DHCP Server of Change.</b><p>This selection tells the DHCP server to reread the <tt>dhcptab</tt> table to put
the change into effect immediately after you click OK.</p></li>
<li><a name="dhcp-admin-step-251"></a><b>Click OK.</b></li></ol>

<a name="dhcp-admin-41dh"></a><h4>How to Delete Options From a DHCP Macro (<tt>dhtadm</tt>)</h4><ol>
<li><b>Become superuser or assume a role or user name that is assigned to
the DHCP Management profile.</b><p>For more information about the DHCP Management profile, see <a href="dhcp-admin-rbac1211.html">Setting Up User Access to DHCP Commands</a>.</p><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><a name="dhcp-admin-step-557"></a><b>Delete an option from a macro by typing a command of the following
format:</b><pre># <tt><b>dhtadm -M -m </tt><i>macroname</i><tt> -e '</tt><i>option</i><tt>=' -g</b></tt></pre><p>For example, to remove the ability to negotiate leases in the macro
<tt>bluenote</tt>, you would type the following command:</p><p># <tt><b>dhtadm -M -m bluenote -e 'LeaseNeg=' -g</b></tt></p><p>If an option is specified with no value, the option is removed from
the macro.</p></li></ol>

<a name="dhcp-admin-75"></a><h4>Creating DHCP Macros</h4>
<p><a name="indexterm-1473"></a><a name="indexterm-1474"></a><a name="indexterm-1475"></a>You might want to add new macros to your DHCP service to
support clients with specific needs. You can use the <tt>dhtadm -A -m</tt> command or DHCP Manager's
Create Macro dialog box to add macros. See the <a href="http://docs.sun.com/doc/819-2240/dhtadm-1m?a=view"><tt>dhtadm</tt>(1M)</a> man page
for more information about the <tt>dhtadm</tt> command.</p><p>The following figure shows DHCP Manager's Create Macro dialog box.</p><a name="dhcp-admin-fig-37"></a><h6>Figure&nbsp;15-16 Create Macro Dialog Box in DHCP Manager</h6><img src="figures/dhcp-macro-create.gif" alt="Dialog box shows Name, Option Name, and Option Value fields. Shows Select button, empty list of options, and check box to notify the DHCP server. " width="579" height="376"></img>

<a name="dhcp-admin-42art"></a><h4>How to Create a DHCP Macro (DHCP Manager)</h4><ol>
<li><a name="dhcp-admin-step-257"></a><b>In DHCP Manager, select the Macros tab.</b><p>See <a href="dhcp-admin-1.html#dhcp-admin-4">How to Start and Stop DHCP Manager</a> for information about DHCP Manager.</p></li>
<li><a name="dhcp-admin-step-258"></a><b>Choose Create from the Edit menu.</b><p>The Create Macro dialog box opens.</p></li>
<li><a name="dhcp-admin-step-259"></a><b>Type a unique name for the macro.</b><p>The name can be up to 128 alphanumeric characters. If you use
a name that matches a vendor class identifier, network address, or client ID,
the macro is processed automatically for appropriate clients. If you use a different name,
the macro is not processed automatically.  The macro must be assigned to
a specific IP address or included in another macro that is processed
automatically. See <a href="dhcp-overview-14a.html#dhcp-overview-16">Macro Processing by the DHCP Server</a> for more detailed information.</p></li>
<li><a name="dhcp-admin-step-260"></a><b>Click the Select button, which is next to the Option Name field.</b><p>The Select Option dialog box displays an alphabetized list of names of standard
category options and their descriptions. If you want to add an option that
is not in the standard category, use the Category list. Select the category
that you want from the Category list. See <a href="dhcp-overview-14a.html#dhcp-overview-19a">About DHCP Options</a> for more information about
option categories.</p></li>
<li><a name="dhcp-admin-step-262"></a><b>Select the option to add to the macro, and click OK.</b><p>The Macro Properties dialog box displays the selected option in the Option Name
field.</p></li>
<li><a name="dhcp-admin-step-263"></a><b>Type the value for the option in the Option Value field, and click
Add.</b><p>The option is added to the bottom of the list of options in
 this macro. To change the option's position in the macro, select the
option and click the arrow buttons to move the option up or down
in the list.</p></li>
<li><a name="dhcp-admin-step-265"></a><b>Repeat <a href="#dhcp-admin-step-262">Step&nbsp;5</a> and <a href="#dhcp-admin-step-263">Step&nbsp;6</a> for each option you want to add to the
macro.</b></li>
<li><a name="dhcp-admin-step-266"></a><b>Select Notify DHCP Server of Change when you are finished adding options.</b><p>This selection tells the DHCP server to reread the <tt>dhcptab</tt> table to put
the change into effect immediately after you click OK.</p></li>
<li><a name="dhcp-admin-step-267"></a><b>Click OK.</b></li></ol>

<a name="dhcp-admin-42dh"></a><h4>How to Create a DHCP Macro (<tt>dhtadm</tt>)</h4><ol>
<li><b>Become superuser or assume a role or user name that is assigned to
the DHCP Management profile.</b><p>For more information about the DHCP Management profile, see <a href="dhcp-admin-rbac1211.html">Setting Up User Access to DHCP Commands</a>.</p><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><a name="dhcp-admin-step-560"></a><b>Create a macro by typing a command of the following format:</b><pre># <tt><b>dhtadm -A -m </tt><i>macroname</i><tt> -d ':</tt><i>option</i><tt>=</tt><i>value</i><tt>:</tt><i>option</i><tt>=</tt><i>value</i><tt>:</tt><i>option</i><tt>=</tt><i>value:</i><tt>' -g</b></tt></pre><p>There is no limit to the number of <i>option=value</i> pairs that can be
included in the argument to <tt>-d</tt>. The argument must begin and end with
colons, with colons between each <i>option=value</i> pair. The complete string must be enclosed
in quotation marks.</p><p>For example, to create the macro <tt>bluenote</tt>, type the following command:</p># <tt><b>dhtadm -A -m bluenote -d ':Router=10.63.6.121\ :LeaseNeg=_NULL_VALUE:DNSserv=10.63.28.12:' -g</b></tt><p>Note that if an option does not require a value, you must use
<tt>_NULL_VALUE</tt> as the value for the option.</p></li></ol>

<a name="dhcp-admin-162"></a><h4>Deleting DHCP Macros</h4>
<p><a name="indexterm-1476"></a><a name="indexterm-1477"></a>You might want to delete a macro from the DHCP service. For
example, if you delete a network from the DHCP service, you can also
delete the associated network macro.</p><p>You can use the <tt>dhtadm -D -m</tt> command or DHCP Manager to delete macros.</p>

<a name="dhcp-admin-43art"></a><h4>How to Delete a DHCP Macro (DHCP Manager)</h4><ol>
<li><a name="dhcp-admin-step-271"></a><b>In DHCP Manager, select the Macros tab.</b><p>See <a href="dhcp-admin-1.html#dhcp-admin-4">How to Start and Stop DHCP Manager</a> for information about DHCP Manager.</p></li>
<li><a name="dhcp-admin-step-272"></a><b>Select the macro to delete.</b><p>The Delete Macro dialog box prompts you to confirm that you want to
delete the specified macro.</p></li>
<li><a name="dhcp-admin-step-273"></a><b>Select Notify DHCP Server of Change.</b><p>This selection tells the DHCP server to reread the <tt>dhcptab</tt> table to put
the change into effect immediately after you click OK.</p></li>
<li><a name="dhcp-admin-step-274"></a><b>Click OK.</b></li></ol>

<a name="dhcp-admin-43dh"></a><h4>How to Delete a DHCP Macro (<tt>dhtadm</tt>)</h4><ol>
<li><b>Become superuser or assume a role or user name that is assigned to
the DHCP Management profile.</b><p>For more information about the DHCP Management profile, see <a href="dhcp-admin-rbac1211.html">Setting Up User Access to DHCP Commands</a>.</p><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><a name="dhcp-admin-step-563"></a><b>Delete a macro by typing a command of the following format:</b><pre># <tt><b>dhtadm -D -m </tt><i>macroname</i><tt> -g</b></tt></pre><p>For example, to delete the macro <tt>bluenote</tt>, you would type the following command:</p><p># <tt><b>dhtadm -D -m bluenote -g</b></tt></p></li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="dhcp-admin-124.html">Previous</a>
             </td>
             <td align="right">
                 <a href="dhcp-admin-206.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

