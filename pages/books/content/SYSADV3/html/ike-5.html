<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>IKE Configuration Choices - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ike-3.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ike-23.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level2"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level2"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level2"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<p class="toc level2"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level2"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level2"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<p class="toc level2"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level3"><a href="ike-13.html">What's New in IKE?</a></p>
<p class="toc level3"><a href="ike-2.html">Key Management With IKE</a></p>
<p class="toc level3"><a href="ike-3.html">IKE Key Negotiation</a></p>
<div class="onpage">
<p class="toc level3"><a href="">IKE Configuration Choices</a></p>
</div>
<p class="toc level3"><a href="ike-23.html">IKE and Hardware Acceleration</a></p>
<p class="toc level3"><a href="ike-24.html">IKE and Hardware Storage</a></p>
<p class="toc level3"><a href="ike-12.html">IKE Utilities and Files</a></p>
<p class="toc level3"><a href="ike-10.html">Changes to IKE for the Solaris 10 Release</a></p>
<p class="toc level2 tocsp"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level2"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level2"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="ike-5"></a><h3>IKE Configuration Choices</h3>
<p><a name="indexterm-1972"></a><a name="indexterm-1973"></a>The <tt>/etc/inet/ike/config</tt> configuration file contains IKE policy entries. For two IKE daemons to
authenticate each other, the entries must be valid. Also, keying material must be
available. The entries in the configuration file determine the method for using the
keying material to authenticate the Phase 1 exchange. The choices are preshared keys
or public key certificates.</p><p>The entry <tt>auth_method preshared</tt> indicates that preshared keys are used. Values for <tt>auth_method</tt> other
than <tt>preshared</tt> indicate that public key certificates are to be used. Public
key certificates can be self-signed, or the certificates can be installed from a PKI
organization. For more information, see the <a href="http://docs.sun.com/doc/819-2251/ike.config-4?a=view"><tt>ike.config</tt>(4)</a> man page.</p>

<a name="ike-28"></a><h4>IKE With Preshared Keys</h4>
<p><a name="indexterm-1974"></a><a name="indexterm-1975"></a><a name="indexterm-1976"></a>Preshared keys are created by an administrator on one system. The keys are
then shared out of band with administrators of remote systems. You should take
care to create large random keys and to protect the file and the
out-of-band transmission. The keys are placed in the <tt>/etc/inet/secret/ike.preshared</tt> file on each
system. The <tt>ike.preshared</tt> file is for IKE as the <tt>ipseckeys</tt> file is for
IPsec. Any compromise of the keys in the <tt>ike.preshared</tt> file compromises all
keys that are derived from the keys in the file. </p><p><a name="indexterm-1977"></a>One system's preshared key must be identical to its remote system's key. The
keys are tied to a particular IP address. Keys are most secure
when one administrator controls the communicating systems. For more information, see the <a href="http://docs.sun.com/doc/819-2251/ike.preshared-4?a=view"><tt>ike.preshared</tt>(4)</a> man
page.</p>

<a name="ike-29"></a><h4>IKE With Public Key Certificates</h4>
<p><a name="indexterm-1978"></a><a name="indexterm-1979"></a>Public key certificates eliminate the need for communicating systems to share secret keying
material out of band. Public keys use the <a href="glossary-1.html#glossary-54">Diffie-Hellman protocol</a> (DH) for authenticating and
negotiating keys. Public key certificates come in two flavors. The certificates can be
self-signed, or the certificates can be certified by a <a href="glossary-1.html#glossary-41">certificate authority (CA)</a>.</p><p>Self-signed public key certificates are created by you, the administrator. The <tt>ikecert certlocal -ks</tt> command
creates the private part of the public-private key pair for the system. You
then get the self-signed certificate output in X.509 format from the remote system.
The remote system's certificate is input to the <tt>ikecert certdb</tt> command for the public part
of the key pair. The self-signed certificates reside in the <tt>/etc/inet/ike/publickeys</tt> directory
on the communicating systems. When you use the <tt>-T</tt> option, the certificates reside on
attached hardware.</p><p>Self-signed certificates are a halfway point between preshared keys and CAs. Unlike preshared
keys, a self-signed certificate can be used on a mobile machine or on
a system that might be renumbered. To self-sign a certificate for a system
without a fixed number, use a <tt>DNS</tt> (<tt>www.example.org</tt>) or <tt>email</tt> (<tt>root@domain.org</tt>) alternative
name.</p><p>Public keys can be delivered by a PKI or a CA organization.
You install the public keys and their accompanying CAs in the <tt>/etc/inet/ike/publickeys</tt> directory.
When you use the <tt>-T</tt> option, the certificates reside on attached hardware. Vendors
also issue certificate revocation lists (CRLs). Along with installing the keys and CAs,
you are responsible for installing the CRL in the <tt>/etc/inet/ike/crls</tt> directory.</p><p>CAs have the advantage of being certified by an outside organization, rather than
by the site administrator. In a sense, CAs are notarized certificates. As with
self-signed certificates, CAs can be used on a mobile machine or on a
system that might be renumbered. Unlike self-signed certificates, CAs can very easily scale
to protect a large number of communicating systems.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ike-3.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ike-23.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

