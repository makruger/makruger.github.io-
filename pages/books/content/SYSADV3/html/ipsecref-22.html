<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title><tt>ipsecconf</tt> Command - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ipsecref-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipsecref-23.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level2"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level2"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level2"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<p class="toc level2"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level2"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level2"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<div class="onpage">
<p class="toc level3"><a href=""><tt>ipsecconf</tt> Command</a></p>
</div>
<p class="toc level3"><a href="ipsecref-23.html"><tt>ipsecinit.conf</tt> File</a></p>
<p class="toc level3"><a href="ipsecref-17.html"><tt>ipsecalgs</tt> Command</a></p>
<p class="toc level3"><a href="ipsecref-24.html">Security Associations Database for IPsec</a></p>
<p class="toc level3"><a href="ipsecref-25.html">Utilities for Key Generation in IPsec</a></p>
<p class="toc level3"><a href="ipsecref-26.html"><tt>snoop</tt> Command and IPsec</a></p>
<p class="toc level2 tocsp"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level2"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level2"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level2"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="ipsecref-22"></a><h3><tt>ipsecconf</tt> Command</h3>
<a name="indexterm-1893"></a><a name="indexterm-1894"></a><a name="indexterm-1895"></a><a name="indexterm-1896"></a><a name="indexterm-1897"></a><a name="indexterm-1898"></a><a name="indexterm-1899"></a><p><a name="indexterm-1900"></a><a name="indexterm-1901"></a><a name="indexterm-1902"></a>You use the <tt>ipsecconf</tt> command to configure the IPsec policy for a host.
When you run the command to configure the policy, the system creates 
the IPsec policy entries in the kernel. The system uses these entries
to check the policy on all outbound and inbound IP datagrams. Forwarded datagrams
are not subjected to policy checks that are added by using this command.
The <tt>ipsecconf</tt> command also configures the security policy database (SPD).</p>
<ul><li><p>For information on how to protect forwarded packets, see the <a href="http://docs.sun.com/doc/819-2240/ifconfig-1m?a=view"><tt>ifconfig</tt>(1M)</a> and <a href="http://docs.sun.com/doc/819-2254/lc-tun-7m?a=view"><tt>tun</tt>(7M)</a> man pages.</p></li>
<li><p>For IPsec policy options, see the <a href="http://docs.sun.com/doc/819-2240/ipsecconf-1m?a=view"><tt>ipsecconf</tt>(1M)</a> man page.</p></li>
<li><p>For instructions on how to use the <tt>ipsecconf</tt> command to protect traffic between systems, see <a href="ike-task-7.html">Configuring IKE (Task Map)</a>.</p></li></ul>
<p>You must become superuser or assume an equivalent role to invoke the
<tt>ipsecconf</tt> command. The command accepts entries that protect traffic in both directions. The
command also accepts entries that protect traffic in only one direction.</p><p>Policy entries with a format of local address and remote address can protect
traffic in both directions with a single policy entry. For example, entries that
contain the patterns <tt>laddr host1</tt> and <tt>raddr host2</tt> protect traffic in both directions, if
no direction is specified for the named host. Thus, you need only one
policy entry for each host.</p><p>Policy entries with a format of source address to destination address protect traffic
in only one direction. For example, a policy entry of the pattern <tt>saddr host1 daddr host2</tt>
protects inbound traffic or outbound traffic, not both directions. Thus, to protect traffic
in both directions, you need to pass the <tt>ipsecconf</tt> command another entry, as in
<tt>saddr host2 daddr host1</tt>.</p><p>The <tt>ipsecpolicy.conf</tt> file is deleted when the system shuts down. To ensure that
the IPsec policy is active when the machine boots, you can create an
IPsec policy file, <tt>/etc/inet/ipsecinit.conf</tt>. This file is read when the network services
are started. For instructions on how to create an IPsec policy file, see
<a href="ipsec-mgtasks-2.html">Protecting Traffic With IPsec (Task Map)</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ipsecref-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipsecref-23.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

