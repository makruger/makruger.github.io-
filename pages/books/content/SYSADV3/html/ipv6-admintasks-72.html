<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Displaying Routing Information With the <tt>traceroute</tt> Command - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ipv6-admintasks-5.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipv6-admintasks-670.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level2"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level2"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level3"><a href="ipv6-admintasks-2.html">Major TCP/IP Administrative Tasks (Task Map)</a></p>
<p class="toc level3"><a href="ipconfig-141.html">Monitoring the Interface Configuration With the <tt>ifconfig</tt> Command</a></p>
<p class="toc level4"><a href="ipconfig-141.html#ipconfig-46">How to Get Information About a Specific Interface</a></p>
<p class="toc level4"><a href="ipconfig-141.html#ipconfig-171">How to Display Interface Address Assignments</a></p>
<p class="toc level3 tocsp"><a href="ipconfig-142.html">Monitoring Network Status With the <tt>netstat</tt> Command</a></p>
<p class="toc level4"><a href="ipconfig-142.html#ipconfig-143">How to Display Statistics by Protocol</a></p>
<p class="toc level4"><a href="ipconfig-142.html#esbee">How to Display the Status of Transport Protocols</a></p>
<p class="toc level4"><a href="ipconfig-142.html#ipconfig-144">How to Display Network Interface Status</a></p>
<p class="toc level4"><a href="ipconfig-142.html#ipv6-admintasks-16">How to Display the Status of Sockets</a></p>
<p class="toc level4"><a href="ipconfig-142.html#ipv6-admintasks-48">How to Display the Status of Transmissions for Packets of a Specific Address Type</a></p>
<p class="toc level4"><a href="ipconfig-142.html#ipconfig-145">How to Display the Status of Known Routes</a></p>
<p class="toc level3 tocsp"><a href="ipv6-admintasks-53.html">Probing Remote Hosts With the <tt>ping</tt> Command</a></p>
<p class="toc level4"><a href="ipv6-admintasks-53.html#ipv6-admintasks-54">How to Determine if a Remote Host Is Running</a></p>
<p class="toc level4"><a href="ipv6-admintasks-53.html#ipv6-admintasks-56">How to Determine if a Host Is Dropping Packets</a></p>
<p class="toc level3 tocsp"><a href="ipv6-admintasks-5.html">Administering and Logging Network Status Displays</a></p>
<p class="toc level4"><a href="ipv6-admintasks-5.html#ipv6-admintasks-22">How to Control the Display Output of IP-Related Commands</a></p>
<p class="toc level4"><a href="ipv6-admintasks-5.html#ipv6-admintasks-59">How to Log Actions of the IPv4 Routing Daemon</a></p>
<p class="toc level4"><a href="ipv6-admintasks-5.html#ipv6-admintasks-62">How to Trace the Activities of the IPv6 Neighbor Discovery Daemon</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Displaying Routing Information With the <tt>traceroute</tt> Command</a></p>
<p class="toc level4"><a href="#ipv6-admintasks-73">How to Find Out the Route to a Remote Host</a></p>
<p class="toc level4"><a href="#ipv6-admintasks-29">How to Trace All Routes</a></p>
</div>
<p class="toc level3 tocsp"><a href="ipv6-admintasks-670.html">Monitoring Packet Transfers With the <tt>snoop</tt> Command</a></p>
<p class="toc level4"><a href="ipv6-admintasks-670.html#ipv6-admintasks-67">How to Check Packets From All Interfaces</a></p>
<p class="toc level4"><a href="ipv6-admintasks-670.html#ipv6-admintasks-674">How to Capture <tt>snoop</tt> Output Into a File</a></p>
<p class="toc level4"><a href="ipv6-admintasks-670.html#ipv6-admintasks-676">How to Check Packets Between an IPv4 Server and a Client</a></p>
<p class="toc level4"><a href="ipv6-admintasks-670.html#ipv6-admintasks-10">How to Monitor IPv6 Network Traffic</a></p>
<p class="toc level3 tocsp"><a href="ipv6-admintasks-43.html">Administering Default Address Selection</a></p>
<p class="toc level4"><a href="ipv6-admintasks-43.html#ipv6-admintasks-77">How to Administer the IPv6 Address Selection Policy Table</a></p>
<p class="toc level4"><a href="ipv6-admintasks-43.html#ipv6-admintasks-87">How to Modify the IPv6 Address Selection Table for the Current Session Only</a></p>
<p class="toc level2 tocsp"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<p class="toc level2"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level2"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level2"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<p class="toc level2"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level2"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level2"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level2"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="ipv6-admintasks-72"></a><h3>Displaying Routing Information With the <tt>traceroute</tt> Command</h3>
<a name="indexterm-881"></a><a name="indexterm-882"></a><p>The <tt>traceroute</tt> command traces the route an IP packet follows to a remote
system. For technical details about <tt>traceroute</tt>, see the <a href="http://docs.sun.com/doc/819-2240/traceroute-1m?a=view"><tt>traceroute</tt>(1M)</a> man page.</p><p>You use the <tt>traceroute</tt> command to uncover any routing misconfiguration and routing path
failures. If a particular host is unreachable, you can use <tt>traceroute</tt> to see
what path the packet follows to the remote host and where possible failures
might occur.</p><p>The <tt>traceroute</tt> command also displays the round trip time for each gateway along
the path to the target host. This information can be useful for analyzing
where traffic is slow between the two hosts.</p>

<a name="ipv6-admintasks-73"></a><h4>How to Find Out the Route to a Remote Host</h4><ul>
<li><b>Type the following to discover the route to a remote system:</b><pre>% <tt><b>traceroute</b></tt> <i>destination-hostname</i></pre><p>You can run this form of the <tt>traceroute</tt> command from your user account.</p></li></ul><a name="ipv6-admintasks-673"></a>Example&nbsp;8-17 Using the <tt>traceroute</tt> Command to Show the Route to a Remote Host<p>The following output from the <tt>traceroute</tt> command shows the seven&ndash;hop path a packet
follows from the local system <tt>nearhost</tt> to the remote system <tt>farhost</tt>. The
output also shows the times for a packet to traverse each hop.</p><pre>istanbul% <tt><b>traceroute farhost.faraway.com</b></tt>
    traceroute to farhost.faraway.com (172.16.64.39), 30 hops max, 40 byte packets
     1  frbldg7c-86 (172.16.86.1)  1.516 ms  1.283 ms  1.362 ms
     2  bldg1a-001 (172.16.1.211)  2.277 ms  1.773 ms  2.186 ms
     3  bldg4-bldg1 (172.16.4.42)  1.978 ms  1.986 ms  13.996 ms
     4  bldg6-bldg4 (172.16.4.49)  2.655 ms  3.042 ms  2.344 ms
     5  ferbldg11a-001 (172.16.1.236)  2.636 ms  3.432 ms  3.830 ms
     6  frbldg12b-153 (172.16.153.72)  3.452 ms  3.146 ms  2.962 ms
     7  sanfrancisco (172.16.64.39)  3.430 ms  3.312 ms  3.451 ms</pre>

<a name="ipv6-admintasks-29"></a><h4>How to Trace All Routes</h4><a name="indexterm-883"></a><p>This procedure uses the <tt>-a</tt> option of the <tt>traceroute</tt> command to trace
all routes.</p><ul>
<li><b>Type the following command on the local system:</b><pre>% <tt><b>traceroute -a</b></tt><i>host-name</i></pre><p>You can run this form of the <tt>traceroute</tt> command from your user account.</p></li></ul><a name="eojaf"></a>Example&nbsp;8-18 Tracing All Routes to a Dual-Stack Host<a name="indexterm-884"></a><p>This example shows all possible routes to a dual-stack host.</p><pre>% <tt><b>traceroute -a v6host.remote.com</b></tt>
traceroute: Warning: Multiple interfaces found; using 2::56:a0:a8 @ eri0:2
traceroute to v6host (2001:db8:4a3b::102:a00:fe79:19b0),30 hops max, 60 byte packets
 1  v6-rout86 (2001:db8:4a3b:56:a00:fe1f:59a1)  35.534 ms  56.998 ms * 
 2  2001:db8::255:0:c0a8:717  32.659 ms  39.444 ms *
 3  farhost.faraway.COM (2001:db8:4a3b::103:a00:fe9a:ce7b)  401.518 ms  7.143 ms *
 4  distant.remote.com (2001:db8:4a3b::100:a00:fe7c:cf35)  113.034 ms  7.949 ms *
 5  v6host (2001:db8:4a3b::102:a00:fe79:19b0)  66.111 ms *  36.965 ms

traceroute to v6host.remote.com  (192.168.10.75),30 hops max,40 byte packets
 1  v6-rout86 (172.16.86.1)  4.360 ms  3.452 ms  3.479 ms
 2  flrmpj17u.here.COM (172.16.17.131)  4.062 ms  3.848 ms  3.505 ms
 3  farhost.farway.com (10.0.0.23)  4.773 ms *  4.294 ms
 4  distant.remote.com (192.168.10.104)  5.128 ms  5.362 ms *
 5  v6host  (192.168.15.85)  7.298 ms  5.444 ms *
 </pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ipv6-admintasks-5.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipv6-admintasks-670.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

