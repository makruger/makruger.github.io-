<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Moving Configuration Data Between DHCP Servers (Task Map) - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="dhcp-admin-cv1211.html">Previous</a>
             </td>
             <td align="right">
                 <a href="eyatl.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level2"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level2"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level2"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<p class="toc level2"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level3"><a href="dhcp-admin-1.html">About DHCP Manager</a></p>
<p class="toc level4"><a href="dhcp-admin-1.html#dhcp-admin-4">How to Start and Stop DHCP Manager</a></p>
<p class="toc level3 tocsp"><a href="dhcp-admin-rbac1211.html">Setting Up User Access to DHCP Commands</a></p>
<p class="toc level4"><a href="dhcp-admin-rbac1211.html#dhcp-admin-518">How to Grant Users Access to DHCP Commands</a></p>
<p class="toc level3 tocsp"><a href="dhcp-admin-32.html">Starting and Stopping the DHCP Service</a></p>
<p class="toc level4"><a href="dhcp-admin-32.html#dhcp-admin-109">How to Start and Stop the DHCP Service (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-32.html#dhcp-admin-7">How to Enable and Disable the DHCP Service (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-32.html#dhcp-admin-1206">How to Enable and Disable the DHCP Service (<tt>dhcpconfig -S</tt>)</a></p>
<p class="toc level3 tocsp"><a href="faayz.html">DHCP Service and the Service Management Facility</a></p>
<p class="toc level3"><a href="dhcp-admin-51.html">Modifying DHCP Service Options (Task Map)</a></p>
<p class="toc level4"><a href="dhcp-admin-51.html#dhcp-admin-119">How to Generate Verbose DHCP Log Messages (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-51.html#dhcp-admin-118">How to Generate Verbose DHCP Log Messages (Command Line)</a></p>
<p class="toc level4"><a href="dhcp-admin-51.html#dhcp-admin-117">How to Enable and Disable DHCP Transaction Logging (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-51.html#dhcp-admin-16">How to Enable and Disable DHCP Transaction Logging (Command Line)</a></p>
<p class="toc level4"><a href="dhcp-admin-51.html#dhcp-admin-14">How to Log DHCP Transactions to a Separate <tt>syslog</tt> File</a></p>
<p class="toc level4"><a href="dhcp-admin-51.html#dhcp-admin-303">How to Enable Dynamic DNS Updating for DHCP Clients</a></p>
<p class="toc level4"><a href="dhcp-admin-51.html#dhcp-admin-121">How to Customize DHCP Performance Options (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-51.html#dhcp-admin-20">How to Customize DHCP Performance Options (Command Line)</a></p>
<p class="toc level3 tocsp"><a href="dhcp-admin-15.html">Adding, Modifying, and Removing DHCP Networks (Task Map)</a></p>
<p class="toc level4"><a href="dhcp-admin-15.html#dhcp-admin-123">How to Specify Network Interfaces for DHCP Monitoring (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-15.html#dhcp-admin-1214">How to Specify Network Interfaces for DHCP Monitoring (<tt>dhcpconfig</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-15.html#dhcp-admin-24">How to Add a DHCP Network (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-15.html#dhcp-admin-127-1115">How to Add a DHCP Network (<tt>dhcpconfig</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-15.html#dhcp-admin-26">How to Modify the Configuration of a DHCP Network (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-15.html#dhcp-admin-127">How to Modify the Configuration of a DHCP Network (<tt>dhtadm</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-15.html#dhcp-admin-28">How to Remove a DHCP Network (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-15.html#dhcp-admin-27">How to Remove a DHCP Network (<tt>pntadm</tt>)</a></p>
<p class="toc level3 tocsp"><a href="dhcp-admin-94.html">Supporting BOOTP Clients With the DHCP Service (Task Map)</a></p>
<p class="toc level4"><a href="dhcp-admin-94.html#dhcp-admin-113">How to Set Up Support of Any BOOTP Client (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-94.html#dhcp-admin-112">How to Set Up Support of Registered BOOTP Clients (DHCP Manager)</a></p>
<p class="toc level3 tocsp"><a href="dhcp-admin-124.html">Working With IP Addresses in the DHCP Service (Task Map)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-32art">How to Add a Single IP Address (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-33art">How to Duplicate an Existing IP Address (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-34art">How to Add Multiple IP Addresses (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-34pnt">How to Add IP Addresses (<tt>pntadm</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-35art">How to Modify IP Address Properties (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-35pnt">How to Modify IP Address Properties (<tt>pntadm</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-36art">How to Mark IP Addresses as Unusable (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-36pnt">How to Mark IP Addresses as Unusable (<tt>pntadm</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-37art">How to Delete IP Addresses From DHCP Service (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-37pnt">How to Delete IP Addresses From the DHCP Service (<tt>pntadm</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-38art">How to Assign a Consistent IP Address to a DHCP Client (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-124.html#dhcp-admin-38pnt">How to Assign a Consistent IP Address to a DHCP Client (<tt>pntadm</tt>)</a></p>
<p class="toc level3 tocsp"><a href="dhcp-admin-125.html">Working With DHCP Macros (Task Map)</a></p>
<p class="toc level4"><a href="dhcp-admin-125.html#dhcp-admin-13">How to View Macros Defined on a DHCP Server (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-125.html#dhcp-admin-13dh">How to View Macros Defined on a DHCP Server (<tt>dhtadm</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-125.html#dhcp-admin-39art">How to Change Values for Options in a DHCP Macro (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-125.html#dhcp-admin-39dh">How to Change Values for Options in a DHCP Macro (<tt>dhtadm</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-125.html#dhcp-admin-40art">How to Add Options to a DHCP Macro (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-125.html#dhcp-admin-40dh">How to Add Options to a DHCP Macro (<tt>dhtadm</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-125.html#dhcp-admin-41art">How to Delete Options From a DHCP Macro (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-125.html#dhcp-admin-41dh">How to Delete Options From a DHCP Macro (<tt>dhtadm</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-125.html#dhcp-admin-42art">How to Create a DHCP Macro (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-125.html#dhcp-admin-42dh">How to Create a DHCP Macro (<tt>dhtadm</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-125.html#dhcp-admin-43art">How to Delete a DHCP Macro (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-125.html#dhcp-admin-43dh">How to Delete a DHCP Macro (<tt>dhtadm</tt>)</a></p>
<p class="toc level3 tocsp"><a href="dhcp-admin-206.html">Working With DHCP Options (Task Map)</a></p>
<p class="toc level4"><a href="dhcp-admin-206.html#dhcp-admin-44art">How to Create DHCP Options (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-206.html#dhcp-admin-45art">How to Create DHCP Options (<tt>dhtadm</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-206.html#dhcp-admin-46art">How to Modify DHCP Option Properties (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-206.html#dhcp-admin-47art">How to Modify DHCP Option Properties (<tt>dhtadm</tt>)</a></p>
<p class="toc level4"><a href="dhcp-admin-206.html#dhcp-admin-48art">How to Delete DHCP Options (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-206.html#dhcp-admin-49art">How to Delete DHCP Options (<tt>dhtadm</tt>)</a></p>
<p class="toc level3 tocsp"><a href="dhcp-admin-38.html">Supporting Solaris Network Installation With the DHCP Service</a></p>
<p class="toc level3"><a href="dhcp-admin-122.html">Supporting Remote Boot and Diskless Boot Clients (Task Map)</a></p>
<p class="toc level3"><a href="dhcp-admin-1211.html">Setting Up DHCP Clients to Receive Information Only (Task Map)</a></p>
<p class="toc level3"><a href="dhcp-admin-cv1211.html">Converting to a New DHCP Data Store</a></p>
<p class="toc level4"><a href="dhcp-admin-cv1211.html#dhcp-admin-572">How to Convert the DHCP Data Store (DHCP Manager)</a></p>
<p class="toc level4"><a href="dhcp-admin-cv1211.html#dhcp-admin-576">How to Convert the DHCP Data Store <tt>(dhcpconfig -C</tt>)</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Moving Configuration Data Between DHCP Servers (Task Map)</a></p>
<p class="toc level4"><a href="#dhcp-admin-proc-1204">How to Export Data From a DHCP Server (DHCP Manager)</a></p>
<p class="toc level4"><a href="#dhcp-admin-proc-1205">How to Export Data From a DHCP Server (<tt>dhcpconfig -X</tt>)</a></p>
<p class="toc level4"><a href="#dhcp-admin-proc-510">How to Import Data on a DHCP Server (DHCP Manager)</a></p>
<p class="toc level4"><a href="#dhcp-admin-proc-317">How to Import Data on a DHCP Server (<tt>dhcpconfig -I</tt>)</a></p>
<p class="toc level4"><a href="#dhcp-admin-proc-257">How to Modify Imported DHCP Data (DHCP Manager)</a></p>
<p class="toc level4"><a href="#dhcp-admin-proc-324">How to Modify Imported DHCP Data (<tt>pntadm</tt>, <tt>dhtadm</tt>)</a></p>
</div>
<p class="toc level2 tocsp"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level2"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<p class="toc level2"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level2"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level2"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level2"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="dhcp-admin-mv1211"></a><h3>Moving Configuration Data Between DHCP Servers (Task Map)</h3>
<a name="indexterm-1502"></a><p>DHCP Manager and the <tt>dhcpconfig</tt> utility enable you to move some or all
the DHCP configuration data from one Solaris DHCP server to another server. You
can move entire networks and all the IP addresses, macros, and options associated
with the networks. Alternatively, you can select specific IP addresses, macros, and options
to move. You can also copy macros and options without removing the macros
and options from the first server.</p><p>You might want to move data if you are going to do
any of the following tasks:</p>
<ul><li><p>Add a server to share DHCP duties.</p></li>
<li><p>Replace the DHCP server's system.</p></li>
<li><p>Change the path for the data store, while still using the same data store.</p></li></ul>
<p><a name="indexterm-1503"></a>The following task map identifies the procedures that you must perform when you
move DHCP configuration data.</p><table><col width="24.09*"><col width="33.55*"><col width="41.36*"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>1. Export the data from the first server.</p></td>
<td align="left" valign="top" scope="row"><p>Select
the data that you want to move to another server, and create a
file of exported data.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#dhcp-admin-proc-1204">How to Export Data From a DHCP Server (DHCP Manager)</a></p><p><a href="#dhcp-admin-proc-1205">How to Export Data From a DHCP Server (<tt>dhcpconfig -X</tt>)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>2. Import the data to the second server.</p></td>
<td align="left" valign="top" scope="row"><p>Copy exported
data to another DHCP server's data store.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#dhcp-admin-proc-510">How to Import Data on a DHCP Server (DHCP Manager)</a></p><p><a href="#dhcp-admin-proc-317">How to Import Data on a DHCP Server (<tt>dhcpconfig -I</tt>)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>3. Modify the imported data for
the new server environment.</p></td>
<td align="left" valign="top" scope="row"><p>Change server-specific configuration data to match the new server's information.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#dhcp-admin-proc-257">How to Modify Imported DHCP Data (DHCP Manager)</a></p><p><a href="#dhcp-admin-proc-324">How to Modify Imported DHCP Data (<tt>pntadm</tt>, <tt>dhtadm</tt>)</a></p></td>
</tr>
</table><p>In DHCP Manager, you use the Export Data wizard and the Import
Data wizard to move the data from one server to the other server.
You then modify macros in the Macros tab. The following figures show the
initial dialog boxes for the wizards.</p><a name="dhcp-admin-fig-336"></a><h6>Figure&nbsp;15-20 Export Data Wizard Dialog Box in DHCP Manager</h6><img src="figures/dhcp-export-wiz.gif" alt="Dialog box lists steps to export data to a file. Shows two lists of networks, titled Do Not Export and Export. Shows arrow buttons between the lists." width="525" height="425"></img><a name="dhcp-admin-fig-337"></a><h6>Figure&nbsp;15-21 Import Data Wizard Dialog Box in DHCP Manager</h6><img src="figures/dhcp-import-wiz.gif" alt="Dialog box lists steps to import data from a file. Shows Import File field and Overwrite existing data check box." width="525" height="425"></img>

<a name="dhcp-admin-proc-1204"></a><h4>How to Export Data From a DHCP Server (DHCP Manager)</h4><a name="indexterm-1504"></a><ol>
<li><a name="dhcp-admin-step-583"></a><b>Start DHCP Manager on the server from which you want to move or
copy data.</b><p>See <a href="dhcp-admin-1.html#dhcp-admin-4">How to Start and Stop DHCP Manager</a> for information about DHCP Manager.</p></li>
<li><a name="dhcp-admin-step-584"></a><b>Choose Export Data from the Service menu.</b><p>The Export Data wizard opens as shown in <a href="#dhcp-admin-fig-336">Figure&nbsp;15-20</a>.</p></li>
<li><a name="dhcp-admin-step-585"></a><b>Answer the wizard's prompts.</b><p>If you have difficulty, click Help for detailed information about the prompts.</p></li>
<li><a name="dhcp-admin-step-586"></a><b>Move the export file to a file system that is accessible to the
DHCP server that must import the data.</b></li></ol><h6>See Also</h6><p>Import the data as described in <a href="#dhcp-admin-proc-510">How to Import Data on a DHCP Server (DHCP Manager)</a>.</p>

<a name="dhcp-admin-proc-1205"></a><h4>How to Export Data From a DHCP Server (<tt>dhcpconfig -X</tt>)</h4><a name="indexterm-1505"></a><ol>
<li><a name="dhcp-admin-step-604"></a><b>Log in to the server from which you want to move or copy
data.</b></li>
<li><b>Become superuser or assume a role or user name that is assigned to
the DHCP Management profile.</b><p>For more information about the DHCP Management profile, see <a href="dhcp-admin-rbac1211.html">Setting Up User Access to DHCP Commands</a>.</p><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><a name="dhcp-admin-step-605"></a><b>Export the data.</b><p>You can export all of the DHCP data, or specific parts of the
data.</p><ul>
<li><b>To export specific addresses, macros, and options, type a command that uses the
following format:</b><pre># <tt><b>dhcpconfig -X</b></tt> <i>filename</i> <tt><b>-a</b></tt> <i>network-addresses</i> <tt><b>-m</b></tt> <i>macros</i> <tt><b>-o</b></tt> <i>options</i></pre><p><i>filename</i> is the full path name that you want to use to store
the compressed exported data. You specify particular network addresses, DHCP macros, and DHCP
options in comma-separated lists. The following example shows how to export specific networks,
macros, and options.</p># <tt><b>dhcpconfig -X /var/dhcp/0dhcp1065_data \ -a 10.63.0.0,10.62.0.0 \ -m 10.63.0.0,10.62.0.0,SUNW.Sun-Blade-100 -o Sterm</b></tt></li>
<li><b>To export all DHCP data, type a command that uses the <tt>ALL</tt>
keyword.</b><pre># <tt><b>dhcpconfig -X</b></tt> <i>filename</i> <tt><b>-a ALL -m ALL -o ALL</b></tt></pre><p><i>filename</i> is the full path name that you want to use to store
the compressed exported data. The keyword <tt>ALL</tt> can be used with the command
options to export all the network addresses, macros, or options. The following example
shows how to use the <tt>ALL</tt> keyword.</p># <tt><b>dhcpconfig -X /var/dhcp/dhcp1065_data -a ALL -m ALL -o ALL</b></tt></li></ul>
<hr><p><b>Tip - </b>You can omit the export of a particular kind of data by
not specifying the <tt>dhcpconfig</tt> command option for that type of data. For example, if
you do not specify the <tt>-m</tt> option, no DHCP macros are exported.</p>
<hr>
<p>See the <a href="http://docs.sun.com/doc/819-2240/dhcpconfig-1m?a=view"><tt>dhcpconfig</tt>(1M)</a> man page for more information about the <tt>dhcpconfig</tt> command.</p></li>
<li><a name="dhcp-admin-step-606"></a><b>Move the export file to a location that is accessible to the server
that must import the data.</b></li></ol><h6>See Also</h6><p>Import the data as described in <a href="#dhcp-admin-proc-317">How to Import Data on a DHCP Server (<tt>dhcpconfig -I</tt>)</a>.</p>

<a name="dhcp-admin-proc-510"></a><h4>How to Import Data on a DHCP Server (DHCP Manager)</h4><a name="indexterm-1506"></a><ol>
<li><a name="dhcp-admin-step-588"></a><b>Start DHCP Manager on the server to which you want to move data
that you previously exported from a DHCP server.</b><p>See <a href="dhcp-admin-1.html#dhcp-admin-4">How to Start and Stop DHCP Manager</a> for information about DHCP Manager.</p></li>
<li><a name="dhcp-admin-step-589"></a><b>Choose Import Data from the Service menu.</b><p>The Import Data wizard opens, as shown in <a href="#dhcp-admin-fig-337">Figure&nbsp;15-21</a>.</p></li>
<li><a name="dhcp-admin-step-590"></a><b>Answer the wizard's prompts.</b><p>If you have difficulty, click Help for detailed information about the prompts.</p></li>
<li><b>Modify the imported data, if necessary.</b><p>See <a href="#dhcp-admin-proc-257">How to Modify Imported DHCP Data (DHCP Manager)</a></p></li></ol>

<a name="dhcp-admin-proc-317"></a><h4>How to Import Data on a DHCP Server (<tt>dhcpconfig -I</tt>)</h4><a name="indexterm-1507"></a><ol>
<li><a name="dhcp-admin-step-608"></a><b>Log in to the server to which you want to import the data.</b></li>
<li><b>Become superuser or assume a role or user name that is assigned to
the DHCP Management profile.</b><p>For more information about the DHCP Management profile, see <a href="dhcp-admin-rbac1211.html">Setting Up User Access to DHCP Commands</a>.</p><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><a name="dhcp-admin-step-609"></a><b>Import the data by typing a command of the following format:</b><pre># <tt><b>dhcpconfig -I </tt><i>filename</i><tt></b></tt></pre><p><i>filename</i> is the name of the file that contains the exported data.</p></li>
<li><b>Modify the imported data, if necessary.</b><p>See <a href="#dhcp-admin-proc-324">How to Modify Imported DHCP Data (<tt>pntadm</tt>, <tt>dhtadm</tt>)</a>.</p></li></ol>

<a name="dhcp-admin-proc-257"></a><h4>How to Modify Imported DHCP Data (DHCP Manager)</h4><a name="indexterm-1508"></a><ol>
<li><a name="dhcp-admin-step-592"></a><b>Start DHCP Manager on the server to which you imported data.</b><p>See <a href="dhcp-admin-1.html#dhcp-admin-4">How to Start and Stop DHCP Manager</a> for information about DHCP Manager.</p></li>
<li><a name="dhcp-admin-step-593"></a><b>Examine imported data for network-specific information that needs modification.</b><p>For example, if you moved networks, you must open the Addresses tab and
change the owning server of addresses in the imported networks. You might also
need to open the Macros tab to specify the correct domain names for
NIS, NIS+ or DNS in some macros.</p></li>
<li><a name="dhcp-admin-step-594"></a><b>Open the Addresses, tab and select a network that you imported.</b></li>
<li><a name="dhcp-admin-step-595"></a><b>To select all the addresses, click the first address, press and hold the
Shift key, and click the last address.</b></li>
<li><a name="dhcp-admin-step-596"></a><b>From the Edit menu, choose Properties.</b><p>The Modify Multiple Addresses dialog box opens.</p></li>
<li><a name="dhcp-admin-step-597"></a><b>At the Managing Server prompt, select the new server's name.</b></li>
<li><a name="dhcp-admin-step-598"></a><b>At the Configuration Macro prompt, select the macro that should be used for
all clients on this network, and then click OK.</b></li>
<li><a name="dhcp-admin-step-600"></a><b>Open the Macros tab.</b></li>
<li><a name="dhcp-admin-step-601"></a><b>Use the Find button to locate the options that are likely to need
modified values.</b><p>The Find button is located at the bottom of the window.</p><p><tt>DNSdmain</tt>, <tt>DNSserv</tt>, <tt>NISservs</tt>, <tt>NIS+serv</tt>, and <tt>NISdmain</tt> are examples of options that might
need modification on the new server.</p></li>
<li><a name="dhcp-admin-step-602"></a><b>Change the options in the appropriate macros.</b><p>See <a href="dhcp-admin-206.html#dhcp-admin-46art">How to Modify DHCP Option Properties (DHCP Manager)</a> for the procedure for changing options.</p></li></ol>

<a name="dhcp-admin-proc-324"></a><h4>How to Modify Imported DHCP Data (<tt>pntadm</tt>, <tt>dhtadm</tt>)</h4><a name="indexterm-1509"></a><ol>
<li><a name="dhcp-admin-step-613"></a><b>Log in to the server to which you imported data.</b></li>
<li><b>Become superuser or assume a role or user name that is assigned to
the DHCP Management profile.</b><p>For more information about the DHCP Management profile, see <a href="dhcp-admin-rbac1211.html">Setting Up User Access to DHCP Commands</a>.</p><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><a name="dhcp-admin-step-614"></a><b>Examine the network tables for data that needs to be modified.</b><p>If you moved networks, use the <tt>pntadm -P</tt> <i>network-address</i> command to print out the
network tables for the networks you moved.</p></li>
<li><a name="dhcp-admin-step-615"></a><b>Modify IP address information by using the <tt>pntadm</tt> command.</b><p>You might need to change the owning server and the configuration macro for
imported addresses. For example, to change the owning server (<tt>10.60.3.4</tt>) and macro (<tt>dhcpsrv-1060</tt>) for
address <tt>10.63.0.2</tt>, you would use the following command:</p><p><tt><b>pntadm -M 10.63.0.2 -s 10.60.3.4 -m dhcpsrv-1060 10.60.0.0</b></tt></p><p>If you have a large number of addresses, you should create a script
file that contains commands to modify each address. Execute the script with the
<tt>pntadm -B</tt> command, which runs <tt>pntadm</tt> in batch mode. See the <a href="http://docs.sun.com/doc/819-2240/pntadm-1m?a=view"><tt>pntadm</tt>(1M)</a> man page.</p></li>
<li><a name="dhcp-admin-step-616"></a><b>Examine the <tt>dhcptab</tt> macros for options with values that need modification.</b><p>Use the <tt>dhtadm -P</tt> command to print the entire <tt>dhcptab</tt> table to your screen.
Use <tt>grep</tt> or some other tool to search for options or values that
you might want to change.</p></li>
<li><a name="dhcp-admin-step-617"></a><b>Modify options in macros, if necessary, by using the <tt>dhtadm -M</tt> command.</b><p>For example, you might need to modify some macros to specify the correct
domain names and servers for NIS, NIS+ or DNS. For example, the following
command changes the values of <tt>DNSdmain</tt> and <tt>DNSserv</tt> in the macro <tt>mymacro</tt>:</p><p><tt><b>dhtadm -M -m mymacro -e 'DNSserv=dnssrv2:DNSdmain=example.net' -g</b></tt></p></li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="dhcp-admin-cv1211.html">Previous</a>
             </td>
             <td align="right">
                 <a href="eyatl.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

