<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>DHCP Option Information - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="dhcp-ref-6.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipsectm-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level2"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level2"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level2"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<p class="toc level2"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level2"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level2"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level3"><a href="dhcp-ref-5.html">DHCP Commands</a></p>
<p class="toc level3"><a href="dhcp-ref-6.html">Files Used by the DHCP Service</a></p>
<div class="onpage">
<p class="toc level3"><a href="">DHCP Option Information</a></p>
</div>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<p class="toc level2"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level2"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level2"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level2"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="dhcp-ref-9"></a><h3>DHCP Option Information</h3>
<p><a name="indexterm-1585"></a><a name="indexterm-1586"></a>Historically, DHCP option information has been stored in several places, including the server's
<tt>dhcptab</tt> table, the client's <tt>dhcptags</tt> file, and internal tables of various programs.
In the Solaris 8 release and later releases, the option information is consolidated
in the <tt>/etc/dhcp/inittab</tt> file. See the <a href="http://docs.sun.com/doc/819-2251/dhcp-inittab-4?a=view"><tt>dhcp_inittab</tt>(4)</a> man page for detailed information about
the file.</p><p>The Solaris DHCP client uses the DHCP <tt>inittab</tt> file as a replacement for
the <tt>dhcptags</tt> file. The client uses the file to obtain information about option
codes that were received in a DHCP packet. The <tt>in.dhcpd</tt>, <tt>snoop</tt>, and
<tt>dhcpmgr</tt> programs on the DHCP server use the <tt>inittab</tt> file as well.</p>

<a name="dhcp-ref-8"></a><h4>Determining if Your Site Is Affected</h4>
<p>Most sites that use Solaris DHCP are <b>not</b> affected by the switch to
the <tt>/etc/dhcp/inittab</tt> file. Your site is affected if you meet all of the
following criteria:</p>
<ul><li><p>You plan to upgrade from a Solaris release that is older than that the Solaris 8 release.</p></li>
<li><p>You previously created new DHCP options.</p></li>
<li><p>You modified the <tt>/etc/dhcp/dhcptags</tt> file, and you want to retain the changes.</p></li></ul>
<p>When you upgrade, the upgrade log notifies you that your <tt>dhcptags</tt> file had
been modified and that you should make changes to the DHCP <tt>inittab</tt>
file.</p>

<a name="dhcp-ref-10"></a><h4>Differences Between <tt>dhcptags</tt> and <tt>inittab</tt> Files</h4>
<p>The <tt>inittab</tt> file contains more information than the <tt>dhcptags</tt> file. The <tt>inittab</tt>
file also uses a different syntax. </p><p>A sample <tt>dhcptags</tt> entry is as follows:</p><p><tt>33 StaticRt - IPList Static_Routes</tt>  </p><p><tt>33</tt> is the numeric code that is passed in the DHCP packet.
<tt>StaticRt</tt> is the option name. <tt>IPList</tt> indicates that the data type for <tt>StaticRt</tt>
must be a list of IP addresses. <tt>Static_Routes</tt> is a more descriptive
name.</p><p>The <tt>inittab</tt> file consists of one-line records that describe each option. The format
is similar to the format that defines symbols in <tt>dhcptab</tt>. The following
table describes the syntax of the <tt>inittab</tt> file.</p><dl><dt>Option</dt>
<dd><p>Description</p></dd>
<dt><i>option-name</i></dt>
<dd><p>Name of the option. The option name must be unique within its option category, and not overlap with other option names in the Standard, Site, and Vendor categories. For example, you cannot have two Site options with the same name, and you should not create a Site option with the same name as a Standard option. </p></dd>
<dt><i>category</i></dt>
<dd><p>Identifies the namespace in which the option belongs. Must be one of the following: Standard, Site, Vendor, Field, or Internal.</p></dd>
<dt><i>code</i></dt>
<dd><p>Identifies the option when sent over the network. In most cases, the code uniquely identifies the option, without a category. However, in the case of internal categories such as Field or Internal, a code might be used for other purposes. The code might not be globally unique. The code should be unique within the option's category, and not overlap with codes in the Standard and Site fields. </p></dd>
<dt><i>type</i></dt>
<dd><p>Describes the data that is associated with this option. Valid types are IP, ASCII, Octet, Boolean, Unumber8, Unumber16, Unumber32, Unumber64, Snumber8, Snumber16, Snumber32, and Snumber64. For numbers, an initial U or S indicates that the number is unsigned or signed. The digits at the end indicate how many bits are in the number. For example, Unumber8 is an unsigned 8-bit number. The type is not case sensitive.</p></dd>
<dt><i>granularity</i></dt>
<dd><p>Describes how many units of data make up a whole value for this option. </p></dd>
<dt><i>maximum</i></dt>
<dd><p>Describes how many whole values are allowed for this option. 0 indicates an infinite number.</p></dd>
<dt><i>consumers</i></dt>
<dd><p>Describes which programs can use this information. Consumers should be set to <tt>sdmi</tt>, where:</p><dl><dt><tt>s</tt></dt>
<dd><p><tt>snoop</tt></p></dd>
<dt><tt>d</tt></dt>
<dd><p><tt>in.dhcpd</tt></p></dd>
<dt><tt>m</tt></dt>
<dd><p><tt>dhcpmgr</tt></p></dd>
<dt><tt>i</tt></dt>
<dd><p><tt>dhcpinfo</tt></p></dd>
</dl>
</dd>
</dl>
<p>A sample <tt>inittab</tt> entry is as follows:</p><p><tt>StaticRt - Standard, 33, IP, 2, 0, sdmi</tt></p><p>This entry describes an option that is named <tt>StaticRt</tt>. The option is in
the Standard category, and is option code 33. The expected data is
a potentially infinite number of pairs of IP addresses because the type is
<tt>IP</tt>, the granularity is <tt>2</tt>, and the maximum is infinite (<tt>0</tt>). The consumers
of this option are <tt>sdmi</tt>: <tt>snoop</tt>, <tt>in.dhcpd</tt>, <tt>dhcpmgr</tt>, and <tt>dhcpinfo</tt>.</p>

<a name="dhcp-ref-14"></a><h4>Converting <tt>dhcptags</tt> Entries to <tt>inittab</tt> Entries</h4>
<p>If you previously added entries to your <tt>dhcptags</tt> file, you must add corresponding
entries to the new <tt>inittab</tt> file if you want to continue using the
options you added to your site. The following example shows how a sample
<tt>dhcptags</tt> entry might be expressed in <tt>inittab</tt> format.</p><p>Suppose you had added the following <tt>dhcptags</tt> entry for fax machines that are
connected to the network:</p><p><tt>128 FaxMchn - IP Fax_Machine</tt></p><p>The code <tt>128</tt> means that the option must be in the Site
category. The option name is <tt>FaxMchn</tt>, and the data type is <tt>IP</tt>.</p><p>The corresponding <tt>inittab</tt> entry might be:</p><p><tt>FaxMchn SITE, 128, IP, 1, 1, sdmi</tt></p><p>The granularity of 1 and the maximum of 1 indicate that one
IP address is expected for this option.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="dhcp-ref-6.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipsectm-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

