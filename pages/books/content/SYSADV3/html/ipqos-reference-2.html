<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>IPQoS Architecture and the Diffserv Model - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ipqos-reference-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipqos-reference-22.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level2"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level2"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level2"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<p class="toc level2"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level2"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level2"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<p class="toc level2"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level2"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level2"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level2"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<div class="onpage">
<p class="toc level3"><a href="">IPQoS Architecture and the Diffserv Model</a></p>
</div>
<p class="toc level3"><a href="ipqos-reference-22.html">IPQoS Configuration File</a></p>
<p class="toc level3"><a href="ipqos-reference-30.html"><tt>ipqosconf</tt> Configuration Utility</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="ipqos-reference-2"></a><h3>IPQoS Architecture and the Diffserv Model</h3>
<p>This section describes the IPQoS architecture and how IPQoS implements the differentiated services
(Diffserv) model that is defined in<a href="http://www.ietf.org/rfc/rfc2475.txt?number=2475">RFC 2475, An Architecture for Differentiated Services</a>. The following elements of the Diffserv model
are included in IPQoS:</p>
<ul><li><p>Classifier</p></li>
<li><p>Meter</p></li>
<li><p>Marker</p></li></ul>
<p>In addition, IPQoS includes the flow-accounting module and the <tt>dlcosmk</tt> marker for
use with virtual local area network (VLAN) devices.</p>

<a name="ipqos-reference-3"></a><h4>Classifier Module</h4>
<p>In the Diffserv model, the <b>classifier</b> is responsible for organizing selected traffic flows
into groups on which to apply different service levels. The classifiers that are
defined in RFC 2475 were originally designed for boundary routers. In contrast, the
IPQoS classifier <tt>ipgpc</tt> is designed to handle traffic flows on hosts that are
internal to the local network. Therefore, a network with both IPQoS systems and
a Diffserv router can provide a greater degree of differentiated services. For a
technical description of <tt>ipgpc</tt>, refer to the <tt>ipgpc</tt>(7ipp) man page. </p><p><a name="indexterm-3143"></a>The <tt>ipgpc</tt> classifier does the following:</p>
<ol><li><p>Selects traffic flows that meet the criteria specified in the IPQoS configuration file on the IPQoS-enabled system</p><p>The QoS policy defines various criteria that must be present in packet headers. These criteria are called <b>selectors</b>. The <tt>ipgpc</tt> classifier compares these selectors against the headers of packets that are received by the IPQoS system. <tt>ipgpc</tt> then selects all matching packets.</p></li>
<li><p>Separates the packet flows into <b>classes</b>, network traffic with the same characteristics, as defined in the IPQoS configuration file</p></li>
<li><p>Examines the value in the packet's differentiated service (DS) field for the presence of a differentiated services codepoint (DSCP)</p><p>The presence of the DSCP indicates whether the incoming traffic has been marked by the sender with a forwarding behavior.</p></li>
<li><p>Determines what further action is specified in the IPQoS configuration file for packets of a particular class</p></li>
<li><p>Passes the packets to the next IPQoS module specified in the IPQoS configuration file, or returns the packets to the network stream</p></li></ol>
<p>For an overview of the classifier, refer to <a href="ipqos-intro-11.html#ipqos-intro-17">Classifier <tt>(ipgpc)</tt> Overview</a>. For information on invoking
the classifier in the IPQoS configuration file, refer to <a href="ipqos-reference-22.html">IPQoS Configuration File</a>. </p>

<a name="ipqos-reference-40"></a><h5>IPQoS Selectors</h5>
<p>The <tt>ipgpc</tt> classifier supports a variety of selectors that you can use in
the <tt>filter</tt> clause of the IPQoS configuration file. When you define a filter,
always use the minimum number of selectors that are needed to successfully retrieve
traffic of a particular class. The number of filters you define can impact
IPQoS performance.</p><p><a name="indexterm-3144"></a><a name="indexterm-3145"></a><a name="indexterm-3146"></a>The next table lists the selectors that are available for <tt>ipgpc</tt>.</p><a name="ipqos-reference-tbl-32"></a><h6>Table&nbsp;37-1 Filter Selectors for the IPQoS Classifier</h6><table><col width="44.91*"><col width="60.60*"><col width="57.32*"><tr><th align="left" valign="top" scope="column"><p>Selector</p></th>
<th align="left" valign="top" scope="column"><p>Argument</p></th>
<th align="left" valign="top" scope="column"><p>Information Selected</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>saddr</tt></p></td>
<td align="left" valign="top" scope="row"><p>IP
address number.</p></td>
<td align="left" valign="top" scope="row"><p>Source address.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>daddr</tt></p></td>
<td align="left" valign="top" scope="row"><p>IP address number.</p></td>
<td align="left" valign="top" scope="row"><p>Destination address.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>sport</tt></p></td>
<td align="left" valign="top" scope="row"><p>Either a port number or service name,
as defined in <tt>/etc/services</tt>.</p></td>
<td align="left" valign="top" scope="row"><p>Source port from which a traffic class originated.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>dport</tt></p></td>
<td align="left" valign="top" scope="row"><p>Either a
port number or service name, as defined in <tt>/etc/services</tt>.</p></td>
<td align="left" valign="top" scope="row"><p>Destination port to which
a traffic class is bound.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>protocol</tt></p></td>
<td align="left" valign="top" scope="row"><p>Either a protocol number or protocol name, 
as defined in <tt>/etc/protocols</tt>.</p></td>
<td align="left" valign="top" scope="row"><p>Protocol to be used by this traffic class.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>dsfield</tt></p></td>
<td align="left" valign="top" scope="row"><p>DS codepoint
(DSCP) with a value of 0&ndash;63.</p></td>
<td align="left" valign="top" scope="row"><p>DSCP, which defines any forwarding behavior to
be applied to the packet. If this parameter is specified, the <tt>dsfield_mask</tt> parameter must
also be specified.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>dsfield_mask</tt></p></td>
<td align="left" valign="top" scope="row"><p>Bit mask with a value of 0&ndash;255.</p></td>
<td align="left" valign="top" scope="row"><p>Used in tandem with
the <tt>dsfield</tt> selector. <tt>dsfield_mask</tt> is applied to the <tt>dsfield</tt> selector to determine which
of its bits to match against.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>if_name</tt></p></td>
<td align="left" valign="top" scope="row"><p>Interface name.</p></td>
<td align="left" valign="top" scope="row"><p>Interface to be used for either
incoming or outgoing traffic of a particular class.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>if_groupname</tt></p></td>
<td align="left" valign="top" scope="row"><p>Interface group name.</p></td>
<td align="left" valign="top" scope="row"><p>Interface group to be
used for either incoming or outgoing traffic of a particular class.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>user</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of the
UNIX user ID or user name to be selected. If no user
ID or user name is on the packet, the default &ndash;1 is used.</p></td>
<td align="left" valign="top" scope="row"><p>User
ID that is supplied to an application.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>projid</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of the project ID to
be selected.</p></td>
<td align="left" valign="top" scope="row"><p>Project ID that is supplied to an application.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>priority</tt></p></td>
<td align="left" valign="top" scope="row"><p>Priority number. Lowest priority
is 0.</p></td>
<td align="left" valign="top" scope="row"><p>Priority that is given to packets of this class. Priority is
used to order the importance of filters for the same class.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>direction</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument can be
one of the following:</p></td>
<td align="left" valign="top" scope="row"><p>Direction of packet flow on the IPQoS machine. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>LOCAL_IN</tt></p></td>
<td align="left" valign="top" scope="row"><p>Input
traffic local to the IPQoS system.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>LOCAL_OUT</tt></p></td>
<td align="left" valign="top" scope="row"><p>Output traffic local to the IPQoS system.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>FWD_IN</tt></p></td>
<td align="left" valign="top" scope="row"><p>Input
traffic to be forwarded.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>FWD_OUT</tt></p></td>
<td align="left" valign="top" scope="row"><p>Output traffic to be forwarded.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>precedence</tt></p></td>
<td align="left" valign="top" scope="row"><p>Precedence value. Highest precedence is
0.</p></td>
<td align="left" valign="top" scope="row"><p>Precedence is used to order filters with the same priority.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ip_version</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>V4</tt> or <tt>V6</tt></p></td>
<td align="left" valign="top" scope="row"><p>Addressing
scheme that is used by the packets, either IPv4 or IPv6.</p></td>
</tr>
</table>

<a name="ipqos-reference-8"></a><h4>Meter Module</h4>
<p><a name="indexterm-3147"></a><a name="indexterm-3148"></a>The <b>meter</b> tracks the transmission rate of flows on a per-packet basis.
 The meter then determines whether the packet conforms to the configured parameters. The
meter module determines the next action for a packet from a set
of actions that depend on packet size, configured parameters, and flow rate.</p><p>The meter consists of two metering modules, <tt>tokenmt</tt> and <tt>tswtclmt</tt>, which you
configure in the IPQoS configuration file. You can configure either module or both
modules for a class. </p><p><a name="indexterm-3149"></a>When you configure a metering module, you can define two parameters for rate:</p>
<ul><li><p><tt>committed-rate</tt> &ndash; Defines the acceptable transmission rate in bits per second for packets of a particular class </p></li>
<li><p><tt>peak-rate</tt> &ndash; Defines the maximum transmission rate in bits per second that is allowable for packets of a particular class</p></li></ul>
<p><a name="indexterm-3150"></a><a name="indexterm-3151"></a>A metering action on a packet can result in one of three
outcomes:</p>
<ul><li><p><tt>green</tt> &ndash; The packet causes the flow to remain within its committed rate.</p></li>
<li><p><tt>yellow</tt> &ndash; The packet causes the flow to exceed its committed rate but not its peak rate.</p></li>
<li><p><tt>red</tt> &ndash; The packet causes the flow to exceed its peak rate.</p></li></ul>
<p>You can configure each outcome with different actions in the IPQoS configuration file.
Committed rate and peak rate are explained in the next section.</p>

<a name="ipqos-reference-130"></a><h5><tt>tokenmt</tt> Metering Module</h5>
<p><a name="indexterm-3152"></a>The <tt>tokenmt</tt> module uses <b>token buckets</b> to measure the transmission rate of a flow.
You can configure <tt>tokenmt</tt> to operate as a single-rate or two-rate meter. A
<tt>tokenmt</tt> action instance maintains two token buckets that determine whether the traffic flow conforms
to configured parameters. </p><p>The <a href="http://docs.sun.com/doc/819-2254/tokenmt-7ipp?a=view"><tt>tokenmt</tt>(7ipp)</a> man page explains how IPQoS implements the token meter paradigm. You
can find more general information about token buckets in Kalevi Kilkki's <b>Differentiated Services for the Internet</b> and
on a number of web sites.</p><p><a name="indexterm-3153"></a><a name="indexterm-3154"></a>Configuration parameters for <tt>tokenmt</tt> are as follows:</p>
<ul><li><p><tt>committed_rate</tt> &ndash; Specifies the committed rate of the flow in bits per second.</p></li>
<li><p><tt>committed_burst</tt> &ndash; Specifies the committed burst size in bits. The <tt>committed_burst</tt> parameter defines how many outgoing packets of a particular class can pass onto the network at the committed rate.</p></li>
<li><p><tt>peak_rate</tt> &ndash; Specifies the peak rate in bits per second. </p></li>
<li><p><tt>peak_burst</tt> &ndash; Specifies the peak or excess burst size in bits. The <tt>peak_burst</tt> parameter grants to a traffic class a peak-burst size that exceeds the committed rate.</p></li>
<li><p><tt>color_aware</tt> &ndash; Turns on awareness mode for <tt>tokenmt</tt>. </p></li>
<li><p><tt>color_map</tt> &ndash; Defines an integer array that maps DSCP values to green, yellow, or red.</p></li></ul>


<a name="ipqos-reference-12"></a><h5>Configuring <tt>tokenmt</tt> as a Single-Rate Meter</h5>
<p><a name="indexterm-3155"></a>To configure <tt>tokenmt</tt> as a single-rate meter, do not specify a <tt>peak_rate</tt> parameter
for <tt>tokenmt</tt> in the IPQoS configuration file. To configure a single-rate <tt>tokenmt</tt> instance to
have a red, green, or a yellow outcome, you must specify the
<tt>peak_burst</tt> parameter. If you do not use the <tt>peak_burst</tt> parameter, you can configure
<tt>tokenmt</tt> to have only a red outcome or green outcome. For an example
of a single-rate <tt>tokenmt</tt> with two outcomes, see <a href="ipqos-policy-planning-5.html#ipqos-policy-planning-ex-96">Example&nbsp;34-3</a>.</p><p>When <tt>tokenmt</tt> operates as a single-rate meter, the <tt>peak_burst</tt> parameter is actually
the excess burst size. <tt>committed_rate</tt>, and either <tt>committed_burst</tt> or <tt>peak_burst</tt>, must be nonzero
positive integers.</p>

<a name="ipqos-reference-13"></a><h5>Configuring <tt>tokenmt</tt> as a Two-Rate Meter</h5>
<p><a name="indexterm-3156"></a>To configure <tt>tokenmt</tt> as a two-rate meter, specify a <tt>peak_rate</tt> parameter for the
<tt>tokenmt</tt> action in the IPQoS configuration file. A two-rate <tt>tokenmt</tt> always has the three
outcomes, red, yellow, and green. The <tt>committed_rate</tt>, <tt>committed_burst</tt>, and <tt>peak_burst</tt> parameters must be
nonzero positive integers.</p>

<a name="ipqos-reference-14"></a><h5>Configuring <tt>tokenmt</tt> to Be Color Aware</h5>
<p><a name="indexterm-3157"></a><a name="indexterm-3158"></a><a name="indexterm-3159"></a>To configure a two-rate <tt>tokenmt</tt> to be color aware, you must add parameters
to specifically add &ldquo;color awareness.&rdquo; The following is an example action statement that
configures <tt>tokenmt</tt> to be color aware.</p><a name="ipqos-reference-ex-20"></a>Example&nbsp;37-1 Color-Aware <tt>tokenmt</tt> Action for the IPQoS Configuration File<pre>action {
    module tokenmt
    name meter1
    params {
          committed_rate 4000000
          peak_rate 8000000
          committed_burst 4000000
          peak_burst 8000000
          global_stats true
          red_action_name continue
          yellow_action_name continue
          green_action_name continue
          color_aware true
          color_map {0-20,22:GREEN;21,23-42:RED;43-63:YELLOW}
    }
}</pre><p>You turn on color awareness by setting the <tt>color_aware</tt> parameter to <tt>true</tt>. As
a color-aware meter, <tt>tokenmt</tt> assumes that the packet has already been marked as
red, yellow, or green by a previous <tt>tokenmt</tt> action. Color-aware <tt>tokenmt</tt> evaluates a
packet by using the DSCP in the packet header in addition to
the parameters for a two-rate meter. </p><p><a name="indexterm-3160"></a>The <tt>color_map</tt> parameter contains an array into which the DSCP in the packet
header is mapped. Consider the following <tt>color_map</tt> array:</p><pre>color_map {0-20,22:GREEN;21,23-42:RED;43-63:YELLOW}</pre><p>Packets with a DSCP of 0&ndash;20 and 22 are mapped to green.
Packets with a DSCP of 21 and 23&ndash;42 are mapped to red. Packets
with a DSCP of 43&ndash;63 are mapped to yellow. <tt>tokenmt</tt> maintains a default color
map. However, you can change the default as needed by using the
<tt>color_map</tt> parameters.</p><p>In the <i>color</i><tt>_action_name</tt> parameters, you can specify <tt>continue</tt> to complete processing of the packet.
Or, you can add an argument to send the packet to a
marker action, for example, <tt>yellow_action_name mark22</tt>.</p>

<a name="ipqos-reference-20"></a><h5><tt>tswtclmt</tt> Metering Module</h5>
<p><a name="indexterm-3161"></a>The <tt>tswtclmt</tt> metering module estimates average bandwidth for a traffic class by using
a time-based <b>rate estimator</b>. <tt>tswtclmt</tt> always operates as a three-outcome meter. The rate
estimator provides an estimate of the flow's arrival rate. This rate should approximate the
running average bandwidth of the traffic stream over a specific period or time,
its <b>time window</b>. The rate estimation algorithm is taken from RFC 2859, <b>A Time Sliding Window Three Colour Marker</b>.</p><p><a name="indexterm-3162"></a>You use the following parameters to configure <tt>tswtclmt</tt>:</p>
<ul><li><p><tt>committed_rate</tt> &ndash; Specifies the committed rate in bits per second</p></li>
<li><p><tt>peak_rate</tt> &ndash; Specifies the peak rate in bits per second</p></li>
<li><p><tt>window</tt> &ndash; Defines the time window, in milliseconds over which history of average bandwidth is kept</p></li></ul>
<p>For technical details on <tt>tswtclmt</tt>, refer to the<a href="http://docs.sun.com/doc/819-2254/tswtclmt-7ipp?a=view"><tt>tswtclmt</tt>(7ipp)</a> man page. For general information
on rate shapers that are similar to <tt>tswtclmt</tt>, see <a href="http://www.ietf.org/rfc/rfc2963.txt?number=2963">RFC 2963, A Rate Adaptive Shaper for Differentiated Services</a>.</p>

<a name="ipqos-reference-11"></a><h4>Marker Module</h4>
<p><a name="indexterm-3163"></a><a name="indexterm-3164"></a>IPQoS includes two marker modules, <tt>dscpmk</tt> and <tt>dlcosmk</tt>. This section contains information for using
both markers. Normally, you should use <tt>dscpmk</tt> because <tt>dlcosmk</tt> is only available for IPQoS
systems with VLAN devices.</p><p>For technical information about <tt>dscpmk</tt>, refer to the <tt>dscpmk</tt>(7ipp) man page. For technical
information about <tt>dlcosmk</tt>, refer to the <tt>dlcosmk</tt>(7ipp) man page.</p>

<a name="ipqos-reference-330"></a><h5>Using the <tt>dscpmk</tt> Marker for Forwarding Packets</h5>
<p><a name="indexterm-3165"></a><a name="indexterm-3166"></a><a name="indexterm-3167"></a>The marker receives traffic flows after the flows are processed by the classifier
or by the metering modules. The marker marks the traffic with a forwarding
behavior. This forwarding behavior is the action to be taken on the flows
after the flows leaving the IPQoS system. Forwarding behavior to be taken on
a traffic class is defined in the <b>per-hop behavior (PHB)</b>. The PHB assigns a
priority to a traffic class, which indicates the precedence flows of that class
in relation to other traffic classes. PHBs only govern forwarding behaviors on the
IPQoS system's contiguous network. For more information on PHBs, refer to <a href="ipqos-intro-54.html#ipqos-intro-10">Per-Hop Behaviors</a>.</p><p><b>Packet forwarding</b> is the process of sending traffic of a particular class to its
next destination on a network. For a host such as an IPQoS system,
a packet is forwarded from the host to the local network stream. For
a Diffserv router, a packet is forwarded from the local network to the
router's next hop.  </p><p>The marker marks the DS field in the packet header with a
well-known forwarding behavior that is defined in the IPQoS configuration file. Thereafter, the IPQoS
system and subsequent Diffserv-aware systems forward the traffic as indicated in the DS
field until the mark changes. To assign a PHB, the IPQoS system marks
a value in the DS field of the packet header. This value is
called the differentiated services codepoint (DSCP). The Diffserv architecture defines two types of
forwarding behaviors, EF and AF, which use different DSCPs. For overview information about
DSCPs, refer to <a href="ipqos-intro-54.html#ipqos-intro-99">DS Codepoint</a>.</p><p><a name="indexterm-3168"></a>The IPQoS system reads the DSCP for the traffic flow and evaluates the
flow's precedence in relation to other outgoing traffic flows. The IPQoS system then
prioritizes  all concurrent traffic flows and releases each flow onto the network
by its priority. </p><p>The Diffserv router receives the outgoing traffic flows and reads the DS field
in the packet headers. The DSCP enables the router to prioritize and schedule
the concurrent traffic flows. The router  forwards each flow by the priority
that is indicated by the PHB. Note that the PHB cannot apply beyond
the boundary router of the network unless Diffserv-aware systems on subsequent hops also
recognize the same PHB. </p>

<a name="ipqos-reference-140"></a><h5>Expedited Forwarding (EF) PHB</h5>
<p><a name="indexterm-3169"></a><a name="indexterm-3170"></a><b>Expedited forwarding</b> (EF) guarantees that packets with the recommended EF codepoint 46 (101110) receive
the best treatment that is available on release to the network. Expedited forwarding
is often compared to a leased line. Packets with the 46 (101110) codepoint
are guaranteed preferential treatment by all Diffserv routers en route to the packets'
destination. For technical information about EF, refer to RFC 2598, <b>An Expedited Forwarding PHB</b>.</p>

<a name="ipqos-reference-150"></a><h5>Assured Forwarding (AF) PHB</h5>
<p><a name="indexterm-3171"></a><a name="indexterm-3172"></a><a name="indexterm-3173"></a><b>Assured forwarding</b> (AF) provides four different classes of forwarding behaviors that you can specify
to the marker. The next table shows the classes, the three drop precedences
that are provided with each class, and the recommended DSCPs that are associated
with each precedence. Each DSCP is represented by its AF value, its value
in decimal, and its value in binary.</p><a name="ipqos-reference-tbl-16"></a><h6>Table&nbsp;37-2 Assured Forwarding Codepoints</h6><table><col width="21.86*"><col width="15.13*"><col width="19.89*"><col width="16.46*"><col width="26.65*"><tr><th align="left" valign="top" scope="column"><p></p></th>
<th align="left" valign="top" scope="column"><p>Class 1</p></th>
<th align="left" valign="top" scope="column"><p>Class 2</p></th>
<th align="left" valign="top" scope="column"><p>Class 3</p></th>
<th align="left" valign="top" scope="column"><p>Class 4</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><b>Low-Drop Precedence</b></p></td>
<td align="left" valign="top" scope="row"><p>AF11 =</p><p>10 (001010)</p></td>
<td align="left" valign="top" scope="row"><p>AF21
=</p><p>18 (010010)</p></td>
<td align="left" valign="top" scope="row"><p>AF31 =</p><p>26 (011010)</p></td>
<td align="left" valign="top" scope="row"><p>AF41 =</p><p>34 (100010)</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><b>Medium-Drop Precedence</b></p></td>
<td align="left" valign="top" scope="row"><p>AF12 =</p><p>12 (001100)</p></td>
<td align="left" valign="top" scope="row"><p>AF22 =</p><p>20 (010100)</p></td>
<td align="left" valign="top" scope="row"><p>AF32 =</p><p>28 (011100)</p></td>
<td align="left" valign="top" scope="row"><p>AF42
= </p><p>36 (100100)</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><b>High-Drop Precedence</b></p></td>
<td align="left" valign="top" scope="row"><p>AF13 =</p><p>14 (001110)</p></td>
<td align="left" valign="top" scope="row"><p>AF23 =</p><p>22 (010110)</p></td>
<td align="left" valign="top" scope="row"><p>AF33 =</p><p>30 (011110)</p></td>
<td align="left" valign="top" scope="row"><p>AF43 =</p><p>38 (100110)</p></td>
</tr>
</table><p>Any Diffserv-aware system can use the AF codepoint as a guide for
providing differentiated forwarding behaviors to different classes of traffic. </p><p><a name="indexterm-3174"></a>When these packets reach a Diffserv router, the router evaluates the packets' codepoints
along with DSCPs of other traffic in the queue. The router then forwards
or drops packets, depending on the available bandwidth and the priorities that are
assigned by the packets' DSCPs. Note that packets that are marked with the
EF PHB are guaranteed bandwidth over packets that are marked with the various
AF PHBs.</p><p>Coordinate packet marking between any IPQoS systems on your network and the Diffserv
router to ensure that packets are forwarded as expected. For example, suppose IPQoS
systems on your network mark packets with AF21 (010010), AF13 (001110), AF43 (100110),
and EF (101110) codepoints. You then need to add the AF21, AF13, AF43,
and EF DSCPs to the appropriate file on the Diffserv router.</p><p>For a technical explanation of the AF codepoint table, refer to RFC 2597.
Router manufacturers Cisco Systems and Juniper Networks have detailed information about setting the
AF PHB on their web sites. You can use this information to define
AF PHBs for IPQoS systems as well as routers. Additionally, router manufacturers' documentation
contains instructions for setting DS codepoints on their equipment.</p>

<a name="ipqos-reference-500"></a><h5>Supplying a DSCP to the Marker</h5>
<p><a name="indexterm-3175"></a>The DSCP is 6 bits in length. The DS field is 1
byte long. When you define a DSCP, the marker marks the first 6
significant bits of the packet header with the DS codepoint. The remaining 2
least-significant bits are unused. </p><p><a name="indexterm-3176"></a>To define a DSCP, you use the following parameter within a marker action
statement:</p><pre> dscp_map{0-63:<i>DS_codepoint</i>}</pre><p>The <tt>dscp_map</tt> parameter is a 64-element array, which you populate with the (DSCP)
value. <tt>dscp_map</tt> is used to map incoming DSCPs to outgoing DSCPs that are
applied by the <tt>dscpmk</tt> marker.</p><p>You must specify the DSCP value to <tt>dscp_map</tt> in decimal notation. For example,
you must translate the EF codepoint of 101110 into the decimal value 46,
which results in <tt>dscp_map{0-63:46}</tt>. For AF codepoints, you must translate the various codepoints
that are shown in <a href="#ipqos-reference-tbl-16">Table&nbsp;37-2</a> to decimal notation for use with <tt>dscp_map.</tt></p>

<a name="ipqos-reference-110"></a><h5>Using the <tt>dlcosmk</tt> Marker With VLAN Devices</h5>
<p><a name="indexterm-3177"></a><a name="indexterm-3178"></a><a name="indexterm-3179"></a><a name="indexterm-3180"></a>The <tt>dlcosmk</tt> marker module marks a forwarding behavior in the MAC header of
a datagram. You can use <tt>dlcosmk</tt> only on an IPQoS system with a
VLAN interface.</p><p><a name="indexterm-3181"></a><tt>dlcosmk</tt> adds four bytes, which are known as the <b>VLAN tag</b>, to the MAC
header. The VLAN tag includes a 3-bit user-priority value, which is defined by
the IEEE 801.D standard. Diffserv-aware switches that understand VLAN can read the user-priority
field in a datagram. The 801.D user priority values implement the class-of-service (CoS) marks,
which are well known and understood by commercial switches.</p><p><a name="indexterm-3182"></a>You can use the user-priority values in the <tt>dlcosmk</tt> marker action by defining
the class of service marks that are listed in the next table.</p><a name="ipqos-reference-tbl-18"></a><h6>Table&nbsp;37-3 801.D User-Priority Values</h6><table><col width="50*"><col width="50*"><tr><th align="left" valign="top" scope="column"><p>Class of
Service</p></th>
<th align="left" valign="top" scope="column"><p>Definition</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>0</p></td>
<td align="left" valign="top" scope="row"><p>Best effort</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>1</p></td>
<td align="left" valign="top" scope="row"><p>Background</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>2</p></td>
<td align="left" valign="top" scope="row"><p>Spare</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>3</p></td>
<td align="left" valign="top" scope="row"><p>Excellent effort</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>4</p></td>
<td align="left" valign="top" scope="row"><p>Controlled load</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>5</p></td>
<td align="left" valign="top" scope="row"><p>Video less than 100ms latency</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>6</p></td>
<td align="left" valign="top" scope="row"><p>Video less than 10ms latency</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>7</p></td>
<td align="left" valign="top" scope="row"><p>Network
control</p></td>
</tr>
</table><p>For more information on <tt>dlcosmk</tt>, refer to the <a href="http://docs.sun.com/doc/819-2254/dlcosmk-7ipp?a=view"><tt>dlcosmk</tt>(7ipp)</a> man page.</p>

<a name="ipqos-reference-17"></a><h5>IPQoS Configuration for Systems With VLAN Devices</h5>
<p>This section introduces a simple network scenario that shows how to implement IPQoS
on systems with VLAN devices. The scenario includes two IPQoS systems, <tt>machine1</tt> and
<tt>machine2</tt>, that are connected by a switch. The VLAN device on <tt>machine1</tt> has the
IP address <tt>10.10.8.1</tt>. The VLAN device on <tt>machine2</tt> has the IP address
<tt>10.10.8.3</tt>. </p><p><a name="indexterm-3183"></a>The following IPQoS configuration file for <tt>machine1</tt> shows a simple solution for marking
traffic through the switch to <tt>machine2</tt>.</p><a name="ipqos-reference-ex-19"></a>Example&nbsp;37-2 IPQoS Configuration File for a System With a VLAN Device<pre>fmt_version 1.0
action {
        module ipgpc
          name ipgpc.classify

        filter {
                name myfilter2
                daddr 10.10.8.3
                class myclass
        }

        class {
                name myclass
                next_action mark4
        }
}

action {
        name mark4
        module dlcosmk
        params {
                cos 4
                next_action continue
        global_stats true
        }
}</pre><p>In this configuration, all traffic from <tt>machine1</tt> that is destined for the VLAN
device on <tt>machine2</tt> is passed to the <tt>dlcosmk</tt> marker. The <tt>mark4</tt> marker action instructs
<tt>dlcosmk</tt> to add a VLAN mark to datagrams of class <tt>myclass</tt> with a
CoS of 4. The user-priority value of 4 indicates that the switch between
the two machines should give controlled load forwarding to <tt>myclass</tt> traffic flows from
<tt>machine1</tt>.</p>

<a name="ipqos-reference-300"></a><h4><tt>flowacct</tt> Module</h4>
<p><a name="indexterm-3184"></a><a name="indexterm-3185"></a>The IPQoS <tt>flowacct</tt> module records information about traffic flows, a process that is
referred to as <b>flow accounting</b>. Flow accounting produces data that can be used for
billing customers or for evaluating the amount of traffic to a particular class.</p><p>Flow accounting is optional. <tt>flowacct</tt> is typically the final module that metered or
marked traffic flows might encounter before release onto the network stream. For an
illustration of <tt>flowacct</tt>'s position in the Diffserv model, see <a href="ipqos-intro-11.html#ipqos-intro-fig-2">Figure&nbsp;32-1</a>. For detailed technical
information about <tt>flowacct</tt>, refer to the <tt>flowacct</tt>(7ipp) man page.</p><p>To enable flow accounting, you need to use the Solaris <tt>exacct</tt> accounting facility
and the <tt>acctadm</tt> command, as well as <tt>flowacct</tt>. For the overall steps
in setting up flow accounting, refer to <a href="ipqos-accounting-3.html">Setting Up Flow Accounting (Task Map)</a>.</p>

<a name="ipqos-reference-5"></a><h5><tt>flowacct</tt> Parameters</h5>
<p><a name="indexterm-3186"></a>The <tt>flowacct</tt> module gathers information about flows in a <b>flow table</b> that is composed
of <b>flow records</b>. Each entry in the table contains one flow record. You cannot
display a flow table.</p><p>In the IPQoS configuration file, you define the following <tt>flowacct</tt> parameters to
measure flow records and to write the records to the flow table:</p>
<ul><li><p><tt>timer</tt> &ndash; Defines an interval, in milliseconds, when timed-out flows are removed from the flow table and written to the file that is created by <tt>acctadm</tt></p></li>
<li><p><tt>timeout</tt> &ndash; Defines an interval, in milliseconds, which specifies how long a packet flow must be inactive before the flow times out</p>
<hr><p><b>Note - </b>You can configure <tt>timer</tt> and <tt>timeout</tt> to have different values.</p>
<hr>
</li>
<li><p><tt>max_limit</tt> &ndash; Places an upper limit on the number of flow records that can be stored in the flow table</p></li></ul>
<p>For an example of how <tt>flowacct</tt> parameters are used in the IPQoS configuration
file, refer to <a href="ipqos-policy-planning-5.html#ipqos-policy-planning-144">How to Configure Flow Control in the IPQoS Configuration File</a>.</p>

<a name="ipqos-reference-16"></a><h5>Flow Table</h5>
<p><a name="indexterm-3187"></a><a name="indexterm-3188"></a>The <tt>flowacct</tt> module maintains a flow table that records all packet flows that
are seen by a <tt>flowacct</tt> instance. A flow is identified by the following
parameters, which include the <tt>flowacct</tt> 8&ndash;tuple:</p>
<ul><li><p>Source address</p></li>
<li><p>Destination address</p></li>
<li><p>Source port</p></li>
<li><p>Destination port</p></li>
<li><p>DSCP</p></li>
<li><p>User ID</p></li>
<li><p>Project ID</p></li>
<li><p>Protocol Number</p></li></ul>
<p>If all the parameters of the 8&ndash;tuple for a flow remain the
same, the flow table contains only one entry. The <tt>max_limit</tt> parameter determines the number
of entries that a flow table can contain.</p><p>The flow table is scanned at the interval that is specified in
the IPQoS configuration file for the <tt>timer</tt> parameter. The default is 15 seconds. A
flow &ldquo;times out&rdquo; when its packets are not seen by the IPQoS system
for at least the <tt>timeout</tt> interval in the IPQoS configuration file. The default
time out interval is 60 seconds. Entries that have timed out are then
written to the accounting file that is created with the <tt>acctadm</tt> command.</p>

<a name="ipqos-reference-4"></a><h5><tt>flowacct</tt> Records</h5>
<p><a name="indexterm-3189"></a>A <tt>flowacct</tt> record contains the attributes described in the following table.</p><a name="ipqos-reference-tbl-6"></a><h6>Table&nbsp;37-4 Attributes of a <tt>flowacct</tt> Record</h6><table><col width="25.72*"><col width="40.15*"><col width="33.12*"><tr><th align="left" valign="top" scope="column"><p>Attribute Name</p></th>
<th align="left" valign="top" scope="column"><p>Attribute Contents</p></th>
<th align="left" valign="top" scope="column"><p>Type</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>src-addr-</tt><i>address-type</i><tt></tt></p></td>
<td align="left" valign="top" scope="row"><p>Source
address of the originator. <i>address-type</i> is either <tt>v4</tt> for IPv4 or <tt>v6</tt> for
IPv6, as specified in the IPQoS configuration file.</p></td>
<td align="left" valign="top" scope="row"><p>Basic </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>dest-addr-</tt><i>address-type</i></p></td>
<td align="left" valign="top" scope="row"><p>Destination address for the packets.
<i>address-type</i> is either <tt>v4</tt> for IPv4 or <tt>v6</tt> for IPv6, as specified in the
IPQoS configuration file.</p></td>
<td align="left" valign="top" scope="row"><p>Basic</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>src-port</tt></p></td>
<td align="left" valign="top" scope="row"><p>Source port from which the flow originated. </p></td>
<td align="left" valign="top" scope="row"><p>Basic</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>dest-port</tt></p></td>
<td align="left" valign="top" scope="row"><p>Destination port number
to which this flow is bound. </p></td>
<td align="left" valign="top" scope="row"><p>Basic</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>protocol</tt></p></td>
<td align="left" valign="top" scope="row"><p>Protocol number for the flow. </p></td>
<td align="left" valign="top" scope="row"><p>Basic</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>total-packets</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number
of packets in the flow.</p></td>
<td align="left" valign="top" scope="row"><p>Basic</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>total-bytes</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of bytes in the flow.</p></td>
<td align="left" valign="top" scope="row"><p>Basic </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt></tt><i>action-name</i><tt></tt></p></td>
<td align="left" valign="top" scope="row"><p>Name of
the <tt>flowacct</tt> action that recorded this flow.</p></td>
<td align="left" valign="top" scope="row"><p>Basic</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>creation-time</tt></p></td>
<td align="left" valign="top" scope="row"><p>First time that a packet is
seen for the flow by <tt>flowacct</tt>.</p></td>
<td align="left" valign="top" scope="row"><p>Extended only</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>last-seen</tt></p></td>
<td align="left" valign="top" scope="row"><p>Last time that a packet of
the flow was seen.</p></td>
<td align="left" valign="top" scope="row"><p>Extended only</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>diffserv-field</tt></p></td>
<td align="left" valign="top" scope="row"><p>DSCP in the outgoing packet headers of the
flow.</p></td>
<td align="left" valign="top" scope="row"><p>Extended only</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>user</tt></p></td>
<td align="left" valign="top" scope="row"><p>Either a UNIX User ID or user name, which is obtained
from the application.</p></td>
<td align="left" valign="top" scope="row"><p>Extended only</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>projid</tt></p></td>
<td align="left" valign="top" scope="row"><p>Project ID, which is obtained from the application.</p></td>
<td align="left" valign="top" scope="row"><p>Extended only</p></td>
</tr>
</table>

<a name="ipqos-reference-7"></a><h5>Using <tt>acctadm</tt> with the <tt>flowacct</tt> Module</h5>
<p><a name="indexterm-3190"></a><a name="indexterm-3191"></a>You use the <tt>acctadm</tt> command to create a file in which to store
the various flow records that are generated by <tt>flowacct</tt>. <tt>acctadm</tt> works in
conjunction with the extended accounting facility. For technical information about <tt>acctadm</tt>, refer to the
<a href="http://docs.sun.com/doc/819-2240/acctadm-1m?a=view"><tt>acctadm</tt>(1M)</a> man page.</p><p>The <tt>flowacct</tt> module observes flows and fills the flow  table with flow
records. <tt>flowacct</tt> then evaluates its parameters and attributes in the interval that is
specified by <tt>timer</tt>. When a packet is not seen for at least
the <tt>last_seen</tt> plus <tt>timeout</tt> values, the packet times out. All timed-out entries
are deleted from the flow table. These entries are then written to the
accounting file each time the interval that is specified in the <tt>timer</tt> parameter elapses.</p><p>To invoke <tt>acctadm</tt> for use with the <tt>flowacct</tt> module, use the following syntax:</p><pre>acctadm -e <i>file-type</i> -f <i>filename</i> flow</pre><dl><dt><tt>acctadm -e</tt></dt>
<dd><p>Invokes <tt>acctadm</tt> with the <tt>-e</tt> option. The -e indicates that a resource list follows.</p></dd>
<dt><i>file-type</i></dt>
<dd><p>Specifies the attributes to be gathered. <i>file-type</i> must be replaced by either <tt>basic</tt> or <tt>extended</tt>. For a list of attributes in each file type, refer to <a href="#ipqos-reference-tbl-6">Table&nbsp;37-4</a>.</p></dd>
<dt><tt>-f</tt><i>file-name</i></dt>
<dd><p>Creates the file<i>file-name</i> to hold the flow records.</p></dd>
<dt><tt>flow</tt></dt>
<dd><p>Indicates that <tt>acctadm</tt> is to be run with IPQoS. </p></dd>
</dl>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ipqos-reference-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipqos-reference-22.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

