<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Preparing an IPv6 Addressing Plan - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ipv6-planning-7.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipconfig-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level2"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level3"><a href="ipv6-planning-2.html">IPv6 Planning (Task Maps)</a></p>
<p class="toc level3"><a href="ipv6-planning-5.html">IPv6 Network Topology Scenario</a></p>
<p class="toc level3"><a href="ipv6-planning-7.html">Preparing the Existing Network to Support IPv6</a></p>
<p class="toc level4"><a href="ipv6-planning-7.html#ipv6-planning-18">How to Prepare Network Services for IPv6 Support</a></p>
<p class="toc level4"><a href="ipv6-planning-7.html#ipv6-planning-35">How to Prepare DNS for IPv6 Support</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Preparing an IPv6 Addressing Plan</a></p>
</div>
<p class="toc level2 tocsp"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level2"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<p class="toc level2"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level2"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level2"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<p class="toc level2"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level2"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level2"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level2"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="ipv6-planning-9"></a><h3>Preparing an IPv6 Addressing Plan</h3>
<p>A major part of the transition from IPv4 to IPv6 includes the
development of an addressing plan. This task involves the following preparations:</p>
<ul><li><p><a href="#ipv6-planning-10">Obtaining a Site Prefix</a></p></li>
<li><p><a href="#ipv6-planning-21">Creating the IPv6 Numbering Scheme</a></p></li></ul>


<a name="ipv6-planning-10"></a><h4>Obtaining a Site Prefix</h4>
<a name="indexterm-371"></a><p>Before you configure IPv6, you must obtain a site prefix. The site
prefix is used to derive IPv6 addresses for all the nodes in your
IPv6 implementation. For an introduction to site prefixes, refer to <a href="ipv6-overview-10.html#ipv6-overview-170">Prefixes in IPv6</a>.</p><p>Any ISP that supports IPv6 can provide your organization with a 48-bit IPv6
site prefix. If your current ISP only supports IPv4, you can use
another ISP for IPv6 support while retaining your current ISP for IPv4 support.
In such an instance, you can use one of several workarounds. For more
information, see <a href="ipv6-troubleshoot-2.html#ipv6-troubleshoot-7">Current ISP Does Not Support IPv6</a>.</p><p>If your organization is an ISP, then you obtain site prefixes for
your customers from the appropriate Internet registry. For more information, see the <a href="http://www.iana.org">Internet Assigned Numbers Authority (IANA)</a>.</p>

<a name="ipv6-planning-21"></a><h4>Creating the IPv6 Numbering Scheme</h4>
<p>Unless your proposed IPv6 network is entirely new, use your existing IPv4 topology
as the basis for the IPv6 numbering scheme. </p>

<a name="ipv6-planning-22"></a><h5>Creating a Numbering Scheme for Subnets</h5>
<a name="indexterm-372"></a><p>Begin your numbering scheme by mapping your existing IPv4 subnets into equivalent IPv6
subnets. For example, consider the subnets illustrated in <a href="ipv6-planning-5.html#ipv6-planning-fig-33">Figure&nbsp;4-1</a>. Subnets 1&ndash;4 use the
RFC 1918 IPv4 private address designation for the first 16 bits of their
addresses, in addition to the digits 1&ndash;4 to indicate the subnet. For illustrative
purposes, assume that the IPv6 prefix <tt>2001:db8:3c4d/48</tt> has been assigned to the site.
The following table shows how the private IPv4 prefixes map into IPv6 prefixes.</p><table><col width="50*"><col width="50*"><tr><th align="left" valign="top" scope="column"><p>IPv4
Subnet Prefix</p></th>
<th align="left" valign="top" scope="column"><p>Equivalent IPv6 Subnet Prefix </p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>192.168.1.0/24</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>2001:db8:fd3c4d:1::/64</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>192.168.2.0/24</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>2001:db8:3c4d:2::/64</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>192.168.3.0/24</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>2001:db8:3c4d:3::/64</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>192.168.4.0/24</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>2001:db8:3c4d:4::/64</tt></p></td>
</tr>
</table>

<a name="ipv6-planning-11"></a><h5>Creating an IPv6 Addressing Plan for Nodes</h5>
<a name="indexterm-373"></a><p>For most hosts, stateless autoconfiguration of IPv6 addresses for their interfaces is an
appropriate, time saving strategy. When the host receives the site prefix from the
nearest router, Neighbor Discovery automatically generates IPv6 addresses for each interface on the
host.</p><p>Servers need to have stable IPv6 addresses. If you do not manually
configure a server's IPv6 addresses, a new IPv6 address is autoconfigured whenever a NIC
card is replaced on the server. Keep the following tips in mind
when you create addresses for servers:</p>
<ul><li><p>Give servers meaningful and stable interface IDs. One strategy is to use a sequential numbering scheme for interface IDs. For example, the internal interface of the LDAP server in <a href="ipv6-planning-5.html#ipv6-planning-fig-33">Figure&nbsp;4-1</a> might become <tt>2001:db8:3c4d:2::2</tt>. </p></li>
<li><p>Alternatively, if you do not regularly renumber your IPv4 network, consider using the existing IPv4 addresses of the routers and servers as their interface IDs. In <a href="ipv6-planning-5.html#ipv6-planning-fig-33">Figure&nbsp;4-1</a>, suppose Router 1's interface to the DMZ has the IPv4 address <tt>123.456.789.111</tt>. You can convert the IPv4 address to hexadecimal and use the result as the interface ID. The new interface ID would be <tt>::7bc8:156F.</tt></p><p>Only use this approach if you own the registered IPv4 address, rather than having obtained the address from an ISP. If you use an IPv4 address that was given to you by an ISP, you create a dependency that would create problems if you change ISPs.</p></li></ul>
<p>Due to the limited number of IPv4 addresses, in the past a
network designer had to consider where to use global, registered addresses and private,
RFC 1918 addresses. However, the notion of global and private IPv4 addresses does not
apply to IPv6 addresses. You can use global unicast addresses, which include the
site prefix, on all links of the network, including the public DMZ.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ipv6-planning-7.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ipconfig-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

