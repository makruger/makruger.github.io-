<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Making Decisions for IP Address Management (Task Map) - System Administration Guide: IP Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: IP Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="chapter2-29.html">Previous</a>
             </td>
             <td align="right">
                 <a href="dhcp-plan-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="iptm-1.html">Part&nbsp;I&nbsp;TCP/IP Administration</a></p>
<p class="toc level2"><a href="ipov-1.html">1.&nbsp;&nbsp;Solaris TCPIP Protocol Suite (Overview)</a></p>
<p class="toc level2"><a href="ipplan-1.html">2.&nbsp;&nbsp;Planning an IPv4 Addressing Scheme (Tasks</a></p>
<p class="toc level2"><a href="ipv6-overview-7.html">3.&nbsp;&nbsp;Planning an IPv6 Addressing Scheme (Overview)</a></p>
<p class="toc level2"><a href="ipv6-planning-1.html">4.&nbsp;&nbsp;Planning an IPv6 Network (Tasks)</a></p>
<p class="toc level2"><a href="ipconfig-1.html">5.&nbsp;&nbsp;Configuring TCP/IP Network Services and IPv4 Addressing (Tasks)</a></p>
<p class="toc level2"><a href="fwawf.html">6.&nbsp;&nbsp;Administering Network Interfaces (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-config-tasks-1.html">7.&nbsp;&nbsp;Enabling IPv6 on a Network (Tasks)</a></p>
<p class="toc level2"><a href="ipv6-admintasks-1.html">8.&nbsp;&nbsp;Administering a TCP/IP Network (Tasks)</a></p>
<p class="toc level2"><a href="gegel.html">9.&nbsp;&nbsp;Troubleshooting Network Problems (Tasks)</a></p>
<p class="toc level2"><a href="ipref-8.html">10.&nbsp;&nbsp;TCP/IP and IPv4 in Depth (Reference)</a></p>
<p class="toc level2"><a href="ipv6-ref-76.html">11.&nbsp;&nbsp;IPv6 in Depth (Reference)</a></p>
<p class="toc level1 tocsp"><a href="dhcptm-1.html">Part&nbsp;II&nbsp;DHCP</a></p>
<p class="toc level2"><a href="dhcp-overview-1.html">12.&nbsp;&nbsp;About Solaris DHCP (Overview)</a></p>
<p class="toc level2"><a href="chap2-26.html">13.&nbsp;&nbsp;Planning for DHCP Service (Tasks)</a></p>
<p class="toc level3"><a href="chapter2-4.html">Preparing Your Network for the DHCP Service (Task Map)</a></p>
<p class="toc level3"><a href="chapter2-29.html">Making Decisions for Your DHCP Server Configuration (Task Map)</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Making Decisions for IP Address Management (Task Map)</a></p>
</div>
<p class="toc level3"><a href="dhcp-plan-1.html">Planning for Multiple DHCP Servers</a></p>
<p class="toc level3"><a href="dhcp-plan-2.html">Planning DHCP Configuration of Your Remote Networks</a></p>
<p class="toc level3"><a href="chapter2-34.html">Selecting the Tool for Configuring DHCP</a></p>
<p class="toc level2 tocsp"><a href="chapter3-20.html">14.&nbsp;&nbsp;Configuring the DHCP Service (Tasks)</a></p>
<p class="toc level2"><a href="dhcp-admin-9.html">15.&nbsp;&nbsp;Administering DHCP (Tasks)</a></p>
<p class="toc level2"><a href="eyatl.html">16.&nbsp;&nbsp;Configuring and Administering  DHCP Clients</a></p>
<p class="toc level2"><a href="dhcp-trouble-1.html">17.&nbsp;&nbsp;Troubleshooting DHCP (Reference)</a></p>
<p class="toc level2"><a href="dhcp-ref-4.html">18.&nbsp;&nbsp;DHCP Commands and Files (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipsectm-1.html">Part&nbsp;III&nbsp;IP Security</a></p>
<p class="toc level2"><a href="ipsec-ov-1.html">19.&nbsp;&nbsp;IP Security Architecture (Overview)</a></p>
<p class="toc level2"><a href="ipsec-mgtasks-1.html">20.&nbsp;&nbsp;Configuring IPsec (Tasks)</a></p>
<p class="toc level2"><a href="ipsecref-1.html">21.&nbsp;&nbsp;IP Security Architecture (Reference)</a></p>
<p class="toc level2"><a href="ike-1.html">22.&nbsp;&nbsp;Internet Key Exchange (Overview)</a></p>
<p class="toc level2"><a href="ike-task-1.html">23.&nbsp;&nbsp;Configuring IKE (Tasks)</a></p>
<p class="toc level2"><a href="ikeref-1.html">24.&nbsp;&nbsp;Internet Key Exchange (Reference)</a></p>
<p class="toc level2"><a href="eupsq.html">25.&nbsp;&nbsp;Solaris IP Filter (Overview)</a></p>
<p class="toc level2"><a href="ipfilter-admin-1.html">26.&nbsp;&nbsp;Solaris IP Filter (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="miptm-1.html">Part&nbsp;IV&nbsp;Mobile IP</a></p>
<p class="toc level2"><a href="mipoverview-1.html">27.&nbsp;&nbsp;Mobile IP (Overview)</a></p>
<p class="toc level2"><a href="mipimplementing-1.html">28.&nbsp;&nbsp;Administering Mobile IP (Tasks)</a></p>
<p class="toc level2"><a href="mipmanaging-22.html">29.&nbsp;&nbsp;Mobile IP Files and Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="ipmptm-1.html">Part&nbsp;V&nbsp;IPMP</a></p>
<p class="toc level2"><a href="mpoverview.html">30.&nbsp;&nbsp;Introducing IPMP (Overview)</a></p>
<p class="toc level2"><a href="deploynetmult-56.html">31.&nbsp;&nbsp;Administering IPMP (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ipqostm-1.html">Part&nbsp;VI&nbsp;IP Quality of Service (IPQoS)</a></p>
<p class="toc level2"><a href="ipqos-intro-1.html">32.&nbsp;&nbsp;Introducing IPQoS (Overview)</a></p>
<p class="toc level2"><a href="ipqos-config-planning-1.html">33.&nbsp;&nbsp;Planning for an IPQoS-Enabled Network (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-policy-planning-1.html">34.&nbsp;&nbsp;Creating the IPQoS Configuration File (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-isp-setup-1.html">35.&nbsp;&nbsp;Starting and Maintaining IPQoS (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-accounting-1.html">36.&nbsp;&nbsp;Using Flow Accounting and Statistics Gathering (Tasks)</a></p>
<p class="toc level2"><a href="ipqos-reference-1.html">37.&nbsp;&nbsp;IPQoS in Detail (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="chapter2-30"></a><h3>Making Decisions for IP Address Management (Task Map)</h3>
<p><a name="indexterm-1383"></a>As part of the DHCP service setup, you determine several aspects of the
IP addresses that the server is to manage. If your network needs
more than one DHCP server, you can assign responsibility for some IP addresses to
each server. You must decide how to divide responsibility for the addresses. The
following task map can help you make IP address management decisions.</p><a name="indexterm-1384"></a><table><col width="33*"><col width="33*"><col width="33*"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For Information</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Specify
which addresses that the server should manage.</p></td>
<td align="left" valign="top" scope="row"><p>Determine how many addresses you want
the DHCP server to manage, and what those addresses are.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#chapter2-31">Number and Ranges of IP Addresses</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Decide if the server
should automatically generate host names for clients.</p></td>
<td align="left" valign="top" scope="row"><p>Learn how client host names are
generated so that you can decide whether to generate host names.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#chapter2-32">Client Host Name Generation</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Determine what configuration
macro to assign to clients.</p></td>
<td align="left" valign="top" scope="row"><p>Learn about client configuration macros so that you
can select an appropriate macro for clients.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#chapter2-33">Default Client Configuration Macros</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Determine lease types to use.</p></td>
<td align="left" valign="top" scope="row"><p>Learn about lease
types to help you determine what type is best for your DHCP clients.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#chapter2-22">Dynamic and Permanent Lease Types</a></p></td>
</tr>
</table>

<a name="chapter2-31"></a><h4>Number and Ranges of IP Addresses</h4>
<p>During the initial server configuration, DHCP Manager allows you to add one block,
or range, of IP addresses under DHCP management by specifying the total number
of addresses and the first address in the block. DHCP Manager adds a
list of contiguous addresses from this information. If you have several blocks of
noncontiguous addresses, you can add the others by running DHCP Manager's Address Wizard
again, after the initial configuration.</p><p>Before you configure your IP addresses, know how many addresses are in the
initial block of addresses you want to add and the IP address
of the first address in the range.</p>

<a name="chapter2-32"></a><h4>Client Host Name Generation</h4>
<p><a name="indexterm-1385"></a>The dynamic nature of DHCP means that an IP address is not
permanently associated with the host name of the system that is using it.
The DHCP management tools can generate a client name to associate with each
IP address if you select this option. The client names consist of a
prefix, or root name, plus a dash and a number assigned by the
server. For example, if the root name is <tt>charlie</tt>, the client names are
<tt>charlie-1</tt>, <tt>charlie-2</tt>, <tt>charlie-3</tt>, and so on.</p><p>By default, generated client names begin with the name of the DHCP
server that manages them. This strategy is useful in environments that have more than
one DHCP server because you can quickly see in the DHCP network
tables which clients any given DHCP server manages. However, you can change the
root name to any name you choose.</p><p>Before you configure your IP addresses, decide if you want the DHCP management
tools to generate client names, and if so, what root name to
use for the names.</p><p>The generated client names can be mapped to IP addresses in <tt>/etc/inet/hosts</tt>,
DNS, or NIS+ if you specify to register host names during DHCP configuration.
See <a href="dhcp-admin-51.html#dhcp-overview-5sm">Client Host Name Registration</a> for more information.</p>

<a name="chapter2-33"></a><h4>Default Client Configuration Macros</h4>
<p><a name="indexterm-1386"></a>In Solaris DHCP, a <b>macro</b> is a collection of network configuration options and
their assigned values. The DHCP server uses macros to determine what network configuration
information to send to a DHCP client.</p><p>When you configure the DHCP server, the management tools gather information from system
files and directly from you through prompts or command-line options you specify. With
this information, the management tools create the following macros:</p>
<ul><li><p><b>Network address macro</b> &mdash; The network address macro is named to match the IP address of the client network. For example, if the network is <tt>192.68.0.0</tt>, the network address macro is also named <tt>192.68.0.0</tt>. The macro contains information needed by any client that is part of the network, such as subnet mask, network broadcast address, default router or router discovery token, and NIS/NIS+ domain and server if the server uses NIS/NIS+. Other options that are applicable to your network might be included. The network address macro is automatically processed for all clients located on that network, as described in <a href="dhcp-overview-14a.html#dhcp-overview-10">Order of Macro Processing</a>.</p></li>
<li><p><b>Locale macro</b> &mdash; The locale macro is named <tt>Locale</tt>. The macro contains the offset (in seconds) from Coordinated Universal Time (UTC) to specify the time zone. The locale macro is not automatically processed, but is included in the server macro.</p></li>
<li><p><b>Server macro</b> &mdash; The server macro is named to match the server's host name. For example, if the server is named <tt>pineola</tt>, the server macro is also named <tt>pineola</tt>. The server macro contains information about the lease policy, time server, DNS domain, and DNS server, and possibly other information that the configuration program was able to obtain from system files. The server macro includes the locale macro, so the DHCP server processes the locale macro as part of the server macro.</p><p>When you configure IP addresses for the first network, you must select a client configuration macro to be used for all DHCP clients that use the addresses you are configuring. The macro that you select is mapped to the IP addresses. By default, the server macro is selected because the macro contains information needed by all clients that use this server.</p></li></ul>
<p>Clients receive the options contained in the network address macro before the options
in the macro that is mapped to IP addresses. This processing order causes
the options in the server macro to take precedence over any conflicting options
in the network address macro. See <a href="dhcp-overview-14a.html#dhcp-overview-10">Order of Macro Processing</a> for more information about the
order in which macros are processed.</p>

<a name="chapter2-22"></a><h4>Dynamic and Permanent Lease Types</h4>
<p><a name="indexterm-1387"></a>The <b>lease type</b> determines whether the lease policy applies to the IP addresses you
are configuring. During initial server configuration, DHCP Manager allows you to select either
dynamic or permanent leases for the addresses you are adding. If you configure
the DHCP server with the <tt>dhcpconfig</tt> command, leases are dynamic.</p><p>When an IP address has a <b>dynamic lease</b>, the DHCP server can manage the
address. The DHCP server can allocate the IP address to a client, extend
the lease time, detect when the address is no longer in use, and
reclaim the address. When an IP address has a <b>permanent lease</b>, the DHCP
server can only allocate the address. The client then owns the address until
explicitly releasing the address. When the address is released, the server can assign
the address to another client. The address is not subject to the lease
policy as long as the address is configured with a permanent lease type.</p><p>When you configure a range of IP addresses, the lease type you
select applies to all the addresses in the range. To get the most
benefit from DHCP, you should use dynamic leases for most of the addresses.
You can later modify individual addresses to make them permanent, if necessary. However,
the total number of permanent leases should be kept to a minimum.</p>

<a name="dhcp-plan-4"></a><h4>Reserved IP Addresses and Lease Type</h4>
<p><a name="indexterm-1388"></a>IP addresses can be reserved by manually assigning them to particular clients. A
reserved address can be associated with a permanent lease or a dynamic lease.
When a reserved address is assigned a permanent lease, the following statements are
true:</p>
<ul><li><p>The address can be allocated only to the client that is bound to the address.</p></li>
<li><p>The DHCP server cannot allocate the address to another client.</p></li>
<li><p>The address cannot be reclaimed by the DHCP server.</p></li></ul>
<p>If a reserved address is assigned a dynamic lease, the address can
be allocated only to the client that is bound to the address. However,
the client must track lease time and negotiate for a lease extension as
if the address were not reserved. This strategy enables you to track when
the client is using the address by looking at the network table.</p><p>You cannot create reserved addresses for all the IP addresses during the initial
configuration. Reserved addresses are intended to be used sparingly for individual addresses.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="chapter2-29.html">Previous</a>
             </td>
             <td align="right">
                 <a href="dhcp-plan-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

