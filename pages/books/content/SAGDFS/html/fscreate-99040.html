<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Creating a Temporary File System (TMPFS) - System Administration Guide: Devices and File Systems</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Devices and File Systems</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="fscreate-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="fscreate-86793.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="medintro-55492.html">1.&nbsp;&nbsp;Managing Removable Media (Overview)</a></p>
<p class="toc level1 tocsp"><a href="medformat-83002.html">2.&nbsp;&nbsp;Managing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medaccess-29267.html">3.&nbsp;&nbsp;Accessing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medcdrw-1.html">4.&nbsp;&nbsp;Writing CDs and DVDs (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig-27900.html">5.&nbsp;&nbsp;Managing Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig2-1.html">6.&nbsp;&nbsp;Dynamically Configuring Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devusbover-24.html">7.&nbsp;&nbsp;Using USB Devices (Overview)</a></p>
<p class="toc level1 tocsp"><a href="devusbtasks-1.html">8.&nbsp;&nbsp;Using USB Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fncpk.html">9.&nbsp;&nbsp;Using InfiniBand Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksconcepts-29477.html">10.&nbsp;&nbsp;Managing Disks (Overview)</a></p>
<p class="toc level1 tocsp"><a href="disksprep-31030.html">11.&nbsp;&nbsp;Administering Disks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="diskssadd-16103.html">12.&nbsp;&nbsp;SPARC: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksxadd-38159.html">13.&nbsp;&nbsp;x86: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fmvcd.html">14.&nbsp;&nbsp;Configuring Solaris iSCSI Targets and Initiators (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gfydr.html">15.&nbsp;&nbsp;Configuring and Managing the Solaris Internet Storage Name Service (iSNS)</a></p>
<p class="toc level1 tocsp"><a href="disksformat-15833.html">16.&nbsp;&nbsp;The <tt>format</tt> Utility (Reference)</a></p>
<p class="toc level1 tocsp"><a href="fsoverview-38559.html">17.&nbsp;&nbsp;Managing File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="fscreate-96442.html">18.&nbsp;&nbsp;Creating UFS, TMPFS, and LOFS File Systems (Tasks)</a></p>
<p class="toc level2"><a href="fscreate-1.html">Creating a UFS File System</a></p>
<p class="toc level3"><a href="fscreate-1.html#fscreate-22821">How to Create a UFS File System</a></p>
<p class="toc level3"><a href="fscreate-1.html#fsoverview-14">How to Create a Multiterabyte UFS File System</a></p>
<p class="toc level3"><a href="fscreate-1.html#fsoverview-17">How to Expand a Multiterabyte UFS File System</a></p>
<p class="toc level3"><a href="fscreate-1.html#fsoverview-13">How to Expand a UFS File System to a Multiterabyte UFS File System</a></p>
<div class="onpage">
<p class="toc level2 tocsp"><a href="">Creating a Temporary File System (TMPFS)</a></p>
<p class="toc level3"><a href="#fscreate-34114">How to Create and Mount a TMPFS File System</a></p>
</div>
<p class="toc level2 tocsp"><a href="fscreate-86793.html">Creating and Mounting a Loopback File System (LOFS)</a></p>
<p class="toc level3"><a href="fscreate-86793.html#fscreate-25028">How to Create and Mount an LOFS File System</a></p>
<p class="toc level1 tocsp"><a href="fsmount-42780.html">19.&nbsp;&nbsp;Mounting and Unmounting File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fscachefs-70682.html">20.&nbsp;&nbsp;Using The CacheFS File System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsswap-14677.html">21.&nbsp;&nbsp;Configuring Additional Swap Space (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fstroublefsck-61446.html">22.&nbsp;&nbsp;Checking UFS File System Consistency (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsfilesysappx-94408.html">23.&nbsp;&nbsp;UFS File System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupconcepts-57422.html">24.&nbsp;&nbsp;Backing Up and Restoring File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="bkuptasks2-64128.html">25.&nbsp;&nbsp;Backing Up Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupsnapshot-2.html">26.&nbsp;&nbsp;Using UFS Snapshots (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuprestoretasks-38055.html">27.&nbsp;&nbsp;Restoring Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupref-12756.html">28.&nbsp;&nbsp;UFS Backup and Restore Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupsavefiles-17924.html">29.&nbsp;&nbsp;Copying UFS Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuptapedevice-42512.html">30.&nbsp;&nbsp;Managing Tape Drives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="fscreate-99040"></a><h3>Creating a Temporary File System (TMPFS)</h3>
<p>A <b>temporary file system</b> (<b>TMPFS</b>) uses local memory for file system reads and writes, which
is typically much faster than reads and writes in a UFS file system.
TMPFS file systems can improve system performance by saving the cost of reading
and writing temporary files to a local disk or across the network. Files
in TMPFS file systems do not survive across reboots or unmounts.</p><p>If you create multiple TMPFS file systems, be aware that they all
use the same system resources. Files created under one TMPFS file system use
up space available for any other TMPFS file system, unless you limit TMPFS
sizes by using the <tt>-o size</tt> option of the <tt>mount</tt> command.</p><p>For more information, see the <a href="http://docs.sun.com/doc/819-2254/tmpfs-7fs?a=view"><tt>tmpfs</tt>(7FS)</a>.</p>

<a name="fscreate-34114"></a><h4>How to Create and Mount a TMPFS File System</h4><ol>
<li><a name="fscreate-step-10"></a><b>Become superuser or assume an equivalent role.</b></li>
<li><a name="fscreate-step-34"></a><b>Create the directory that you want to mount as the TMPFS file system,
if necessary.</b><pre># <tt><b>mkdir</b></tt> <i>/mount-point</i></pre><p>where <i>mount-point</i> is the directory on which the TMPFS file system is mounted.</p></li>
<li><a name="fscreate-step-12"></a><b>Mount the TMPFS file system. </b><pre># <tt><b>mount -F tmpfs</b></tt> [<tt><b>-o size=</b></tt><i>number</i>]  <tt><b>swap</b></tt> <i>mount-point</i></pre><dl><dt><tt>-o size=</tt><i>number</i></dt>
<dd><p>Specifies the size limit of the TMPFS file system in Mbytes. </p></dd>
<dt><i>mount-point</i></dt>
<dd><p>Specifies the directory on which the TMPFS file system is mounted.</p></dd>
</dl>
<p>To set up the system to automatically mount a TMPFS file system
at boot time, see <a href="#fscreate-27">Example&nbsp;18-3</a>.</p></li>
<li><a name="fscreate-step-21"></a><b>Verify that the TMPFS file system has been created.</b><pre># <tt><b>mount -v</b></tt></pre></li></ol><a name="fncqx"></a>Example&nbsp;18-2 Creating and Mounting a TMPFS File System<p>The following example shows how to create, mount, and limit the size of
the TMPFS file system, <tt>/export/reports</tt>, to 50 Mbytes.</p><pre># <tt><b>mkdir /export/reports</b></tt>
# <tt><b>chmod 777 /export/reports</b></tt>
# <tt><b>mount -F tmpfs -o size=50m swap /export/reports</b></tt>
# <tt><b>mount -v</b></tt></pre><a name="fscreate-27"></a>Example&nbsp;18-3 Mounting a TMPFS File System at Boot Time<p>You can set up the system to automatically mount a TMPFS file
system at boot time by adding an <tt>/etc/vfstab</tt> entry. The following example shows an
entry in the <tt>/etc/vfstab</tt> file that mounts <tt>/export/test</tt> as a TMPFS file
system at boot time. Because the <tt>size=</tt><i>number</i> option is not specified, the size
of the TMPFS file system on <tt>/export/test</tt> is limited only by the available
system resources.</p><pre>swap - /export/test  tmpfs   -  yes  -</pre><p>For more information on the <tt>/etc/vfstab</tt> file, see <a href="fsmount-43249.html#fsmount-81772">Field Descriptions for the <tt>/etc/vfstab</tt> File</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="fscreate-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="fscreate-86793.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

