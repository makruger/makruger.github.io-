<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>About USB in the Solaris OS - System Administration Guide: Devices and File Systems</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Devices and File Systems</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="devusbover-2.html">Previous</a>
             </td>
             <td align="right">
                 <a href="devusbtasks-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="medintro-55492.html">1.&nbsp;&nbsp;Managing Removable Media (Overview)</a></p>
<p class="toc level1 tocsp"><a href="medformat-83002.html">2.&nbsp;&nbsp;Managing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medaccess-29267.html">3.&nbsp;&nbsp;Accessing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medcdrw-1.html">4.&nbsp;&nbsp;Writing CDs and DVDs (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig-27900.html">5.&nbsp;&nbsp;Managing Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig2-1.html">6.&nbsp;&nbsp;Dynamically Configuring Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devusbover-24.html">7.&nbsp;&nbsp;Using USB Devices (Overview)</a></p>
<p class="toc level2"><a href="gafhv.html">What's New in USB Devices?</a></p>
<p class="toc level2"><a href="devusbover-28.html">Solaris Support for USB Devices</a></p>
<p class="toc level2"><a href="devusbover-2.html">Overview of USB Devices</a></p>
<div class="onpage">
<p class="toc level2"><a href="">About USB in the Solaris OS</a></p>
</div>
<p class="toc level1 tocsp"><a href="devusbtasks-1.html">8.&nbsp;&nbsp;Using USB Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fncpk.html">9.&nbsp;&nbsp;Using InfiniBand Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksconcepts-29477.html">10.&nbsp;&nbsp;Managing Disks (Overview)</a></p>
<p class="toc level1 tocsp"><a href="disksprep-31030.html">11.&nbsp;&nbsp;Administering Disks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="diskssadd-16103.html">12.&nbsp;&nbsp;SPARC: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksxadd-38159.html">13.&nbsp;&nbsp;x86: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fmvcd.html">14.&nbsp;&nbsp;Configuring Solaris iSCSI Targets and Initiators (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gfydr.html">15.&nbsp;&nbsp;Configuring and Managing the Solaris Internet Storage Name Service (iSNS)</a></p>
<p class="toc level1 tocsp"><a href="disksformat-15833.html">16.&nbsp;&nbsp;The <tt>format</tt> Utility (Reference)</a></p>
<p class="toc level1 tocsp"><a href="fsoverview-38559.html">17.&nbsp;&nbsp;Managing File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="fscreate-96442.html">18.&nbsp;&nbsp;Creating UFS, TMPFS, and LOFS File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsmount-42780.html">19.&nbsp;&nbsp;Mounting and Unmounting File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fscachefs-70682.html">20.&nbsp;&nbsp;Using The CacheFS File System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsswap-14677.html">21.&nbsp;&nbsp;Configuring Additional Swap Space (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fstroublefsck-61446.html">22.&nbsp;&nbsp;Checking UFS File System Consistency (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsfilesysappx-94408.html">23.&nbsp;&nbsp;UFS File System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupconcepts-57422.html">24.&nbsp;&nbsp;Backing Up and Restoring File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="bkuptasks2-64128.html">25.&nbsp;&nbsp;Backing Up Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupsnapshot-2.html">26.&nbsp;&nbsp;Using UFS Snapshots (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuprestoretasks-38055.html">27.&nbsp;&nbsp;Restoring Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupref-12756.html">28.&nbsp;&nbsp;UFS Backup and Restore Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupsavefiles-17924.html">29.&nbsp;&nbsp;Copying UFS Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuptapedevice-42512.html">30.&nbsp;&nbsp;Managing Tape Drives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="devusbover-9"></a><h3>About USB in the Solaris OS</h3>
<p>This section describes information you should know about USB in the Solaris
OS.</p>

<a name="eveon"></a><h4>USB 2.0 Features</h4>
<p>The following USB 2.0 features are included:</p>
<ul><li><p><b>Better performance</b> &ndash; Increased data throughput for devices connected to USB 2.0 controllers, up to 40 times faster than USB 1.1 devices.<a name="indexterm-124"></a></p><p>You can take advantage of the high-speed USB protocol when accessing high-speed USB devices, such as DVDs and hard disks.</p></li>
<li><p><b>Backward Compatibility</b> &ndash; Compatibility with 1.0 and 1.1 devices and drivers so that you can use the same cables, connectors, and software interfaces.</p></li></ul>
<p>For a description of USB devices and terminology, see <a href="devusbover-2.html">Overview of USB Devices</a>.</p>

<a name="devusbover-40"></a><h5>USB 2.0 Device Features and Compatibility Issues</h5>
<p>USB 2.0 devices are defined as high-speed devices that follow the USB 2.0
specification. You can refer to the USB 2.0 specification at <a href="http://www.usb.org">http://www.usb.org</a>.</p><p>To identify the speed of your USB device in the Solaris 10
releases, check the <tt>/var/adm/messages</tt> file for messages similar to the following:</p><pre>Dec 13 17:05:57 mysystem usba: [ID 912658 kern.info] USB 2.0 device
(usb50d,249) operating at hi speed (USB 2.x) on USB 2.0 external hub:
storage@4, scsa2usb0 at bus address 4</pre><p>Here are some of the USB devices that are supported in this
Solaris release:<a name="indexterm-125"></a></p>
<ul><li><p>Mass storage devices, such as CD-RWs, hard disks, DVDs, digital cameras, diskettes, tape drives, memory sticks, and multi-format card readers</p></li>
<li><p>Keyboards and mouse devices</p></li>
<li><p>Audio devices, such as speakers and microphones</p></li></ul>
<p>For a full listing of USB devices that have been verified on
the Solaris release, go to:</p><p><a href="http://www.sun.com/io_technologies/USB.html">http://www.sun.com/io_technologies/USB.html</a></p><p>Additional storage devices might work by modifying the <tt>scsa2usb.conf</tt> file. For more
information, see <a href="http://docs.sun.com/doc/819-2254/scsa2usb-7d?a=view"><tt>scsa2usb</tt>(7D)</a>.</p><p>Solaris USB 2.0 device support includes the following features:</p>
<ul><li><p>Increased USB bus speed from 12 Mbyte/sec to 480 Mbyte/sec. This increase means devices that support the USB 2.0 specification can run significantly faster than their USB 1.1 counterparts, when they are connected to a USB 2.0 port.</p><p>A USB 2.0 port might be one of the following possibilities:</p>
<ul><li><p>A port on a USB 2.0 PCI card</p></li>
<li><p>A port on a USB 2.0 hub that is connected to USB 2.0 port</p></li>
<li><p>A port on a SPARC or x86 computer motherboard</p></li></ul>
<p>A USB 2.0 PCI card might be needed for older SPARC platforms.</p></li>
<li><p>For a list of USB 2.0 PCI cards that have been verified for the Solaris release, go to:</p><p><a href="http://www.sun.com/io_technologies/USB.html">http://www.sun.com/io_technologies/USB.html</a></p></li>
<li><p>USB 1.1 devices work as they have in the past, even if you have both USB 1.1 and USB 2.0 devices on the same system.</p></li>
<li><p>While USB 2.0 devices operate on a USB 1.x port, their performance is significantly better when they are connected to a USB 2.0 port.</p></li>
<li><p>A USB 2.0 host controller has one high-speed Enhanced Host Controller Interface (EHCI) and one or more OpenHCI Host Controller Interface (OHCI) or Universal Host Controller Interface (UHCI) embedded controllers. Devices connected to a USB 2.0 port are dynamically assigned to either an EHCI or OHCI controller, depending on whether they support USB 2.0.</p>
<hr><p><b>Note - </b>USB 2.0 storage devices that are connected to a port on a USB 2.0 PCI card, and that were used with a prior Solaris release in the same hardware configuration, can change device names after upgrading to this release. This change occurs because these devices are now seen as USB 2.0 devices and are taken over by the EHCI controller. The controller number, <i>w</i> in <tt>/dev/[</tt><i>r</i><tt>]dsk/c</tt><i>w</i><tt>t</tt><i>x</i><tt>d</tt><i>y</i><tt>s</tt><i>z</i>, is changed for these devices.</p><p>Also note that the speed of a USB device is limited to what the parent port can support. For example, if a USB 2.0 external hub is followed by a USB 1.x hub and a USB 2.0 device downstream, devices that are connected to the USB 2.0 external hub run at full speed and not high speed.</p>
<hr>
</li></ul>
<p>For more information on USB 2.0 device support, see <a href="http://docs.sun.com/doc/819-2254/ehci-7d?a=view"><tt>ehci</tt>(7D)</a> and <a href="http://docs.sun.com/doc/819-2254/usba-7d?a=view"><tt>usba</tt>(7D)</a>.</p>

<a name="devusbover-44"></a><h5>Bus-Powered Devices</h5>
<p>Bus-powered hubs use power from the USB bus to which they are
connected, to power devices connected to them. Special care must be taken to
not overload these hubs, because the power these hubs offer to their downstream
devices is limited.<a name="indexterm-126"></a></p><p>Starting in the Solaris Express release, power budgeting is implemented for USB devices.
This feature has the following limitations:</p>
<ul><li><p>Cascading two bus-powered hubs is prohibited.</p></li>
<li><p>Each bus-powered hub is allowed a maximum of 100 mA only for each port.</p></li>
<li><p>Only self-powered or low bus-powered devices are allowed to connect to a bus-powered hub. High bus-powered devices are denied the connection. Some hubs or devices can report a false power source, such that the connection might be unpredictable.</p></li></ul>


<a name="devusbover-25"></a><h4>USB Keyboards and Mouse Devices</h4>
<p><a name="indexterm-127"></a>Keep the following issues in mind when using USB keyboards and mouse devices:</p>
<ul><li><p>Do not move the keyboard and mouse <b>during</b> a reboot or at the <tt>ok</tt> prompt on a SPARC system. You can move the keyboard and mouse to another hub at any time <b>after</b> a system reboot. After you plug in a keyboard and mouse, they are fully functional again.</p></li>
<li><p>The keys just to the left of the keypad might not function on some third-party USB keyboards.</p></li>
<li><p><b>SPARC</b> &ndash; Keep the following issues in mind when using USB keyboards and mouse devices on SPARC systems: </p>
<ul><li><p>The power key on a USB keyboard behaves differently than the power key on the Sun type 5 keyboard. On a USB keyboard, you can suspend or shut down the system by using the SUSPEND/SHUTDOWN key. However, you cannot use that key to power up the system.</p></li>
<li><p>Before the boot process finishes, the OpenBoot PROM (OBP) limits keyboard and mouse devices to the motherboard root hub ports only.</p></li>
<li><p>USB keyboard and mouse devices cannot be used simultaneously with Sun Type 3, 4, or 5 keyboards on legacy SPARC systems, such as the Ultra 80.</p></li></ul>
</li>
<li><p>For information about multiple keyboard and mouse device support, see <a href="http://docs.sun.com/doc/819-2254/virtualkm-7d?a=view"><tt>virtualkm</tt>(7D)</a>.</p></li></ul>


<a name="fpkdm"></a><h5>USB Wheel Mouse Support</h5>
<p>Starting in the Solaris 9 9/04 release, the following wheel mouse features are
supported:<a name="indexterm-128"></a></p>
<ul><li><p>Support for more than 3 buttons is available on USB or PS/2 mouse devices.</p></li>
<li><p>Wheel mouse scrolling is available on a USB or PS/2 mouse device. This support means that rolling the wheel on a USB or a PS/2 mouse results in a scroll in the application or window under mouse focus. StarOffice<sup>TM</sup>, Firefox, and GNOME applications support wheel mouse scrolling.  However, other applications might not support wheel mouse scrolling.</p></li></ul>


<a name="devusbover-17"></a><h4>USB Host Controller and Hubs</h4>
<p>A USB hub is responsible for the following:</p>
<ul><li><p>Monitoring the insertion or removal of a device on its ports</p></li>
<li><p>Power managing individual devices on its ports</p></li>
<li><p>Controlling power to its ports</p></li></ul>
<p><a name="indexterm-129"></a>The USB host controller has an embedded hub called the <b>root hub</b>. The ports
that are visible at the system's back panel are the ports of the
root hub. The USB host controller is responsible for the following:</p>
<ul><li><p>Directing the USB bus. Individual devices cannot arbitrate for the bus.</p></li>
<li><p>Polling the devices by using a polling interval that is determined by the device. The device is assumed to have sufficient buffering to account for the time between the polls.</p></li>
<li><p>Sending data between the USB host controller and its attached devices. Peer-to-peer communication is not supported.</p></li></ul>


<a name="devusbover-21"></a><h5>USB Hub Devices</h5>

<ul><li><p>Do not cascade hubs beyond four levels on either SPARC based systems or x86 based systems. On SPARC systems, the OpenBoot<sup>TM</sup> PROM cannot reliably probe beyond four levels of devices. </p></li>
<li><p>Do not plug a bus-powered hub into another bus-powered hub in a cascading style. A bus-powered hub does not have its own power supply.</p></li>
<li><p>Do not connect a device that requires a large amount of power to a bus-powered hub. These devices might be denied connection to bus-powered hubs or might drain the hub of power for other devices. An example of such a device is a USB diskette device.</p></li></ul>


<a name="devusbover-23"></a><h5>SPARC: USB Power Management</h5>
<p>Suspending and resuming USB devices is fully supported on SPARC systems. However, do
not suspend a device that is busy and never remove a device
when the system is powered off under a suspend shutdown.</p><p>The USB framework makes a best effort to power manage all devices
on SPARC based systems with power management enabled. Power managing a USB device means
that the hub driver suspends the port to which the device is
connected. Devices that support <b>remote wake up</b> can notify the system to wake up everything in
the device's path so that the device can be used. The host system
could also wake up the device if an application sends an I/O to
the device.</p><p>All HID devices (keyboard, mouse, hub, and storage devices), hub devices, and storage
devices are power managed by default if they support remote wake-up capability. A
USB printer is power managed only between two print jobs. Devices that are
managed by the generic USB driver (UGEN) are power managed only when they
are closed.</p><p><a name="indexterm-130"></a>When power management is running to reduce power consumption, USB leaf devices are
powered down first. After all devices that are connected to a hub's ports
are powered down, the hub is powered down after some delay. To achieve
the most efficient power management, do not cascade many hubs.</p><p>For information about using the SUSPEND/SHUTDOWN key on SPARC systems, see <a href="#devusbover-25">USB Keyboards and Mouse Devices</a>.</p>

<a name="devusbover-15"></a><h4>Guidelines for USB Cables</h4>
<p>Keep the following guidelines in mind when connecting USB cables:</p>
<ul><li><p><a name="indexterm-131"></a>Always use USB 2.0 compliant, fully rated (480 Mbit/sec) 20/28 AWG cables for connecting USB 2.0 devices.</p></li>
<li><p>The maximum cable length that is supported is 5 meters.</p></li>
<li><p>Do not use cable extenders. For best results, use a self-powered hub to extend cable length.</p></li></ul>
<p>For more information, go to:</p><p><a href="http://www.usb.org/about/faq/ans5">http://www.usb.org/about/faq/ans5</a></p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="devusbover-2.html">Previous</a>
             </td>
             <td align="right">
                 <a href="devusbtasks-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

