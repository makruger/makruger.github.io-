<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Configuring High Availability of iSNS Server Using Sun Cluster - System Administration Guide: Devices and File Systems</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Devices and File Systems</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gfyda.html">Previous</a>
             </td>
             <td align="right">
                 <a href="disksformat-15833.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="medintro-55492.html">1.&nbsp;&nbsp;Managing Removable Media (Overview)</a></p>
<p class="toc level1 tocsp"><a href="medformat-83002.html">2.&nbsp;&nbsp;Managing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medaccess-29267.html">3.&nbsp;&nbsp;Accessing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medcdrw-1.html">4.&nbsp;&nbsp;Writing CDs and DVDs (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig-27900.html">5.&nbsp;&nbsp;Managing Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig2-1.html">6.&nbsp;&nbsp;Dynamically Configuring Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devusbover-24.html">7.&nbsp;&nbsp;Using USB Devices (Overview)</a></p>
<p class="toc level1 tocsp"><a href="devusbtasks-1.html">8.&nbsp;&nbsp;Using USB Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fncpk.html">9.&nbsp;&nbsp;Using InfiniBand Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksconcepts-29477.html">10.&nbsp;&nbsp;Managing Disks (Overview)</a></p>
<p class="toc level1 tocsp"><a href="disksprep-31030.html">11.&nbsp;&nbsp;Administering Disks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="diskssadd-16103.html">12.&nbsp;&nbsp;SPARC: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksxadd-38159.html">13.&nbsp;&nbsp;x86: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fmvcd.html">14.&nbsp;&nbsp;Configuring Solaris iSCSI Targets and Initiators (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gfydr.html">15.&nbsp;&nbsp;Configuring and Managing the Solaris Internet Storage Name Service (iSNS)</a></p>
<p class="toc level2"><a href="gfycs.html">The iSNS Technology (Overview)</a></p>
<p class="toc level2"><a href="gfybz.html">Configuring the iSNS Server</a></p>
<p class="toc level2"><a href="gfyda.html">Managing the iSNS Server and Clients</a></p>
<p class="toc level3"><a href="gfyda.html#ggcra">How to Display the Status of a Discovery Domain Set</a></p>
<p class="toc level3"><a href="gfyda.html#ggcqm">How to Display the Status of a Discovery Domain</a></p>
<p class="toc level3"><a href="gfyda.html#gfzqn">How to Display the Status of Clients</a></p>
<p class="toc level3"><a href="gfyda.html#ggcpp">How to Remove a Client from a Discovery Domain</a></p>
<p class="toc level3"><a href="gfyda.html#ggcoq">How to Remove a Discovery Domain from a Discovery Domain Set</a></p>
<p class="toc level3"><a href="gfyda.html#ggcyb">How to Disable a Discovery Domain Set</a></p>
<p class="toc level3"><a href="gfyda.html#ggdgg">How to Remove a Discovery Domain Set</a></p>
<div class="onpage">
<p class="toc level2 tocsp"><a href="">Configuring High Availability of iSNS Server Using Sun Cluster</a></p>
</div>
<p class="toc level1 tocsp"><a href="disksformat-15833.html">16.&nbsp;&nbsp;The <tt>format</tt> Utility (Reference)</a></p>
<p class="toc level1 tocsp"><a href="fsoverview-38559.html">17.&nbsp;&nbsp;Managing File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="fscreate-96442.html">18.&nbsp;&nbsp;Creating UFS, TMPFS, and LOFS File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsmount-42780.html">19.&nbsp;&nbsp;Mounting and Unmounting File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fscachefs-70682.html">20.&nbsp;&nbsp;Using The CacheFS File System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsswap-14677.html">21.&nbsp;&nbsp;Configuring Additional Swap Space (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fstroublefsck-61446.html">22.&nbsp;&nbsp;Checking UFS File System Consistency (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsfilesysappx-94408.html">23.&nbsp;&nbsp;UFS File System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupconcepts-57422.html">24.&nbsp;&nbsp;Backing Up and Restoring File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="bkuptasks2-64128.html">25.&nbsp;&nbsp;Backing Up Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupsnapshot-2.html">26.&nbsp;&nbsp;Using UFS Snapshots (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuprestoretasks-38055.html">27.&nbsp;&nbsp;Restoring Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupref-12756.html">28.&nbsp;&nbsp;UFS Backup and Restore Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupsavefiles-17924.html">29.&nbsp;&nbsp;Copying UFS Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuptapedevice-42512.html">30.&nbsp;&nbsp;Managing Tape Drives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="ggdbv"></a><h3>Configuring High Availability of iSNS Server Using Sun Cluster</h3>
<a name="indexterm-346"></a><a name="indexterm-347"></a><a name="indexterm-348"></a><a name="indexterm-349"></a><p>This section described how to configure the iSNS service to work with Sun
Cluster 3.2 as a Service Management Facility (SMF) proxy resource so that Sun
Cluster can manage the failover of the iSNS service to other cluster
nodes.</p><p> For information about Sun Cluster, see <i>Sun Cluster Concepts Guide for Solaris OS</i> (http://docs.sun.com/app/docs/doc/819-2969). To configure Sun
Cluster to manage the failover of the iSNS service, use the following general
procedure:</p>
<ol><li><p>Encapsulate the iSNS service. Use the Sun Cluster SMF proxy resource type, <i>SUNW.Proxy_SMF_failover</i> to encapsulate the iSNS SMF service, registering it with the <tt>clresourcetype register</tt>. For instructions on how to encapsulate SMF services with Sun Cluster, see <i>Enabling Solaris SMF Services to Run With Sun Cluster</i> (http://docs.sun.com/app/docs/doc/819-2974/gcjaz?a=view) . </p></li>
<li><p>Create a resource group for the iSNS service, using the <tt>clresourcegroup create</tt> command. See <i>Creating a Resource Group</i> (http://docs.sun.com/app/docs/doc/819-2974).</p></li>
<li><p>Add an iSNS resource to the resource group, using the <tt>clresource create</tt> command. Specify the type as <i>SUNW.Proxy_SMF_failover</i> and specify the <i>Proxied_service_instances</i> property as the path to a file that contains the properties for the iSNS service. Place the file in a cluster file system so that each node shares the file. For information on cluster file systems, see <i>How to Create a Cluster File System</i> (http://docs.sun.com/app/docs/doc/819-2970/6n57ljhns?a=view)</p></li>
<li><p>Specify the iSNS data store location as described in <a href="gfybz.html#gfyhj">How to Specify the Data Store Location</a>, specifying the mount point for the cluster file system in the path. Specify the same data store file property on all nodes of the cluster so that all nodes share the data store.</p></li>
<li><p>Set the cluster resource group online, using the <tt>clresourcegroup online</tt> command.</p></li></ol>
<p>Because you cannot use <tt>svcadm</tt> to disable, enable, or refresh SMF services that
have been encapsulated as a proxy resource, use the following general procedure to
change the properties of the iSNS service:</p>
<ol><li><p>Set the iSNS resource group offline.</p></li>
<li><p>Disable the iSNS proxy resource.</p></li>
<li><p>Change the property of the iSNS service on all nodes of the cluster node list.</p></li>
<li><p>Re-enable the iSNS proxy resource.</p></li>
<li><p>Set the iSNS resource group online.</p></li></ol>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gfyda.html">Previous</a>
             </td>
             <td align="right">
                 <a href="disksformat-15833.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

