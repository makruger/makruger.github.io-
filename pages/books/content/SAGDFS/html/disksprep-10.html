<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Formatting a Disk - System Administration Guide: Devices and File Systems</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Devices and File Systems</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="disksprep-3.html">Previous</a>
             </td>
             <td align="right">
                 <a href="disksprep-24.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="medintro-55492.html">1.&nbsp;&nbsp;Managing Removable Media (Overview)</a></p>
<p class="toc level1 tocsp"><a href="medformat-83002.html">2.&nbsp;&nbsp;Managing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medaccess-29267.html">3.&nbsp;&nbsp;Accessing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medcdrw-1.html">4.&nbsp;&nbsp;Writing CDs and DVDs (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig-27900.html">5.&nbsp;&nbsp;Managing Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig2-1.html">6.&nbsp;&nbsp;Dynamically Configuring Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devusbover-24.html">7.&nbsp;&nbsp;Using USB Devices (Overview)</a></p>
<p class="toc level1 tocsp"><a href="devusbtasks-1.html">8.&nbsp;&nbsp;Using USB Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fncpk.html">9.&nbsp;&nbsp;Using InfiniBand Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksconcepts-29477.html">10.&nbsp;&nbsp;Managing Disks (Overview)</a></p>
<p class="toc level1 tocsp"><a href="disksprep-31030.html">11.&nbsp;&nbsp;Administering Disks (Tasks)</a></p>
<p class="toc level2"><a href="disksprep-1.html">Administering Disks (Task Map)</a></p>
<p class="toc level2"><a href="disksprep-3.html">Identifying Disks on a System</a></p>
<p class="toc level3"><a href="disksprep-3.html#disksprep-24293">How to Identify the Disks on a System</a></p>
<div class="onpage">
<p class="toc level2 tocsp"><a href="">Formatting a Disk</a></p>
<p class="toc level3"><a href="#disksprep-37081">How to Determine if a Disk Is Formatted</a></p>
<p class="toc level3"><a href="#disksprep-24584">How to Format a Disk</a></p>
</div>
<p class="toc level2 tocsp"><a href="disksprep-24.html">Displaying Disk Slices</a></p>
<p class="toc level3"><a href="disksprep-24.html#disksprep-23207">How to Display Disk Slice Information</a></p>
<p class="toc level2 tocsp"><a href="disksprep-34.html">Creating and Examining a Disk Label</a></p>
<p class="toc level3"><a href="disksprep-34.html#disksprep-32432">How to Label a Disk</a></p>
<p class="toc level3"><a href="disksprep-34.html#disksprep-15875">How to Examine a Disk Label</a></p>
<p class="toc level2 tocsp"><a href="disksprep-52.html">Recovering a Corrupted Disk Label</a></p>
<p class="toc level3"><a href="disksprep-52.html#disksprep-22071">How to Recover a Corrupted Disk Label</a></p>
<p class="toc level2 tocsp"><a href="disksprep-67.html">Adding a Third-Party Disk</a></p>
<p class="toc level3"><a href="disksprep-67.html#disksprep-17927">How to Create a <tt>format.dat</tt> Entry</a></p>
<p class="toc level2 tocsp"><a href="disksprep-72.html">Automatically Configuring SCSI Disk Drives</a></p>
<p class="toc level3"><a href="disksprep-72.html#disksprep-24067">How to Automatically Configure a SCSI Drive</a></p>
<p class="toc level2 tocsp"><a href="disksprep-87.html">Repairing a Defective Sector</a></p>
<p class="toc level3"><a href="disksprep-87.html#disksprep-27270">How to Identify a Defective Sector by Using Surface Analysis</a></p>
<p class="toc level3"><a href="disksprep-87.html#disksprep-31929">How to Repair a Defective Sector</a></p>
<p class="toc level2 tocsp"><a href="disksprep-101.html">Tips and Tricks for Managing Disks</a></p>
<p class="toc level1 tocsp"><a href="diskssadd-16103.html">12.&nbsp;&nbsp;SPARC: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksxadd-38159.html">13.&nbsp;&nbsp;x86: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fmvcd.html">14.&nbsp;&nbsp;Configuring Solaris iSCSI Targets and Initiators (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gfydr.html">15.&nbsp;&nbsp;Configuring and Managing the Solaris Internet Storage Name Service (iSNS)</a></p>
<p class="toc level1 tocsp"><a href="disksformat-15833.html">16.&nbsp;&nbsp;The <tt>format</tt> Utility (Reference)</a></p>
<p class="toc level1 tocsp"><a href="fsoverview-38559.html">17.&nbsp;&nbsp;Managing File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="fscreate-96442.html">18.&nbsp;&nbsp;Creating UFS, TMPFS, and LOFS File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsmount-42780.html">19.&nbsp;&nbsp;Mounting and Unmounting File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fscachefs-70682.html">20.&nbsp;&nbsp;Using The CacheFS File System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsswap-14677.html">21.&nbsp;&nbsp;Configuring Additional Swap Space (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fstroublefsck-61446.html">22.&nbsp;&nbsp;Checking UFS File System Consistency (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsfilesysappx-94408.html">23.&nbsp;&nbsp;UFS File System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupconcepts-57422.html">24.&nbsp;&nbsp;Backing Up and Restoring File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="bkuptasks2-64128.html">25.&nbsp;&nbsp;Backing Up Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupsnapshot-2.html">26.&nbsp;&nbsp;Using UFS Snapshots (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuprestoretasks-38055.html">27.&nbsp;&nbsp;Restoring Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupref-12756.html">28.&nbsp;&nbsp;UFS Backup and Restore Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupsavefiles-17924.html">29.&nbsp;&nbsp;Copying UFS Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuptapedevice-42512.html">30.&nbsp;&nbsp;Managing Tape Drives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="disksprep-10"></a><h3>Formatting a Disk</h3>
<p><a name="disksprep-ix2483"></a>Disks are typically formatted by the manufacturer or reseller. They usually do not
need to be reformatted when you install the drive. </p><p>A disk must be formatted before you can do the following:</p>
<ul><li><p>Write data to the disk. However, most disks are already formatted.</p></li>
<li><p>Use the Solaris installation utility to install the system.</p></li></ul>

<hr><p><b>Caution - </b>Formatting a disk is a destructive process because it overwrites data on the
disk. For this reason, disks are usually formatted only by the manufacturer or
reseller. If you think disk defects are the cause of recurring problems, you
can use the <tt>format</tt> utility to do a surface analysis. However, be careful
to use only the commands that do not destroy data.</p>
<hr>


<a name="disksprep-37081"></a><h4>How to Determine if a Disk Is Formatted</h4><ol>
<li><a name="disksprep-step-12"></a><b>Become superuser or assume an equivalent role.</b></li>
<li><a name="disksprep-step-13"></a><b>Invoke the <tt>format</tt> utility.<a name="disksprep-ix2484"></a></b><pre># <tt><b>format</b></tt></pre><p>A numbered list of disks is displayed.</p></li>
<li><a name="disksprep-step-14"></a><b>Type the number of the disk that you want to check. </b><pre>Specify disk (enter its number): <tt><b>0</b></tt></pre></li>
<li><a name="disksprep-step-106"></a><b><a name="disksprep-ix2485"></a>Verify that the disk you chose is formatted by noting the following message:</b><pre>[disk formatted]</pre></li></ol><a name="fncqk"></a>Example&nbsp;11-2 Determining if a Disk Is Formatted<p>The following example shows that disk <tt>c1t0d0</tt> is formatted.</p><pre># <tt><b>format /dev/rdsk/c1*</b></tt>
AVAILABLE DISK SELECTIONS:
       0. /dev/rdsk/c1t0d0s0 &lt;SUN18G cyl 7506 alt 2 hd 19 sec 248>
          /sbus@2,0/QLGC,isp@2,10000/sd@0,0
       1. /dev/rdsk/c1t1d0s0 &lt;SUN18G cyl 7506 alt 2 hd 19 sec 248>
          /sbus@2,0/QLGC,isp@2,10000/sd@1,0
       2. /dev/rdsk/c1t8d0s0 &lt;SUN18G cyl 7506 alt 2 hd 19 sec 248>
          /sbus@2,0/QLGC,isp@2,10000/sd@8,0
       3. /dev/rdsk/c1t9d0s0 &lt;SUN18G cyl 7506 alt 2 hd 19 sec 248>
          /sbus@2,0/QLGC,isp@2,10000/sd@9,0
Specify disk (enter its number): <tt><b>0</b></tt>
selecting /dev/rdsk/c1t0d0s0
[disk formatted]</pre>

<a name="disksprep-24584"></a><h4>How to Format a Disk</h4><ol>
<li><a name="disksprep-step-18"></a><b>Become superuser or assume an equivalent role.</b></li>
<li><a name="disksprep-step-19"></a><b>Invoke the <tt>format</tt> utility.</b><pre># <tt><b>format</b></tt></pre><p>A numbered list of disks is displayed.</p></li>
<li><a name="disksprep-step-20"></a><b>Type the number of the disk that you want to format.</b><pre>Specify disk (enter its number): <tt><b>0</b></tt></pre>
<hr><p><b>Caution - </b>Do not select the system disk. If you format your system disk, you
delete the OS and any data on this disk.</p>
<hr>
</li>
<li><a name="disksprep-step-21"></a><b>To begin formatting the disk, type <tt>format</tt> at the <tt>format></tt> prompt. Confirm
the command by typing <tt>y</tt>.</b><pre>format> <tt><b>format</b></tt>
Ready to format.  Formatting cannot be interrupted
and takes 23 minutes (estimated). Continue? <tt><b>yes</b></tt></pre></li>
<li><a name="disksprep-step-107"></a><b>Verify that the disk format was successful by noting the following messages:</b><pre>Beginning format. The current time Tue ABC xx xx:xx:xx xxxx

Formatting...
done

Verifying media...
        pass 0 - pattern = 0xc6dec6de
   2035/12/18  

        pass 1 - pattern = 0x6db6db6d
   2035/12/18  

Total of 0 defective blocks repaired.</pre></li>
<li><b>Exit the <tt>format</tt> utility.</b><pre>format> <tt><b>quit</b></tt></pre></li></ol><a name="fncql"></a>Example&nbsp;11-3 Formatting a Disk<p>The following example shows how to format the disk <tt>c0t6d0</tt>. <a name="disksprep-ix2487"></a></p><pre># <tt><b>format</b></tt>
Searching for disks...done


AVAILABLE DISK SELECTIONS:
       0. c0t0d0 &lt;SUNW18G cyl 7506 alt 2 hd 19 sec 248
          /pci@1f,0/pci@1,1/scsi@2/sd@0,0
       1. c0t1d0 &lt;FUJITSU  MAN3367M SUN36G  1804 43d671f>
          /pci@1f,0/pci@1,1/scsi@2/sd@1,0
       2. c0t2d0 &lt;FUJITSU  MAN3367M SUN36G  1804 43d671f>
          /pci@1f,0/pci@1,1/scsi@2/sd@2,0
       3. c0t3d0 &lt;FUJITSU  MAN3367M SUN36G  1804 43d671f>
          /pci@1f,0/pci@1,1/scsi@2/sd@3,0
       4. c0t4d0 &lt;FUJITSU  MAN3367M SUN36G  1804 43d671f>
          /pci@1f,0/pci@1,1/scsi@2/sd@4,0
       5. c0t5d0 &lt;FUJITSU  MAN3367M SUN36G  1804 43d671f>
          /pci@1f,0/pci@1,1/scsi@2/sd@5,0
       6. c0t6d0 &lt;FUJITSU  MAN3367M SUN36G  1804 43d671f>
          /pci@1f,0/pci@1,1/scsi@2/sd@6,0
Specify disk (enter its number): <tt><b>6</b></tt>
selecting c0t6d0
[disk formatted]
format> <tt><b>format</b></tt>
Ready to format.  Formatting cannot be interrupted
and takes 332 minutes (estimated). Continue? <tt><b>y</b></tt>
Beginning format. The current time is Wed Jan  7 16:16:05 2004

Formatting...
   99% complete (00:00:21 remaining) done

Verifying media...
        pass 0 - pattern = 0xc6dec6de
   71132922  

        pass 1 - pattern = 0x6db6db6d
   71132922  

Total of 0 defective blocks repaired.
format> <tt><b>quit</b></tt></pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="disksprep-3.html">Previous</a>
             </td>
             <td align="right">
                 <a href="disksprep-24.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

