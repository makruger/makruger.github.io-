<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>What the <tt>fsck</tt> Command Checks and Tries to Repair - System Administration Guide: Devices and File Systems</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Devices and File Systems</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="fstroublefsck-60228.html">Previous</a>
             </td>
             <td align="right">
                 <a href="fstroublefsck-62389.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="medintro-55492.html">1.&nbsp;&nbsp;Managing Removable Media (Overview)</a></p>
<p class="toc level1 tocsp"><a href="medformat-83002.html">2.&nbsp;&nbsp;Managing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medaccess-29267.html">3.&nbsp;&nbsp;Accessing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medcdrw-1.html">4.&nbsp;&nbsp;Writing CDs and DVDs (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig-27900.html">5.&nbsp;&nbsp;Managing Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig2-1.html">6.&nbsp;&nbsp;Dynamically Configuring Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devusbover-24.html">7.&nbsp;&nbsp;Using USB Devices (Overview)</a></p>
<p class="toc level1 tocsp"><a href="devusbtasks-1.html">8.&nbsp;&nbsp;Using USB Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fncpk.html">9.&nbsp;&nbsp;Using InfiniBand Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksconcepts-29477.html">10.&nbsp;&nbsp;Managing Disks (Overview)</a></p>
<p class="toc level1 tocsp"><a href="disksprep-31030.html">11.&nbsp;&nbsp;Administering Disks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="diskssadd-16103.html">12.&nbsp;&nbsp;SPARC: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksxadd-38159.html">13.&nbsp;&nbsp;x86: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fmvcd.html">14.&nbsp;&nbsp;Configuring Solaris iSCSI Targets and Initiators (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gfydr.html">15.&nbsp;&nbsp;Configuring and Managing the Solaris Internet Storage Name Service (iSNS)</a></p>
<p class="toc level1 tocsp"><a href="disksformat-15833.html">16.&nbsp;&nbsp;The <tt>format</tt> Utility (Reference)</a></p>
<p class="toc level1 tocsp"><a href="fsoverview-38559.html">17.&nbsp;&nbsp;Managing File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="fscreate-96442.html">18.&nbsp;&nbsp;Creating UFS, TMPFS, and LOFS File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsmount-42780.html">19.&nbsp;&nbsp;Mounting and Unmounting File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fscachefs-70682.html">20.&nbsp;&nbsp;Using The CacheFS File System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsswap-14677.html">21.&nbsp;&nbsp;Configuring Additional Swap Space (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fstroublefsck-61446.html">22.&nbsp;&nbsp;Checking UFS File System Consistency (Tasks)</a></p>
<p class="toc level2"><a href="fstroublefsck-52.html">File System Consistency</a></p>
<p class="toc level2"><a href="fstroublefsck-60228.html">How the File System State Is Recorded</a></p>
<div class="onpage">
<p class="toc level2"><a href="">What the <tt>fsck</tt> Command Checks and Tries to Repair</a></p>
</div>
<p class="toc level2"><a href="fstroublefsck-62389.html">Interactively Checking and Repairing a UFS File System</a></p>
<p class="toc level3"><a href="fstroublefsck-62389.html#fstroublefsck-59">How to Check the root (<tt>/</tt>), <tt>/usr</tt>, or <tt>/var</tt> File Systems From an Alternate Boot Device</a></p>
<p class="toc level3"><a href="fstroublefsck-62389.html#fstroublefsck-28">How to Check Other File Systems (Not root (<tt>/</tt>), <tt>/usr</tt>, or <tt>/var</tt>)</a></p>
<p class="toc level3"><a href="fstroublefsck-62389.html#fstroublefsck-37">How to Preen a UFS File System</a></p>
<p class="toc level2 tocsp"><a href="fstroublefsck-59471.html">Restoring a Bad Superblock</a></p>
<p class="toc level3"><a href="fstroublefsck-59471.html#galyo">How to Restore a Bad Superblock ( Solaris Express Release)</a></p>
<p class="toc level3"><a href="fstroublefsck-59471.html#fstroublefsck-43">How to Restore a Bad Superblock (Solaris 8, 9, and 10 Releases)</a></p>
<p class="toc level2 tocsp"><a href="fstroublefsck-22051.html">Syntax and Options for the <tt>fsck</tt> Command</a></p>
<p class="toc level1 tocsp"><a href="fsfilesysappx-94408.html">23.&nbsp;&nbsp;UFS File System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupconcepts-57422.html">24.&nbsp;&nbsp;Backing Up and Restoring File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="bkuptasks2-64128.html">25.&nbsp;&nbsp;Backing Up Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupsnapshot-2.html">26.&nbsp;&nbsp;Using UFS Snapshots (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuprestoretasks-38055.html">27.&nbsp;&nbsp;Restoring Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupref-12756.html">28.&nbsp;&nbsp;UFS Backup and Restore Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupsavefiles-17924.html">29.&nbsp;&nbsp;Copying UFS Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuptapedevice-42512.html">30.&nbsp;&nbsp;Managing Tape Drives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="fstroublefsck-51788"></a><h3>What the <tt>fsck</tt> Command Checks and Tries to Repair</h3>
<p><a name="fstroublefsck-ix2894"></a>This section describes what happens in the normal operation of a file system,
what can go wrong, what problems the <tt>fsck</tt> command (the checking and repair utility)
looks for, and how this command corrects the inconsistencies it finds.</p>

<a name="fstroublefsck-1"></a><h4>Why UFS File System Inconsistencies Might Occur</h4>
<p>Every working day, hundreds of files might be created, modified, and removed. Each
time a file is modified, the operating system performs a series of file
system updates. These updates, when written to the disk reliably, yield a consistent
file system.</p><p>When a user program does an operation to change the file system,
such as a write, the data to be written is first copied into
an in-core buffer in the kernel. Normally, the disk update is handled asynchronously.
The user process is allowed to proceed even though the data write might
not happen until long after the write system call has returned. Thus, at
any given time, the file system, as it resides on the disk, lags
behind the state of the file system that is represented by the in-core
information.</p><p><a name="fstroublefsck-ix2895"></a><a name="fstroublefsck-ix2896"></a>The disk information is updated to reflect the in-core information when the buffer
is required for another use or when the kernel automatically runs the <tt>fsflush</tt>
daemon (at 30-second intervals).  If the system is halted without writing out
the in-core information, the file system on the disk might be in an
inconsistent state.</p><p>A file system can develop inconsistencies in several ways. The most common causes
are operator error and hardware failures.</p><p>Problems might result from an <b>unclean shutdown</b>, if a system is shut down improperly,
or when a mounted file system is taken offline improperly. To prevent unclean
shutdowns, the current state of the file systems must be written to disk
(that is, &ldquo;synchronized&rdquo;) before you shut down the system, physically take a disk
pack out of a drive, or take a disk offline.</p><p>Inconsistencies can also result from defective hardware or problems with the disk or
controller firmware. Blocks can become damaged on a disk drive at any time.
Or, a disk controller can stop functioning correctly.</p>

<a name="fstroublefsck-24589"></a><h4>UFS Components That Are Checked for Consistency</h4>
<p>This section describes the kinds of consistency checks that the <tt>fsck</tt> command
applies to these UFS file system components: superblock, cylinder group blocks, inodes, indirect
blocks, and data blocks.</p><p>For information about UFS file system structures, see <a href="fsfilesysappx-23724.html">Structure of Cylinder Groups for UFS File Systems</a>.</p>

<a name="fstroublefsck-2"></a><h5>Superblock Checks</h5>
<p><a name="fstroublefsck-ix2897"></a><a name="fstroublefsck-ix2898"></a>The <b>superblock</b> stores summary information, which is the most commonly corrupted component in
a UFS file system. Each change to file system inodes or data blocks
also modifies the superblock. If the CPU is halted and the last command
is not a <tt>sync</tt> command, the superblock almost certainly becomes corrupted.</p><p>The superblock is checked for inconsistencies in the following: </p>
<ul><li><p>File system size</p></li>
<li><p>Number of inodes</p></li>
<li><p>Free block count</p></li>
<li><p>Free inode count</p></li></ul>


<a name="fstroublefsck-3"></a><h5>File System Size and Inode List Size Checks</h5>
<p><a name="fstroublefsck-ix2899"></a><a name="fstroublefsck-ix2900"></a><a name="fstroublefsck-ix2901"></a><a name="fstroublefsck-ix2902"></a><a name="fstroublefsck-ix2903"></a><a name="fstroublefsck-ix2904"></a>The file system size must be larger than the number of blocks used
by the superblock and the list of inodes. The number of inodes must
be less than the maximum number allowed for the file system. An <b>inode</b>
represents all the information about a file. The file system size and layout
information are the most critical pieces of information for the <tt>fsck</tt> command. There
is no way to actually check these sizes because they are statically determined
when the file system is created. However, the <tt>fsck</tt> command can check that the
sizes are within reasonable bounds. All other file system checks require that these
sizes be correct. If the <tt>fsck</tt> command detects corruption in the static parameters
of the primary superblock, it requests the operator to specify the location of
an alternate superblock.</p><p>For more information about the structure of the UFS file system, see
<a href="fsfilesysappx-23724.html">Structure of Cylinder Groups for UFS File Systems</a>.</p>

<a name="fstroublefsck-4"></a><h5>Free Block Checks</h5>
<p><a name="fstroublefsck-ix2905"></a><a name="fstroublefsck-ix2906"></a><a name="fstroublefsck-ix2907"></a>Free blocks are stored in the cylinder group block maps. The <tt>fsck</tt> command
checks that all the blocks marked as free are not claimed by any
files. When all the blocks have been accounted for, the <tt>fsck</tt> command checks
if the number of free blocks plus the number of blocks that are
claimed by the inodes equal the total number of blocks in the file
system. If anything is wrong with the block maps, the <tt>fsck</tt> command rebuilds
them, leaving out blocks already allocated.</p><p>The summary information in the superblock includes a count of the total number
of free blocks within the file system. The <tt>fsck</tt> command compares this count
to the number of free blocks it finds within the file system. If
the counts do not agree, the <tt>fsck</tt> command replaces the count in the
superblock with the actual free block count.</p>

<a name="fstroublefsck-5"></a><h5>Free Inode Checks</h5>
<p><a name="fstroublefsck-ix2908"></a><a name="fstroublefsck-ix2909"></a><a name="fstroublefsck-ix2910"></a>Summary information in the superblock contains a count of the free inodes within
the file system. The <tt>fsck</tt> command compares this count to the number of
free inodes it finds within the file system. If the counts do not
agree, <tt>fsck</tt> replaces the count in the superblock with the actual free inode
count.</p>

<a name="fstroublefsck-6"></a><h5>Inodes</h5>
<p>The list of inodes is checked sequentially starting with inode 2. (Inode 0
and inode 1 are reserved). Each inode is checked for inconsistencies in the
following:</p>
<ul><li><p>Format and type</p></li>
<li><p>Link count</p></li>
<li><p>Duplicate block</p></li>
<li><p>Bad block numbers</p></li>
<li><p>Inode size</p></li></ul>


<a name="fstroublefsck-7"></a><h5>Format and Type of Inodes</h5>
<p>Each inode contains a <b>mode word</b>, which describes the type and state of the
inode. Inodes might be one of nine types:<a name="fstroublefsck-ix2911"></a><a name="fstroublefsck-ix2912"></a><a name="fstroublefsck-ix2913"></a><a name="fstroublefsck-ix2914"></a></p>
<ul><li><p><a name="fstroublefsck-ix2915"></a><a name="fstroublefsck-ix2916"></a>Regular </p></li>
<li><p><a name="fstroublefsck-ix2917"></a><a name="fstroublefsck-ix2918"></a>Directory</p></li>
<li><p><a name="fstroublefsck-ix2919"></a><a name="fstroublefsck-ix2920"></a>Block special</p></li>
<li><p><a name="fstroublefsck-ix2921"></a><a name="fstroublefsck-ix2922"></a>Character special</p></li>
<li><p><a name="fstroublefsck-ix2923"></a><a name="fstroublefsck-ix2924"></a>FIFO (named pipe) </p></li>
<li><p><a name="fstroublefsck-ix2925"></a><a name="fstroublefsck-ix2926"></a>Symbolic link </p></li>
<li><p>Shadow (used for ACLs)</p></li>
<li><p>Attribute directory</p></li>
<li><p>Socket</p></li></ul>
<p><a name="fstroublefsck-ix2927"></a><a name="fstroublefsck-ix2928"></a><a name="fstroublefsck-ix2929"></a>Inodes might be in one of three states:</p>
<ul><li><p>Allocated</p></li>
<li><p>Unallocated</p></li>
<li><p>Partially allocated </p></li></ul>
<p>When the file system is created, a fixed number of inodes are
set aside. However, these inodes are not allocated until they are needed. An
<b>allocated inode</b> is one that points to a file. An <b>unallocated inode</b> does not point
to a file and, therefore, should be empty. The <b>partially allocated</b> state means
that the inode is incorrectly formatted. An inode can get into this state
if, for example, bad data is written into the inode list because of
a hardware failure. The only corrective action the <tt>fsck</tt> command can take
is to clear the inode.</p>

<a name="fstroublefsck-8"></a><h5>Link Count Checks</h5>
<p><a name="fstroublefsck-ix2930"></a><a name="fstroublefsck-ix2931"></a>Each inode contains a count of the number of directory entries linked to
it. The <tt>fsck</tt> command verifies the link count of each inode by examining
the entire directory structure, starting from the root (<tt>/</tt>) directory, and calculating an actual
link count for each inode.</p><p>Discrepancies between the link count stored in the inode and the actual link
count as determined by the <tt>fsck</tt> command might be one of three types:</p>
<ul><li><p>The stored count is <b>not</b> 0, and the actual count is 0.</p><p>This condition can occur if no directory entry exists for the inode. In this case, the <tt>fsck</tt> command puts the disconnected file in the <tt>lost+found</tt> directory.</p></li>
<li><p>The stored count is <b>not</b> 0 and the actual count is <b>not</b> 0. However, the counts are <b>unequal</b>.</p><p>This condition can occur if a directory entry has been added or removed, but the inode has not been updated. In this case, the <tt>fsck</tt> command replaces the stored link count with the actual link count. </p></li>
<li><p>The stored count is 0, and the actual count is not 0. </p><p>In this case, the <tt>fsck</tt> command changes the link count of the inode to the actual count.</p></li></ul>


<a name="fstroublefsck-9"></a><h5>Duplicate Block Checks</h5>
<p>Each inode contains a list, or pointers to lists (indirect blocks), of all
the blocks claimed by the inode. Because indirect blocks are owned by an
inode, inconsistencies in indirect blocks directly affect the inode that owns the indirect
block.</p><p>The <tt>fsck</tt> command compares each block number claimed by an inode to a
list of allocated blocks. If another inode already claims a block number, the
block number is put on a list of duplicate blocks. Otherwise, the list
of allocated blocks is updated to include the block number. </p><p>If duplicate blocks are found, the <tt>fsck</tt> command makes a second pass of
the inode list to find the other inode that claims each duplicate block.
The <tt>fsck</tt> command cannot determine with certainty which inode is in error. So,
the <tt>fsck</tt> command prompts you to choose which inode should be kept and
which inode should be cleared. Note that a large number of duplicate blocks
in an inode might be caused by an indirect block not being written
to the file system<a name="fstroublefsck-ix2932"></a><a name="fstroublefsck-ix2933"></a></p>

<a name="fstroublefsck-10"></a><h5>Bad Block Number Checks</h5>
<p><a name="fstroublefsck-ix2934"></a><a name="fstroublefsck-ix2935"></a>The <tt>fsck</tt> command checks each block number claimed by an inode to determine
whether its value is higher than the value of the first data block
and lower than that of the last data block in the file system.
If the block number is outside this range, it is considered a bad
block number. </p><p>Bad block numbers in an inode might be caused by an indirect
block not being written to the file system. The <tt>fsck</tt> command prompts you to
clear the inode.</p>

<a name="fstroublefsck-11"></a><h5>Inode Size Checks</h5>
<p><a name="fstroublefsck-ix2936"></a><a name="fstroublefsck-ix2937"></a>Each inode contains a count of the number of data blocks that it
references. The number of actual data blocks is the sum of the allocated
data blocks and the indirect blocks. The <tt>fsck</tt> command computes the number
of data blocks and compares that block count against the number of blocks
that the inode claims. If an inode contains an incorrect count, the <tt>fsck</tt>
command prompts you to fix it.</p><p>Each inode contains a 64-bit size field. This field shows the number of
characters (data bytes) in the file associated with the inode. A rough check
of the consistency of the size field of an inode uses the
number of characters shown in the size field to calculate how many blocks
should be associated with the inode, and then compares that number to the
actual number of blocks claimed by the inode.</p>

<a name="fstroublefsck-12"></a><h5>Indirect Blocks</h5>
<p><a name="fstroublefsck-ix2938"></a><a name="fstroublefsck-ix2939"></a>Indirect blocks are owned by an inode. Therefore, inconsistencies in an indirect block
affect the inode that owns it. Inconsistencies that can be checked are the
following:</p>
<ul><li><p>Blocks already claimed by another inode</p></li>
<li><p>Block numbers outside the range of the file system</p></li></ul>
<p>These consistency checks listed are also performed for direct blocks.</p>

<a name="fstroublefsck-13"></a><h5>Data Blocks</h5>
<p><a name="fstroublefsck-ix2940"></a><a name="fstroublefsck-ix2941"></a>An inode can directly or indirectly reference three kinds of data blocks. All
referenced blocks must be of the same kind. The three types of data
blocks are the following: </p>
<ul><li><p>Plain data blocks</p></li>
<li><p>Symbolic-link data blocks</p></li>
<li><p>Directory data blocks</p></li></ul>
<p><b>Plain data blocks</b> contain the information stored in a file. <b>Symbolic-link data</b> blocks contain the path name
stored in a symbolic link. <b>Directory data blocks</b> contain directory entries. The <tt>fsck</tt> command can
check only the validity of directory data blocks.</p><p>Directories are distinguished from regular files by an entry in the <tt>mode</tt>
field of the inode. Data blocks associated with a directory contain the directory
entries. Directory data blocks are checked for inconsistencies involving the following: </p>
<ul><li><p>Directory inode numbers that point to unallocated inodes</p></li>
<li><p>Directory inode numbers that are greater than the number of inodes in the file system</p></li>
<li><p>Incorrect directory inode numbers for &ldquo;<tt>.</tt>&rdquo; and &ldquo;<tt>..</tt>&rdquo; directories</p></li>
<li><p>Directories that are disconnected from the file system</p></li></ul>


<a name="fstroublefsck-14"></a><h5>Directory Unallocated Checks</h5>
<p><a name="fstroublefsck-ix2942"></a><a name="fstroublefsck-ix2943"></a>If the inode number in a directory data block points to an unallocated
inode, the <tt>fsck</tt> command removes the directory entry. This condition can occur
if the data blocks that contain a new directory entry are modified and
written out, but the inode does not get written out. This condition can
occur if the CPU is shut down abruptly.</p>

<a name="fstroublefsck-15"></a><h5>Bad Inode Number Checks</h5>
<p><a name="fstroublefsck-ix2944"></a><a name="fstroublefsck-ix2945"></a>If a directory entry inode number points beyond the end of the inode
list, the <tt>fsck</tt> command removes the directory entry. This condition can occur when
bad data is written into a directory data block.</p>

<a name="fstroublefsck-16"></a><h5>Incorrect &ldquo;<tt>.</tt>&rdquo; and &ldquo;<tt>..</tt>&rdquo; Entry Checks</h5>
<p><a name="fstroublefsck-ix2946"></a>The directory inode number entry for &ldquo;<tt>.</tt>&rdquo; must be the first entry in
the directory data block. The directory inode number must reference itself. That is,
its value must be equal to the inode number for the directory data
block.</p><p>The directory inode number entry for &ldquo;<tt>..</tt>&rdquo; must be the second entry in
the directory data block. The directory inode number value must be equal to
the inode number of the parent directory or the inode number of itself
if the directory is the root (<tt>/</tt>) directory).</p><p>If the directory inode numbers for &ldquo;<tt>.</tt>&rdquo; and &ldquo;<tt>..</tt>&rdquo; are incorrect, the <tt>fsck</tt>
command replaces them with the correct values. If there are multiple hard links
to a directory, the first hard link found is considered the real parent
to which &ldquo;<tt>..</tt>&rdquo; should point. In this case, the <tt>fsck</tt> command recommends that
you have it delete the other names.</p>

<a name="fstroublefsck-17"></a><h5>Disconnected Directories</h5>
<p>The <tt>fsck</tt> command checks the general connectivity of the file system. If a
directory that is not linked to the file system is found, the <tt>fsck</tt>
command links the directory to the <tt>lost+found</tt> directory of the file system.
This condition can occur when inodes are written to the file system. However,
the corresponding directory data blocks are not.</p>

<a name="fstroublefsck-18"></a><h5>Regular Data Blocks</h5>
<p><a name="fstroublefsck-ix2947"></a><a name="fstroublefsck-ix2948"></a>Data blocks associated with a regular file hold the contents of the file.
The <tt>fsck</tt> command does not attempt to check the validity of the contents
of a regular file's data blocks.</p>

<a name="fstroublefsck-54"></a><h4><tt>fsck</tt> Summary Message</h4>
<p>When you run the <tt>fsck</tt> command interactively and it completes successfully, a message
similar to the following is displayed:</p><pre># <tt><b>fsck /dev/rdsk/c0t0d0s7</b></tt>
** /dev/rdsk/c0t0d0s7
** Last Mounted on /export/home
** Phase 1 - Check Blocks and Sizes
** Phase 2 - Check Pathnames
** Phase 3a - Check Connectivity
** Phase 3b - Verify Shadows/ACLs
** Phase 4 - Check Reference Counts
** Phase 5 - Check Cylinder Groups 
2 files, 9 used, 2833540 free (20 frags, 354190 blocks, 0.0% fragmentation)
# </pre><p>The last line of <tt>fsck</tt> output describes the following information about the file
system:</p><dl><dt><i>#</i> <tt>files</tt></dt>
<dd><p>Number of inodes in use</p></dd>
<dt><i>#</i> <tt>used</tt></dt>
<dd><p>Number of fragments in use</p></dd>
<dt><i>#</i> <tt>free</tt></dt>
<dd><p>Number of unused fragments</p></dd>
<dt><i>#</i> <tt>frags</tt></dt>
<dd><p>Number of unused non-block fragments</p></dd>
<dt><i>#</i> <tt>blocks</tt></dt>
<dd><p>Number of unused full blocks</p></dd>
<dt><i>%</i> <tt>fragmentation</tt></dt>
<dd><p>Percentage of fragmentation, where: free fragments x 100 / total fragments in the file system</p></dd>
</dl>
<p>For information about fragments, see <a href="fsfilesysappx-20581.html#fsfilesysappx-10">Fragment Size</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="fstroublefsck-60228.html">Previous</a>
             </td>
             <td align="right">
                 <a href="fstroublefsck-62389.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

