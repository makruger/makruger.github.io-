<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Adding a Third-Party Disk - System Administration Guide: Devices and File Systems</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Devices and File Systems</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="disksprep-52.html">Previous</a>
             </td>
             <td align="right">
                 <a href="disksprep-72.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="medintro-55492.html">1.&nbsp;&nbsp;Managing Removable Media (Overview)</a></p>
<p class="toc level1 tocsp"><a href="medformat-83002.html">2.&nbsp;&nbsp;Managing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medaccess-29267.html">3.&nbsp;&nbsp;Accessing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medcdrw-1.html">4.&nbsp;&nbsp;Writing CDs and DVDs (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig-27900.html">5.&nbsp;&nbsp;Managing Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig2-1.html">6.&nbsp;&nbsp;Dynamically Configuring Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devusbover-24.html">7.&nbsp;&nbsp;Using USB Devices (Overview)</a></p>
<p class="toc level1 tocsp"><a href="devusbtasks-1.html">8.&nbsp;&nbsp;Using USB Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fncpk.html">9.&nbsp;&nbsp;Using InfiniBand Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksconcepts-29477.html">10.&nbsp;&nbsp;Managing Disks (Overview)</a></p>
<p class="toc level1 tocsp"><a href="disksprep-31030.html">11.&nbsp;&nbsp;Administering Disks (Tasks)</a></p>
<p class="toc level2"><a href="disksprep-1.html">Administering Disks (Task Map)</a></p>
<p class="toc level2"><a href="disksprep-3.html">Identifying Disks on a System</a></p>
<p class="toc level3"><a href="disksprep-3.html#disksprep-24293">How to Identify the Disks on a System</a></p>
<p class="toc level2 tocsp"><a href="disksprep-10.html">Formatting a Disk</a></p>
<p class="toc level3"><a href="disksprep-10.html#disksprep-37081">How to Determine if a Disk Is Formatted</a></p>
<p class="toc level3"><a href="disksprep-10.html#disksprep-24584">How to Format a Disk</a></p>
<p class="toc level2 tocsp"><a href="disksprep-24.html">Displaying Disk Slices</a></p>
<p class="toc level3"><a href="disksprep-24.html#disksprep-23207">How to Display Disk Slice Information</a></p>
<p class="toc level2 tocsp"><a href="disksprep-34.html">Creating and Examining a Disk Label</a></p>
<p class="toc level3"><a href="disksprep-34.html#disksprep-32432">How to Label a Disk</a></p>
<p class="toc level3"><a href="disksprep-34.html#disksprep-15875">How to Examine a Disk Label</a></p>
<p class="toc level2 tocsp"><a href="disksprep-52.html">Recovering a Corrupted Disk Label</a></p>
<p class="toc level3"><a href="disksprep-52.html#disksprep-22071">How to Recover a Corrupted Disk Label</a></p>
<div class="onpage">
<p class="toc level2 tocsp"><a href="">Adding a Third-Party Disk</a></p>
<p class="toc level3"><a href="#disksprep-17927">How to Create a <tt>format.dat</tt> Entry</a></p>
</div>
<p class="toc level2 tocsp"><a href="disksprep-72.html">Automatically Configuring SCSI Disk Drives</a></p>
<p class="toc level3"><a href="disksprep-72.html#disksprep-24067">How to Automatically Configure a SCSI Drive</a></p>
<p class="toc level2 tocsp"><a href="disksprep-87.html">Repairing a Defective Sector</a></p>
<p class="toc level3"><a href="disksprep-87.html#disksprep-27270">How to Identify a Defective Sector by Using Surface Analysis</a></p>
<p class="toc level3"><a href="disksprep-87.html#disksprep-31929">How to Repair a Defective Sector</a></p>
<p class="toc level2 tocsp"><a href="disksprep-101.html">Tips and Tricks for Managing Disks</a></p>
<p class="toc level1 tocsp"><a href="diskssadd-16103.html">12.&nbsp;&nbsp;SPARC: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksxadd-38159.html">13.&nbsp;&nbsp;x86: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fmvcd.html">14.&nbsp;&nbsp;Configuring Solaris iSCSI Targets and Initiators (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gfydr.html">15.&nbsp;&nbsp;Configuring and Managing the Solaris Internet Storage Name Service (iSNS)</a></p>
<p class="toc level1 tocsp"><a href="disksformat-15833.html">16.&nbsp;&nbsp;The <tt>format</tt> Utility (Reference)</a></p>
<p class="toc level1 tocsp"><a href="fsoverview-38559.html">17.&nbsp;&nbsp;Managing File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="fscreate-96442.html">18.&nbsp;&nbsp;Creating UFS, TMPFS, and LOFS File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsmount-42780.html">19.&nbsp;&nbsp;Mounting and Unmounting File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fscachefs-70682.html">20.&nbsp;&nbsp;Using The CacheFS File System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsswap-14677.html">21.&nbsp;&nbsp;Configuring Additional Swap Space (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fstroublefsck-61446.html">22.&nbsp;&nbsp;Checking UFS File System Consistency (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsfilesysappx-94408.html">23.&nbsp;&nbsp;UFS File System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupconcepts-57422.html">24.&nbsp;&nbsp;Backing Up and Restoring File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="bkuptasks2-64128.html">25.&nbsp;&nbsp;Backing Up Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupsnapshot-2.html">26.&nbsp;&nbsp;Using UFS Snapshots (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuprestoretasks-38055.html">27.&nbsp;&nbsp;Restoring Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupref-12756.html">28.&nbsp;&nbsp;UFS Backup and Restore Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupsavefiles-17924.html">29.&nbsp;&nbsp;Copying UFS Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuptapedevice-42512.html">30.&nbsp;&nbsp;Managing Tape Drives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="disksprep-67"></a><h3>Adding a Third-Party Disk</h3>
<p>The Solaris OS supports many third-party disks. However, for the disk to be
recognized, you might need to supply either a device driver, a <tt>format.dat</tt>
entry, or both. Other options for adding disks are as follows:</p>
<ul><li><p>If you are adding a SCSI disk, you might to try the <tt>format</tt> utility's automatic configuration feature. For more information, see <a href="disksprep-72.html">Automatically Configuring SCSI Disk Drives</a>.</p></li>
<li><p>You might try hot-plugging a PCI, SCSI, or USB disk. For more information, see <a href="devconfig-27900.html">Chapter&nbsp;5, Managing Devices (Overview/Tasks)</a>.</p></li></ul>
<p>If the third-party disk is designed to work with standard SunOS compatible device
drivers, then the creation of an appropriate <tt>format.dat</tt> entry should suffice to allow
the disk to be recognized by the <tt>format</tt> utility. In other cases, you
need to load a third-party device driver to support the disk.</p>
<hr><p><b>Note - </b>Sun cannot guarantee that its <tt>format</tt> utility will work properly with all third-party
disk drivers. If the disk driver is not compatible with the Solaris <tt>format</tt>
utility, the disk drive vendor should supply you with a custom disk formatting
program.</p>
<hr>
<p>This section discusses what to do if some of this software support
is missing. Typically, you discover that software support is missing when you invoke the
<tt>format</tt> utility and find that the disk type is not recognized.</p><p>Supply the missing software as described in this section. Then, refer to the
appropriate configuration procedure for adding system disks or secondary disks in <a href="diskssadd-16103.html">Chapter&nbsp;12, SPARC: Adding a Disk (Tasks)</a> or
<a href="disksxadd-38159.html">Chapter&nbsp;13, x86: Adding a Disk (Tasks)</a>.</p>

<a name="disksprep-12536"></a><h4>Creating a <tt>format.dat</tt> Entry</h4>
<p>Unrecognized disks cannot be formatted without precise information about the disk's geometry and
operating parameters. This information is supplied in the <tt>/etc/format.dat</tt> file. <a name="disksprep-ix2502"></a></p>
<hr><p><b>Note - </b>SCSI-2 disks do not require a <tt>format.dat</tt> entry. The <tt>format</tt> utility automatically configures
the SCSI-2 drivers if the disks are powered on during a reconfiguration boot.
For step-by-step instructions on configuring a SCSI disk drive automatically, see <a href="disksprep-72.html#disksprep-24067">How to Automatically Configure a SCSI Drive</a>.</p>
<hr>
<p>If your disk is unrecognized, use a text editor to create an
entry in <tt>format.dat</tt> for the disk. You need to gather all the
pertinent technical specifications about the disk and its controller before you start. This
information should have been provided with the disk. If not, contact the disk
manufacturer or your supplier.</p>

<a name="disksprep-17927"></a><h4>How to Create a <tt>format.dat</tt> Entry</h4><ol>
<li><a name="disksprep-step-69"></a><b><a name="disksprep-ix2504"></a>Become superuser or assume an equivalent role.</b></li>
<li><a name="disksprep-step-70"></a><b>Make a copy of the <tt>/etc/format.dat</tt> file.</b><pre># <tt><b>cp /etc/format.dat /etc/format.dat.gen</b></tt></pre></li>
<li><a name="disksprep-step-71"></a><b>Modify the <tt>/etc/format.dat</tt> file to include an entry for the third-party disk.</b><p>Use the <tt>format.dat</tt> information that is described in <a href="disksformat-15833.html">Chapter&nbsp;16, The <tt>format</tt> Utility (Reference)</a>. </p><p>Also, use the disk's hardware product documentation to gather the required information.</p></li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="disksprep-52.html">Previous</a>
             </td>
             <td align="right">
                 <a href="disksprep-72.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

