<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Copying Files to Tape (<tt>tar</tt> Command) - System Administration Guide: Devices and File Systems</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Devices and File Systems</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="bkupsavefiles-38276.html">Previous</a>
             </td>
             <td align="right">
                 <a href="bkupsavefiles-47.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="medintro-55492.html">1.&nbsp;&nbsp;Managing Removable Media (Overview)</a></p>
<p class="toc level1 tocsp"><a href="medformat-83002.html">2.&nbsp;&nbsp;Managing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medaccess-29267.html">3.&nbsp;&nbsp;Accessing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medcdrw-1.html">4.&nbsp;&nbsp;Writing CDs and DVDs (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig-27900.html">5.&nbsp;&nbsp;Managing Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig2-1.html">6.&nbsp;&nbsp;Dynamically Configuring Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devusbover-24.html">7.&nbsp;&nbsp;Using USB Devices (Overview)</a></p>
<p class="toc level1 tocsp"><a href="devusbtasks-1.html">8.&nbsp;&nbsp;Using USB Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fncpk.html">9.&nbsp;&nbsp;Using InfiniBand Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksconcepts-29477.html">10.&nbsp;&nbsp;Managing Disks (Overview)</a></p>
<p class="toc level1 tocsp"><a href="disksprep-31030.html">11.&nbsp;&nbsp;Administering Disks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="diskssadd-16103.html">12.&nbsp;&nbsp;SPARC: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksxadd-38159.html">13.&nbsp;&nbsp;x86: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fmvcd.html">14.&nbsp;&nbsp;Configuring Solaris iSCSI Targets and Initiators (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gfydr.html">15.&nbsp;&nbsp;Configuring and Managing the Solaris Internet Storage Name Service (iSNS)</a></p>
<p class="toc level1 tocsp"><a href="disksformat-15833.html">16.&nbsp;&nbsp;The <tt>format</tt> Utility (Reference)</a></p>
<p class="toc level1 tocsp"><a href="fsoverview-38559.html">17.&nbsp;&nbsp;Managing File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="fscreate-96442.html">18.&nbsp;&nbsp;Creating UFS, TMPFS, and LOFS File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsmount-42780.html">19.&nbsp;&nbsp;Mounting and Unmounting File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fscachefs-70682.html">20.&nbsp;&nbsp;Using The CacheFS File System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsswap-14677.html">21.&nbsp;&nbsp;Configuring Additional Swap Space (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fstroublefsck-61446.html">22.&nbsp;&nbsp;Checking UFS File System Consistency (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsfilesysappx-94408.html">23.&nbsp;&nbsp;UFS File System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupconcepts-57422.html">24.&nbsp;&nbsp;Backing Up and Restoring File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="bkuptasks2-64128.html">25.&nbsp;&nbsp;Backing Up Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupsnapshot-2.html">26.&nbsp;&nbsp;Using UFS Snapshots (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuprestoretasks-38055.html">27.&nbsp;&nbsp;Restoring Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupref-12756.html">28.&nbsp;&nbsp;UFS Backup and Restore Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupsavefiles-17924.html">29.&nbsp;&nbsp;Copying UFS Files and File Systems (Tasks)</a></p>
<p class="toc level2"><a href="bkupsavefiles-1.html">Commands for Copying File Systems</a></p>
<p class="toc level2"><a href="bkupsavefiles-2.html">Copying File Systems Between Disks</a></p>
<p class="toc level3"><a href="bkupsavefiles-2.html#bkupsavefiles-60904">How to Copy a Disk (<tt>dd</tt>)</a></p>
<p class="toc level2 tocsp"><a href="bkupsavefiles-21.html">Copying Directories Between File Systems (<tt>cpio</tt> Command)</a></p>
<p class="toc level3"><a href="bkupsavefiles-21.html#bkupsavefiles-14144">How to Copy Directories Between File Systems (<tt>cpio</tt>)</a></p>
<p class="toc level2 tocsp"><a href="bkupsavefiles-38276.html">Copying Files and File Systems to Tape</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Copying Files to Tape (<tt>tar</tt> Command)</a></p>
<p class="toc level3"><a href="#bkupsavefiles-22962">How to Copy Files to a Tape (<tt>tar</tt>)</a></p>
<p class="toc level3"><a href="#bkupsavefiles-18134">How to List the Files on a Tape (<tt>tar</tt>)</a></p>
<p class="toc level3"><a href="#bkupsavefiles-30917">How to Retrieve Files From a Tape (<tt>tar</tt>)</a></p>
</div>
<p class="toc level2 tocsp"><a href="bkupsavefiles-47.html">Copying Files to a Tape With the <tt>pax</tt> Command</a></p>
<p class="toc level3"><a href="bkupsavefiles-47.html#bkupsavefiles-48">How to Copy Files to a Tape (<tt>pax</tt>)</a></p>
<p class="toc level2 tocsp"><a href="bkupsavefiles-129.html">Copying Files to Tape With the <tt>cpio</tt> Command</a></p>
<p class="toc level3"><a href="bkupsavefiles-129.html#bkupsavefiles-85934">How to Copy All Files in a Directory to a Tape (<tt>cpio</tt>)</a></p>
<p class="toc level3"><a href="bkupsavefiles-129.html#bkupsavefiles-30690">How to List the Files on a Tape (<tt>cpio</tt>)</a></p>
<p class="toc level3"><a href="bkupsavefiles-129.html#bkupsavefiles-66148">How to Retrieve All Files From a Tape (<tt>cpio</tt>)</a></p>
<p class="toc level3"><a href="bkupsavefiles-129.html#bkupsavefiles-86108">How to Retrieve Specific Files From a Tape (<tt>cpio</tt>)</a></p>
<p class="toc level2 tocsp"><a href="bkupsavefiles-130.html">Copying Files to a Remote Tape Device</a></p>
<p class="toc level3"><a href="bkupsavefiles-130.html#bkupsavefiles-17981">How to Copy Files to a Remote Tape Device (<tt>tar</tt> and <tt>dd</tt>)</a></p>
<p class="toc level3"><a href="bkupsavefiles-130.html#bkupsavefiles-74428">How to Extract Files From a Remote Tape Device</a></p>
<p class="toc level2 tocsp"><a href="bkupsavefiles-60201.html">Copying Files and File Systems to Diskette</a></p>
<p class="toc level3"><a href="bkupsavefiles-60201.html#bkupsavefiles-84545">How to Copy Files to a Single Formatted Diskette (<tt>tar</tt>)</a></p>
<p class="toc level3"><a href="bkupsavefiles-60201.html#bkupsavefiles-78890">How to List the Files on a Diskette (<tt>tar</tt>)</a></p>
<p class="toc level3"><a href="bkupsavefiles-60201.html#bkupsavefiles-53640">How to Retrieve Files From a Diskette (<tt>tar</tt>)</a></p>
<p class="toc level1 tocsp"><a href="bkuptapedevice-42512.html">30.&nbsp;&nbsp;Managing Tape Drives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="bkupsavefiles-30"></a><h3>Copying Files to Tape (<tt>tar</tt> Command)</h3>
<p>Here is information that you should know before you copy files to
tape with the <tt>tar</tt> command:</p>
<ul><li><p>Copying files to a tape with the <tt>-c</tt> option to the <tt>tar</tt> command destroys any files already on the tape at or beyond the current tape position.<a name="fsute"></a></p></li>
<li><p>You can use file name substitution wildcards (<tt>?</tt> and <tt>*</tt>) as part of the file names that you specify when copying files. For example, to copy all documents with a <tt>.doc</tt> suffix, type <tt>*.doc</tt> as the file name argument.</p></li>
<li><p>You cannot use file name substitution wildcards when you extract files from a <tt>tar</tt> archive.</p></li></ul>


<a name="bkupsavefiles-22962"></a><h4>How to Copy Files to a Tape (<tt>tar</tt>)</h4><ol>
<li><a name="bkupsavefiles-step-32"></a><b>Change to the directory that contains the files you want to copy.</b></li>
<li><a name="bkupsavefiles-step-33"></a><b>Insert a write-enabled tape into the tape drive.</b></li>
<li><a name="bkupsavefiles-step-34"></a><b>Copy the files to tape. </b><pre>$ <tt><b>tar cvf /dev/rmt/</b></tt><i>n</i> <i>filenames</i></pre><dl><dt><tt>c</tt></dt>
<dd><p>Indicates that you want to create an archive.</p></dd>
<dt><tt>v</tt></dt>
<dd><p>Displays the name of each file as it is archived.</p></dd>
<dt><tt>f</tt> <tt>/dev/rmt/</tt><i>n</i></dt>
<dd><p>Indicates that the archive should be written to the specified device or file.</p></dd>
<dt><i>filenames</i></dt>
<dd><p>Indicates the files and directories that you want to copy. Separate multiple files with spaces.</p></dd>
</dl>
<p>The file names that you specify are copied to the tape, overwriting any
existing files on the tape.</p></li>
<li><a name="bkupsavefiles-step-35"></a><b>Remove the tape from the drive. Write the names of the files on
the tape label.</b></li>
<li><a name="bkupsavefiles-step-116"></a><b>Verify that the files you copied are on the tape.</b><pre>$ <tt><b>tar tvf /dev/rmt/</b></tt><i>n</i></pre><p>For more information on listing files on a <tt>tar</tt> tape, see <a href="#bkupsavefiles-18134">How to List the Files on a Tape (<tt>tar</tt>)</a>.</p></li></ol><a name="fncse"></a>Example&nbsp;29-4 Copying Files to a Tape (<tt>tar</tt>)<p>The following example shows how to copy three files to the tape
in tape drive 0.</p><pre>$ <tt><b>cd /export/home/kryten</b></tt>
$ <tt><b>ls reports</b></tt>
reportA reportB reportC
$ <tt><b>tar cvf /dev/rmt/0 reports</b></tt>
a reports/ 0 tape blocks
a reports/reportA 59 tape blocks
a reports/reportB 61 tape blocks
a reports/reportC 63 tape blocks
$ <tt><b>tar tvf /dev/rmt/0</b></tt></pre>

<a name="bkupsavefiles-18134"></a><h4>How to List the Files on a Tape (<tt>tar</tt>)</h4><ol>
<li><a name="bkupsavefiles-step-39"></a><b>Insert a tape into the tape drive.</b></li>
<li><a name="bkupsavefiles-step-40"></a><b><a name="bkupsavefiles-ix3150"></a>Display the tape contents. </b><pre>$ <tt><b>tar tvf /dev/rmt/</b></tt><i>n</i></pre><dl><dt><tt>t</tt></dt>
<dd><p>Lists the table of contents for the files on the tape.</p></dd>
<dt><tt>v</tt></dt>
<dd><p>Used with the <tt>t</tt> option, and provides detailed information about the files on the tape.</p></dd>
<dt><tt>f /dev/rmt/</tt><i>n</i></dt>
<dd><p>Indicates the tape device.</p></dd>
</dl>
</li></ol><a name="fncru"></a>Example&nbsp;29-5 Listing the Files on a Tape (<tt>tar</tt>)<p>The following example shows a listing of files on the tape in
drive 0.</p><pre>$ <tt><b>tar tvf /dev/rmt/0</b></tt>
drwxr-xr-x   0/1        0 Jul 28 15:00 2004 reports/
-r--r--r--   0/1   206663 Jul 28 15:00 2004 reports/reportA
-r--r--r--   0/1   206663 Jul 28 15:00 2004 reports/reportB
-r--r--r--   0/1   206663 Jul 28 15:00 2004 reports/reportC</pre>

<a name="bkupsavefiles-30917"></a><h4>How to Retrieve Files From a Tape (<tt>tar</tt>)</h4><ol>
<li><a name="bkupsavefiles-step-43"></a><b><a name="bkupsavefiles-ix3151"></a><a name="bkupsavefiles-ix3152"></a><a name="bkupsavefiles-ix3153"></a>Change to the directory where you want to put the files.</b></li>
<li><a name="bkupsavefiles-step-44"></a><b>Insert the tape into the tape drive.</b></li>
<li><a name="bkupsavefiles-step-45"></a><b><a name="bkupsavefiles-ix3154"></a>Retrieve the files from the tape. </b><pre>$ <tt><b>tar xvf /dev/rmt/</b></tt><i>n</i> [<i>filenames</i>]</pre><dl><dt><tt>x</tt></dt>
<dd><p>Indicates that the files should be extracted from the specified archive file. All files on the tape in the specified drive are copied to the current directory.</p></dd>
<dt><tt>v</tt></dt>
<dd><p>Displays the name of each file as it is retrieved.</p></dd>
<dt><tt>f</tt> <tt>/dev/rmt/</tt><i>n</i></dt>
<dd><p>Indicates the tape device that contains the archive.</p></dd>
<dt><i>filenames</i></dt>
<dd><p>Specifies a file to retrieve. Separate multiple files with spaces.</p></dd>
</dl>
<p>For more information, see the <a href="http://docs.sun.com/doc/819-2239/tar-1?a=view"><tt>tar</tt>(1)</a> man page.</p></li>
<li><a name="bkupsavefiles-step-117"></a><b>Verify that the files have been copied.</b><pre>$ <tt><b>ls -l</b></tt></pre></li></ol><a name="fncsk"></a>Example&nbsp;29-6 Retrieving Files on a Tape (<tt>tar</tt>)<p>The following example shows how to retrieve all the files from the
tape in drive 0.</p><pre>$ <tt><b>cd /var/tmp</b></tt>
$ <tt><b>tar xvf /dev/rmt/0</b></tt>
x reports/, 0 bytes, 0 tape blocks
x reports/reportA, 0 bytes, 0 tape blocks
x reports/reportB, 0 bytes, 0 tape blocks
x reports/reportC, 0 bytes, 0 tape blocks
x reports/reportD, 0 bytes, 0 tape blocks
$ <tt><b>ls -l</b></tt></pre><h6>Troubleshooting</h6><p>The names of the files extracted from the tape must exactly match
the names of the files that are stored on the archive. If you
have any doubts about the names or paths of the files, first list
the files on the tape. For instructions on listing the files on the
tape, see <a href="#bkupsavefiles-18134">How to List the Files on a Tape (<tt>tar</tt>)</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="bkupsavefiles-38276.html">Previous</a>
             </td>
             <td align="right">
                 <a href="bkupsavefiles-47.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

