<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>What's New in File Systems? - System Administration Guide: Devices and File Systems</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Devices and File Systems</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="fsoverview-38559.html">Previous</a>
             </td>
             <td align="right">
                 <a href="fsoverview-62.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="medintro-55492.html">1.&nbsp;&nbsp;Managing Removable Media (Overview)</a></p>
<p class="toc level1 tocsp"><a href="medformat-83002.html">2.&nbsp;&nbsp;Managing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medaccess-29267.html">3.&nbsp;&nbsp;Accessing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medcdrw-1.html">4.&nbsp;&nbsp;Writing CDs and DVDs (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig-27900.html">5.&nbsp;&nbsp;Managing Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig2-1.html">6.&nbsp;&nbsp;Dynamically Configuring Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devusbover-24.html">7.&nbsp;&nbsp;Using USB Devices (Overview)</a></p>
<p class="toc level1 tocsp"><a href="devusbtasks-1.html">8.&nbsp;&nbsp;Using USB Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fncpk.html">9.&nbsp;&nbsp;Using InfiniBand Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksconcepts-29477.html">10.&nbsp;&nbsp;Managing Disks (Overview)</a></p>
<p class="toc level1 tocsp"><a href="disksprep-31030.html">11.&nbsp;&nbsp;Administering Disks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="diskssadd-16103.html">12.&nbsp;&nbsp;SPARC: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksxadd-38159.html">13.&nbsp;&nbsp;x86: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fmvcd.html">14.&nbsp;&nbsp;Configuring Solaris iSCSI Targets and Initiators (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gfydr.html">15.&nbsp;&nbsp;Configuring and Managing the Solaris Internet Storage Name Service (iSNS)</a></p>
<p class="toc level1 tocsp"><a href="disksformat-15833.html">16.&nbsp;&nbsp;The <tt>format</tt> Utility (Reference)</a></p>
<p class="toc level1 tocsp"><a href="fsoverview-38559.html">17.&nbsp;&nbsp;Managing File Systems (Overview)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">What's New in File Systems?</a></p>
</div>
<p class="toc level2"><a href="fsoverview-62.html">Where to Find File System Management Tasks</a></p>
<p class="toc level2"><a href="fsoverview-51.html">Overview of File Systems</a></p>
<p class="toc level2"><a href="fsoverview-95856.html">Commands for File System Administration</a></p>
<p class="toc level2"><a href="fsoverview-43247.html">Default Solaris File Systems</a></p>
<p class="toc level2"><a href="fsoverview-12343.html">UFS File System</a></p>
<p class="toc level2"><a href="fsoverview-30598.html">Mounting and Unmounting File Systems</a></p>
<p class="toc level2"><a href="fsoverview-28729.html">Determining a File System's Type</a></p>
<p class="toc level1 tocsp"><a href="fscreate-96442.html">18.&nbsp;&nbsp;Creating UFS, TMPFS, and LOFS File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsmount-42780.html">19.&nbsp;&nbsp;Mounting and Unmounting File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fscachefs-70682.html">20.&nbsp;&nbsp;Using The CacheFS File System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsswap-14677.html">21.&nbsp;&nbsp;Configuring Additional Swap Space (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fstroublefsck-61446.html">22.&nbsp;&nbsp;Checking UFS File System Consistency (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsfilesysappx-94408.html">23.&nbsp;&nbsp;UFS File System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupconcepts-57422.html">24.&nbsp;&nbsp;Backing Up and Restoring File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="bkuptasks2-64128.html">25.&nbsp;&nbsp;Backing Up Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupsnapshot-2.html">26.&nbsp;&nbsp;Using UFS Snapshots (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuprestoretasks-38055.html">27.&nbsp;&nbsp;Restoring Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupref-12756.html">28.&nbsp;&nbsp;UFS Backup and Restore Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupsavefiles-17924.html">29.&nbsp;&nbsp;Copying UFS Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuptapedevice-42512.html">30.&nbsp;&nbsp;Managing Tape Drives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="fsoverview-63"></a><h3>What's New in File Systems?</h3>
<p>This section describes new file system features in the Solaris Solaris Express release.</p>
<ul><li><p><a href="#gcdye">File System Monitoring Tool (<tt>fsstat</tt>)</a></p></li>
<li><p><a href="#gbsdd">Solaris ZFS File System</a></p></li>
<li><p><a href="#gagar">Enhancements to UFS File System Utilities (<tt>fsck</tt>, <tt>mkfs</tt>, and <tt>newfs</tt>)</a></p></li></ul>
<p>For a complete listing of new Solaris features and a description of Solaris
releases, see <a href="http://docs.sun.com/doc/820-0724"><i>Solaris Express Developer Edition What&rsquo;s New</i></a>.</p>

<a name="gcdye"></a><h4>File System Monitoring Tool (<tt>fsstat</tt>)</h4>
<p><b>Solaris Express 4/06</b>: A new file system monitoring tool, <tt>fsstat</tt>, is available to report file
system operations. You can use several options to report activity, such as by
mount point or by file system type. <a name="indexterm-350"></a><a name="indexterm-351"></a></p><p>For example, the following <tt>fsstat</tt> command displays all ZFS file system operations since
the ZFS module was loaded:</p><pre>$ <tt><b>fsstat zfs</b></tt>
 new  name   name  attr  attr lookup rddir  read read  write write
 file remov  chng   get   set    ops   ops   ops bytes   ops bytes
 268K  145K 93.6K 28.0M 71.1K   186M 2.74M 12.9M 56.2G 1.61M 9.46G zfs</pre><p>For example, the following <tt>fsstat</tt> command displays all file system operations since the
<tt>/export/ws</tt> file system mounted.</p><pre>$ <tt><b>fsstat /export/ws</b></tt>
new  name   name  attr  attr lookup rddir  read read  write write
file remov  chng   get   set    ops   ops   ops bytes   ops bytes
   0     0     0 18.1K     0  12.6M    52     0     0     0     0 /export/ws</pre><p>The default form is to report statistical information in easy to understand values,
such as Gbytes, Kbytes, and Mbytes.</p><p>For more information, see <a href="http://docs.sun.com/doc/819-2240/fsstat-1m?a=view"><tt>fsstat</tt>(1M)</a>.</p>

<a name="gbsdd"></a><h4>Solaris ZFS File System</h4>
<p><b>Solaris Express 12/05</b>: ZFS, a revolutionary new file system, provides simple administration, transactional semantics, end-to-end data
integrity, and immense scalability. In addition, ZFS provides the following administration features:</p>
<ul><li><p>Backup and restore capabilities</p></li>
<li><p>Device management support</p></li>
<li><p>GUI administration tool</p></li>
<li><p>Persistent snapshots and cloning features</p></li>
<li><p>Quotas that can be set for file systems</p></li>
<li><p>RBAC-based access control</p></li>
<li><p>Storage pool space reservations for file systems</p></li>
<li><p>Support for Solaris systems that have zones installed</p></li></ul>
<p>You can set up both ZFS and UFS file systems on the
same Solaris system. However, you cannot use ZFS as a root file system.
For information about additional limitations when using ZFS, see <a href="http://docs.sun.com/doc/820-0724/gbjpv?a=view">The ZFS File System in <i>Solaris Express Developer Edition What&rsquo;s New</i></a>.</p><p>For more information about using ZFS, see <a href="http://docs.sun.com/doc/817-2271"><i>ZFS Administration Guide</i></a>.</p>

<a name="gagar"></a><h4>Enhancements to UFS File System Utilities (<tt>fsck</tt>, <tt>mkfs</tt>, and <tt>newfs</tt>)</h4>
<p><b>Solaris Express 12/05</b>: The file system check utility, <tt>fsck</tt>, has been enhanced to include
features from the FreeBSD 4.9 version of the <tt>fsck</tt> program, as well as
other enhancements.</p><p>The <tt>fsck</tt> utility in this Solaris release includes the following improvements:</p>
<ul><li><p>Checks and repairs file systems more thoroughly and provides improved error messages. For example, in some scenarios, <tt>fsck</tt> determines what structures are missing and replaces them appropriately.</p></li>
<li><p>Automatically searches for backup superblocks.</p></li>
<li><p>Reports when <tt>fsck</tt> needs to be rerun.</p></li>
<li><p>When clearing directories, <tt>fsck</tt> now attempts to recover directory contents immediately and therefore, reduces the time spent rerunning this utility.</p></li>
<li><p>If <tt>fsck</tt> finds duplicate blocks, and not all files that reference the duplicate blocks were cleared, <tt>fsck</tt> reports the inode numbers at the end of the <tt>fsck</tt> run. Then, you can use the <tt>find</tt> command to review the inodes that are damaged.</p></li>
<li><p>Improved error messages regarding the status of extended attributes and other special files, such as device files and ACL entries, are included.</p></li>
<li><p>Includes a <tt>-v</tt> option to enable more verbose messages.</p></li></ul>
<p>In addition, the <tt>newfs</tt> and <tt>mkfs</tt> commands have been updated to include new
options for displaying a file system's superblock information in text or dumping the
superblock information in binary format.</p><pre>newfs [ -S or -B ] <i>/dev/rdsk/...</i></pre><dl><dt><tt>-S</tt></dt>
<dd><p>Displays the file system's superblock in text</p></dd>
<dt><tt>-B</tt></dt>
<dd><p>Dumps the file system's superblock in binary</p></dd>
</dl>
<pre>mkfs [ -o calcsb or -o calcbinsb ] <i>/dev/rdsk/... size</i></pre><dl><dt><tt>-o calcsb</tt></dt>
<dd><p>Displays the file system's superblock in text</p></dd>
<dt><tt>-o calcbinsb</tt></dt>
<dd><p>Dumps the file system's superblock in binary</p></dd>
</dl>
<p>The <tt>fsck</tt> utility uses this superblock information to search for backup superblocks.</p><p>The following sections describe specific <tt>fsck</tt> enhancements and their corresponding error messages. For
step-by-step instructions on using the <tt>fsck</tt> utility to repair a damaged superblock, see
<a href="fstroublefsck-59471.html#galyo">How to Restore a Bad Superblock ( Solaris Express Release)</a>.</p>

<a name="gagby"></a><h5>Automatic Search for Backup Superblocks</h5>
<p>The following <tt>fsck</tt> error message examples illustrate the automatic backup superblock discovery feature.</p>
<hr><p><b>Caution - </b>If a file system has a damaged superblock and it was created with
<tt>newfs</tt> or <tt>mkfs</tt> customized parameters, such as <tt>ntrack</tt> or <tt>nsect</tt>, using <tt>fsck</tt>'s automatically
discovered superblock for the repair process could damage your file system.</p><p>In the case of a file system that was created with customized parameters
and it has a bad superblock, <tt>fsck</tt> provides the prompt to cancel the
<tt>fsck</tt> session:</p><pre>CANCEL FILESYSTEM CHECK?</pre>
<hr>

<ul><li><p>If the file system was created with the <tt>newfs</tt> command and <tt>fsck</tt> responds that just the primary superblocks are corrupted, then consider letting <tt>fsck</tt> restore the superblock.</p><pre># <tt><b>fsck /dev/dsk/c1t2d0s0</b></tt>
** /dev/rdsk/c1t2d0s0
BAD SUPERBLOCK AT BLOCK 16: BLOCK SIZE LARGER THAN MAXIMUM SUPPORTED

LOOK FOR ALTERNATE SUPERBLOCKS WITH MKFS? <tt><b>no</b></tt>


LOOK FOR ALTERNATE SUPERBLOCKS WITH NEWFS? <tt><b>yes</b></tt>

FOUND ALTERNATE SUPERBLOCK 32 WITH NEWFS

USE ALTERNATE SUPERBLOCK? <tt><b>yes</b></tt>

FOUND ALTERNATE SUPERBLOCK AT 32 USING NEWFS
If filesystem was created with manually-specified geometry, using
auto-discovered superblock may result in irrecoverable damage to
filesystem and user data.

CANCEL FILESYSTEM CHECK? <tt><b>no</b></tt>

** Last Mounted on
** Phase 1 - Check Blocks and Sizes
** Phase 2 - Check Pathnames
** Phase 3a - Check Connectivity
** Phase 3b - Verify Shadows/ACLs
** Phase 4 - Check Reference Counts
** Phase 5 - Check Cylinder Groups
CORRECT GLOBAL SUMMARY
SALVAGE? <tt><b>y</b></tt>


UPDATE STANDARD SUPERBLOCK? <tt><b>y</b></tt>

81 files, 3609 used, 244678 free (6 frags, 30584 blocks, 0.0% 
fragmentation)

***** FILE SYSTEM WAS MODIFIED *****</pre></li>
<li><p>If the file system was created with the <tt>mkfs</tt> command and <tt>fsck</tt> responds that just the primary superblocks are corrupted, then consider letting <tt>fsck</tt> restore the superblock.</p><pre># <tt><b>fsck /dev/dsk/c1t2d0s0</b></tt>
** /dev/rdsk/c1t2d0s0
BAD SUPERBLOCK AT BLOCK 16: BLOCK SIZE LARGER THAN MAXIMUM SUPPORTED

LOOK FOR ALTERNATE SUPERBLOCKS WITH MKFS? <tt><b>yes</b></tt>

FOUND ALTERNATE SUPERBLOCK 32 WITH MKFS

USE ALTERNATE SUPERBLOCK? <tt><b>yes</b></tt>

FOUND ALTERNATE SUPERBLOCK AT 32 USING MKFS
If filesystem was created with manually-specified geometry, using
auto-discovered superblock may result in irrecoverable damage to
filesystem and user data.

CANCEL FILESYSTEM CHECK? <tt><b>no</b></tt>

** Last Mounted on
** Phase 1 - Check Blocks and Sizes
** Phase 2 - Check Pathnames
** Phase 3a - Check Connectivity
** Phase 3b - Verify Shadows/ACLs
** Phase 4 - Check Reference Counts
** Phase 5 - Check Cylinder Groups
CORRECT GLOBAL SUMMARY
SALVAGE? <tt><b>y</b></tt>


UPDATE STANDARD SUPERBLOCK? <tt><b>y</b></tt>

81 files, 3609 used, 243605 free (117 frags, 30436 blocks, 0.0% 
fragmentation)

***** FILE SYSTEM WAS MODIFIED *****</pre></li></ul>
<p>The following example illustrates what would happen if you specified <tt>fsck</tt>'s <tt>-y</tt>
option in a damaged superblock scenario. You are automatically dropped out of the
<tt>fsck</tt> session. A message is displayed to rerun it with the alternate superblock.
</p><pre># <tt><b>fsck -y /dev/dsk/c1t2d0s0</b></tt>
# 
** /dev/rdsk/c1t2d0s0
BAD SUPERBLOCK AT BLOCK 16: BLOCK SIZE LARGER THAN MAXIMUM SUPPORTED

LOOK FOR ALTERNATE SUPERBLOCKS WITH MKFS?  yes


LOOK FOR ALTERNATE SUPERBLOCKS WITH NEWFS?  yes

SEARCH FOR ALTERNATE SUPERBLOCKS FAILED.

USE GENERIC SUPERBLOCK FROM MKFS?  yes

CALCULATED GENERIC SUPERBLOCK WITH MKFS
If filesystem was created with manually-specified geometry, using
auto-discovered superblock may result in irrecoverable damage to
filesystem and user data.

CANCEL FILESYSTEM CHECK?  yes

Please verify that the indicated block contains a proper
superblock for the filesystem (see fsdb(1M)).

FSCK was running in YES mode.  If you wish to run in that mode using
the alternate superblock, run `fsck -y -o b=453920 /dev/rdsk/c1t2d0s0'.</pre><p>The following <tt>fsck</tt> error message scenario illustrates the new prompts for the backup
superblock, but the <tt>fsck</tt> run is not canceled, in this example. Canceling the
<tt>fsck</tt> session would be an appropriate response if this file system was created
with customized parameters or if there is some other concern about running <tt>fsck</tt>
on this file system.</p><p>The various superblock error conditions are provided in <b>italics</b> as follows:</p><pre># <tt><b>fsck /dev/rdsk/c0t1d0s0</b></tt>

** /dev/rdsk/c0t1d0s0

<i>BAD SUPERBLOCK AT BLOCK 16: BLOCK SIZE LARGER THAN MAXIMUM SUPPORTED</i>
<i>BAD SUPERBLOCK AT BLOCK 16: NUMBER OF DATA BLOCKS OUT OF RANGE</i>
<i>BAD SUPERBLOCK AT BLOCK 16: INODES PER GROUP OUT OF RANGE</i>
<i>BAD SUPERBLOCK AT BLOCK 16: MAGIC NUMBER WRONG</i>
<i>BAD SUPERBLOCK AT BLOCK 16: BAD VALUES IN SUPER BLOCK</i>
<i>BAD SUPERBLOCK AT BLOCK 16: NCG OUT OF RANGE</i>
<i>BAD SUPERBLOCK AT BLOCK 16: CPG OUT OF RANGE</i>
<i>BAD SUPERBLOCK AT BLOCK 16: NCYL IS INCONSISTENT WITH NCG*CPG</i>
<i>BAD SUPERBLOCK AT BLOCK 16: SIZE OUT OF RANGE</i>
<i>BAD SUPERBLOCK AT BLOCK 16: NUMBER OF DIRECTORIES OUT OF RANGE</i>
<i>BAD SUPERBLOCK AT BLOCK 16: ROTATIONAL POSITION TABLE SIZE OUT OF RANGE</i>
<i>BAD SUPERBLOCK AT BLOCK 16: SIZE OF CYLINDER GROUP SUMMARY AREA WRONG</i>
<i>BAD SUPERBLOCK AT BLOCK 16: INOPB NONSENSICAL RELATIVE TO BSIZE</i>

LOOK FOR ALTERNATE SUPERBLOCKS WITH MKFS? <tt><b>yes</b></tt>

FOUND ALTERNATE SUPERBLOCK 32 WITH MKFS

USE ALTERNATE SUPERBLOCK? <tt><b>yes</b></tt>

FOUND ALTERNATE SUPERBLOCK AT 32 USING MKFS
If filesystem was created with manually-specified geometry, using
auto-discovered superblock may result in irrecoverable damage to
filesystem and user data.

CANCEL FILESYSTEM CHECK? <tt><b>no</b></tt>

** Last Mounted on 
** Phase 1 - Check Blocks and Sizes
** Phase 2a - Check Duplicated Names
** Phase 2b - Check Pathnames
** Phase 3a - Check Connectivity
** Phase 3b - Verify Shadows/ACLs
** Phase 4 - Check Reference Counts
** Phase 5 - Check Cylinder Groups

SALVAGE? <tt><b>yes</b></tt>


UPDATE STANDARD SUPERBLOCK? <tt><b>yes</b></tt>

82 files, 3649 used, 244894 free (6 frags, 30611 blocks, 0.0% 
fragmentation)

***** FILE SYSTEM WAS MODIFIED *****</pre>

<a name="gagch"></a><h5><tt>fsck</tt> Reports When it Needs to be Rerun</h5>
<p>Better reporting by <tt>fsck</tt> about when it needs to be rerun should alleviate
the time and necessity of running it multiple times, which can be particularly
time consuming on large file systems.</p><p>The following new messages prompt you to rerun the <tt>fsck</tt> utility at the
end of an error scenario:</p><pre>***** PLEASE RERUN FSCK *****</pre><p>Or:</p><pre>Please rerun fsck(1M) to correct this.</pre><p>These new prompts resolve the previous difficulty in determining whether <tt>fsck</tt> should
be rerun or not.</p><p>Unless you are prompted to rerun <tt>fsck</tt> as in the above messages, there
is no need to run <tt>fsck</tt>, even after you see the following message:</p><pre>***** FILE SYSTEM WAS MODIFIED *****</pre><p>However, it doesn't harm the file system to rerun <tt>fsck</tt> after this message.
This message is just informational about <tt>fsck</tt>'s corrective actions.</p>

<a name="gagay"></a><h5>New <tt>fsck</tt> Messages Regarding Extended Attributes</h5>
<p>New <tt>fsck</tt> messages are included that report on and repair files with extended
attributes. For example:</p><pre>BAD ATTRIBUTE REFERENCE TO I=1 FROM I=96</pre><pre>Attribute directory I=97 not attached to file I=96
  I=96  OWNER=root MODE=40755
SIZE=512 MTIME=Jul 21 16:23 2005 
DIR= &lt;xattr> 

FIX?  <tt><b>yes</b></tt></pre><pre>ZERO LENGTH ATTR DIR I=12  OWNER=root MODE=160755
SIZE=0 MTIME=Jul 21 16:25 2005 
CLEAR?  <tt><b>yes</b></tt></pre><pre>File should BE marked as extended attribute
  I=22  OWNER=root MODE=100644
SIZE=0 MTIME=Jul 21 16:36 2005 
FILE=  &lt;xattr>

FIX?  <tt><b>yes</b></tt></pre><pre>UNREF ATTR DIR  I=106  OWNER=root MODE=160755
SIZE=512 MTIME=Jul 21 16:36 2005 
RECONNECT?  <tt><b>yes</b></tt></pre><pre>File I=107 should NOT be marked as extended attribute
  I=107  OWNER=root MODE=100644
SIZE=0 MTIME=Jul 21 16:36 2005 
FILE=?/attfsdir-7-att

FIX?  <tt><b>yes</b></tt>
DIR I=106 CONNECTED.</pre>

<a name="gagbr"></a><h5>Better Handling of Duplicate Blocks or Fragments</h5>
<p>The <tt>fsck</tt> error messages now reports information about blocks, fragments, or a LFNs,
which are the logical fragment numbers from the start of the file. For
example, you might see output similar to the following:</p><pre>** Phase 1 - Check Blocks and Sizes
FRAGMENT 784 DUP I=38 LFN 0
FRAGMENT 785 DUP I=38 LFN 1
FRAGMENT 786 DUP I=38 LFN 2
.
.
.</pre><p><tt>fsck</tt> processes objects as fragments, but in previous Solaris releases, only reported object
information as blocks. It now correctly reports as fragments.</p><p>If <tt>fsck</tt> finds error conditions that involve duplicate blocks or fragments, <tt>fsck</tt> offers
to display the uncleared files at end of the <tt>fsck</tt> output. For example,
you might see output similar to the following:</p><pre>LIST REMAINING DUPS?  <tt><b>yes</b></tt>

Some blocks that were found to be in multiple files are still
assigned to file(s).
Fragments sorted by inode and logical offsets:
Inode 38:
  Logical Offset  0x00000000               Physical Fragment  784
  Logical Offset  0x00000800               Physical Fragment  786
  Logical Offset  0x00001000               Physical Fragment  788
  Logical Offset  0x00001800               Physical Fragment  790</pre><p>Then, you can use the <tt>find -i</tt> <i>inode-number</i> command to identify the name of
inode 38, in this example.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="fsoverview-38559.html">Previous</a>
             </td>
             <td align="right">
                 <a href="fsoverview-62.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

