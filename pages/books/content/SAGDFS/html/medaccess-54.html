<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Accessing Removable Media - System Administration Guide: Devices and File Systems</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Devices and File Systems</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="medaccess-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="medaccess-22.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="medintro-55492.html">1.&nbsp;&nbsp;Managing Removable Media (Overview)</a></p>
<p class="toc level1 tocsp"><a href="medformat-83002.html">2.&nbsp;&nbsp;Managing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medaccess-29267.html">3.&nbsp;&nbsp;Accessing Removable Media (Tasks)</a></p>
<p class="toc level2"><a href="medaccess-1.html">Accessing Removable Media (Task Map)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Accessing Removable Media</a></p>
<p class="toc level3"><a href="#medaccess-95763">How to Add a New Removable Media Drive</a></p>
<p class="toc level3"><a href="#medaccess-12244">How to Disable or Enable Removable Media Services</a></p>
<p class="toc level3"><a href="#medaccess-49551">How to Access Information on Removable Media</a></p>
<p class="toc level3"><a href="#medaccess-17081">How to Copy Information From Removable Media</a></p>
<p class="toc level3"><a href="#medaccess-60234">How to Determine If Removable Media Is Still in Use</a></p>
<p class="toc level3"><a href="#medaccess-46529">How to Eject Removable Media</a></p>
</div>
<p class="toc level2 tocsp"><a href="medaccess-22.html">Accessing Removable Media on a Remote System (Task Map)</a></p>
<p class="toc level3"><a href="medaccess-22.html#medaccess-60181">How to Make Local Media Available to Other Systems</a></p>
<p class="toc level3"><a href="medaccess-22.html#medaccess-78168">How to Access Removable Media on Remote Systems</a></p>
<p class="toc level1 tocsp"><a href="medcdrw-1.html">4.&nbsp;&nbsp;Writing CDs and DVDs (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig-27900.html">5.&nbsp;&nbsp;Managing Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig2-1.html">6.&nbsp;&nbsp;Dynamically Configuring Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devusbover-24.html">7.&nbsp;&nbsp;Using USB Devices (Overview)</a></p>
<p class="toc level1 tocsp"><a href="devusbtasks-1.html">8.&nbsp;&nbsp;Using USB Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fncpk.html">9.&nbsp;&nbsp;Using InfiniBand Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksconcepts-29477.html">10.&nbsp;&nbsp;Managing Disks (Overview)</a></p>
<p class="toc level1 tocsp"><a href="disksprep-31030.html">11.&nbsp;&nbsp;Administering Disks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="diskssadd-16103.html">12.&nbsp;&nbsp;SPARC: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksxadd-38159.html">13.&nbsp;&nbsp;x86: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fmvcd.html">14.&nbsp;&nbsp;Configuring Solaris iSCSI Targets and Initiators (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gfydr.html">15.&nbsp;&nbsp;Configuring and Managing the Solaris Internet Storage Name Service (iSNS)</a></p>
<p class="toc level1 tocsp"><a href="disksformat-15833.html">16.&nbsp;&nbsp;The <tt>format</tt> Utility (Reference)</a></p>
<p class="toc level1 tocsp"><a href="fsoverview-38559.html">17.&nbsp;&nbsp;Managing File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="fscreate-96442.html">18.&nbsp;&nbsp;Creating UFS, TMPFS, and LOFS File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsmount-42780.html">19.&nbsp;&nbsp;Mounting and Unmounting File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fscachefs-70682.html">20.&nbsp;&nbsp;Using The CacheFS File System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsswap-14677.html">21.&nbsp;&nbsp;Configuring Additional Swap Space (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fstroublefsck-61446.html">22.&nbsp;&nbsp;Checking UFS File System Consistency (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsfilesysappx-94408.html">23.&nbsp;&nbsp;UFS File System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupconcepts-57422.html">24.&nbsp;&nbsp;Backing Up and Restoring File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="bkuptasks2-64128.html">25.&nbsp;&nbsp;Backing Up Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupsnapshot-2.html">26.&nbsp;&nbsp;Using UFS Snapshots (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuprestoretasks-38055.html">27.&nbsp;&nbsp;Restoring Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupref-12756.html">28.&nbsp;&nbsp;UFS Backup and Restore Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupsavefiles-17924.html">29.&nbsp;&nbsp;Copying UFS Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuptapedevice-42512.html">30.&nbsp;&nbsp;Managing Tape Drives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="medaccess-54"></a><h3>Accessing Removable Media</h3>
<p>You can access information on removable media with or without using volume management.
For information on accessing information on removable media with GNOME's File Manager, see
the GNOME desktop documentation.</p><p>Volume management (<tt>vold</tt>) actively manages all removable media devices. So, any attempt to
access removable media with device names such as <tt>/dev/rdsk/c</tt><i>n</i><tt>t</tt><i>n</i><tt>d</tt><i>n</i><tt>s</tt><i>n</i> or <tt>/dev/dsk/c</tt><i>n</i><tt>t</tt><i>n</i><tt>d</tt><i>n</i><tt>s</tt><i>n</i> will be
unsuccessful.</p>

<a name="medaccess-3"></a><h4>Using Removable Media Names</h4>
<p>You can access all removable media with different names. The following table describes
the different media names that can be accessed with or without volume management.
<a name="medaccess-ix1190"></a><a name="medaccess-ix1192"></a></p><a name="medaccess-37633"></a><h6>Table&nbsp;3-1 Removable Media Names</h6><table><col width="132.00*"><col width="204.00*"><col width="295.95*"><col width="292.05*"><tr><th align="left" valign="top" scope="column"><p>Media</p></th>
<th align="left" valign="top" scope="column"><p>Volume Management Device Name</p></th>
<th align="left" valign="top" scope="column"><p>Volume Management Device Alias Name</p></th>
<th align="left" valign="top" scope="column"><p>Device Name</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>First diskette drive</p></td>
<td align="left" valign="top" scope="row"><p><tt>/floppy</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>/vol/dev/aliases/floppy0</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>/dev/rdiskette</tt></p><p><tt>/vol/dev/rdiskette0/</tt></p><p><i>volume-name</i></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>First, second,
third CD-ROM or DVD-ROM drives</p></td>
<td align="left" valign="top" scope="row"><p><tt>/cdrom0</tt></p><p><tt>/cdrom1</tt></p><p><tt>/cdrom2</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>/vol/dev/aliases/cdrom0</tt></p><p><tt>/vol/dev/aliases/cdrom1</tt></p><p><tt>/vol/dev/aliases/cdrom2</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>/vol/dev/rdsk/c</tt><i>n</i><tt>t</tt><i>n</i><tt>[d</tt><i>n</i>]<tt>/</tt></p><p><i>volume-name</i></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>USB memory stick</p></td>
<td align="left" valign="top" scope="row"><p><tt>/rmdisk/noname</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>/vol/dev/aliases/</tt><tt>rmdisk0</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>/vol/dev/dsk</tt>/c<i>n</i><tt>t</tt><i>n</i><tt>d</tt><i>n</i>/<i>volume-name</i><tt>:c</tt></p></td>
</tr>
</table>

<a name="medaccess-57"></a><h4>Guidelines for Accessing Removable Media Data</h4>
<p>Most CDs and DVDs are formatted to the ISO 9660 standard, which
is portable. So, most CDs and DVDs can be mounted by volume management.
However, CDs or DVDs with UFS file systems are not portable between architectures.
So, they must be used on the architecture for which they were designed.</p><p>For example, a CD or DVD with a UFS file system for
a SPARC<sup>TM</sup> platform cannot be recognized by an x86 platform. Likewise, an x86
UFS CD cannot be mounted by volume management on a SPARC platform. The
same limitation generally applies to diskettes. However, some architectures share the same bit
structure, so occasionally a UFS format specific to one architecture will be recognized by
another architecture. Still, the UFS file system structure was not designed to guarantee
this compatibility.</p><p>To accommodate the different formats, the CD or DVD is split into
slices. Slices are similar in effect to partitions on hard disks. The 9660
portion is portable, but the UFS portion is architecture-specific. If you are having trouble
mounting a CD or DVD, particularly if it is an installation CD
or DVD, make sure that its UFS file system is appropriate for your
system's architecture. For example, you can check the label on the CD or
DVD.<a name="medaccess-ix1198"></a><a name="medaccess-ix1199"></a><a name="medaccess-ix1200"></a><a name="medaccess-ix1201"></a><a name="medaccess-ix1202"></a><a name="medaccess-ix1203"></a><a name="medaccess-ix1204"></a></p>

<a name="medaccess-95763"></a><h4>How to Add a New Removable Media Drive</h4><p>Generally, most modern bus types support hot-plugging. If your system's bus type supports
hot-plugging, you might only need to do step 5 below. If your system's
bus type does not support hot-plugging, you might have to do the following
tasks, which are described in steps 1-6 below.</p>
<ul><li><p>Create the <tt>/reconfigure</tt> file.</p></li>
<li><p>Reboot the system so that volume management recognizes the new media drive.</p></li></ul>
<p>For more information about hot-plugging devices, see <a href="devconfig2-1.html">Chapter&nbsp;6, Dynamically Configuring Devices (Tasks)</a>.</p><ol>
<li><a name="medaccess-step-42"></a><b>Become superuser.<a name="indexterm-37"></a><a name="indexterm-38"></a></b></li>
<li><a name="medaccess-step-43"></a><b>Create the <tt>/reconfigure</tt> file.</b><pre># <tt><b>touch /reconfigure</b></tt></pre></li>
<li><a name="medaccess-step-51"></a><b>Bring the system to run level 0.</b><pre># <tt><b>init 0</b></tt></pre></li>
<li><a name="medaccess-step-1"></a><b>Turn off power to the system.</b></li>
<li><a name="medaccess-step-2"></a><b>Connect the new media drive.</b><p>See your hardware handbook for specific instructions.</p></li>
<li><a name="medaccess-step-3"></a><b>Turn on power to the system.</b><p>The system automatically comes up to multiuser mode.</p></li></ol>

<a name="medaccess-12244"></a><h4>How to Disable or Enable Removable Media Services</h4><p>Occasionally, you might want to manage media without using removable media services. This
section describes how to disable and enable removable media services.<a name="indexterm-39"></a><a name="indexterm-40"></a><a name="indexterm-41"></a></p><p>Disabling these services means that you would have to mount all media manually
by using the <tt>mount</tt> command.</p><ol>
<li><a name="medaccess-step-45"></a><b>Ensure that the media is not being used.</b><p>If you are not sure whether you have found all users of
the media, use the <tt>fuser</tt> command, see <a href="#medaccess-60234">How to Determine If Removable Media Is Still in Use</a>.</p></li>
<li><a name="medaccess-step-46"></a><b>Become superuser.</b></li>
<li><a name="medaccess-step-47"></a><b>Select one of the following: </b>
<ul><li><p>You can disable some or all removable media features in this release:</p>
<ul><li><p>To prevent volumes from mounting outside of user sessions, disable the <tt>rmvolmgr</tt> service. For example:</p><pre># svcadm disable rmvolmgr</pre></li>
<li><p>To prevent any volume management, disable the <tt>dbus</tt>, <tt>hal</tt>, and <tt>rmvolmgr</tt> services.</p><pre># svcadm disable rmvolmgr
# svcadm disable dbus
# svcadm disable hal</pre><p>Disabling these services means that you would have to mount all media manually by using the <tt>mount</tt> command.</p></li></ul>
</li>
<li><p>Enable removable media services.</p><pre># svcadm enable rmvolmgr
# svcadm enable dbus
# svcadm enable hal</pre></li></ul>
</li></ol>

<a name="medaccess-49551"></a><h4>How to Access Information on Removable Media</h4><ol>
<li><a name="medaccess-step-62"></a><b>Insert the media.</b><p>The media is mounted after a few seconds. <a name="medaccess-ix1196"></a><a name="medaccess-ix1197"></a></p></li>
<li><a name="medaccess-step-56"></a><b>List the contents of the media.</b><pre>% <tt><b>ls</b></tt> /<i>media</i></pre><p>Use the appropriate device name to access information by using the command-line interface.
See <a href="#medaccess-37633">Table&nbsp;3-1</a> for an explanation of device names.</p></li></ol><a name="fncpw"></a>Example&nbsp;3-1 Accessing Information on Removable Media<p>This example shows how to access information on a diskette.<a name="indexterm-42"></a></p><pre>$ ls /media/floppy</pre><p>This example shows how to access information on a USB memory stick.</p><pre>$ ls /media/<i>usb-name</i></pre><p>This example shows how to access information on a DVD or CD.</p><pre>$ ls /media
SOL_10_305_sparc  cdrom</pre>

<a name="medaccess-17081"></a><h4>How to Copy Information From Removable Media</h4><p>You can access files and directories on removable media as with any other
file system. The only significant restrictions are related to ownership and permissions.</p><p>For instance, if you copy a file from a CD into your
file system, you are the owner. However, you won't have write permissions because
the file on the CD never had them. You must change the permissions
yourself.</p><ol>
<li><a name="medaccess-step-6"></a><b>Ensure that the media is mounted.</b><pre>$ <tt><b>ls</b></tt> <i>/media</i></pre><p>The <tt>ls</tt> command displays the contents of a mounted media. If no contents
are displayed, see <a href="#medaccess-49551">How to Access Information on Removable Media</a>.</p></li>
<li><a name="medaccess-step-7"></a><b>(Optional) Copy the files or directories.</b><p>For example, for a DVD, you would do the following:</p><pre>$ <tt><b>cp /media/sol_10_305_sparc/s0/Solaris_10/Tools/add_install_client .</b></tt>
$ <tt><b>ls -l</b></tt>
-rwxr-xr-x   1 pmorph      gelfs   66393 Jun 14 16:08 add_install_client</pre></li></ol>

<a name="medaccess-60234"></a><h4>How to Determine If Removable Media Is Still in Use</h4><ol>
<li><a name="medaccess-step-10"></a><b>Become superuser.<a name="medaccess-ix1220"></a><a name="medaccess-ix1221"></a><a name="medaccess-ix1222"></a><a name="medaccess-ix1223"></a><a name="medaccess-ix1224"></a><a name="medaccess-ix1225"></a><a name="medaccess-ix1226"></a></b></li>
<li><a name="medaccess-step-11"></a><b>Identify the processes that are accessing the media.</b><pre># <tt><b>fuser -u</b></tt> <i>/media</i></pre><p>The <tt>-u</tt> displays the user of the media.</p><p>For more information, see <a href="http://docs.sun.com/doc/819-2240/fuser-1m?a=view"><tt>fuser</tt>(1M)</a>.</p></li>
<li><a name="medaccess-step-60"></a><b>(Optional) Kill the process accessing the media.</b><pre># <tt><b>fuser -u -k</b></tt> <i>/media</i></pre><p>The <tt>-k</tt> kills the processes accessing the media.</p>
<hr><p><b>Caution - </b>Killing the processes that are accessing the media should only be used in
emergency situations. </p>
<hr>
</li>
<li><a name="medaccess-step-24"></a><b>Verify that the process is gone.</b><pre># <tt><b>pgrep</b></tt> <i>process-ID</i></pre></li></ol><a name="fncpx"></a>Example&nbsp;3-2 Determining If the Media Is Still in Use<p>The following example shows that the user <tt>pmorph</tt>, is accessing the  <tt>/media/sol_10_305_sparc/s0/Solaris_10/Tools</tt>
directory.</p><pre># fuser -u /media/sol0_10_305_SPARC/Solaris_10/Tools
/media/SOL_9_SPARC/Solaris_9/Tools:      723c(pmorph)     316c(pmorph)</pre>

<a name="medaccess-46529"></a><h4>How to Eject Removable Media</h4><ol>
<li><a name="medaccess-step-14"></a><b>Ensure that the media is not being used.</b><p>Remember, media is &ldquo;being used&rdquo; if a shell or an application is accessing
any of its files or directories. If you are not sure whether you
have found all users of a CD (for example, a shell hidden
behind a desktop tool might be accessing it), use the <tt>fuser</tt> command. See
<a href="#medaccess-60234">How to Determine If Removable Media Is Still in Use</a>. <a name="medaccess-ix1236"></a><a name="medaccess-ix1237"></a><a name="medaccess-ix1238"></a></p></li>
<li><a name="medaccess-step-15"></a><b>Eject the media.</b><pre># <tt><b>eject</b></tt> <i>media</i></pre><p>For example, for a CD, you would do the following:</p><pre># <tt><b>eject cdrom</b></tt></pre><p>For example, for a USB memory stick, you would do the following:</p><pre># <tt><b>eject rmdisk0</b></tt></pre>
<hr><p><b>Tip - </b>You can view the removable device name with the <tt>eject</tt> <tt>-l</tt> command.</p>
<hr>
</li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="medaccess-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="medaccess-22.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

