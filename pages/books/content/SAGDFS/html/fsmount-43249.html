<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Overview of Mounting File Systems - System Administration Guide: Devices and File Systems</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Devices and File Systems</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="fsmount-42780.html">Previous</a>
             </td>
             <td align="right">
                 <a href="fsmount-5.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="medintro-55492.html">1.&nbsp;&nbsp;Managing Removable Media (Overview)</a></p>
<p class="toc level1 tocsp"><a href="medformat-83002.html">2.&nbsp;&nbsp;Managing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medaccess-29267.html">3.&nbsp;&nbsp;Accessing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medcdrw-1.html">4.&nbsp;&nbsp;Writing CDs and DVDs (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig-27900.html">5.&nbsp;&nbsp;Managing Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig2-1.html">6.&nbsp;&nbsp;Dynamically Configuring Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devusbover-24.html">7.&nbsp;&nbsp;Using USB Devices (Overview)</a></p>
<p class="toc level1 tocsp"><a href="devusbtasks-1.html">8.&nbsp;&nbsp;Using USB Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fncpk.html">9.&nbsp;&nbsp;Using InfiniBand Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksconcepts-29477.html">10.&nbsp;&nbsp;Managing Disks (Overview)</a></p>
<p class="toc level1 tocsp"><a href="disksprep-31030.html">11.&nbsp;&nbsp;Administering Disks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="diskssadd-16103.html">12.&nbsp;&nbsp;SPARC: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksxadd-38159.html">13.&nbsp;&nbsp;x86: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fmvcd.html">14.&nbsp;&nbsp;Configuring Solaris iSCSI Targets and Initiators (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gfydr.html">15.&nbsp;&nbsp;Configuring and Managing the Solaris Internet Storage Name Service (iSNS)</a></p>
<p class="toc level1 tocsp"><a href="disksformat-15833.html">16.&nbsp;&nbsp;The <tt>format</tt> Utility (Reference)</a></p>
<p class="toc level1 tocsp"><a href="fsoverview-38559.html">17.&nbsp;&nbsp;Managing File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="fscreate-96442.html">18.&nbsp;&nbsp;Creating UFS, TMPFS, and LOFS File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsmount-42780.html">19.&nbsp;&nbsp;Mounting and Unmounting File Systems (Tasks)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Overview of Mounting File Systems</a></p>
</div>
<p class="toc level2"><a href="fsmount-5.html">Mounting File Systems</a></p>
<p class="toc level3"><a href="fsmount-5.html#fsmount-29904">How to Add an Entry to the <tt>/etc/vfstab</tt> File</a></p>
<p class="toc level3"><a href="fsmount-5.html#fsmount-14643">How to Mount a File System (<tt>/etc/vfstab</tt> File)</a></p>
<p class="toc level3"><a href="fsmount-5.html#fsmount-13147">How to Mount a UFS File System (<tt>mount</tt> Command)</a></p>
<p class="toc level3"><a href="fsmount-5.html#fsmount-40">How to Mount a UFS File System Without Large Files (<tt>mount</tt> Command)</a></p>
<p class="toc level3"><a href="fsmount-5.html#fsmount-69423">How to Mount an NFS File System (<tt>mount</tt> Command)</a></p>
<p class="toc level3"><a href="fsmount-5.html#fsmount-80332">x86: How to Mount a PCFS (DOS) File System From a Hard Disk (<tt>mount</tt> Command)</a></p>
<p class="toc level2 tocsp"><a href="fsmount-35.html">Unmounting File Systems</a></p>
<p class="toc level3"><a href="fsmount-35.html#fsmount-85827">How to Stop All Processes Accessing a File System</a></p>
<p class="toc level3"><a href="fsmount-35.html#fsmount-73813">How to Unmount a File System</a></p>
<p class="toc level1 tocsp"><a href="fscachefs-70682.html">20.&nbsp;&nbsp;Using The CacheFS File System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsswap-14677.html">21.&nbsp;&nbsp;Configuring Additional Swap Space (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fstroublefsck-61446.html">22.&nbsp;&nbsp;Checking UFS File System Consistency (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsfilesysappx-94408.html">23.&nbsp;&nbsp;UFS File System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupconcepts-57422.html">24.&nbsp;&nbsp;Backing Up and Restoring File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="bkuptasks2-64128.html">25.&nbsp;&nbsp;Backing Up Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupsnapshot-2.html">26.&nbsp;&nbsp;Using UFS Snapshots (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuprestoretasks-38055.html">27.&nbsp;&nbsp;Restoring Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupref-12756.html">28.&nbsp;&nbsp;UFS Backup and Restore Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupsavefiles-17924.html">29.&nbsp;&nbsp;Copying UFS Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuptapedevice-42512.html">30.&nbsp;&nbsp;Managing Tape Drives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="fsmount-43249"></a><h3>Overview of Mounting File Systems</h3>
<a name="fsmount-ix2787"></a><p>After you create a file system, you need to make it available
to the system so that you can use it. You make a file
system available by mounting it, which attaches the file system to the system
directory tree at the specified mount point. The root (<tt>/</tt>) file system is
always mounted. </p><p>The following table provides guidelines on mounting file systems based on how you
use them.</p><table><col width="198*"><col width="198*"><tr><th align="left" valign="top" scope="column"><p>Mount Type Needed</p></th>
<th align="left" valign="top" scope="column"><p>Suggested Mount Method</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Local or remote file systems that need
to be mounted infrequently</p></td>
<td align="left" valign="top" scope="row"><p>The <tt>mount</tt> command that you type manually from the command
line.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Local file systems that need to be mounted frequently</p></td>
<td align="left" valign="top" scope="row"><p>The <tt>/etc/vfstab</tt> file, which
mounts the file system automatically when the system is booted in multi user
state.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Remote file systems,, such as home directories, that need to be mounted frequently</p></td>
<td align="left" valign="top" scope="row">
<ul><li><p>The <tt>/etc/vfstab</tt> file, which automatically mounts the file system when the system is booted in multiuser state.</p></li>
<li><p>AutoFS, which automatically mounts the file system when you access it or unmounts the file system when you change to another directory.</p></li></ul>
<p>To
enhance performance, you can also cache the remote file systems by using the
CacheFS file system.</p></td>
</tr>
</table><p>You can mount removable media that contains a file system by inserting the
media into the drive and running the <tt>volcheck</tt> command, if necessary. For more
information on mounting removable media, see <a href="medintro-55492.html">Chapter&nbsp;1, Managing Removable Media (Overview)</a>.</p>

<a name="fsmount-11"></a><h4>Commands for Mounting and Unmounting File Systems</h4>
<p>The following table lists the commands in the <tt>/usr/sbin</tt> directory that you use
to mount and unmount file systems.</p><a name="fsmount-19943"></a><h6>Table&nbsp;19-1 Commands for Mounting and Unmounting File Systems</h6><table><col width="120.19*"><col width="267.63*"><col width="120.19*"><tr><th align="left" valign="top" scope="column"><p>Command</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>Man Page</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>mount</tt></p></td>
<td align="left" valign="top" scope="row"><p>Mounts file systems and remote resources.</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-2240/mount-1m?a=view"><tt>mount</tt>(1M)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>mountall</tt></p></td>
<td align="left" valign="top" scope="row"><p>Mounts
all file systems that are specified in the <tt>/etc/vfstab</tt> file. The <tt>mountall</tt> command
runs automatically when the system enters multiuser mode. </p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-2240/mountall-1m?a=view"><tt>mountall</tt>(1M)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>umount</tt></p></td>
<td align="left" valign="top" scope="row"><p>Unmounts file systems and remote
resources.</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-2240/mount-1m?a=view"><tt>mount</tt>(1M)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>umountall</tt></p></td>
<td align="left" valign="top" scope="row"><p>Unmounts all file systems that are specified in the <tt>/etc/vfstab</tt> file.</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-2240/mountall-1m?a=view"><tt>mountall</tt>(1M)</a></p></td>
</tr>
</table><p>Keep the following key points in mind when using the <tt>mount</tt> and
<tt>mountall</tt> commands:</p>
<ul><li><p>The <tt>mount</tt> and <tt>mountall</tt> commands cannot mount a read/write file system that has known inconsistencies. If you receive an error message from the <tt>mount</tt> or <tt>mountall</tt> command, you might need to check the file system. See <a href="fstroublefsck-61446.html">Chapter&nbsp;22, Checking UFS File System Consistency (Tasks)</a> for information on how to check the file system.</p></li>
<li><p>The <tt>umount</tt> and <tt>umountall</tt> commands do not unmount a file system that is busy. A file system is considered busy if one of the following is true:</p>
<ul><li><p>A user is accessing a file or directory in the file system.</p></li>
<li><p>A program has a file open in that file system.</p></li>
<li><p>The file system is shared.</p></li></ul>
</li>
<li><p>You can use the <tt>remount</tt> option when remounting from read-only access to read-write access only. You cannot remount from read-write access to read-only access.</p></li></ul>


<a name="fsmount-3"></a><h4>Commonly Used Mount Options</h4>
<p>The following table describes the commonly used options that you can specify with
the  <tt>mount</tt> <tt>-o</tt> option. If you specify multiple options, separate them with
commas (no spaces). For example, <tt>-o ro,nosuid</tt>. </p><p>For a complete list of mount options for each file system type,
refer to the specific mount man page (for example, <a href="http://docs.sun.com/doc/819-2240/mount-ufs-1m?a=view"><tt>mount_ufs</tt>(1M)</a>).</p><a name="fsmount-66498"></a><h6>Table&nbsp;19-2 Commonly Used <tt>-o</tt> Mount Options</h6><table><col width="101*"><col width="87*"><col width="208*"><tr><th align="left" valign="top" scope="column"><p>mount Option</p></th>
<th align="left" valign="top" scope="column"><p>File System</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>bg | fg</tt></p></td>
<td align="left" valign="top" scope="row"><p>NFS</p></td>
<td align="left" valign="top" scope="row"><p>If the
first mount attempt fails, retries another mount in the background (<tt>bg</tt>) or in
the foreground (<tt>fg</tt>). This option is safe for non critical <tt>vfstab</tt> entries. The
default is <tt>fg</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>hard | soft</tt></p></td>
<td align="left" valign="top" scope="row"><p>NFS</p></td>
<td align="left" valign="top" scope="row"><p>Specifies the procedure if the server does not respond. The <tt>soft</tt>
option indicates that an error is returned. The <tt>hard</tt> option indicates that the retry
request is continued until the server responds. The default is <tt>hard</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>intr | nointr</tt></p></td>
<td align="left" valign="top" scope="row"><p>NFS</p></td>
<td align="left" valign="top" scope="row"><p>Specifies whether keyboard
interrupts are delivered to a hung process while waiting for a response on
a hard-mounted file system. The default is <tt>intr</tt> (interrupts allowed).</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>largefiles | nolargefiles</tt></p></td>
<td align="left" valign="top" scope="row"><p>UFS</p></td>
<td align="left" valign="top" scope="row"><p>Enables you to
create files larger than 2 Gbytes. The <tt>largefiles</tt> option means that a file
system mounted with this option <b>might</b> contain files larger than 2 Gbytes. If
the <tt>nolargefiles</tt> option is specified, the file system cannot be mounted on a
system that is running Solaris 2.6 or compatible versions. The default is <tt>largefiles</tt>.<a name="indexterm-413"></a><a name="indexterm-414"></a>
</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>logging | nologging</tt></p></td>
<td align="left" valign="top" scope="row"><p>UFS</p></td>
<td align="left" valign="top" scope="row"><p>Enables or disables logging for the file system. UFS logging is the process
of storing transactions (changes that comprise a complete UFS operation) into a log
before the transactions are applied to the UFS file system. Logging helps prevent
UFS file systems from becoming inconsistent, which means <tt>fsck</tt> can be bypassed.
Bypassing <tt>fsck</tt> reduces the time to reboot a system if it crashes, or
after a system is shut down uncleanly.</p><p>The log is allocated from free
blocks on the file system, and is sized at about 1 Mbyte per
1 Gbyte of file system, up to a maximum of 64 Mbytes. The
default is <tt>logging</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>atime | noatime</tt></p></td>
<td align="left" valign="top" scope="row"><p>UFS</p></td>
<td align="left" valign="top" scope="row"><p>Suppresses access time updates on files, except when they coincide
with updates to the time of the last file status change or the
time of the last file modification. For more information, see <a href="http://docs.sun.com/doc/819-2241/stat-2?a=view"><tt>stat</tt>(2)</a>. This option
reduces disk activity on file systems where access times are unimportant (for example,
a Usenet news spool). The default is normal access time (<tt>atime</tt>) recording.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>remount</tt></p></td>
<td align="left" valign="top" scope="row"><p>All</p></td>
<td align="left" valign="top" scope="row"><p>Changes the
mount options associated with an already-mounted file system. This option can generally be
used with any option except <tt>ro</tt>. However, what can be changed with this
option depends on the file system type.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>retry=</tt><i>n</i></p></td>
<td align="left" valign="top" scope="row"><p>NFS</p></td>
<td align="left" valign="top" scope="row"><p>Retries the mount operation when it
fails. <i>n</i> is the number of times to retry.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ro | rw</tt></p></td>
<td align="left" valign="top" scope="row"><p>CacheFS, NFS, PCFS, UFS, HSFS</p></td>
<td align="left" valign="top" scope="row"><p>Specifies
read/write (<tt>rw</tt>) or read-only (<tt>ro</tt>). If you do not specify this option, the
default is <tt>rw</tt>. The default option for HSFS is <tt>ro</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>suid | nosuid</tt></p></td>
<td align="left" valign="top" scope="row"><p>CacheFS, HSFS, NFS, 
UFS</p></td>
<td align="left" valign="top" scope="row"><p>Allows or disallows <tt>setuid</tt> execution. The default is to allow <tt>setuid</tt> execution.</p></td>
</tr>
</table>

<a name="fsmount-81772"></a><h4>Field Descriptions for the <tt>/etc/vfstab</tt> File</h4>
<p>An entry in the <tt>/etc/vfstab</tt> file has seven fields, which are described in
the following table. </p><a name="fsmount-57365"></a><h6>Table&nbsp;19-3 Field Descriptions for the <tt>/etc/vfstab</tt> File</h6><table><col width="91*"><col width="305*"><tr><th align="left" valign="top" scope="column"><p>Field Name</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>device to mount</tt> </p></td>
<td align="left" valign="top" scope="row"><p>This field identifies one of the following:</p>
<ul><li><p>The block device name for a local UFS file system (for example, <tt>/dev/dsk/c0t0d0s0</tt>).</p></li>
<li><p>The resource name for a remote file system (for example, <tt>myserver:/export/home</tt>). For more information about NFS, see <a href="http://docs.sun.com/doc/819-3000"><i>System Administration Guide: IP Services</i></a>.</p></li>
<li><p>The block device name of the slice on which to swap (for example, <tt>/dev/dsk/c0t3d0s1)</tt>.</p></li>
<li><p>A directory for a virtual file system.</p></li></ul>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>device to fsck</tt></p></td>
<td align="left" valign="top" scope="row"><p>The
raw (character) device name that corresponds to the UFS file system identified by
the <tt>device to mount</tt> field (for example, <tt>/dev/rdsk/c0t0d0s0</tt>). This field determines the raw interface
that is used by the <tt>fsck</tt> command. Use a dash (<tt>-</tt>) when there is
no applicable device, such as for a read-only file system or a remote
file system.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>mount point</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Identifies where to mount the file system (for example, <tt>/usr</tt>).</p><p>
</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>FS type</tt></p></td>
<td align="left" valign="top" scope="row"><p>Identifies the type of file system.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>fsck pass</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The pass number used by the
<tt>fsck</tt> command to decide whether to check a file system. When the field
contains a dash (<tt>-</tt>), the file system is not checked. Currently, the <tt>fsck pass</tt>
value in the <tt>/etc/vfstab</tt> file is ignored during the boot process.</p><p>When the
field contains a zero, UFS file systems are not checked. However, non-UFS file
systems are checked. When the field contains a value greater than zero, the
file system is always checked. </p><p>All file systems with a value of
<tt>1</tt> in this field are checked one at a time in the order
they appear in the <tt>vfstab</tt> file. When the <tt>fsck</tt> command is run on
multiple UFS file systems that have <tt>fsck pass</tt> values greater than 1 and the
preen option (<tt>-o p</tt>) is used, the <tt>fsck</tt> command automatically checks the file systems on
different disks in parallel to maximize efficiency. Otherwise, the value of the pass
number does not have any effect. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>mount at boot</tt></p></td>
<td align="left" valign="top" scope="row"><p>Set to <tt>yes</tt> or <tt>no</tt> for
whether the file system should be automatically mounted by the <tt>mountall</tt> command when the
system is booted. Note that this field has nothing to do with
AutoFS. The root (<tt>/</tt>), <tt>/usr</tt> and <tt>/var</tt> file systems are not mounted from the
<tt>vfstab</tt> file initially. This field should always be set to <tt>no</tt> for these
file systems and for virtual file systems such as <tt>/proc</tt> and <tt>/dev/fd</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>mount options</tt></p></td>
<td align="left" valign="top" scope="row"><p>A list
of comma-separated options (with no spaces) that are used for mounting the file
system. Use a dash (<tt>-</tt>) to indicate no options. For a list of
commonly used mount options, see <a href="#fsmount-66498">Table&nbsp;19-2</a>.</p></td>
</tr>
</table>
<hr><p><b>Note - </b>You must have an entry in each field in the <tt>/etc/vfstab</tt> file. 
If there is no value for a field, be sure to specify
a dash (<tt>-</tt>). Otherwise, the system might not boot successfully. Similarly, white space should
not be used as a field value.</p>
<hr>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="fsmount-42780.html">Previous</a>
             </td>
             <td align="right">
                 <a href="fsmount-5.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

