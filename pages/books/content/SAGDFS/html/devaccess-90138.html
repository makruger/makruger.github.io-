<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Accessing Devices - System Administration Guide: Devices and File Systems</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Devices and File Systems</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="devconfig-6.html">Previous</a>
             </td>
             <td align="right">
                 <a href="devconfig2-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="medintro-55492.html">1.&nbsp;&nbsp;Managing Removable Media (Overview)</a></p>
<p class="toc level1 tocsp"><a href="medformat-83002.html">2.&nbsp;&nbsp;Managing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medaccess-29267.html">3.&nbsp;&nbsp;Accessing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medcdrw-1.html">4.&nbsp;&nbsp;Writing CDs and DVDs (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig-27900.html">5.&nbsp;&nbsp;Managing Devices (Overview/Tasks)</a></p>
<p class="toc level2"><a href="gdryj.html">What's New in Device Management?</a></p>
<p class="toc level2"><a href="devconfig-23.html">Where to Find Device Management Tasks</a></p>
<p class="toc level2"><a href="gdvku.html">Managing Devices in the Solaris OS</a></p>
<p class="toc level2"><a href="devconfig-6.html">Adding a Peripheral Device to a System</a></p>
<p class="toc level3"><a href="devconfig-6.html#devconfig-3">How to Add a Peripheral Device</a></p>
<p class="toc level3"><a href="devconfig-6.html#devconfig-18">How to Add a Device Driver</a></p>
<div class="onpage">
<p class="toc level2 tocsp"><a href="">Accessing Devices</a></p>
</div>
<p class="toc level1 tocsp"><a href="devconfig2-1.html">6.&nbsp;&nbsp;Dynamically Configuring Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devusbover-24.html">7.&nbsp;&nbsp;Using USB Devices (Overview)</a></p>
<p class="toc level1 tocsp"><a href="devusbtasks-1.html">8.&nbsp;&nbsp;Using USB Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fncpk.html">9.&nbsp;&nbsp;Using InfiniBand Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksconcepts-29477.html">10.&nbsp;&nbsp;Managing Disks (Overview)</a></p>
<p class="toc level1 tocsp"><a href="disksprep-31030.html">11.&nbsp;&nbsp;Administering Disks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="diskssadd-16103.html">12.&nbsp;&nbsp;SPARC: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksxadd-38159.html">13.&nbsp;&nbsp;x86: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fmvcd.html">14.&nbsp;&nbsp;Configuring Solaris iSCSI Targets and Initiators (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gfydr.html">15.&nbsp;&nbsp;Configuring and Managing the Solaris Internet Storage Name Service (iSNS)</a></p>
<p class="toc level1 tocsp"><a href="disksformat-15833.html">16.&nbsp;&nbsp;The <tt>format</tt> Utility (Reference)</a></p>
<p class="toc level1 tocsp"><a href="fsoverview-38559.html">17.&nbsp;&nbsp;Managing File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="fscreate-96442.html">18.&nbsp;&nbsp;Creating UFS, TMPFS, and LOFS File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsmount-42780.html">19.&nbsp;&nbsp;Mounting and Unmounting File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fscachefs-70682.html">20.&nbsp;&nbsp;Using The CacheFS File System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsswap-14677.html">21.&nbsp;&nbsp;Configuring Additional Swap Space (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fstroublefsck-61446.html">22.&nbsp;&nbsp;Checking UFS File System Consistency (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsfilesysappx-94408.html">23.&nbsp;&nbsp;UFS File System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupconcepts-57422.html">24.&nbsp;&nbsp;Backing Up and Restoring File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="bkuptasks2-64128.html">25.&nbsp;&nbsp;Backing Up Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupsnapshot-2.html">26.&nbsp;&nbsp;Using UFS Snapshots (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuprestoretasks-38055.html">27.&nbsp;&nbsp;Restoring Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupref-12756.html">28.&nbsp;&nbsp;UFS Backup and Restore Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupsavefiles-17924.html">29.&nbsp;&nbsp;Copying UFS Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuptapedevice-42512.html">30.&nbsp;&nbsp;Managing Tape Drives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="devaccess-90138"></a><h3>Accessing Devices</h3>
<p><a name="devaccess-ix2416"></a>You need to know how to specify device names when using commands to
manage disks, file systems, and other devices. In most cases, you can use
logical device names to represent devices that are connected to the system. Both
logical and physical device names are represented on the system by logical and
physical device files.</p>

<a name="devaccess-1"></a><h4>How Device Information Is Created</h4>
<p>When a system is booted for the first time, a device hierarchy
is created to represent all the devices connected to the system. The kernel
uses the device hierarchy information to associate drivers with their appropriate devices. The kernel
also provides a set of pointers to the drivers that perform specific operations.</p>

<a name="devaccess-12"></a><h4>How Devices Are Managed</h4>
<p>The <tt>devfs</tt> file system manages the <tt>/devices</tt> directory, which is the name space
of all devices on the system. This directory represents the <b>physical</b> devices that
consists of actual bus and device addresses.</p><p>The <tt>dev</tt> file system manages the <tt>/dev</tt> directory, which is the name space
of <b>logical</b> device names. </p><p>By default, the <tt>devfsadm</tt> command attempts to load every driver in the system
and attach to all possible device instances. Then, <tt>devfsadm</tt> creates the device
files in the <tt>/devices</tt> directory and the logical links in the <tt>/dev</tt> directory.
The <tt>devfsadm</tt> command also maintains the <tt>path_to_inst</tt> instance database.  <a name="indexterm-54"></a></p><p>Updates to the <tt>/dev</tt> and <tt>/devices</tt> directories in response to dynamic reconfiguration events
or file system accesses are handled by <tt>devfsadmd</tt>, the daemon version of the
<tt>devfsadm</tt> command. This daemon is started by the service management facility when a
system is booted.</p><p>Because the <tt>devfsadmd</tt> daemon automatically detects device configuration changes generated by any reconfiguration
event, there is no need to run this command interactively.</p><p>For more information, see the following references:</p>
<ul><li><p><a href="http://docs.sun.com/doc/819-2240/devfsadm-1m?a=view"><tt>devfsadm</tt>(1M)</a></p></li>
<li><p>dev(7FS)</p></li>
<li><p><a href="http://docs.sun.com/doc/819-2254/devfs-7fs?a=view"><tt>devfs</tt>(7FS)</a></p></li>
<li><p><a href="http://docs.sun.com/doc/819-2251/path-to-inst-4?a=view"><tt>path_to_inst</tt>(4)</a></p></li></ul>


<a name="devaccess-29390"></a><h4>Device Naming Conventions</h4>
<p>Devices are referenced in three ways in the Solaris OS.</p>
<ul><li><p><b>Physical device name</b> &ndash; Represents the full device path name in the device information hierarchy. The physical device name is created by when the device is first added to the system. <a name="evelk"></a>Physical device files are found in the <tt>/devices</tt> directory.</p></li>
<li><p><b>Instance name</b> &ndash; Represents the kernel's abbreviation name for every possible device on the system. For example, <tt>sd0</tt> and <tt>sd1</tt> represent the instance names of two disk devices. Instance names are mapped in the <tt>/etc/path_to_inst</tt> file.<a name="indexterm-55"></a> </p></li>
<li><p><b>Logical device name</b> &ndash; The logical device name is created by when the device is first added to the system. Logical device names are used with most file system commands to refer to devices. For a list of file commands that use logical device names, see <a href="#devaccess-61252">Table&nbsp;5-3</a>. Logical device files in the <tt>/dev</tt> directory are symbolically linked to physical device files in the <tt>/devices</tt> directory. <a name="indexterm-56"></a></p></li></ul>
<p>The preceding device name information is displayed with the following commands:</p>
<ul><li><p><tt>dmesg</tt></p></li>
<li><p><tt>format</tt></p></li>
<li><p><tt>sysdef</tt></p></li>
<li><p><tt>prtconf</tt></p></li></ul>


<a name="devaccess-17704"></a><h4>Logical Disk Device Names</h4>
<p>Logical device names are used to access disk devices when you perform the
following tasks:<a name="devaccess-ix2420"></a><a name="devaccess-ix2421"></a></p>
<ul><li><p>Add a new disk to the system.</p></li>
<li><p>Move a disk from one system to another system.</p></li>
<li><p>Access or mount a file system residing on a local disk.</p></li>
<li><p>Back up a local file system.</p></li></ul>
<p>Many administration commands take arguments that refer to a disk slice or file
system.</p><p><a name="devaccess-ix2422"></a><a name="devaccess-ix2423"></a>Refer to a disk device by specifying the subdirectory to which it is
symbolically linked, either <tt>/dev/dsk</tt> or <tt>/dev/rdsk</tt>, followed by a string identifying the
particular controller, disk, and slice.  </p><a name="devaccess-fig-13"></a><h6>Figure&nbsp;5-1 Description of Logical Device Names</h6><img src="figures/dev_access.fig2091.gif" alt="Diagram of logical device name components: raw disk device directory, logical controller, physical bus target, drive, and slice or fdisk partition."></img>

<a name="devaccess-2"></a><h5>Specifying the Disk Subdirectory</h5>
<p>Disk and file administration commands require the use of either a <b>raw</b>
(or <b>character</b>) device interface, or a <b>block</b> device interface. The distinction is
made by how data is read from the device.<a name="devaccess-ix2424"></a><a name="devaccess-ix2425"></a></p><p>Raw device interfaces transfer only small amounts of data at a time. Block
device interfaces include a buffer from which large blocks of data are read
at once.</p><p>Different commands require different interfaces:</p>
<ul><li><p>When a command requires the raw device interface, specify the <tt>/dev/rdsk</tt> subdirectory. (The &ldquo;r&rdquo; in <tt>rdsk</tt> stands for &ldquo;raw.&rdquo;)</p></li>
<li><p>When a command requires the block device interface, specify the <tt>/dev/dsk</tt> subdirectory.</p></li>
<li><p>When you are not sure whether a command requires use of <tt>/dev/dsk</tt> or <tt>/dev/rdsk</tt>, check the man page for that command.</p></li></ul>
<p><a name="devaccess-ix2426"></a><a name="devaccess-ix2427"></a>The following table shows which interface is required for some commonly used disk
and file system commands.</p><a name="devaccess-61252"></a><h6>Table&nbsp;5-3 Device Interface Type Required by Some Frequently Used Commands</h6><table><col width="72*"><col width="72*"><col width="216*"><tr><th align="left" valign="top" scope="column"><p>Command Reference</p></th>
<th align="left" valign="top" scope="column"><p>Interface Type</p></th>
<th align="left" valign="top" scope="column"><p>Example of Use</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="devaccess-ix2428"></a><a href="http://docs.sun.com/doc/819-2240/df-1m?a=view"><tt>df</tt>(1M)</a> </p></td>
<td align="left" valign="top" scope="row"><p>Block</p></td>
<td align="left" valign="top" scope="row"><p><tt>df /dev/dsk/c0t3d0s6</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="devaccess-ix2429"></a><a href="http://docs.sun.com/doc/819-2240/fsck-1m?a=view"><tt>fsck</tt>(1M)</a> </p></td>
<td align="left" valign="top" scope="row"><p>Raw</p></td>
<td align="left" valign="top" scope="row"><p><tt>fsck -p /dev/rdsk/c0t0d0s0</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="devaccess-ix2430"></a><a href="http://docs.sun.com/doc/819-2240/mount-1m?a=view"><tt>mount</tt>(1M)</a> </p></td>
<td align="left" valign="top" scope="row"><p>Block</p></td>
<td align="left" valign="top" scope="row"><p><tt>mount /dev/dsk/c1t0d0s7 /export/home</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="devaccess-ix2431"></a><a href="http://docs.sun.com/doc/819-2240/newfs-1m?a=view"><tt>newfs</tt>(1M)</a> </p></td>
<td align="left" valign="top" scope="row"><p>Raw</p></td>
<td align="left" valign="top" scope="row"><p><tt>newfs /dev/rdsk/c0t0d1s1</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="devaccess-ix2432"></a><a href="http://docs.sun.com/doc/819-2240/prtvtoc-1m?a=view"><tt>prtvtoc</tt>(1M)</a> </p></td>
<td align="left" valign="top" scope="row"><p>Raw</p></td>
<td align="left" valign="top" scope="row"><p><tt>prtvtoc /dev/rdsk/c0t0d0s2</tt></p></td>
</tr>
</table>

<a name="devaccess-3"></a><h5>Direct and Bus-Oriented Controllers</h5>
<p>You might access disk partitions or slices differently depending upon whether the disk
device is connected to a direct or bus-oriented controller. Generally, direct controllers do
not include a <b>target</b> identifier in the logical device name.<a name="devaccess-ix2433"></a><a name="devaccess-ix2434"></a></p><p>The conventions for both types of controllers are explained in the following subsections.</p>
<hr><p><b>Note - </b>Controller numbers are assigned automatically during system initialization. The numbers are strictly logical
and imply no direct mapping to physical controllers.</p>
<hr>


<a name="devaccess-5"></a><h5>x86: Disks With Direct Controllers</h5>
<p>To specify a slice on a disk with an IDE controller on
an x86 based system, follow the naming convention shown in the following figure.</p><a name="devaccess-fig-15"></a><h6>Figure&nbsp;5-2 x86: Disks With Direct Controllers</h6><img src="figures/dev_access.fig2095.gif" alt="Diagram of device name for disks with direct controllers that includes logical controller, drive, and slice or fdisk partition."></img><p>To indicate the entire Solaris <tt>fdisk</tt> partition, specify slice 2 (<tt>s2</tt>). </p><p>If you have only one controller on your system, <i>w</i> is usually 0.</p>

<a name="devaccess-7"></a><h5>Disks With Bus-Oriented Controllers</h5>
<p>To specify a slice on a disk with a bus-oriented controller, SCSI
for instance, follow the naming convention shown in the following figure. <a name="devaccess-ix2436"></a><a name="devaccess-ix2437"></a></p><a name="devaccess-fig-18"></a><h6>Figure&nbsp;5-3 Disks With Bus-Oriented Controllers</h6><img src="figures/dev_access.fig2093.gif" alt="Device name for disks with bus-oriented controllers that includes logical controller, physical bus target, drive, and slice or fdisk partition."></img><p>On a SPARC based system with directly connected disks such as the
IDE disks on an UltraSPARC<sup>&reg;</sup>
				  system, the naming convention is the same as that
for systems with bus-oriented controllers. </p><p>If you have only one controller on your system, <b>w</b> is usually 0.</p><p>For SCSI controllers, <i>x</i> is the target address set by the switch on
the back of the unit, and <i>y</i> is the logical unit number (LUN)
of the drive attached to the target. If the disk has an embedded
controller, <i>y</i> is usually 0. For more information about SCSI addressing on SPARC
based systems, see the SunSolve<sup>SM</sup>
				  Info Doc 48041 and <a href="http://docs.sun.com/doc/819-2257/scsi-address-9s?a=view"><tt>scsi_address</tt>(9S)</a>.</p><p>To indicate the whole disk, specify slice 2 (<tt>s2</tt>).</p>

<a name="devaccess-62306"></a><h4>Logical Tape Device Names</h4>
<p>Logical tape device files are found in the <tt>/dev/rmt/*</tt> directory as symbolic links
from the <tt>/devices</tt> directory.<a name="devaccess-ix2441"></a><a name="devaccess-ix2442"></a></p><a name="devaccess-fig-17"></a><h6>Figure&nbsp;5-4 Logical Tape Device Names</h6><img src="figures/dev_access.fig2094.gif" alt="Diagram of logical tape device name that includes magnetic tape device directory, drive, and the optional density values."></img><p>The first tape device connected to the system is 0 (<tt>/dev/rmt/0</tt>). Tape density
values (<tt>l</tt>, <tt>m</tt>, <tt>h</tt>, <tt>c</tt>, and <tt>u</tt>) are described in <a href="bkuptapedevice-42512.html">Chapter&nbsp;30, Managing Tape Drives (Tasks)</a>.<a name="devaccess-ix2443"></a></p>

<a name="devaccess-15474"></a><h4>Logical Removable Media Device Names</h4>
<p>Since removable media is managed by removable media management services, the logical device
name is usually not used unless you want to mount the media manually.</p><p>The logical device name that represents the removable media devices on a system
are described in <a href="medaccess-29267.html">Chapter&nbsp;3, Accessing Removable Media (Tasks)</a>. <a name="devaccess-ix2444"></a></p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="devconfig-6.html">Previous</a>
             </td>
             <td align="right">
                 <a href="devconfig2-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

