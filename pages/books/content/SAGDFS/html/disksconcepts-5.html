<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Partitioning a Disk - System Administration Guide: Devices and File Systems</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Devices and File Systems</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="disksconcepts-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="disksprep-31030.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="medintro-55492.html">1.&nbsp;&nbsp;Managing Removable Media (Overview)</a></p>
<p class="toc level1 tocsp"><a href="medformat-83002.html">2.&nbsp;&nbsp;Managing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medaccess-29267.html">3.&nbsp;&nbsp;Accessing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medcdrw-1.html">4.&nbsp;&nbsp;Writing CDs and DVDs (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig-27900.html">5.&nbsp;&nbsp;Managing Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig2-1.html">6.&nbsp;&nbsp;Dynamically Configuring Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devusbover-24.html">7.&nbsp;&nbsp;Using USB Devices (Overview)</a></p>
<p class="toc level1 tocsp"><a href="devusbtasks-1.html">8.&nbsp;&nbsp;Using USB Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fncpk.html">9.&nbsp;&nbsp;Using InfiniBand Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksconcepts-29477.html">10.&nbsp;&nbsp;Managing Disks (Overview)</a></p>
<p class="toc level2"><a href="gdgtz.html">What's New in Disk Management?</a></p>
<p class="toc level2"><a href="disksconcepts-6.html">Where to Find Disk Management Tasks</a></p>
<p class="toc level2"><a href="disksconcepts-1.html">Overview of Disk Management</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Partitioning a Disk</a></p>
</div>
<p class="toc level1 tocsp"><a href="disksprep-31030.html">11.&nbsp;&nbsp;Administering Disks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="diskssadd-16103.html">12.&nbsp;&nbsp;SPARC: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksxadd-38159.html">13.&nbsp;&nbsp;x86: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fmvcd.html">14.&nbsp;&nbsp;Configuring Solaris iSCSI Targets and Initiators (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gfydr.html">15.&nbsp;&nbsp;Configuring and Managing the Solaris Internet Storage Name Service (iSNS)</a></p>
<p class="toc level1 tocsp"><a href="disksformat-15833.html">16.&nbsp;&nbsp;The <tt>format</tt> Utility (Reference)</a></p>
<p class="toc level1 tocsp"><a href="fsoverview-38559.html">17.&nbsp;&nbsp;Managing File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="fscreate-96442.html">18.&nbsp;&nbsp;Creating UFS, TMPFS, and LOFS File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsmount-42780.html">19.&nbsp;&nbsp;Mounting and Unmounting File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fscachefs-70682.html">20.&nbsp;&nbsp;Using The CacheFS File System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsswap-14677.html">21.&nbsp;&nbsp;Configuring Additional Swap Space (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fstroublefsck-61446.html">22.&nbsp;&nbsp;Checking UFS File System Consistency (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsfilesysappx-94408.html">23.&nbsp;&nbsp;UFS File System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupconcepts-57422.html">24.&nbsp;&nbsp;Backing Up and Restoring File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="bkuptasks2-64128.html">25.&nbsp;&nbsp;Backing Up Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupsnapshot-2.html">26.&nbsp;&nbsp;Using UFS Snapshots (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuprestoretasks-38055.html">27.&nbsp;&nbsp;Restoring Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupref-12756.html">28.&nbsp;&nbsp;UFS Backup and Restore Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupsavefiles-17924.html">29.&nbsp;&nbsp;Copying UFS Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuptapedevice-42512.html">30.&nbsp;&nbsp;Managing Tape Drives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="disksconcepts-5"></a><h3>Partitioning a Disk</h3>
<p>The <tt>format</tt> utility is most often used by system administrators to partitioning a
Disk. The steps are as follows:</p>
<ul><li><p>Determining which slices are needed</p></li>
<li><p>Determining the size of each slice or partition</p></li>
<li><p>Using the <tt>format</tt> utility to partition the disk</p></li>
<li><p>Labeling the disk with new partition information</p></li>
<li><p>Creating the file system for each partition</p></li></ul>
<p>The easiest way to partition a disk is to use the <tt>modify</tt>
command from the partition menu of the <tt>format</tt> utility. The <tt>modify</tt> command allows
you to create partitions by specifying the size of each partition without having
to keep track of the starting cylinder boundaries. The <tt>modify</tt> command also keeps
tracks of any disk space that remains in the &ldquo;free hog&rdquo; slice.</p>

<a name="disksconcepts-31423"></a><h4>Partition Table Terminology</h4>
<p>An important part of the disk label is the <b>partition table</b>. The partition table
identifies a disk's slices, the slice boundaries (in cylinders), and the total size
of the slices. You can display a disk's partition table by using the
<tt>format</tt> utility. The following describes partition table terminology.</p><a name="disksconcepts-33752"></a><h6>Table&nbsp;10-6 Partition Table Terminology</h6><table><col width="71.00*"><col width="105.96*"><col width="182.04*"><tr><th align="left" valign="top" scope="column"><p>Partition Term</p></th>
<th align="left" valign="top" scope="column"><p>Value</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Number</p></td>
<td align="left" valign="top" scope="row"><p><tt>0&ndash;7</tt></p></td>
<td align="left" valign="top" scope="row"><p><b>VTOC</b> &ndash; Partitions or slices, numbered
0&ndash;7.</p><p><b>EFI</b> &ndash; Partitions or slices, numbered 0&ndash;6.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Tag</p></td>
<td align="left" valign="top" scope="row"><p><tt>0=UNASSIGNED 1=BOOT 2=ROOT 3=SWAP 4=USR 5=BACKUP 7=VAR 8=HOME 11=RESERVED</tt></p></td>
<td align="left" valign="top" scope="row"><p>A numeric value that usually describes the
file system mounted on this partition.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Flags</p></td>
<td align="left" valign="top" scope="row"><p><tt>wm</tt></p></td>
<td align="left" valign="top" scope="row"><p>The partition is writable and mountable.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>wu rm</tt></p></td>
<td align="left" valign="top" scope="row"><p>The partition is
writable and unmountable. This state is the default for partitions that are dedicated
for swap areas. (However, the <tt>mount</tt> command does not check the &ldquo;not mountable&rdquo;
flag.)</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>rm</tt></p></td>
<td align="left" valign="top" scope="row"><p>The partition is read only and mountable.</p></td>
</tr>
</table><p>Partition flags and tags are assigned by convention and require no maintenance.</p><p>For more information on displaying the partition table, see the following references:</p>
<ul><li><p><a href="#disksconcepts-13">Displaying Partition Table Information</a></p></li>
<li><p><a href="disksprep-24.html#disksprep-23207">How to Display Disk Slice Information</a></p></li>
<li><p><a href="disksprep-34.html#disksprep-15875">How to Examine a Disk Label</a></p></li></ul>


<a name="disksconcepts-13"></a><h4>Displaying Partition Table Information</h4>
<p>The following <tt>format</tt> utility output shows an example of a partition table from
a 74-Gbyte disk with a VTOC label displayed:</p><pre>Total disk cylinders available: 38756 + 2 (reserved cylinders)

Part      Tag    Flag     Cylinders         Size            Blocks
  0       root    wm       3 -  2083        4.00GB    (2081/0/0)    8390592
  1       swap    wu    2084 -  3124        2.00GB    (1041/0/0)    4197312
  2     backup    wm       0 - 38755       74.51GB    (38756/0/0) 156264192
  3 unassigned    wm       0                0         (0/0/0)             0
  4 unassigned    wm       0                0         (0/0/0)             0
  5 unassigned    wm       0                0         (0/0/0)             0
  6 unassigned    wm       0                0         (0/0/0)             0
  7       home    wm    3125 - 38755       68.50GB    (35631/0/0) 143664192
  8       boot    wu       0 -     0        1.97MB    (1/0/0)          4032
  9 alternates    wu       1 -     2        3.94MB    (2/0/0)          8064

partition> </pre><p>The partition table displayed by the <tt>format</tt> utility contains the following information.</p><table><col width="90*"><col width="270*"><tr><th align="left" valign="top" scope="column"><p>Column Name</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Part</tt></p></td>
<td align="left" valign="top" scope="row"><p>Partition
or slice number. See <a href="#disksconcepts-33752">Table&nbsp;10-6</a> for a description of this column.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Tag</tt></p></td>
<td align="left" valign="top" scope="row"><p>Partition tag.
See <a href="#disksconcepts-33752">Table&nbsp;10-6</a> for a description of this column.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Flag</tt></p></td>
<td align="left" valign="top" scope="row"><p>Partition flag. See <a href="#disksconcepts-33752">Table&nbsp;10-6</a> for
a description of this column.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Cylinders</tt></p></td>
<td align="left" valign="top" scope="row"><p>The starting and ending cylinder number for the
slice. Not displayed on EFI-labeled disks.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Size</tt></p></td>
<td align="left" valign="top" scope="row"><p>The slice size in Mbytes.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Blocks</tt></p></td>
<td align="left" valign="top" scope="row"><p>The total number of
cylinders and the total number of sectors per slice. Not displayed on EFI-labeled
disks.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>First Sector</tt></p></td>
<td align="left" valign="top" scope="row"><p><b>EFI</b> &ndash; The starting block number. Not displayed on VTOC-labeled disks.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Last Sector</tt></p></td>
<td align="left" valign="top" scope="row"><p><b>EFI</b> &ndash; The
ending block number. Not displayed on VTOC-labeled disks.</p></td>
</tr>
</table><p>The following is an example of an EFI disk label displayed by
using the <tt>prtvtoc</tt> command.</p><pre># <tt><b>prtvtoc /dev/rdsk/c4t1d0s0</b></tt>
* /dev/rdsk/c4t1d0s0 partition map
*
* Dimensions:
*     512 bytes/sector
* 2576941056 sectors
* 2576940989 accessible sectors
*
* Flags:
*   1: unmountable
*  10: read-only
*
*                           First     Sector    Last
* Partition  Tag  Flags     Sector     Count    Sector   Mount Directory
       0      2    00          34   629145600  629145633
       1      4    00   629145634   629145600 1258291233
       6      4    00  1258291234  1318633404 2576924637
       8     11    00  2576924638       16384 2576941021</pre><p>The output of the <tt>prtvtoc</tt> command provides information in the following three sections:</p>
<ul><li><p>Dimensions</p></li>
<li><p>Flags</p></li>
<li><p>Partition Table</p></li></ul>
<table><col width="110*"><col width="249*"><tr><th align="left" valign="top" scope="column"><p><tt>prtvtoc</tt> Column Name</p></th>
<th align="left" valign="top" scope="column"><p>Description </p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Partition</tt></p></td>
<td align="left" valign="top" scope="row"><p>Partition or slice number. For a description of this
column, see <a href="#disksconcepts-33752">Table&nbsp;10-6</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Tag</tt></p></td>
<td align="left" valign="top" scope="row"><p>Partition tag. For a description of this column, see <a href="#disksconcepts-33752">Table&nbsp;10-6</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Flags</tt></p></td>
<td align="left" valign="top" scope="row"><p>Partition
flag. For a description of this column, see <a href="#disksconcepts-33752">Table&nbsp;10-6</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>First Sector</tt></p></td>
<td align="left" valign="top" scope="row"><p>The first sector of
the slice.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Sector Count</tt></p></td>
<td align="left" valign="top" scope="row"><p>The total number of sectors in the slice.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Last Sector</tt></p></td>
<td align="left" valign="top" scope="row"><p>The last sector of
the slice.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Mount Directory</tt></p></td>
<td align="left" valign="top" scope="row"><p>The last mount point directory for the file system.</p></td>
</tr>
</table>

<a name="disksconcepts-15570"></a><h4>Using the Free Hog Slice</h4>
<p><a name="indexterm-252"></a>When you use the <tt>format</tt> utility to change the size of one or
more disk slices, you designate a temporary slice that will expand and shrink
to accommodate the resizing operations. </p><p>This temporary slice donates, or &ldquo;frees,&rdquo; space when you expand a slice, and
receives, or &ldquo;hogs,&rdquo; the discarded space when you shrink a slice. For this
reason, the donor slice is sometimes called the <b>free hog</b>.</p><p>The free hog slice exists only during installation or when you run
the <tt>format</tt> utility. There is no permanent free hog slice during day-to-day operations.</p><p>For information on using the free hog slice, see <a href="diskssadd-53.html#diskssadd-43616">SPARC: How to Create Disk Slices and Label a Disk</a> or <a href="disksxadd-1.html#disksxadd-33190">x86: How to Create Disk Slices and Label a Disk</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="disksconcepts-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="disksprep-31030.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

