<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Dynamic Reconfiguration and Hot-Plugging - System Administration Guide: Devices and File Systems</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Devices and File Systems</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="devconfig2-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="devconfig2-120.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="medintro-55492.html">1.&nbsp;&nbsp;Managing Removable Media (Overview)</a></p>
<p class="toc level1 tocsp"><a href="medformat-83002.html">2.&nbsp;&nbsp;Managing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medaccess-29267.html">3.&nbsp;&nbsp;Accessing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medcdrw-1.html">4.&nbsp;&nbsp;Writing CDs and DVDs (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig-27900.html">5.&nbsp;&nbsp;Managing Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig2-1.html">6.&nbsp;&nbsp;Dynamically Configuring Devices (Tasks)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Dynamic Reconfiguration and Hot-Plugging</a></p>
</div>
<p class="toc level2"><a href="devconfig2-120.html">SCSI Hot-Plugging With the <tt>cfgadm</tt> Command (Task Map)</a></p>
<p class="toc level2"><a href="devconfig2-8.html">SCSI Hot-Plugging With the <tt>cfgadm</tt> Command</a></p>
<p class="toc level3"><a href="devconfig2-8.html#devconfig2-9">How to Display Information About SCSI Devices</a></p>
<p class="toc level3"><a href="devconfig2-8.html#devconfig2-10">How to Unconfigure a SCSI Controller</a></p>
<p class="toc level3"><a href="devconfig2-8.html#devconfig2-11">How to Configure a SCSI Controller</a></p>
<p class="toc level3"><a href="devconfig2-8.html#devconfig2-12">How to Configure a SCSI Device</a></p>
<p class="toc level3"><a href="devconfig2-8.html#devconfig2-13">How to Disconnect a SCSI Controller</a></p>
<p class="toc level3"><a href="devconfig2-8.html#devconfig2-14">SPARC: How to Connect a SCSI Controller</a></p>
<p class="toc level3"><a href="devconfig2-8.html#devconfig2-15">SPARC: How to Add a SCSI Device to a SCSI Bus</a></p>
<p class="toc level3"><a href="devconfig2-8.html#devconfig2-57">SPARC: How to Replace an Identical Device on a SCSI Controller</a></p>
<p class="toc level3"><a href="devconfig2-8.html#devconfig2-58">SPARC: How to Remove a SCSI Device</a></p>
<p class="toc level3"><a href="devconfig2-8.html#devconfig2-90">How to Resolve a Failed SCSI Unconfigure Operation</a></p>
<p class="toc level2 tocsp"><a href="devconfig2-121.html">PCI or PCIe Hot-Plugging With the <tt>cfgadm</tt> Command (Task Map)</a></p>
<p class="toc level2"><a href="devconfig2-49.html">PCI or PCIe Hot-Plugging With the <tt>cfgadm</tt> Command</a></p>
<p class="toc level3"><a href="devconfig2-49.html#devconfig2-51">How to Display PCI Slot Configuration Information</a></p>
<p class="toc level3"><a href="devconfig2-49.html#devconfig2-54">How to Remove a PCI Adapter Card</a></p>
<p class="toc level3"><a href="devconfig2-49.html#devconfig2-55">How to Add a PCI Adapter Card</a></p>
<p class="toc level2 tocsp"><a href="devconfig2-2.html">Reconfiguration Coordination Manager (RCM) Script Overview</a></p>
<p class="toc level2"><a href="devconfig2-19.html">RCM Script Tasks</a></p>
<p class="toc level3"><a href="devconfig2-19.html#devconfig2-37">How to Install an RCM Script</a></p>
<p class="toc level3"><a href="devconfig2-19.html#devconfig2-42">How to Remove an RCM Script</a></p>
<p class="toc level3"><a href="devconfig2-19.html#devconfig2-43">How to Test an RCM Script</a></p>
<p class="toc level1 tocsp"><a href="devusbover-24.html">7.&nbsp;&nbsp;Using USB Devices (Overview)</a></p>
<p class="toc level1 tocsp"><a href="devusbtasks-1.html">8.&nbsp;&nbsp;Using USB Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fncpk.html">9.&nbsp;&nbsp;Using InfiniBand Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksconcepts-29477.html">10.&nbsp;&nbsp;Managing Disks (Overview)</a></p>
<p class="toc level1 tocsp"><a href="disksprep-31030.html">11.&nbsp;&nbsp;Administering Disks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="diskssadd-16103.html">12.&nbsp;&nbsp;SPARC: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksxadd-38159.html">13.&nbsp;&nbsp;x86: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fmvcd.html">14.&nbsp;&nbsp;Configuring Solaris iSCSI Targets and Initiators (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gfydr.html">15.&nbsp;&nbsp;Configuring and Managing the Solaris Internet Storage Name Service (iSNS)</a></p>
<p class="toc level1 tocsp"><a href="disksformat-15833.html">16.&nbsp;&nbsp;The <tt>format</tt> Utility (Reference)</a></p>
<p class="toc level1 tocsp"><a href="fsoverview-38559.html">17.&nbsp;&nbsp;Managing File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="fscreate-96442.html">18.&nbsp;&nbsp;Creating UFS, TMPFS, and LOFS File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsmount-42780.html">19.&nbsp;&nbsp;Mounting and Unmounting File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fscachefs-70682.html">20.&nbsp;&nbsp;Using The CacheFS File System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsswap-14677.html">21.&nbsp;&nbsp;Configuring Additional Swap Space (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fstroublefsck-61446.html">22.&nbsp;&nbsp;Checking UFS File System Consistency (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsfilesysappx-94408.html">23.&nbsp;&nbsp;UFS File System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupconcepts-57422.html">24.&nbsp;&nbsp;Backing Up and Restoring File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="bkuptasks2-64128.html">25.&nbsp;&nbsp;Backing Up Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupsnapshot-2.html">26.&nbsp;&nbsp;Using UFS Snapshots (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuprestoretasks-38055.html">27.&nbsp;&nbsp;Restoring Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupref-12756.html">28.&nbsp;&nbsp;UFS Backup and Restore Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupsavefiles-17924.html">29.&nbsp;&nbsp;Copying UFS Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuptapedevice-42512.html">30.&nbsp;&nbsp;Managing Tape Drives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="devconfig2-6"></a><h3>Dynamic Reconfiguration and Hot-Plugging</h3>
<p><b>Hot-plugging</b> is the ability to physically add, remove, or replace system components while
the system is running. <b>Dynamic reconfiguration</b> refers to the ability to hot-plug system
components. This term also refers to the general ability to move system resources
(both hardware and software) around in the system or to disable them in
some way without physically removing them from the system.</p><p>Generally, you can hot-plug the following bus types:</p>
<ul><li><p>USB</p></li>
<li><p>Fibre Channel</p></li>
<li><p>1394</p></li>
<li><p>ATA</p></li>
<li><p>SCSI</p></li></ul>
<p><a name="indexterm-57"></a><a name="indexterm-58"></a><a name="indexterm-59"></a><a name="indexterm-60"></a>In addition, you can hot-plug the following devices with the <tt>cfgadm</tt> command:</p>
<ul><li><p>USB devices on SPARC and x86 platforms</p></li>
<li><p>SCSI devices on SPARC and x86 platforms</p></li>
<li><p>PCI devices on SPARC and x86 platforms</p></li>
<li><p>PCIe devices on SPARC or x86 platforms</p></li></ul>
<p>Features of the <tt>cfgadm</tt> command include the following:</p>
<ul><li><p>Displaying system component status</p></li>
<li><p>Testing system components</p></li>
<li><p>Changing component configurations</p></li>
<li><p>Displaying configuration help messages</p></li></ul>
<p>The benefit of using the <tt>cfgadm</tt> command to reconfigure systems components is that
you can add, remove, or replace components while the system is running. An
added benefit is that the <tt>cfgadm</tt> command guides you through the steps needed
to add, remove, or replace system components.</p><p>For step-by-step instructions on hot-plugging components, see the following:</p>
<ul><li><p><a href="devconfig2-8.html">SCSI Hot-Plugging With the <tt>cfgadm</tt> Command</a></p></li>
<li><p><a href="devconfig2-49.html">PCI or PCIe Hot-Plugging With the <tt>cfgadm</tt> Command</a></p></li>
<li><p><a href="http://docs.sun.com/doc/819-2240/cfgadm-1m?a=view"><tt>cfgadm</tt>(1M)</a></p></li></ul>

<hr><p><b>Note - </b>Not all SCSI and PCI controllers support hot-plugging with the <tt>cfgadm</tt> command.
</p>
<hr>
<p>As part of Sun's high availability strategy, dynamic reconfiguration is expected to be
used in conjunction with additional layered products, such as alternate pathing or fail
over software. Both products provide fault tolerance in the event of a device
failure. </p><p>Without any high availability software, you can replace a failed device by manually
stopping the appropriate applications, unmounting noncritical file systems, and then proceeding with the
add or remove operations.</p>
<hr><p><b>Note - </b>Some systems have slots that hot-pluggable and slots that are not hot-pluggable. For
information about hot-plugging devices on your specific hardware configuration, such as on enterprise-level
systems, refer to your hardware configuration documentation.</p>
<hr>


<a name="devconfig2-7"></a><h4>Attachment Points</h4>
<p>The <tt>cfgadm</tt> command displays information about <b>attachment points</b>, which are locations in the
system where dynamic reconfiguration operations can occur. </p><p>An attachment point consists of the following:</p>
<ul><li><p>An <b>occupant</b>, which represents a hardware component that can be configured into the system</p></li>
<li><p>A <b>receptacle</b>, which is the location that accepts the occupant</p></li></ul>
<p>Attachment points are represented by logical and physical attachment point IDs (<tt>Ap_Id</tt>s). The
physical <tt>Ap_Id</tt> is the physical path name of the attachment point. The logical
<tt>Ap_Id</tt> is a user-friendly alternative for the physical <tt>Ap_Id</tt>. For more information on <tt>Ap_Id</tt>s,
refer to <a href="http://docs.sun.com/doc/819-2240/cfgadm-1m?a=view"><tt>cfgadm</tt>(1M)</a>.</p><p>The logical <tt>Ap_Id</tt> for a SCSI Host Bus Adapter (HBA), or SCSI controller,
is usually represented by the controller number, such as <tt>c0</tt>.</p><p>In cases where no controller number has been assigned to a SCSI
HBA, then an internally generated unique identifier is provided. An example of a unique
identifier for a SCSI controller is the following:</p><p><tt>fas1:scsi</tt></p><p>The logical <tt>Ap_Id</tt> for a SCSI device usually has this format:</p><p><i>HBA-logical-apid::device-identifier</i></p><p>In the following example, <tt>c0</tt> is the logical <tt>Ap_Id</tt> for the SCSI
HBA:</p><p><tt>c0::dsk/c0t3d0</tt></p><p>The device identifier is typically derived from the logical device name for the
device in the <tt>/dev</tt> directory. For example, a tape device with logical device
name, <tt>/dev/rmt/1</tt>, has the following logical <tt>Ap_Id</tt>:</p><p><tt>c0::rmt/1</tt></p><p>If a logical <tt>Ap_Id</tt> of a SCSI device cannot be derived from the
logical name in the <tt>/dev</tt> directory, then an internally generated unique identifier is
provided. An example of an identifier for the <tt>/dev/rmt/1</tt> tape device is the
following:</p><p><tt>c0::st4</tt></p><p>For more information on SCSI <tt>Ap_Id</tt>s, refer to <a href="http://docs.sun.com/doc/819-2240/cfgadm-scsi-1m?a=view"><tt>cfgadm_scsi</tt>(1M)</a>.</p><p>The <tt>cfgadm</tt> command represents all resources and dynamic reconfiguration operations in terms of
a common set of states (such as configured and unconfigured) and operations (such
as connect, configure, unconfigure, and so on). For more information on these common
states and operations, see <a href="http://docs.sun.com/doc/819-2240/cfgadm-1m?a=view"><tt>cfgadm</tt>(1M)</a>.</p><p>The following table shows the receptacle and occupant states for the SCSI HBA
attachment points.</p><table><col width="99*"><col width="99*"><col width="99*"><col width="99*"><tr><th align="left" valign="top" scope="column"><p>Receptacle State</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>Occupant State</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>empty</tt></p></td>
<td align="left" valign="top" scope="row"><p>N/A for SCSI HBA</p></td>
<td align="left" valign="top" scope="row"><p><tt>configured</tt></p></td>
<td align="left" valign="top" scope="row"><p>One or more devices is configured
on the bus</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>disconnected</tt></p></td>
<td align="left" valign="top" scope="row"><p>Bus quiesced</p></td>
<td align="left" valign="top" scope="row"><p><tt>unconfigured</tt></p></td>
<td align="left" valign="top" scope="row"><p>No devices are configured</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>connected</tt></p></td>
<td align="left" valign="top" scope="row"><p>Bus active</p></td>
<td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p></p></td>
</tr>
</table><p>The following table shows the receptacle and occupant states for SCSI device attachment
points.</p><table><col width="99*"><col width="99*"><col width="99*"><col width="99*"><tr><th align="left" valign="top" scope="column"><p>Receptacle State</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>Occupant State</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>empty</tt></p></td>
<td align="left" valign="top" scope="row"><p>N/A for SCSI devices</p></td>
<td align="left" valign="top" scope="row"><p><tt>configured</tt></p></td>
<td align="left" valign="top" scope="row"><p>Device is configured</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>disconnected</tt></p></td>
<td align="left" valign="top" scope="row"><p>Bus quiesced</p></td>
<td align="left" valign="top" scope="row"><p><tt>unconfigured</tt></p></td>
<td align="left" valign="top" scope="row"><p>Device is not configured</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>connected</tt></p></td>
<td align="left" valign="top" scope="row"><p>Bus
active</p></td>
<td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p></p></td>
</tr>
</table><p>The state of SCSI attachment points is unknown unless special hardware indicates otherwise.
For instructions on displaying SCSI component information, see <a href="devconfig2-8.html#devconfig2-9">How to Display Information About SCSI Devices</a>.</p>

<a name="devconfig2-48"></a><h4>Detaching PCI or PCIe Adapter Cards</h4>
<p>A PCI adapter card that is hosting nonvital system resources can be removed
if the device driver supports hot-plugging. A PCI adapter card is not detachable
if it is a vital system resource. For a PCI adapter card
to be detachable, the following conditions must be met:</p>
<ul><li><p>The device driver must support hot-plugging.</p></li>
<li><p>Critical resources must be accessible through an alternate pathway.</p></li></ul>
<p>For example, if a system has only one Ethernet card installed in
it, the Ethernet card cannot be detached without losing the network connection. This detachment
requires additional layered software support to keep the network connection active.</p>

<a name="devconfig2-50"></a><h4>Attaching PCI or PCIe Adapter Cards</h4>
<p>A PCI adapter card can be added to the system as long
as the following conditions are met:</p>
<ul><li><p>There are slots available.</p></li>
<li><p>The device driver supports hot-plugging for this adapter card.</p></li></ul>
<p>For step-by-step instructions on adding or removing a PCI adapter card, see <a href="devconfig2-49.html">PCI or PCIe Hot-Plugging With the <tt>cfgadm</tt> Command</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="devconfig2-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="devconfig2-120.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

