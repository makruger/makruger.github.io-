<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Managing the iSNS Server and Clients - System Administration Guide: Devices and File Systems</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Devices and File Systems</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gfybz.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ggdbv.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="medintro-55492.html">1.&nbsp;&nbsp;Managing Removable Media (Overview)</a></p>
<p class="toc level1 tocsp"><a href="medformat-83002.html">2.&nbsp;&nbsp;Managing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medaccess-29267.html">3.&nbsp;&nbsp;Accessing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medcdrw-1.html">4.&nbsp;&nbsp;Writing CDs and DVDs (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig-27900.html">5.&nbsp;&nbsp;Managing Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig2-1.html">6.&nbsp;&nbsp;Dynamically Configuring Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devusbover-24.html">7.&nbsp;&nbsp;Using USB Devices (Overview)</a></p>
<p class="toc level1 tocsp"><a href="devusbtasks-1.html">8.&nbsp;&nbsp;Using USB Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fncpk.html">9.&nbsp;&nbsp;Using InfiniBand Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksconcepts-29477.html">10.&nbsp;&nbsp;Managing Disks (Overview)</a></p>
<p class="toc level1 tocsp"><a href="disksprep-31030.html">11.&nbsp;&nbsp;Administering Disks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="diskssadd-16103.html">12.&nbsp;&nbsp;SPARC: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksxadd-38159.html">13.&nbsp;&nbsp;x86: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fmvcd.html">14.&nbsp;&nbsp;Configuring Solaris iSCSI Targets and Initiators (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gfydr.html">15.&nbsp;&nbsp;Configuring and Managing the Solaris Internet Storage Name Service (iSNS)</a></p>
<p class="toc level2"><a href="gfycs.html">The iSNS Technology (Overview)</a></p>
<p class="toc level2"><a href="gfybz.html">Configuring the iSNS Server</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Managing the iSNS Server and Clients</a></p>
<p class="toc level3"><a href="#ggcra">How to Display the Status of a Discovery Domain Set</a></p>
<p class="toc level3"><a href="#ggcqm">How to Display the Status of a Discovery Domain</a></p>
<p class="toc level3"><a href="#gfzqn">How to Display the Status of Clients</a></p>
<p class="toc level3"><a href="#ggcpp">How to Remove a Client from a Discovery Domain</a></p>
<p class="toc level3"><a href="#ggcoq">How to Remove a Discovery Domain from a Discovery Domain Set</a></p>
<p class="toc level3"><a href="#ggcyb">How to Disable a Discovery Domain Set</a></p>
<p class="toc level3"><a href="#ggdgg">How to Remove a Discovery Domain Set</a></p>
</div>
<p class="toc level2 tocsp"><a href="ggdbv.html">Configuring High Availability of iSNS Server Using Sun Cluster</a></p>
<p class="toc level1 tocsp"><a href="disksformat-15833.html">16.&nbsp;&nbsp;The <tt>format</tt> Utility (Reference)</a></p>
<p class="toc level1 tocsp"><a href="fsoverview-38559.html">17.&nbsp;&nbsp;Managing File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="fscreate-96442.html">18.&nbsp;&nbsp;Creating UFS, TMPFS, and LOFS File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsmount-42780.html">19.&nbsp;&nbsp;Mounting and Unmounting File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fscachefs-70682.html">20.&nbsp;&nbsp;Using The CacheFS File System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsswap-14677.html">21.&nbsp;&nbsp;Configuring Additional Swap Space (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fstroublefsck-61446.html">22.&nbsp;&nbsp;Checking UFS File System Consistency (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsfilesysappx-94408.html">23.&nbsp;&nbsp;UFS File System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupconcepts-57422.html">24.&nbsp;&nbsp;Backing Up and Restoring File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="bkuptasks2-64128.html">25.&nbsp;&nbsp;Backing Up Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupsnapshot-2.html">26.&nbsp;&nbsp;Using UFS Snapshots (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuprestoretasks-38055.html">27.&nbsp;&nbsp;Restoring Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupref-12756.html">28.&nbsp;&nbsp;UFS Backup and Restore Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupsavefiles-17924.html">29.&nbsp;&nbsp;Copying UFS Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuptapedevice-42512.html">30.&nbsp;&nbsp;Managing Tape Drives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="gfyda"></a><h3>Managing the iSNS Server and Clients</h3>
<a name="indexterm-318"></a><a name="indexterm-319"></a><a name="indexterm-320"></a><a name="indexterm-321"></a><a name="indexterm-322"></a><a name="indexterm-323"></a><a name="indexterm-324"></a><a name="indexterm-325"></a><p>This section describes how to maintain the iSNS discovery domain sets and their
members, the initiators and targets. As the site grows, continue to add clients,
discovery domains, and discovery domain sets as described in the following sections: </p>
<ul><li><p><a href="gfybz.html#gfyvv">How to Create the Discovery Domain Sets</a></p></li>
<li><p><a href="gfybz.html#gfywd">How to Create the Discovery Domains</a></p></li>
<li><p><a href="gfybz.html#ggcof">How to Add a Discovery Domain to a Discovery Domain Set</a></p></li>
<li><p><a href="gfybz.html#gfyuq">How to Assign Clients to a Discovery Domain</a></p></li></ul>
<p>This section provides the other procedures for managing the iSNS server, using the
command line interface. The following topics are discussed:</p>
<ul><li><p><a href="#ggcra">How to Display the Status of a Discovery Domain Set</a></p></li>
<li><p><a href="#ggcqm">How to Display the Status of a Discovery Domain</a></p></li>
<li><p><a href="#gfzqn">How to Display the Status of Clients</a></p></li>
<li><p><a href="#ggcpp">How to Remove a Client from a Discovery Domain</a></p></li>
<li><p><a href="#ggcoq">How to Remove a Discovery Domain from a Discovery Domain Set</a></p></li>
<li><p><a href="#ggcyb">How to Disable a Discovery Domain Set</a></p></li>
<li><p><a href="#ggdgg">How to Remove a Discovery Domain Set</a></p></li></ul>


<a name="ggcra"></a><h4>How to Display the Status of a Discovery Domain Set</h4><a name="indexterm-326"></a><a name="indexterm-327"></a><ul>
<li><b>Show the status of the discovery domain set and list the discovery domains
that are its members:</b><pre>#<tt><b>isnsadm list-dd-set -v </tt><i>set_name</i><tt></b></tt></pre></li></ul>

<a name="ggcqm"></a><h4>How to Display the Status of a Discovery Domain</h4><a name="indexterm-328"></a><a name="indexterm-329"></a><ul>
<li><b>Show the status of the discovery domain and lists the clients that are
its members:</b><pre>#<tt><b>isnsadm list-dd -v </tt><i>domain_name</i><tt></b></tt></pre></li></ul>

<a name="gfzqn"></a><h4>How to Display the Status of Clients</h4><a name="indexterm-330"></a><a name="indexterm-331"></a><a name="indexterm-332"></a><a name="indexterm-333"></a><a name="indexterm-334"></a><a name="indexterm-335"></a><a name="indexterm-336"></a><a name="indexterm-337"></a><ul>
<li><b>Select one of the following to display client status:</b>
<ul><li><p><b>Show the status of all clients:</b></p><pre>#<tt><b>isnsadm list-node -v </b></tt></pre></li>
<li><p><b>Show the status of only the clients that are targets, that is, storage objects:</b></p><pre>#<tt><b>isnsadm list-node -t</b></tt></pre></li></ul>
</li></ul>

<a name="ggcpp"></a><h4>How to Remove a Client from a Discovery Domain</h4><a name="indexterm-338"></a><a name="indexterm-339"></a><ol>
<li><b>Use the &ldquo;iSNS Server Management&rdquo; RBAC profile to obtain the authorizations needed for
managing the iSNS service.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
</p></li>
<li><b>List the clients to identify the one you want to remove.</b><pre>#<tt><b>isnsadm list-node -v</b></tt>
       iSCSI Name: iqn.1986-03.com.sun:01:000e0c9f10da.45173FEA.engr
          Alias: STK5320_NAS
          Type: Target
          Network Entity: SE5310
          Portal: 172.20.57.95:3260
              Portal Group: 1
          Portal: 172.20.56.95:3260
              Portal Group: 1
          DD Name: Research,Finance</pre><p>The output shows the client's iSCSI name and the name of the
discovery domains of which it is a member.</p></li>
<li><b>Remove the client from the discovery domain.</b><pre>#<tt><b>isnsadm remove-node -d </tt><i>domain_name</i><tt> </tt><i>iSCSI_name</i><tt></b></tt></pre></li></ol>

<a name="ggcoq"></a><h4>How to Remove a Discovery Domain from a Discovery Domain Set</h4><a name="indexterm-340"></a><a name="indexterm-341"></a><ol>
<li><b>Use the &ldquo;iSNS Server Management&rdquo; RBAC profile to obtain the authorizations needed for
managing the iSNS service.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
</p></li>
<li><b>List the discovery domains to identify the one you want to remove.</b><pre>#<tt><b>isnsadm list-dd -v</b></tt></pre></li>
<li><b>Remove the discovery domain from the discovery domain set.</b><pre>#<tt><b>isnsadm remove-dd </tt><i>set_name</i><tt> </tt><i>domain_name</i><tt></b></tt></pre></li></ol>

<a name="ggcyb"></a><h4>How to Disable a Discovery Domain Set</h4><a name="indexterm-342"></a><a name="indexterm-343"></a><ol>
<li><b>Use the &ldquo;iSNS Server Management&rdquo; RBAC profile to obtain the authorizations needed for
managing the iSNS service.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
</p></li>
<li><b>Deactivate a discovery domain set:</b><pre>#<tt><b>isnsadm disable-dd-set </tt><i>set_name</i><tt></b></tt></pre></li>
<li><b>Verify that the state of the discovery domain set has changed to Disabled:</b><pre>#<tt><b>isnsadm list-dd-set </tt><i>set_name</i><tt></b></tt></pre></li></ol>

<a name="ggdgg"></a><h4>How to Remove a Discovery Domain Set</h4><a name="indexterm-344"></a><a name="indexterm-345"></a><p>After you remove a discovery domain set, its discovery domains remain. A discovery
domain must be a member of at least one discovery domain set.</p><ol>
<li><b>Use the &ldquo;iSNS Server Management&rdquo; RBAC profile to obtain the authorizations needed for
managing the iSNS service.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
</p></li>
<li><b>List the discovery domain sets to identify the one you want to remove.</b><pre>#<tt><b>isnsadm list-dd-set -v</b></tt></pre></li>
<li><b>Remove the discovery domain set.</b><pre>#<tt><b>isnsadm remove-dd-set </tt><i>set_name</i><tt> </b></tt></pre></li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gfybz.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ggdbv.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

