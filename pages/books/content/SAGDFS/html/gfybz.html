<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Configuring the iSNS Server - System Administration Guide: Devices and File Systems</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Devices and File Systems</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gfycs.html">Previous</a>
             </td>
             <td align="right">
                 <a href="gfyda.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="medintro-55492.html">1.&nbsp;&nbsp;Managing Removable Media (Overview)</a></p>
<p class="toc level1 tocsp"><a href="medformat-83002.html">2.&nbsp;&nbsp;Managing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medaccess-29267.html">3.&nbsp;&nbsp;Accessing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medcdrw-1.html">4.&nbsp;&nbsp;Writing CDs and DVDs (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig-27900.html">5.&nbsp;&nbsp;Managing Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig2-1.html">6.&nbsp;&nbsp;Dynamically Configuring Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devusbover-24.html">7.&nbsp;&nbsp;Using USB Devices (Overview)</a></p>
<p class="toc level1 tocsp"><a href="devusbtasks-1.html">8.&nbsp;&nbsp;Using USB Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fncpk.html">9.&nbsp;&nbsp;Using InfiniBand Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksconcepts-29477.html">10.&nbsp;&nbsp;Managing Disks (Overview)</a></p>
<p class="toc level1 tocsp"><a href="disksprep-31030.html">11.&nbsp;&nbsp;Administering Disks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="diskssadd-16103.html">12.&nbsp;&nbsp;SPARC: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksxadd-38159.html">13.&nbsp;&nbsp;x86: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fmvcd.html">14.&nbsp;&nbsp;Configuring Solaris iSCSI Targets and Initiators (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gfydr.html">15.&nbsp;&nbsp;Configuring and Managing the Solaris Internet Storage Name Service (iSNS)</a></p>
<p class="toc level2"><a href="gfycs.html">The iSNS Technology (Overview)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Configuring the iSNS Server</a></p>
</div>
<p class="toc level2"><a href="gfyda.html">Managing the iSNS Server and Clients</a></p>
<p class="toc level3"><a href="gfyda.html#ggcra">How to Display the Status of a Discovery Domain Set</a></p>
<p class="toc level3"><a href="gfyda.html#ggcqm">How to Display the Status of a Discovery Domain</a></p>
<p class="toc level3"><a href="gfyda.html#gfzqn">How to Display the Status of Clients</a></p>
<p class="toc level3"><a href="gfyda.html#ggcpp">How to Remove a Client from a Discovery Domain</a></p>
<p class="toc level3"><a href="gfyda.html#ggcoq">How to Remove a Discovery Domain from a Discovery Domain Set</a></p>
<p class="toc level3"><a href="gfyda.html#ggcyb">How to Disable a Discovery Domain Set</a></p>
<p class="toc level3"><a href="gfyda.html#ggdgg">How to Remove a Discovery Domain Set</a></p>
<p class="toc level2 tocsp"><a href="ggdbv.html">Configuring High Availability of iSNS Server Using Sun Cluster</a></p>
<p class="toc level1 tocsp"><a href="disksformat-15833.html">16.&nbsp;&nbsp;The <tt>format</tt> Utility (Reference)</a></p>
<p class="toc level1 tocsp"><a href="fsoverview-38559.html">17.&nbsp;&nbsp;Managing File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="fscreate-96442.html">18.&nbsp;&nbsp;Creating UFS, TMPFS, and LOFS File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsmount-42780.html">19.&nbsp;&nbsp;Mounting and Unmounting File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fscachefs-70682.html">20.&nbsp;&nbsp;Using The CacheFS File System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsswap-14677.html">21.&nbsp;&nbsp;Configuring Additional Swap Space (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fstroublefsck-61446.html">22.&nbsp;&nbsp;Checking UFS File System Consistency (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsfilesysappx-94408.html">23.&nbsp;&nbsp;UFS File System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupconcepts-57422.html">24.&nbsp;&nbsp;Backing Up and Restoring File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="bkuptasks2-64128.html">25.&nbsp;&nbsp;Backing Up Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupsnapshot-2.html">26.&nbsp;&nbsp;Using UFS Snapshots (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuprestoretasks-38055.html">27.&nbsp;&nbsp;Restoring Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupref-12756.html">28.&nbsp;&nbsp;UFS Backup and Restore Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupsavefiles-17924.html">29.&nbsp;&nbsp;Copying UFS Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuptapedevice-42512.html">30.&nbsp;&nbsp;Managing Tape Drives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="gfybz"></a><h3>Configuring the iSNS Server</h3>
<p>You can configure the iSNS server using as described in the following task
maps and sections. <a name="indexterm-294"></a><a name="indexterm-295"></a></p><table><col width="3.16*"><col width="40.89*"><col width="45.15*"><tr><th colspan="2" align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td colspan="3" align="left" valign="top" scope="row"><p>1. Accept the default properties of the iSNS
server or change them.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p>A. Notification of state changes of the server</p></td>
<td align="left" valign="top" scope="row"><p><a href="#gfygh">How to Set Notifications for Changes in Server State</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p>B. Number
of attempts to determine a client's availability</p></td>
<td align="left" valign="top" scope="row"><p><a href="#gfygt">How to Set the Number of Retries for Client Inquiries</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p>C. Location of file that stores
client data.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#gfyhj">How to Specify the Data Store Location</a></p></td>
</tr>
<tr><td colspan="2" align="left" valign="top" scope="row"><p>2. Enable the iSNS server and display the settings.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#gfydt">How to Enable the iSNS Server Daemon</a></p><p><a href="#ggcpf">How to Display the Current Server Configuration</a></p></td>
</tr>
<tr><td colspan="2" align="left" valign="top" scope="row"><p>3. Register all
clients with the iSNS server.</p></td>
<td align="left" valign="top" scope="row"><p>Use the client's management interface's iSCSI configuration function to
specify the IP address of the iSNS server and to allow discovery.</p></td>
</tr>
<tr><td colspan="2" align="left" valign="top" scope="row"><p>4.
Enable the default discovery domain set.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#ggcuf">How to Enable the Default Discovery Domain Set</a></p></td>
</tr>
</table><p>After these tasks, the iSNS server is operating in a minimal manner. All
of the clients are in the default discovery domain and are unassigned. Each
one can identify and get access to all of the other ones.</p><table><col width="3.16*"><col width="40.89*"><col width="45.15*"><tr><td colspan="2" align="left" valign="top" scope="row"><p>5.
Create the discovery domain sets for your site.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#gfyvv">How to Create the Discovery Domain Sets</a></p></td>
</tr>
<tr><td colspan="2" align="left" valign="top" scope="row"><p>6. Create the discovery domains
for your site.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#gfywd">How to Create the Discovery Domains</a></p></td>
</tr>
<tr><td colspan="2" align="left" valign="top" scope="row"><p>7. Add each discovery domain to one or more discovery
domain set.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#ggcof">How to Add a Discovery Domain to a Discovery Domain Set</a></p></td>
</tr>
<tr><td colspan="2" align="left" valign="top" scope="row"><p>8. Assign clients to one or more discovery domains.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#gfyuq">How to Assign Clients to a Discovery Domain</a></p></td>
</tr>
<tr><td colspan="2" align="left" valign="top" scope="row"><p>9. Verify the
membership of clients in discover domains and the membership of discovery domains in
discovery domain sets.</p></td>
<td align="left" valign="top" scope="row"><p><a href="gfyda.html#ggcra">How to Display the Status of a Discovery Domain Set</a></p><p><a href="gfyda.html#ggcqm">How to Display the Status of a Discovery Domain</a></p><p><a href="gfyda.html#gfzqn">How to Display the Status of Clients</a></p></td>
</tr>
</table><p>The next section provides instructions for setting up the iSNS environment. The following
topics are discussed:</p>
<ul><li><p><a href="#gfyii">Setting Up the iSNS Administrative Settings</a></p></li>
<li><p><a href="#gfybi">Using the Command Line Interface to Configure iSNS</a></p></li></ul>


<a name="gfyii"></a><h4>Setting Up the iSNS Administrative Settings</h4>
<p>This section provides the procedures for changing the default administrative settings of the
iSNS service and for starting the iSNS daemon. If you change a setting
after the iSNS server has been started, you need to refresh the iSNS
server. If you change the data store location, you need to restart
the iSNS server.</p>
<ul><li><p><a href="#gfygh">How to Set Notifications for Changes in Server State</a></p></li>
<li><p><a href="#gfygt">How to Set the Number of Retries for Client Inquiries</a></p></li>
<li><p><a href="#gfyhj">How to Specify the Data Store Location</a></p></li>
<li><p><a href="#gfydt">How to Enable the iSNS Server Daemon</a></p></li>
<li><p><a href="#ggdbd">How to Disable the iSNS Server Daemon</a></p></li></ul>
<p>See the man page for the <tt>isns</tt>(1M) command details about these operations.</p>

<a name="gfygh"></a><h5>How to Set Notifications for Changes in Server State</h5>
<a name="indexterm-296"></a><p>By default, all clients are notified when the iSNS server is not
available. To disable these notifications, change the <i>Management_SCNs_Enabled</i> property.</p><ol>
<li><b>Use the &ldquo;iSNS Server Management&rdquo; RBAC profile to obtain the authorizations needed for
managing the iSNS service.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
</p></li>
<li><b>Use the svccfg command to disable the property:</b><pre># <tt><b>svccfg -s svc:/network/isns_server setprop\config/Management_SCNs_Enabled=no</b></tt></pre></li>
<li><b>Reload the server configuration:</b><pre># <tt><b>svcadm refresh svc:/network/isns_server </b></tt></pre></li></ol>

<a name="gfygt"></a><h5>How to Set the Number of Retries for Client Inquiries</h5>
<a name="indexterm-297"></a><p>The default number of retries is 3. If the server does not
get a response to three inquiries, it registers that client as unavailable. To
change the number of retries, change the value of the <i>ESI Retry Threshold</i> property.</p><ol>
<li><b>Use the &ldquo;iSNS Server Management&rdquo; RBAC profile to obtain the authorizations needed for
managing the iSNS service.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
</p></li>
<li><b>Use the svccfg command to change the property to, for example, 6 retries:</b><pre># <tt><b>svccfg -s svc:/network/isns_server setprop\config/ESI_retry_threshold_count=6</b></tt></pre></li>
<li><b>Reload the server configuration:</b><pre># <tt><b>svcadm refresh svc:/network/isns_server </b></tt></pre></li></ol>

<a name="gfyhj"></a><h5>How to Specify the Data Store Location</h5>
<a name="indexterm-298"></a><p>The default location and name for the file that contains the client data
is <tt>/etc/isns/isnsdata.xml</tt> If you have a complex network environment that includes one or
more backup iSNS servers, the data store must reside in a common location
so that all servers can use it. Use the <i>data_store_location</i> property to specify
the new location. You can also change the name of the file.<a name="indexterm-299"></a></p><ol>
<li><b>Use the &ldquo;iSNS Server Management&rdquo; RBAC profile to obtain the authorizations needed for
managing the iSNS service.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
</p></li>
<li><b>Use the svccfg command to change the location to, for example, <tt>/etc/isns2/isns_data.xml</tt>:</b><pre><tt><b>svccfg -s svc:/network/isns_server setprop\config/data_store_location="/etc/isns2/isns_data.xml"</b></tt></pre></li>
<li><b>If you change the data store location after the server has been enabled,
you must restart the server:</b><pre># <tt><b>svcadm restart svc:/network/isns_server </b></tt></pre></li></ol>

<a name="gfydt"></a><h5>How to Enable the iSNS Server Daemon</h5>
<a name="indexterm-300"></a><a name="indexterm-301"></a><ol>
<li><b>Use the &ldquo;iSNS Server Management&rdquo; RBAC profile to obtain the authorizations needed for
managing the iSNS service.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
</p></li>
<li><b>Set the server to start each time the system boots: </b><pre>#<tt><b>svcadm -v enable svc:/network/isns_server</b></tt>
        svc:/network/isns_server:default enabled</pre></li>
<li><b>Verify the state of the iSNS service:</b><pre>#<tt><b>svcs svc:/network/isns_server:default</b></tt>
        STATE         STIME        FMRI
        online        11:50:04     svcs svc:/network/isns_server:default</pre></li></ol>

<a name="ggdbd"></a><h5>How to Disable the iSNS Server Daemon</h5>
<a name="indexterm-302"></a><a name="indexterm-303"></a><ol>
<li><b>Use the &ldquo;iSNS Server Management&rdquo; RBAC profile to obtain the authorizations needed for
managing the iSNS service.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
</p></li>
<li><b>Set the server to start each time the system boots: </b><pre>#<tt><b>svcadm -v disable svc:/network/isns_server</b></tt>
        svc:/network/isns_server:default disabled</pre></li>
<li><b>Verify the state of the iSNS service:</b><pre>#<tt><b>svcs svc:/network/isns_server:default</b></tt>
        STATE         STIME        FMRI
        disabled      11:51:05     svc:/network/isns_server:default</pre></li></ol>

<a name="gfybi"></a><h4>Using the Command Line Interface to Configure iSNS</h4>
<a name="indexterm-304"></a><a name="indexterm-305"></a><p>This section provides the procedures for configuring the iSNS server using the command
line interface. The following topics are discussed:</p>
<ul><li><p><a href="#ggcpf">How to Display the Current Server Configuration</a></p></li>
<li><p><a href="#ggcuf">How to Enable the Default Discovery Domain Set</a></p></li>
<li><p><a href="#gfyvv">How to Create the Discovery Domain Sets</a></p></li>
<li><p><a href="#gfywd">How to Create the Discovery Domains</a></p></li>
<li><p><a href="#ggcof">How to Add a Discovery Domain to a Discovery Domain Set</a></p></li>
<li><p><a href="#gfyuq">How to Assign Clients to a Discovery Domain</a></p></li></ul>
<p>These procedures use the <tt>isnsadm</tt>(1M) command. See the man page for a
complete description of all of the command options.</p>

<a name="ggcpf"></a><h5>How to Display the Current Server Configuration</h5>
<a name="indexterm-306"></a><a name="indexterm-307"></a><ul>
<li><b>The following command shows the properties of the iSNS server:</b><pre>#<tt><b>isnsadm show-config</b></tt>
        Data Store Location: /etc/isns/isnsdata.xml
        Entity Status Inquiry Non-Response Threshold: 3
        Management SCN Enabled: yes
        Authorized Control Node Names: -</pre></li></ul>

<a name="ggcuf"></a><h5>How to Enable the Default Discovery Domain Set</h5>
<a name="indexterm-308"></a><a name="indexterm-309"></a><ol>
<li><b>Use the &ldquo;iSNS Server Management&rdquo; RBAC profile to obtain the authorizations needed for
managing the iSNS service.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
</p></li>
<li><b>Activate the default discovery domain set:</b><pre>#<tt><b>isnsadm enable-dd-set Default</b></tt></pre></li></ol>

<a name="gfyvv"></a><h5>How to Create the Discovery Domain Sets</h5>
<a name="indexterm-310"></a><a name="indexterm-311"></a><ol>
<li><b>Use the &ldquo;iSNS Server Management&rdquo; RBAC profile to obtain the authorizations needed for
managing the iSNS service.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
</p></li>
<li><b>Create a discovery domain set:</b><pre>#<tt><b>isnsadm create-dd-set </tt><i>set_name</i><tt></b></tt></pre></li>
<li><b>Enable the discovery domain set:</b><pre>#<tt><b>isnsadm enable-dd-set </tt><i>set_name</i><tt></b></tt></pre></li>
<li><b>View all the discovery domain sets, including the new one:</b><pre>#<tt><b>isnsadm list-dd-set -v</b></tt>
        DD Set name: Default
            State: Enabled
        DD Set name:<i>set_name</i>
            State: Enabled</pre><p>The list of discovery domain sets includes the default discovery domain set as
well as the new one. </p></li></ol>

<a name="gfywd"></a><h5>How to Create the Discovery Domains</h5>
<a name="indexterm-312"></a><a name="indexterm-313"></a><p>New discovery domains are members of the default discovery domain set. After you
create them, you add them to the new discovery domain set.</p><ol>
<li><b>Use the &ldquo;iSNS Server Management&rdquo; RBAC profile to obtain the authorizations needed for
managing the iSNS service.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
</p></li>
<li><b>Create the discovery domain:</b><pre>#<tt><b>isnsadm create-dd </tt><i>domain_name</i><tt></b></tt></pre></li>
<li><b>View the new discovery domain in the Default discovery domain set:</b><pre>#<tt><b>isnsadm list-dd-set Default</b></tt>
         DD name: <i>name</i>
             DD set(s): Default</pre></li>
<li><b>Create other discovery domains.</b></li></ol>

<a name="ggcof"></a><h5>How to Add a Discovery Domain to a Discovery Domain Set</h5>
<a name="indexterm-314"></a><a name="indexterm-315"></a><p>This task removes the discovery domain from the default discovery domain set and
adds it the discovery domain set that you specify. Because the new discovery
domain set has been enabled, all the clients in its discovery domains can
be discovered by the iSNS server.</p><p>You do not need to have privileges to list the members of
the discovery domains and discovery domain sets.</p><ol>
<li><b>Use the &ldquo;iSNS Server Management&rdquo; RBAC profile to obtain the authorizations needed for
managing the iSNS service.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
</p></li>
<li><b>List the discovery domains to identify the one you want to add.</b><pre>#<tt><b>isnsadm list-dd -v Default</b></tt></pre></li>
<li><b>List the discovery domain sets to identify the one you want as the
container for the new discovery domain.</b><pre>#<tt><b>isnsadm list-dd-set</b></tt></pre></li>
<li><b>Move the discovery domain to the discovery domain set that you want:</b><pre>#<tt><b>isnsadm add-dd </tt><i>domain_name</i><tt> -s </tt><i>set_name</i><tt></b></tt></pre></li>
<li><b>View the new addition to the discovery domain set:</b><pre>#<tt><b>isnsadm list-dd-set -v </tt><i>domain_name</i><tt></b></tt></pre></li></ol>

<a name="gfyuq"></a><h5>How to Assign Clients to a Discovery Domain</h5>
<a name="indexterm-316"></a><a name="indexterm-317"></a><h6>Before You Begin</h6><p>Use the client's management interface to register the client. Using the iSCSI configuration
function, specify the IP address of the iSNS server and allow discovery of
the client by the iSNS server.</p><ol>
<li><b>Use the &ldquo;iSNS Server Management&rdquo; RBAC profile to obtain the authorizations needed for
managing the iSNS service.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
</p></li>
<li><b>Verify that the client has been registered with the iSNS server:</b><pre>#<tt><b>isnsadm list-node</b></tt> 
       iSCSI Name: iqn.1986-03.com.sun:01:000e0c9f10da.45173FEA.engr
          Alias: STK5320_NAS
          Type: Target
          .
       iSCSI Name: iqn.1986-03.com.sun:01:000e0c9f10da.454F00A2.acct
          Alias:
          Type: Initiator
         </pre><p>The output shows the clients' iSCSI names.</p></li>
<li><b>Verify the name of the discovery domain:</b><pre>#<tt><b>isnsadm list-dd</b></tt></pre></li>
<li><b>Add the client to the discovery domain:</b><pre>#<tt><b>isnsadm add-node -d </tt><i>domain_name</i><tt> </tt><i>iSCSI_Name</i><tt></b></tt></pre><p>For example, to add the target called &ldquo;STK5320_NAS&rdquo; to the Eng-dd discovery domain:</p><pre>#<tt><b>isnsadm add-node -d Eng-dd iqn.1986-03.com.sun:01:000e0c9f10da.454F00A2.engr</b></tt></pre></li>
<li><b>List all the clients in the discovery domain to verify the client has
been added:</b><pre>#<tt><b>isnsadm list-dd -v </tt><i>domain_name</i><tt></b></tt> 
    </pre><p>For example, to check the Eng-dd discovery domain:</p><pre>#<tt><b>isnsadm list-dd -v Eng-dd</b></tt>
          DD name:    Eng-dd
          DD set: Development-dds
         iSCSI Name:    iqn.1986-03.com.sun:01:000e0c9f10da.45173FEA.engr
            iSCSI Name:    iqn.1986-03.com.sun:01:000e0c9f10da.454F00A2.acct
            iSCSI name: iqn.1986-03.com.sun:01:e00000000000.46fd8e2b</pre></li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gfycs.html">Previous</a>
             </td>
             <td align="right">
                 <a href="gfyda.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

