<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Creating and Mounting a Loopback File System (LOFS) - System Administration Guide: Devices and File Systems</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Devices and File Systems</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="fscreate-99040.html">Previous</a>
             </td>
             <td align="right">
                 <a href="fsmount-42780.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="medintro-55492.html">1.&nbsp;&nbsp;Managing Removable Media (Overview)</a></p>
<p class="toc level1 tocsp"><a href="medformat-83002.html">2.&nbsp;&nbsp;Managing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medaccess-29267.html">3.&nbsp;&nbsp;Accessing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medcdrw-1.html">4.&nbsp;&nbsp;Writing CDs and DVDs (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig-27900.html">5.&nbsp;&nbsp;Managing Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig2-1.html">6.&nbsp;&nbsp;Dynamically Configuring Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devusbover-24.html">7.&nbsp;&nbsp;Using USB Devices (Overview)</a></p>
<p class="toc level1 tocsp"><a href="devusbtasks-1.html">8.&nbsp;&nbsp;Using USB Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fncpk.html">9.&nbsp;&nbsp;Using InfiniBand Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksconcepts-29477.html">10.&nbsp;&nbsp;Managing Disks (Overview)</a></p>
<p class="toc level1 tocsp"><a href="disksprep-31030.html">11.&nbsp;&nbsp;Administering Disks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="diskssadd-16103.html">12.&nbsp;&nbsp;SPARC: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksxadd-38159.html">13.&nbsp;&nbsp;x86: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fmvcd.html">14.&nbsp;&nbsp;Configuring Solaris iSCSI Targets and Initiators (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gfydr.html">15.&nbsp;&nbsp;Configuring and Managing the Solaris Internet Storage Name Service (iSNS)</a></p>
<p class="toc level1 tocsp"><a href="disksformat-15833.html">16.&nbsp;&nbsp;The <tt>format</tt> Utility (Reference)</a></p>
<p class="toc level1 tocsp"><a href="fsoverview-38559.html">17.&nbsp;&nbsp;Managing File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="fscreate-96442.html">18.&nbsp;&nbsp;Creating UFS, TMPFS, and LOFS File Systems (Tasks)</a></p>
<p class="toc level2"><a href="fscreate-1.html">Creating a UFS File System</a></p>
<p class="toc level3"><a href="fscreate-1.html#fscreate-22821">How to Create a UFS File System</a></p>
<p class="toc level3"><a href="fscreate-1.html#fsoverview-14">How to Create a Multiterabyte UFS File System</a></p>
<p class="toc level3"><a href="fscreate-1.html#fsoverview-17">How to Expand a Multiterabyte UFS File System</a></p>
<p class="toc level3"><a href="fscreate-1.html#fsoverview-13">How to Expand a UFS File System to a Multiterabyte UFS File System</a></p>
<p class="toc level2 tocsp"><a href="fscreate-99040.html">Creating a Temporary File System (TMPFS)</a></p>
<p class="toc level3"><a href="fscreate-99040.html#fscreate-34114">How to Create and Mount a TMPFS File System</a></p>
<div class="onpage">
<p class="toc level2 tocsp"><a href="">Creating and Mounting a Loopback File System (LOFS)</a></p>
<p class="toc level3"><a href="#fscreate-25028">How to Create and Mount an LOFS File System</a></p>
</div>
<p class="toc level1 tocsp"><a href="fsmount-42780.html">19.&nbsp;&nbsp;Mounting and Unmounting File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fscachefs-70682.html">20.&nbsp;&nbsp;Using The CacheFS File System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsswap-14677.html">21.&nbsp;&nbsp;Configuring Additional Swap Space (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fstroublefsck-61446.html">22.&nbsp;&nbsp;Checking UFS File System Consistency (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsfilesysappx-94408.html">23.&nbsp;&nbsp;UFS File System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupconcepts-57422.html">24.&nbsp;&nbsp;Backing Up and Restoring File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="bkuptasks2-64128.html">25.&nbsp;&nbsp;Backing Up Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupsnapshot-2.html">26.&nbsp;&nbsp;Using UFS Snapshots (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuprestoretasks-38055.html">27.&nbsp;&nbsp;Restoring Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupref-12756.html">28.&nbsp;&nbsp;UFS Backup and Restore Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupsavefiles-17924.html">29.&nbsp;&nbsp;Copying UFS Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuptapedevice-42512.html">30.&nbsp;&nbsp;Managing Tape Drives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="fscreate-86793"></a><h3>Creating and Mounting a Loopback File System (LOFS)</h3>
<p><a name="fscreate-ix2783"></a><a name="fscreate-ix2784"></a><a name="fscreate-ix2785"></a>An <b>LOFS file system</b> is a virtual file system that provides an alternate path to
an existing file system. When other file systems are mounted onto an LOFS
file system, the original file system does not change.</p><p>For more information, see the <a href="http://docs.sun.com/doc/819-2254/lofs-7fs?a=view"><tt>lofs</tt>(7FS)</a>.</p>
<hr><p><b>Note - </b>Be careful when creating LOFS file systems. Because LOFS file systems are virtual
file systems, the potential for confusing both users and applications is enormous.</p>
<hr>


<a name="fscreate-25028"></a><h4>How to Create and Mount an LOFS File System</h4><ol>
<li><a name="fscreate-step-16"></a><b>Become superuser or assume an equivalent role.</b></li>
<li><a name="fscreate-step-17"></a><b>Create the directory you want to mount as an LOFS file system, if
necessary.</b><pre># <tt><b>mkdir</b></tt> <i>loopback-directory</i></pre></li>
<li><a name="fscreate-step-35"></a><b>Grant the appropriate permissions and ownership on the newly created directory.</b></li>
<li><a name="fapek"></a><b>Create the mount point where you want to mount the LOFS file system,
if necessary.</b><pre># <tt><b>mkdir</b></tt> <i>/mount-point</i></pre></li>
<li><a name="fscreate-step-18"></a><b>Mount the LOFS file system. </b><pre># <tt><b>mount -F lofs</b></tt> <i>loopback-directory /mount-point</i></pre><dl><dt><i>loopback-directory</i></dt>
<dd><p>Specifies the file system to be mounted on the loopback mount point.</p></dd>
<dt><i>/mount-point</i></dt>
<dd><p>Specifies the directory on which to mount the LOFS file system.</p></dd>
</dl>
</li>
<li><a name="fscreate-step-26"></a><b>Verify that the LOFS file system has been mounted.</b><pre># <tt><b>mount -v</b></tt></pre></li></ol><a name="fncqy"></a>Example&nbsp;18-4 Creating and Mounting an LOFS File System<p>The following example shows how to create, mount, and test new software in
the <tt>/new/dist</tt> directory as a loopback file system without actually having to install
it.</p><pre># <tt><b>mkdir /tmp/newroot</b></tt>
# <tt><b>mount -F lofs /new/dist /tmp/newroot</b></tt>
# <tt><b>chroot /tmp/newroot newcommand</b></tt></pre><a name="fncqv"></a>Example&nbsp;18-5 Mounting an LOFS File System at Boot Time<p><a name="fscreate-ix2786"></a>You can set up the system to automatically mount an LOFS file system
at boot time by adding an entry to the end of the <tt>/etc/vfstab</tt>
file. The following example shows an entry in the <tt>/etc/vfstab</tt> file that mounts
an LOFS file system for the root (<tt>/</tt>) file system on <tt>/tmp/newroot</tt>.</p><pre>/ - /tmp/newroot  lofs   -  yes  -</pre><p>Ensure that the loopback entries are the last entries in the <tt>/etc/vfstab</tt>
file. Otherwise, if the <tt>/etc/vfstab</tt> entry for a loopback file system precedes the
file systems to be included in it, the loopback file system cannot be
mounted.</p><h6>See Also</h6><p>For more information on the <tt>/etc/vfstab</tt> file, see <a href="fsmount-43249.html#fsmount-81772">Field Descriptions for the <tt>/etc/vfstab</tt> File</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="fscreate-99040.html">Previous</a>
             </td>
             <td align="right">
                 <a href="fsmount-42780.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

