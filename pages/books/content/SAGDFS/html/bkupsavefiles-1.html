<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Commands for Copying File Systems - System Administration Guide: Devices and File Systems</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Devices and File Systems</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="bkupsavefiles-17924.html">Previous</a>
             </td>
             <td align="right">
                 <a href="bkupsavefiles-2.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="medintro-55492.html">1.&nbsp;&nbsp;Managing Removable Media (Overview)</a></p>
<p class="toc level1 tocsp"><a href="medformat-83002.html">2.&nbsp;&nbsp;Managing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medaccess-29267.html">3.&nbsp;&nbsp;Accessing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medcdrw-1.html">4.&nbsp;&nbsp;Writing CDs and DVDs (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig-27900.html">5.&nbsp;&nbsp;Managing Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig2-1.html">6.&nbsp;&nbsp;Dynamically Configuring Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devusbover-24.html">7.&nbsp;&nbsp;Using USB Devices (Overview)</a></p>
<p class="toc level1 tocsp"><a href="devusbtasks-1.html">8.&nbsp;&nbsp;Using USB Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fncpk.html">9.&nbsp;&nbsp;Using InfiniBand Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksconcepts-29477.html">10.&nbsp;&nbsp;Managing Disks (Overview)</a></p>
<p class="toc level1 tocsp"><a href="disksprep-31030.html">11.&nbsp;&nbsp;Administering Disks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="diskssadd-16103.html">12.&nbsp;&nbsp;SPARC: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksxadd-38159.html">13.&nbsp;&nbsp;x86: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fmvcd.html">14.&nbsp;&nbsp;Configuring Solaris iSCSI Targets and Initiators (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gfydr.html">15.&nbsp;&nbsp;Configuring and Managing the Solaris Internet Storage Name Service (iSNS)</a></p>
<p class="toc level1 tocsp"><a href="disksformat-15833.html">16.&nbsp;&nbsp;The <tt>format</tt> Utility (Reference)</a></p>
<p class="toc level1 tocsp"><a href="fsoverview-38559.html">17.&nbsp;&nbsp;Managing File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="fscreate-96442.html">18.&nbsp;&nbsp;Creating UFS, TMPFS, and LOFS File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsmount-42780.html">19.&nbsp;&nbsp;Mounting and Unmounting File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fscachefs-70682.html">20.&nbsp;&nbsp;Using The CacheFS File System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsswap-14677.html">21.&nbsp;&nbsp;Configuring Additional Swap Space (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fstroublefsck-61446.html">22.&nbsp;&nbsp;Checking UFS File System Consistency (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsfilesysappx-94408.html">23.&nbsp;&nbsp;UFS File System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupconcepts-57422.html">24.&nbsp;&nbsp;Backing Up and Restoring File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="bkuptasks2-64128.html">25.&nbsp;&nbsp;Backing Up Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupsnapshot-2.html">26.&nbsp;&nbsp;Using UFS Snapshots (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuprestoretasks-38055.html">27.&nbsp;&nbsp;Restoring Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupref-12756.html">28.&nbsp;&nbsp;UFS Backup and Restore Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupsavefiles-17924.html">29.&nbsp;&nbsp;Copying UFS Files and File Systems (Tasks)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Commands for Copying File Systems</a></p>
</div>
<p class="toc level2"><a href="bkupsavefiles-2.html">Copying File Systems Between Disks</a></p>
<p class="toc level3"><a href="bkupsavefiles-2.html#bkupsavefiles-60904">How to Copy a Disk (<tt>dd</tt>)</a></p>
<p class="toc level2 tocsp"><a href="bkupsavefiles-21.html">Copying Directories Between File Systems (<tt>cpio</tt> Command)</a></p>
<p class="toc level3"><a href="bkupsavefiles-21.html#bkupsavefiles-14144">How to Copy Directories Between File Systems (<tt>cpio</tt>)</a></p>
<p class="toc level2 tocsp"><a href="bkupsavefiles-38276.html">Copying Files and File Systems to Tape</a></p>
<p class="toc level2"><a href="bkupsavefiles-30.html">Copying Files to Tape (<tt>tar</tt> Command)</a></p>
<p class="toc level3"><a href="bkupsavefiles-30.html#bkupsavefiles-22962">How to Copy Files to a Tape (<tt>tar</tt>)</a></p>
<p class="toc level3"><a href="bkupsavefiles-30.html#bkupsavefiles-18134">How to List the Files on a Tape (<tt>tar</tt>)</a></p>
<p class="toc level3"><a href="bkupsavefiles-30.html#bkupsavefiles-30917">How to Retrieve Files From a Tape (<tt>tar</tt>)</a></p>
<p class="toc level2 tocsp"><a href="bkupsavefiles-47.html">Copying Files to a Tape With the <tt>pax</tt> Command</a></p>
<p class="toc level3"><a href="bkupsavefiles-47.html#bkupsavefiles-48">How to Copy Files to a Tape (<tt>pax</tt>)</a></p>
<p class="toc level2 tocsp"><a href="bkupsavefiles-129.html">Copying Files to Tape With the <tt>cpio</tt> Command</a></p>
<p class="toc level3"><a href="bkupsavefiles-129.html#bkupsavefiles-85934">How to Copy All Files in a Directory to a Tape (<tt>cpio</tt>)</a></p>
<p class="toc level3"><a href="bkupsavefiles-129.html#bkupsavefiles-30690">How to List the Files on a Tape (<tt>cpio</tt>)</a></p>
<p class="toc level3"><a href="bkupsavefiles-129.html#bkupsavefiles-66148">How to Retrieve All Files From a Tape (<tt>cpio</tt>)</a></p>
<p class="toc level3"><a href="bkupsavefiles-129.html#bkupsavefiles-86108">How to Retrieve Specific Files From a Tape (<tt>cpio</tt>)</a></p>
<p class="toc level2 tocsp"><a href="bkupsavefiles-130.html">Copying Files to a Remote Tape Device</a></p>
<p class="toc level3"><a href="bkupsavefiles-130.html#bkupsavefiles-17981">How to Copy Files to a Remote Tape Device (<tt>tar</tt> and <tt>dd</tt>)</a></p>
<p class="toc level3"><a href="bkupsavefiles-130.html#bkupsavefiles-74428">How to Extract Files From a Remote Tape Device</a></p>
<p class="toc level2 tocsp"><a href="bkupsavefiles-60201.html">Copying Files and File Systems to Diskette</a></p>
<p class="toc level3"><a href="bkupsavefiles-60201.html#bkupsavefiles-84545">How to Copy Files to a Single Formatted Diskette (<tt>tar</tt>)</a></p>
<p class="toc level3"><a href="bkupsavefiles-60201.html#bkupsavefiles-78890">How to List the Files on a Diskette (<tt>tar</tt>)</a></p>
<p class="toc level3"><a href="bkupsavefiles-60201.html#bkupsavefiles-53640">How to Retrieve Files From a Diskette (<tt>tar</tt>)</a></p>
<p class="toc level1 tocsp"><a href="bkuptapedevice-42512.html">30.&nbsp;&nbsp;Managing Tape Drives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="bkupsavefiles-1"></a><h3>Commands for Copying File Systems</h3>
<p>When you need to back up and restore complete file systems, use
the <tt>ufsdump</tt> and <tt>ufsrestore</tt> commands described in <a href="bkupref-12756.html">Chapter&nbsp;28, UFS Backup and Restore Commands (Reference)</a>. When you want to
copy or move individual files, portions of file systems, or complete file systems,
you can use the procedures described in this chapter instead of the <tt>ufsdump</tt>
and <tt>ufsrestore</tt> commands. </p><p><a name="indexterm-465"></a>The following table describes when to use the various backup commands.</p><a name="bkupsavefiles-29175"></a><h6>Table&nbsp;29-1 When to Use Various Backup Commands</h6><table><col width="129.80*"><col width="100.09*"><col width="129.11*"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Command</p></th>
<th align="left" valign="top" scope="column"><p>For More Information</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Back
up file systems to tape.</p></td>
<td align="left" valign="top" scope="row"><p><tt>ufsdump</tt></p></td>
<td align="left" valign="top" scope="row"><p><a href="bkuptasks2-21046.html#bkuptasks2-34493">How to Back Up a File System to Tape</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Create a file system snapshot.</p></td>
<td align="left" valign="top" scope="row"><p><tt>fssnap</tt></p></td>
<td align="left" valign="top" scope="row"><p><a href="bkupsnapshot-2.html">Chapter&nbsp;26, Using UFS Snapshots (Tasks)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Restore file systems from
tape.</p></td>
<td align="left" valign="top" scope="row"><p><tt>ufsrestore</tt></p></td>
<td align="left" valign="top" scope="row"><p><a href="bkuprestoretasks-10.html#bkuprestoretasks-65439">How to Restore a Complete File System</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Transport files to other systems.</p></td>
<td align="left" valign="top" scope="row"><p><tt>pax</tt>, <tt>tar</tt>, or <tt>cpio</tt></p></td>
<td align="left" valign="top" scope="row"><p><a href="bkupsavefiles-38276.html">Copying Files and File Systems to Tape</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Copy files or file systems
between disks.</p></td>
<td align="left" valign="top" scope="row"><p><tt>dd</tt></p></td>
<td align="left" valign="top" scope="row"><p><a href="bkupsavefiles-2.html#bkupsavefiles-60904">How to Copy a Disk (<tt>dd</tt>)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Copy files to diskette.</p></td>
<td align="left" valign="top" scope="row"><p><tt>tar</tt></p></td>
<td align="left" valign="top" scope="row"><p><a href="bkupsavefiles-60201.html#bkupsavefiles-84545">How to Copy Files to a Single Formatted Diskette (<tt>tar</tt>)</a></p></td>
</tr>
</table><p>The following table describes various backup and restore commands.</p><a name="bkupsavefiles-49795"></a><h6>Table&nbsp;29-2 Summary of Various Backup Commands</h6><table><col width="115.73*"><col width="80.23*"><col width="81.82*"><col width="80.23*"><tr><th align="left" valign="top" scope="column"><p>Command Name</p></th>
<th align="left" valign="top" scope="column"><p>Aware of File
System Boundaries?</p></th>
<th align="left" valign="top" scope="column"><p>Supports Multiple Volume Backups?</p></th>
<th align="left" valign="top" scope="column"><p>Physical or Logical Copy?</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>volcopy</tt></p></td>
<td align="left" valign="top" scope="row"><p>Yes</p></td>
<td align="left" valign="top" scope="row"><p>Yes</p></td>
<td align="left" valign="top" scope="row"><p>Physical</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>tar</tt></p></td>
<td align="left" valign="top" scope="row"><p>No</p></td>
<td align="left" valign="top" scope="row"><p>No</p></td>
<td align="left" valign="top" scope="row"><p>Logical</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>cpio</tt></p></td>
<td align="left" valign="top" scope="row"><p>No</p></td>
<td align="left" valign="top" scope="row"><p>Yes</p></td>
<td align="left" valign="top" scope="row"><p>Logical</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>pax</tt></p></td>
<td align="left" valign="top" scope="row"><p>Yes</p></td>
<td align="left" valign="top" scope="row"><p>Yes</p></td>
<td align="left" valign="top" scope="row"><p>Logical</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>dd</tt></p></td>
<td align="left" valign="top" scope="row"><p>Yes</p></td>
<td align="left" valign="top" scope="row"><p>No</p></td>
<td align="left" valign="top" scope="row"><p>Physical</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ufsdump/ufsrestore</tt></p></td>
<td align="left" valign="top" scope="row"><p>Yes</p></td>
<td align="left" valign="top" scope="row"><p>Yes</p></td>
<td align="left" valign="top" scope="row"><p>Logical</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>fssnap</tt></p></td>
<td align="left" valign="top" scope="row"><p>N/A</p></td>
<td align="left" valign="top" scope="row"><p>N/A</p></td>
<td align="left" valign="top" scope="row"><p>Logical</p></td>
</tr>
</table><p>The following table describes the advantages and disadvantages of some of these commands.</p><a name="eypfg"></a><h6>Table&nbsp;29-3 Advantages and Disadvantages of <tt>tar</tt>, <tt>pax</tt>, and <tt>cpio</tt> Commands</h6><table><col width="64.55*"><col width="98.63*"><col width="98.62*"><col width="97.20*"><tr><th align="left" valign="top" scope="column"><p>Command</p></th>
<th align="left" valign="top" scope="column"><p>Function</p></th>
<th align="left" valign="top" scope="column"><p>Advantages</p></th>
<th align="left" valign="top" scope="column"><p>Disadvantages</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>tar</tt></p></td>
<td align="left" valign="top" scope="row"><p>Use
to copy files and directory subtrees to a single tape.</p></td>
<td align="left" valign="top" scope="row">
<ul><li><p>Available on most UNIX operating systems</p></li>
<li><p>Public domain versions are readily available</p></li></ul>
</td>
<td align="left" valign="top" scope="row">
<ul><li><p>Is not aware of file system boundaries</p></li>
<li><p>Length of full path name cannot exceed 255 characters</p></li>
<li><p>Cannot be used to create multiple tape volumes</p></li></ul>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>pax</tt></p></td>
<td align="left" valign="top" scope="row"><p>Use to copy
files, special files, or file systems that require multiple tape volumes. Or, use
when you want to copy files to and from POSIX-compliant systems.</p></td>
<td align="left" valign="top" scope="row">
<ul><li><p>Better portability than the <tt>tar</tt> or <tt>cpio</tt> commands for POSIX-compliant systems</p></li>
<li><p>Multiple vendor support</p></li></ul>
</td>
<td align="left" valign="top" scope="row"><p>Same disadvantages as
the <tt>tar</tt> command, except that the <tt>pax</tt> command can create multiple tape volumes.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>cpio</tt></p></td>
<td align="left" valign="top" scope="row"><p>Use
to copy files, special files, or file systems that require multiple tape volumes.
Or, use when you want to copy files from systems running current Solaris
releases systems to systems running SunOS 4.0/4.1 releases.</p></td>
<td align="left" valign="top" scope="row">
<ul><li><p>Packs data onto tape more efficiently than the <tt>tar</tt> command</p></li>
<li><p>Skips over any bad spots in a tape when restoring</p></li>
<li><p>Provides options for writing files with different header formats, such as ( <tt>tar</tt>, <tt>ustar</tt>, <tt>crc</tt>, <tt>odc</tt>, <tt>bar</tt>), for portability between different system types</p></li>
<li><p>Creates multiple tape volumes</p></li></ul>
</td>
<td align="left" valign="top" scope="row"><p>The command syntax is more
difficult than the <tt>tar</tt> or <tt>pax</tt> commands.</p></td>
</tr>
</table><p>The following sections describes step-by-step instructions and examples of how to use these
commands.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="bkupsavefiles-17924.html">Previous</a>
             </td>
             <td align="right">
                 <a href="bkupsavefiles-2.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

