<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Preparing to Restore Files and File Systems - System Administration Guide: Devices and File Systems</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Devices and File Systems</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="bkuprestoretasks-3.html">Previous</a>
             </td>
             <td align="right">
                 <a href="bkuprestoretasks-10.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="medintro-55492.html">1.&nbsp;&nbsp;Managing Removable Media (Overview)</a></p>
<p class="toc level1 tocsp"><a href="medformat-83002.html">2.&nbsp;&nbsp;Managing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medaccess-29267.html">3.&nbsp;&nbsp;Accessing Removable Media (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="medcdrw-1.html">4.&nbsp;&nbsp;Writing CDs and DVDs (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig-27900.html">5.&nbsp;&nbsp;Managing Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devconfig2-1.html">6.&nbsp;&nbsp;Dynamically Configuring Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="devusbover-24.html">7.&nbsp;&nbsp;Using USB Devices (Overview)</a></p>
<p class="toc level1 tocsp"><a href="devusbtasks-1.html">8.&nbsp;&nbsp;Using USB Devices (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fncpk.html">9.&nbsp;&nbsp;Using InfiniBand Devices (Overview/Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksconcepts-29477.html">10.&nbsp;&nbsp;Managing Disks (Overview)</a></p>
<p class="toc level1 tocsp"><a href="disksprep-31030.html">11.&nbsp;&nbsp;Administering Disks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="diskssadd-16103.html">12.&nbsp;&nbsp;SPARC: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="disksxadd-38159.html">13.&nbsp;&nbsp;x86: Adding a Disk (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fmvcd.html">14.&nbsp;&nbsp;Configuring Solaris iSCSI Targets and Initiators (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gfydr.html">15.&nbsp;&nbsp;Configuring and Managing the Solaris Internet Storage Name Service (iSNS)</a></p>
<p class="toc level1 tocsp"><a href="disksformat-15833.html">16.&nbsp;&nbsp;The <tt>format</tt> Utility (Reference)</a></p>
<p class="toc level1 tocsp"><a href="fsoverview-38559.html">17.&nbsp;&nbsp;Managing File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="fscreate-96442.html">18.&nbsp;&nbsp;Creating UFS, TMPFS, and LOFS File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsmount-42780.html">19.&nbsp;&nbsp;Mounting and Unmounting File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fscachefs-70682.html">20.&nbsp;&nbsp;Using The CacheFS File System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsswap-14677.html">21.&nbsp;&nbsp;Configuring Additional Swap Space (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fstroublefsck-61446.html">22.&nbsp;&nbsp;Checking UFS File System Consistency (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fsfilesysappx-94408.html">23.&nbsp;&nbsp;UFS File System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupconcepts-57422.html">24.&nbsp;&nbsp;Backing Up and Restoring File Systems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="bkuptasks2-64128.html">25.&nbsp;&nbsp;Backing Up Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkupsnapshot-2.html">26.&nbsp;&nbsp;Using UFS Snapshots (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuprestoretasks-38055.html">27.&nbsp;&nbsp;Restoring Files and File Systems (Tasks)</a></p>
<p class="toc level2"><a href="bkuprestoretasks-3.html">Restoring Files and File System Backups (Task Map)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Preparing to Restore Files and File Systems</a></p>
</div>
<p class="toc level2"><a href="bkuprestoretasks-10.html">Restoring Files and File Systems</a></p>
<p class="toc level3"><a href="bkuprestoretasks-10.html#bkuprestoretasks-40591">How to Determine Which Tapes to Use</a></p>
<p class="toc level3"><a href="bkuprestoretasks-10.html#bkuprestoretasks-63510">How to Restore Files Interactively</a></p>
<p class="toc level3"><a href="bkuprestoretasks-10.html#bkuprestoretasks-72504">How to Restore Specific Files Noninteractively</a></p>
<p class="toc level3"><a href="bkuprestoretasks-10.html#bkuprestoretasks-65439">How to Restore a Complete File System</a></p>
<p class="toc level3"><a href="bkuprestoretasks-10.html#bkuprestoretasks-87945">How to Restore the root (<tt>/</tt>) and <tt>/usr</tt> File Systems</a></p>
<p class="toc level1 tocsp"><a href="bkupref-12756.html">28.&nbsp;&nbsp;UFS Backup and Restore Commands (Reference)</a></p>
<p class="toc level1 tocsp"><a href="bkupsavefiles-17924.html">29.&nbsp;&nbsp;Copying UFS Files and File Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="bkuptapedevice-42512.html">30.&nbsp;&nbsp;Managing Tape Drives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="bkuprestoretasks-1"></a><h3>Preparing to Restore Files and File Systems</h3>
<a name="bkuprestoretasks-ix3051"></a><a name="bkuprestoretasks-ix3052"></a><p><a name="bkuprestoretasks-ix3053"></a>The <tt>ufsrestore</tt> command copies files to disk, relative to the current working directory,
from backups that were created by using the <tt>ufsdump</tt> command. You can use
the <tt>ufsrestore</tt> command to reload an entire file system hierarchy from a
level 0 dump and incremental dumps that follow it. You can also use
this command to restore one or more single files from any backup tape.
If you run the <tt>ufsrestore</tt> command as superuser, files are restored with
their original owner, last modification time, and mode (permissions). </p><p>Before you start to restore files or file systems, you need to
know the following:</p>
<ul><li><p>The tapes (or diskettes) you need to restore from</p></li>
<li><p>The raw device name on which you want to restore the file system</p></li>
<li><p>The type of tape device you will use</p></li>
<li><p>The device name (local or remote) for the tape device</p></li></ul>


<a name="bkuprestoretasks-2"></a><h4>Determining the File System Name</h4>
<a name="bkuprestoretasks-ix3055"></a><a name="bkuprestoretasks-ix3056"></a><a name="bkuprestoretasks-ix3057"></a><p>If you have properly labeled your backup tapes, you should be able
to use the file system name (<tt>/dev/rdsk/</tt><i>device-name</i>) from the tape label. For more
information, see <a href="bkuptasks2-1.html#bkuptasks2-78540">How to Find File System Names</a>.</p>

<a name="bkuprestoretasks-5"></a><h4>Determining the Type of Tape Device You Need</h4>
<a name="bkuprestoretasks-ix3058"></a><a name="bkuprestoretasks-ix3059"></a><a name="bkuprestoretasks-ix3060"></a><p>You must use a tape device that is compatible with the backup
media to restore the files. The format of the backup media determines which
drive you must use to restore files. For example, if your backup media
is 8-mm tape, you must use an 8-mm tape device to restore the
files.</p>

<a name="bkuprestoretasks-4"></a><h4>Determining the Tape Device Name</h4>
<p><a name="bkuprestoretasks-ix3061"></a><a name="bkuprestoretasks-ix3062"></a><a name="bkuprestoretasks-ix3063"></a>You might have specified the tape device name (<tt>/dev/rmt/</tt><i>n</i>) as part of
the backup tape label information. If you are using the same drive to
restore a backup tape, you can use the device name from the label.
For more information on media devices and device names, see <a href="bkuptapedevice-42512.html">Chapter&nbsp;30, Managing Tape Drives (Tasks)</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="bkuprestoretasks-3.html">Previous</a>
             </td>
             <td align="right">
                 <a href="bkuprestoretasks-10.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

