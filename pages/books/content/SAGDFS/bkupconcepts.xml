<chapter id="bkupconcepts-57422"><title>Backing Up and Restoring File Systems (Overview)</title><highlights><para>This chapter provides guidelines and planning information for backing up and
restoring file systems by using the <command>ufsdump</command> and <command>ufsrestore</command> commands.</para><para>This is a list of the overview information in this chapter.</para><itemizedlist><listitem><para><olink targetptr="bkupconcepts-20" remap="internal">Where to Find Backup and Restore
Tasks</olink></para>
</listitem><listitem><para><olink targetptr="bkupconcepts-18333" remap="internal">Introduction to Backing Up and Restoring File
Systems</olink></para>
</listitem><listitem><para><olink targetptr="bkupconcepts-35884" remap="internal">Why You Should Back Up File
Systems</olink></para>
</listitem><listitem><para><olink targetptr="bkupconcepts-28918" remap="internal">Planning Which File Systems
to Back Up</olink></para>
</listitem><listitem><para><olink targetptr="bkupconcepts-24102" remap="internal">Choosing the Type of Backup</olink></para>
</listitem><listitem><para><olink targetptr="bkupconcepts-40585" remap="internal">Choosing a Tape Device</olink></para>
</listitem><listitem><para><olink targetptr="bkupconcepts-21" remap="internal">High-Level View of Backing Up and Restoring File
Systems (Task Map)</olink></para>
</listitem><listitem><para><olink targetptr="bkupconcepts-36216" remap="internal">Considerations for Scheduling
Backups</olink></para>
</listitem><listitem><para><olink targetptr="bkupconcepts-38682" remap="internal">Sample Backup Schedules</olink></para>
</listitem>
</itemizedlist>
</highlights><sect1 id="bkupconcepts-20"><title>Where to Find Backup and Restore Tasks</title><informaltable frame="topbot"><tgroup cols="2" colsep="0" rowsep="0"><colspec colname="colspec2" colwidth="50*"/><colspec colname="colspec3" colwidth="50*"/><thead><row rowsep="1"><entry><para>Backup or Restore Task</para>
</entry><entry><para>For More Information</para>
</entry>
</row>
</thead><tbody><row><entry><para>Back up file systems by using the <command>ufsdump</command> command.</para>
</entry><entry><para><olink targetptr="bkuptasks2-64128" remap="internal">Chapter&nbsp;24, Backing Up Files and File Systems (Tasks)</olink></para>
</entry>
</row><row><entry><para>Create UFS snapshots by using the <command>fssnap</command> command.</para>
</entry><entry><para><olink targetptr="bkupsnapshot-2" remap="internal">Chapter&nbsp;25, Using UFS Snapshots (Tasks)</olink></para>
</entry>
</row><row><entry><para>Restore file systems by using the <command>ufsrestore</command> command.</para>
</entry><entry><para><olink targetptr="bkuprestoretasks-38055" remap="internal">Chapter&nbsp;26, Restoring Files and File Systems (Tasks)</olink></para>
</entry>
</row><row><entry><para>Copy files and directories by using the <command>cpio</command>, <command>dd</command>, <command>pax</command>, and <command>cpio</command> commands.</para>
</entry><entry><para><olink targetptr="bkupsavefiles-17924" remap="internal">Chapter&nbsp;28, Copying UFS Files and File Systems (Tasks)</olink></para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
</sect1><sect1 id="bkupconcepts-18333"><title>Introduction to Backing Up and Restoring File
Systems</title><para><emphasis>Backing up</emphasis> file systems means copying file systems to removable
media, such as tape, to safeguard against loss, damage, or corruption. <emphasis>Restoring</emphasis> file systems means copying reasonably current backup files from
removable media to a working directory.</para><para>This chapter describes the <command>ufsdump</command> and <command>ufsrestore</command> commands for backing up and restoring UFS file systems. Other commands
are available for copying files and file systems for the purpose of sharing or transporting
files. The following table provides pointers to all commands that copy individual
files and file systems to other media.</para><table frame="topbot" id="bkupconcepts-25782"><title>Commands for Backing Up and Restoring
Files and File Systems</title><tgroup cols="3" colsep="0" rowsep="0"><colspec colname="column1" colwidth="158*"/><colspec colname="column2" colwidth="119*"/><colspec colname="column3" colwidth="119*"/><thead><row rowsep="1"><entry><para>Task</para>
</entry><entry><para>Command</para>
</entry><entry><para>For More Information</para>
</entry>
</row>
</thead><tbody><row><entry><para>Back up one or more file systems to a local tape device or a remote tape device.</para>
</entry><entry><para><command>ufsdump</command></para>
</entry><entry><para><olink targetptr="bkuptasks2-64128" remap="internal">Chapter&nbsp;24, Backing Up Files and File Systems (Tasks)</olink> or <olink targetptr="bkupref-12756" remap="internal">Chapter&nbsp;27, UFS Backup and Restore Commands (Reference)</olink></para>
</entry>
</row><row><entry><para>Create read-only copies of file systems.</para>
</entry><entry><para><command>fssnap</command></para>
</entry><entry><para><olink targetptr="bkupsnapshot-2" remap="internal">Chapter&nbsp;25, Using UFS Snapshots (Tasks)</olink></para>
</entry>
</row><row><entry><para>Back up all file systems for systems on a network from a backup server.</para>
</entry><entry><para>Solstice Backup software</para>
</entry><entry><para><citetitle>Solstice Backup 6.1 Administration Guide</citetitle></para>
</entry>
</row><row><entry><para>Back up and restore an NIS+ master server.</para>
</entry><entry><para><command>nisbackup</command> and <command>nisrestore</command></para>
</entry><entry><para><olink targetdoc="sysadv7" remap="external"><citetitle remap="book">System Administration Guide: Naming and Directory Services (NIS+)</citetitle></olink></para>
</entry>
</row><row><entry><para>Copy, list, and retrieve files on a tape or diskette.</para>
</entry><entry><para><command>tar</command>, <command>cpio</command>, or <command>pax</command></para>
</entry><entry><para><olink targetptr="bkupsavefiles-17924" remap="internal">Chapter&nbsp;28, Copying UFS Files and File Systems (Tasks)</olink></para>
</entry>
</row><row><entry><para>Copy the master disk to a clone disk.</para>
</entry><entry><para><command>dd</command></para>
</entry><entry><para><olink targetptr="bkupsavefiles-17924" remap="internal">Chapter&nbsp;28, Copying UFS Files and File Systems (Tasks)</olink></para>
</entry>
</row><row><entry><para>Restore complete file systems or individual files from removable media to a
working directory.</para>
</entry><entry><para><command>ufsrestore</command></para>
</entry><entry><para><olink targetptr="bkuprestoretasks-38055" remap="internal">Chapter&nbsp;26, Restoring Files and File Systems (Tasks)</olink></para>
</entry>
</row>
</tbody>
</tgroup>
</table><sect2 id="bkupconcepts-35884"><title>Why You Should Back Up File Systems</title><para>Backing up files is one of the most crucial system administration functions.
You should perform regularly scheduled backups to prevent loss of data due to the
following types of problems:</para><itemizedlist><listitem><para>System crashes</para>
</listitem><listitem><para>Accidental deletion of files</para>
</listitem><listitem><para>Hardware failures</para>
</listitem><listitem><para>Natural disasters such as fire, hurricanes, or earthquakes</para>
</listitem><listitem><para>Problems when you reinstall or upgrade a system</para>
</listitem>
</itemizedlist>
</sect2><sect2 id="bkupconcepts-28918"><title>Planning Which File Systems to Back Up</title><para>You should back up all file systems that are critical to users, including file
systems that change frequently. The following tables provide general guidelines on
the file systems to back up for stand-alone systems and servers.</para><table frame="topbot" id="bkupconcepts-10171"><title>File Systems to Back Up for Stand-alone
Systems</title><tgroup cols="3" colsep="0" rowsep="0"><colspec colname="column1" colwidth="122*"/><colspec colname="column2" colwidth="122*"/><colspec colname="column3" colwidth="152*"/><thead><row rowsep="1"><entry><para>File System to Back Up</para>
</entry><entry><para>Description</para>
</entry><entry><para>Back Up Interval</para>
</entry>
</row>
</thead><tbody><row><entry><para>root (<filename>/</filename>) &ndash; slice 0</para>
</entry><entry><para>This file system contains the kernel and possibly the <filename>/var</filename> directory.
The <filename>/var</filename> directory contains temporary files, logging files, or
status files, and possibly contains frequently updated system accounting and mail
files.</para>
</entry><entry><para>At regular intervals such as weekly or daily</para>
</entry>
</row><row><entry><para><filename>/usr</filename> &ndash; slice 6, <filename>/opt</filename></para>
</entry><entry><para>The <filename>/usr</filename> and <filename>/opt</filename> file systems contain
software and executables. The <filename>/opt</filename> directory is either part of
root (<filename>/</filename>) or is its own file system.</para>
</entry><entry><para>Occasionally</para>
</entry>
</row><row><entry><para><filename>/export/home</filename> &ndash; slice 7</para>
</entry><entry><para>This file system can contain the directories and subdirectories of all users
on the stand-alone system.</para>
</entry><entry><para>More often than root (<filename>/</filename>) or <filename>/usr</filename>,
perhaps as often as once a day, depending on your site's needs</para>
</entry>
</row><row><entry><para><filename>/export</filename>, <filename>/var</filename>, or other
file systems</para>
</entry><entry><para>The <filename>/export</filename> file system can contain the kernel and executables
for diskless clients. The <filename>/var</filename> directory contains temporary files,
logging files, or status files.</para>
</entry><entry><para>As your site requires</para>
</entry>
</row>
</tbody>
</tgroup>
</table><table frame="topbot" id="bkupconcepts-37575"><title>File Systems to Back Up for Servers</title><tgroup cols="3" colsep="0" rowsep="1"><colspec colname="column1" colwidth="111.20*"/><colspec colname="column2" colwidth="106.40*"/><colspec colname="column3" colwidth="178.41*"/><thead><row><entry><para>File System to Back Up</para>
</entry><entry><para>Description</para>
</entry><entry><para>Back Up Interval</para>
</entry>
</row>
</thead><tbody><row rowsep="0"><entry><para>root (<filename>/</filename>) &ndash; slice 0</para>
</entry><entry><para>This file system contains the kernel and executables.</para>
</entry><entry><para>Once a day to once a month depending on your site's needs. </para><para>If you frequently add and remove users and systems on the network, you have
to change configuration files in this file system. In this case, you should do a full
backup of the root (<filename>/</filename>) file system at intervals between once
a week and once a month. </para><para>If your site keeps user mail in the <filename>/var/mail</filename> directory
on a mail server, which client systems then mount, you might want to back up root
(<filename>/</filename>) daily. Or, backup the  <filename>/var</filename> directory,
if it is a separate file system. </para>
</entry>
</row><row><entry rowsep="0"><para><filename>/export</filename> &ndash; slice 3</para>
</entry><entry rowsep="0"><para>This file system can contain the kernel and executables for diskless clients.</para>
</entry><entry rowsep="0"><para>Once a day to once a month, depending on your site's needs. </para><para>Because the information in this file system is similar to the server's root
directory in slice 0, the file system does not change frequently. You need to back
up this file system only occasionally, unless your site delivers mail to client systems.
Then, you should back up <filename>/export</filename> more frequently.</para>
</entry>
</row><row><entry rowsep="0"><para><filename>/usr</filename> &ndash; slice 6, <filename>/opt</filename></para>
</entry><entry rowsep="0"><para>The <filename>/usr</filename> and <filename>/opt</filename> file systems contain
software and executables. The <filename>/opt</filename> directory is either part of
root (<filename>/</filename>) or is its own file system.</para>
</entry><entry rowsep="0"><para>Once a day to once a month, depending on your site's needs.</para><para>These file systems are fairly static unless software is added or removed frequently.</para>
</entry>
</row><row><entry rowsep="0"><para><filename>/export/home</filename> &ndash; slice 7</para>
</entry><entry rowsep="0"><para>This file system can contains the home directories of all the users on the system.
The files in this file system are volatile.</para>
</entry><entry rowsep="0"><para>Once a day to once a week.</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
</sect2><sect2 id="bkupconcepts-24102"><title>Choosing the Type of Backup</title><para>You can perform full or incremental backups by using the <command>ufsdump</command> command.
You can create a temporary image of a file system by using the <command>fssnap</command> command.
The following table lists the differences between these types of backup procedures.
 </para><table frame="topbot" id="bkupconcepts-21614"><title>Differences Between Types of
Backups</title><tgroup cols="4" colsep="0" rowsep="1"><colspec colname="column1" colwidth="72*"/><colspec colname="column2" colwidth="108*"/><colspec colname="column3" colwidth="108*"/><colspec colname="column4" colwidth="108*"/><thead><row><entry><para>Backup Type</para>
</entry><entry><para>Result</para>
</entry><entry><para>Advantages</para>
</entry><entry><para>Disadvantages</para>
</entry>
</row>
</thead><tbody><row rowsep="0"><entry><para>Full</para>
</entry><entry><para>Copies a complete file system or directory </para>
</entry><entry><para>All data is in one place</para>
</entry><entry><para>Requires large numbers of backup tapes that take a long time to write. Takes
longer to retrieve individual files because the drive has to move sequentially to
the point on the tape where the file is located. You might have to search multiple
tapes.</para>
</entry>
</row><row><entry rowsep="0"><para>Snapshot</para>
</entry><entry rowsep="0"><para>Creates a temporary image of a file system</para>
</entry><entry rowsep="0"><para>System can be in multiuser mode</para>
</entry><entry rowsep="0"><para>System performance might degrade while the snapshot is created.</para>
</entry>
</row><row><entry rowsep="0"><para>Incremental</para>
</entry><entry rowsep="0"><para>Copies
only those files in the specified file system that have changed since a previous backup </para>
</entry><entry rowsep="0"><para>Easier to retrieve small changes in file systems</para>
</entry><entry rowsep="0"><para>Finding which incremental tape contains a file can take time. You might have
to go back to the last full backup.</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
</sect2><sect2 id="bkupconcepts-40585"><title>Choosing a Tape Device</title><para>The following table shows typical tape devices that are used for storing file
systems during the backup process. The storage capacity depends on the type of drive
and the data being written to the tape. For more information on tape devices, see <olink targetptr="bkuptapedevice-42512" remap="internal">Chapter&nbsp;29, Managing Tape Drives (Tasks)</olink>.
 </para><table frame="topbot" id="bkupconcepts-32470"><title>Typical Media for Backing Up
File Systems</title><tgroup cols="2" colsep="0" rowsep="0"><colspec colname="column1" colwidth="264*"/><colspec colname="column2" colwidth="132*"/><thead><row rowsep="1"><entry><para>Backup Media</para>
</entry><entry><para>Storage Capacity </para>
</entry>
</row>
</thead><tbody><row><entry><para>1/2-inch reel tape</para>
</entry><entry><para>140 Mbytes (6250 bpi)</para>
</entry>
</row><row><entry><para>2.5-Gbyte 1/4-inch cartridge (QIC) tape</para>
</entry><entry><para>2.5 Gbytes</para>
</entry>
</row><row><entry><para>DDS3 4-mm cartridge tape (DAT)</para>
</entry><entry><para>12&ndash;24 Gbytes</para>
</entry>
</row><row><entry><para>14-Gbyte 8-mm cartridge tape</para>
</entry><entry><para>14 Gbytes</para>
</entry>
</row><row><entry><para>DLT 7000 1/2-inch cartridge tape</para>
</entry><entry><para>35&ndash;70 Gbytes</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
</sect2>
</sect1><sect1 id="bkupconcepts-21"><title>High-Level View of Backing Up and Restoring File
Systems (Task Map)</title><para>Use this task map to identify all the tasks for backing up and restoring file
systems. Each task points to a series of additional tasks, such as determining the
type of backup to perform.</para><informaltable frame="all"><tgroup cols="3" colsep="1" rowsep="1"><colspec colname="colspec2" colwidth="109.60*"/><colspec colname="col2" colwidth="166.87*"/><colspec colname="colspec3" colwidth="119.53*"/><thead><row><entry><para>Task</para>
</entry><entry><para>Description</para>
</entry><entry><para>For Instructions</para>
</entry>
</row>
</thead><tbody><row><entry><para>1. Identify the file systems to back up.</para>
</entry><entry><para>Identify which file systems need to be backed up on a daily, weekly, or monthly
basis.</para>
</entry><entry><para><olink targetptr="bkupconcepts-28918" remap="internal">Planning Which File Systems to Back Up</olink></para>
</entry>
</row><row><entry><para>2. Determine the type of backup.</para>
</entry><entry><para>Determine the type of backup you need for the file systems at your site.</para>
</entry><entry><para><olink targetptr="bkupconcepts-24102" remap="internal">Choosing the Type of Backup</olink></para>
</entry>
</row><row><entry><para>3. Create the backup.</para>
</entry><entry><para>Use one of the following methods:</para>
</entry><entry><para></para>
</entry>
</row><row><entry rowsep="0"><para></para>
</entry><entry rowsep="0"><para>If you want to have full and incremental backups of your file systems, use the <command>ufsdump</command> command.</para>
</entry><entry rowsep="0"><para><olink targetptr="bkuptasks2-64128" remap="internal">Chapter&nbsp;24, Backing Up Files and File Systems (Tasks)</olink></para>
</entry>
</row><row><entry rowsep="0"><para></para>
</entry><entry rowsep="0"><para>If you want to create a snapshot of a file system while it is active and mounted,
consider using the <command>fssnap</command> command.</para>
</entry><entry rowsep="0"><para><olink targetptr="bkupsnapshot-2" remap="internal">Chapter&nbsp;25, Using UFS Snapshots (Tasks)</olink></para>
</entry>
</row><row><entry rowsep="1"><para></para>
</entry><entry rowsep="1"><para>If you just want to have full backups of your personal home directory or smaller,
less-important file systems, use the <command>tar</command>, <command>cpio</command>,
or <command>pax</command> commands.</para>
</entry><entry rowsep="1"><para><olink targetptr="bkupsavefiles-17924" remap="internal">Chapter&nbsp;28, Copying UFS Files and File Systems (Tasks)</olink></para>
</entry>
</row><row><entry rowsep="0"><para>4. (Optional) Restore a file system.</para>
</entry><entry rowsep="0"><para>Select the restoration method that is based on the command used to back up the
files or file system:</para>
</entry><entry rowsep="0"><para></para>
</entry>
</row><row><entry rowsep="0"><para></para>
</entry><entry rowsep="0"><para>Restore a file system backup that was created with the <command>ufsdump</command> command.</para>
</entry><entry rowsep="0"><para><olink targetptr="bkuprestoretasks-38055" remap="internal">Chapter&nbsp;26, Restoring Files and File Systems (Tasks)</olink></para>
</entry>
</row><row><entry rowsep="1"><para></para>
</entry><entry rowsep="1"><para>Restore a file system that was created with the <command>tar</command>, <command>cpio</command>, or <command>pax</command> command.</para>
</entry><entry rowsep="1"><para><olink targetptr="bkupsavefiles-17924" remap="internal">Chapter&nbsp;28, Copying UFS Files and File Systems (Tasks)</olink></para>
</entry>
</row><row><entry><para>5. (Optional) Restore the root (<filename>/)</filename> or <filename>/usr</filename> file
system.</para>
</entry><entry><para>Restoring the root (<filename>/)</filename> or <filename>/usr</filename> file
system is more complicated than restoring a noncritical file system. You need to boot
from a local CD or from the network while these file systems are being restored.</para>
</entry><entry><para><olink targetptr="bkuprestoretasks-87945" remap="internal">How to Restore the root (/)
and /usr File Systems</olink></para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable><sect2 id="bkupconcepts-36216"><title>Considerations for Scheduling Backups</title><para>A <emphasis>backup schedule</emphasis> is the schedule that you establish to
run the <command>ufsdump</command> command. This section identifies considerations
to think about when you create a backup schedule. This section also includes sample
backup schedules. </para><para>The backup schedule that you create depends on the following:</para><itemizedlist><listitem><para>Your need to minimize the number of tapes that are used for backups</para>
</listitem><listitem><para>The time available for doing backups</para>
</listitem><listitem><para>The time available for doing a full restore of a damaged file system</para>
</listitem><listitem><para>The time available for retrieving individual files that are accidentally
deleted</para>
</listitem>
</itemizedlist><sect3 id="bkupconcepts-2"><title>How Often Should You Do Backups?</title><para>If you do not need to minimize time requirements and the number of media that
is used for backups, you can do full backups every day. However, this backup method
is not realistic for most sites, so incremental backups are used most often. In this
case, you should back up your site enough to so that you can restore files from the
last four weeks. This schedule requires at least four sets of tapes, one set for each
week. You would then reuse the tapes each month. In addition, you should archive the
monthly backups for at least a year. Then, keep yearly backups for a number of years.</para>
</sect3><sect3 id="bkupconcepts-24"><title>Backup Interval Terms and Definitions</title><para>The following table describes backup interval terms and definitions.</para><informaltable frame="topbot"><tgroup cols="2" colsep="0" rowsep="0"><colspec colname="colspec0" colwidth="35.96*"/><colspec colname="colspec1" colwidth="64.04*"/><thead><row rowsep="1"><entry><para>Term</para>
</entry><entry><para>Definition</para>
</entry>
</row>
</thead><tbody><row><entry><para>Snapshot</para>
</entry><entry><para>Creates a temporary image of a file system.</para>
</entry>
</row><row><entry><para>Full backup</para>
</entry><entry><para>Copies a complete file system or directory. </para>
</entry>
</row><row><entry><para>Incremental backup</para>
</entry><entry><para>Copies only those files in the specified file system that have changed since
a previous backup. Incremental backup types include the following:</para><itemizedlist><listitem><para>Daily, cumulative &ndash; Copies  a day's worth of file changes on
Monday. Then, overwrites Monday's backup with file  changes from Tuesday, Wednesday,
and so on.</para>
</listitem><listitem><para>Daily, incremental &ndash; Copies  a day's worth of file changes 
so that you have distinct tapes of Monday's changes, Tuesday's changes, and so on.</para>
</listitem><listitem><para>Weekly cumulative &ndash; Copies the files  that have changed during
the week and includes the previous week's file changes.</para>
</listitem><listitem><para>Weekly incremental &ndash; Copies the files that have changed during
the week since the previous weekly backup.</para>
</listitem>
</itemizedlist>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
</sect3>
</sect2><sect2 id="bkupconcepts-14"><title>Guidelines for Scheduling Backups</title><para>The following table provides guidelines for scheduling backups. For additional
backup schedule considerations, see <olink targetptr="bkupconcepts-36216" remap="internal">Considerations
for Scheduling Backups</olink>.</para><table frame="topbot" id="bkupconcepts-29351"><title>Guidelines for Backup Schedules</title><tgroup cols="3" colsep="0" rowsep="0"><colspec colname="column1" colwidth="119*"/><colspec colname="column2" colwidth="119*"/><colspec colname="column3" colwidth="158*"/><thead><row rowsep="1"><entry><para>File Restoration Need</para>
</entry><entry><para>Backup Interval</para>
</entry><entry><para>Comments</para>
</entry>
</row>
</thead><tbody><row><entry><para>To restore different versions of files (for example, file systems that are used
for word processing)</para>
</entry><entry><para>Do daily incremental backups every working day.</para><para> Do <emphasis>not</emphasis> reuse the same tape for daily incremental backups.</para>
</entry><entry><para>This schedule saves all files modified that day, as well as those files still
on disk that were modified since the last backup of a lower level. However, with this
schedule, you should use a different tape each day because you might otherwise be
unable to restore the needed version of the file. </para><para> For example, a file that changed on Tuesday, and again on Thursday, goes onto
Friday's lower-level backup appearing as it did Thursday night, not Tuesday night.
If a user needs the Tuesday version, you cannot restore it unless you have a Tuesday
backup tape (or a Wednesday backup tape). Similarly, a file that is present on Tuesday
and Wednesday, but removed on Thursday, does not appear on the Friday lower-level
backup.</para>
</entry>
</row><row><entry><para>To quickly restore a complete file system</para>
</entry><entry><para>Do lower-level backups more frequently.</para>
</entry><entry><para>&mdash;</para>
</entry>
</row><row><entry><para>To back up a number of file systems on the same server</para>
</entry><entry><para>Consider staggering the schedule for different file systems.</para>
</entry><entry><para>This way you're not doing all level 0 backups on the same day.</para>
</entry>
</row><row><entry><para>To minimize the number of tapes used</para>
</entry><entry><para>Increase the level of incremental backups that are done across the week. </para>
</entry><entry><para>Only changes from day to day are saved on each daily tape.</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Increase the level of backups that are done at the end of the week. Put each
day's and week's incremental backups onto the same tape.</para>
</entry><entry><para>Only changes from week to week (rather than the entire month) are saved on the
weekly tapes.</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>Put each day's and week's incremental backups onto the same tape.</para>
</entry><entry><para>To do so, use the no rewind option of the <command>ufsdump</command> command,
such as specifying <filename>/dev/rmt/0n</filename>.</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
</sect2><sect2 id="bkupconcepts-3"><title>Using Dump Levels to Create Incremental Backups</title><para>The dump
level you specify in the <command>ufsdump</command> command (0&ndash;9) determines
which files are backed up. Dump level 0 creates a full backup. Levels 1&ndash;9 are
used to schedule incremental backups, but have <emphasis>no defined meanings</emphasis>.
Levels 1&ndash;9 are just a range of numbers that are used to schedule cumulative
or discrete backups. The only meaning levels 1&ndash;9 have is in relationship to
each other, as a higher or lower number. A lower dump number always restarts a full
or a cumulative backup. The following examples show the flexibility of the incremental
dump procedure using levels 1&ndash;9.</para><sect3 id="bkupconcepts-4"><title>Example&mdash;Dump Levels for Daily, Cumulative
Backups</title><para>Doing daily, cumulative incremental backups is the most commonly used backup
schedule and is recommended for most situations. The following example shows a schedule
that uses a level 9 dump Monday through Thursday, and a level 5 dump on Friday restarts
process.</para><figure id="bkupconcepts-fig-5"><title>Incremental Backup: Daily Cumulative</title><mediaobject><imageobject><imagedata entityref="fig3257.epsi"/>
</imageobject><textobject><simpara>Illustration shows increasing amount of tape needed for a daily
cumulative backup that starts on Monday and finishes on Friday.</simpara>
</textobject>
</mediaobject>
</figure><para>In the preceding example, you could have used other numbers in the 1&ndash;9
range to produce the same results. The key is using the same number Monday through
Thursday, with any <emphasis>lower</emphasis> number on Friday. For example, you could
have specified levels 4, 4, 4, 4, 2 or 7, 7, 7, 7, 5. </para>
</sect3><sect3 id="bkupconcepts-6"><title>Example&mdash;Dump Levels for Daily, Incremental
Backups</title><para>The following example shows a
schedule where you capture only a day's work on different tapes. This type of backup
is referred to as a daily, incremental backup. In this case, sequential dump level
numbers are used during the week (3, 4, 5, 6) with a lower number (2) on Friday. The
lower number on Friday restarts the processing.</para><figure id="bkupconcepts-fig-7"><title>Incremental Backup: Daily Incremental</title><mediaobject><imageobject><imagedata entityref="fig3258.epsi"/>
</imageobject><textobject><simpara>Illustration shows approximately equal amount of tape needed
for a daily discrete backup that starts on Monday and finishes on Friday.</simpara>
</textobject>
</mediaobject>
</figure><para>In the preceding example, you could have used the sequence 6, 7, 8, 9 followed
by 2, or 5, 6, 7, 8 followed by 3. Remember, the numbers themselves have no defined
meaning. You attribute meaning by ordering them in a specified sequence, as described
in the examples.</para>
</sect3>
</sect2><sect2 id="bkupconcepts-38682"><title>Sample Backup Schedules</title><para>This section provides sample backup schedules. All schedules assume that you
begin with a full backup (dump level 0), and that you use the <option>u</option> option
to record each backup in the <filename>/etc/dumpdates</filename> file. </para><sect3 id="bkupconcepts-8"><title>Example&mdash;Daily Cumulative, Weekly Cumulative
Backup Schedule</title><para><olink targetptr="bkupconcepts-tbl-15" remap="internal">Table&nbsp;23&ndash;7</olink> shows the most
commonly used incremental backup schedule. This schedule is recommended for most situations.
With this schedule, the following occurs:</para><itemizedlist><listitem><para>Each day, all files that have changed since the lower-level backup
at the end of the previous week are saved. </para>
</listitem><listitem><para>For each weekday level 9 backup, the previous level 0 or level 5 backup
is the closest backup at a lower level. Therefore, each weekday tape contains all
the files that changed since the end of the previous week or the initial level 0 backup
for the first week.</para>
</listitem><listitem><para>For each Friday level 5 backup, the closest lower-level backup is
the level 0 backup done at the beginning of the month. Therefore, each Friday's tape
contains all the files changed during the month up to that point.</para>
</listitem>
</itemizedlist><table frame="topbot" pgwide="1" id="bkupconcepts-tbl-15"><title>Daily Cumulative/Weekly
Cumulative Backup Schedule</title><tgroup cols="7" colsep="0" rowsep="0"><colspec colname="column1" colwidth="58.04*"/><colspec colname="column2" colwidth="54.76*"/><colspec colname="column3" colwidth="43.03*"/><colspec colname="column4" colwidth="45.54*"/><colspec colname="column5" colwidth="44.71*"/><colspec colname="column6" colwidth="45.54*"/><colspec colname="column7" colwidth="46.38*"/><thead><row rowsep="1"><entry>
</entry><entry><para>Floating</para>
</entry><entry><para>Mon</para>
</entry><entry><para>Tues</para>
</entry><entry><para>Wed</para>
</entry><entry><para>Thurs</para>
</entry><entry><para>Fri</para>
</entry>
</row>
</thead><tbody><row><entry><para>1st of Month</para>
</entry><entry><para>0</para>
</entry><entry><para> </para>
</entry><entry>
</entry><entry><para> </para>
</entry><entry><para> </para>
</entry><entry><para> </para>
</entry>
</row><row><entry><para>Week 1</para>
</entry><entry>
</entry><entry><para> 9</para>
</entry><entry><para> 9</para>
</entry><entry><para> 9</para>
</entry><entry><para> 9</para>
</entry><entry><para> 5</para>
</entry>
</row><row><entry><para>Week 2</para>
</entry><entry>
</entry><entry><para> 9</para>
</entry><entry><para> 9</para>
</entry><entry><para>9</para>
</entry><entry><para> 9</para>
</entry><entry><para> 5</para>
</entry>
</row><row><entry><para>Week 3</para>
</entry><entry>
</entry><entry><para>9</para>
</entry><entry><para> 9</para>
</entry><entry><para>9</para>
</entry><entry><para> 9</para>
</entry><entry><para> 5</para>
</entry>
</row><row><entry><para>Week 4</para>
</entry><entry>
</entry><entry><para> 9</para>
</entry><entry><para> 9</para>
</entry><entry><para> 9</para>
</entry><entry><para> 9</para>
</entry><entry><para> 5</para>
</entry>
</row>
</tbody>
</tgroup>
</table><para>The following table shows how the contents of the tapes can change across two
weeks with the daily cumulative, weekly cumulative schedule. Each letter represents
a different file.</para><table frame="topbot" id="bkupconcepts-tbl-16"><title>Contents of Tapes for Daily
Cumulative/Weekly Cumulative Backup Schedule</title><tgroup cols="6" colsep="0" rowsep="1"><colspec colname="column1" colwidth="71*"/><colspec colname="column3" colwidth="54*"/><colspec colname="column4" colwidth="54*"/><colspec colname="column5" colwidth="53*"/><colspec colname="column6" colwidth="54*"/><colspec colname="column7" colwidth="74*"/><thead><row><entry>
</entry><entry><para>Mon</para>
</entry><entry><para>Tues</para>
</entry><entry><para>Wed</para>
</entry><entry><para>Thurs</para>
</entry><entry><para>Fri</para>
</entry>
</row>
</thead><tbody><row rowsep="0"><entry><para>Week 1 </para>
</entry><entry><para>a b</para>
</entry><entry><para>a b c</para>
</entry><entry><para>a b c d</para>
</entry><entry><para>a b c d e</para>
</entry><entry><para>a b c d e f</para>
</entry>
</row><row><entry><para>Week 2 </para>
</entry><entry><para>g</para>
</entry><entry><para>g h</para>
</entry><entry><para>g h i</para>
</entry><entry><para>g h i j</para>
</entry><entry><para>a b c d e f g h i j k</para>
</entry>
</row>
</tbody>
</tgroup>
</table><sect4 id="bkupconcepts-100"><title>Tape Requirements for the Daily Cumulative, Weekly
Cumulative Schedule</title><para>With this schedule, you need six tapes if you want to reuse daily tapes. However,
you need nine tapes if you want to use four different daily tapes:</para><itemizedlist><listitem><para>One tape for the level 0 backup</para>
</listitem><listitem><para>Four tapes for Fridays</para>
</listitem><listitem><para>One or four daily tapes</para>
</listitem>
</itemizedlist><para>If you need to restore a complete file system, you need the following tapes:</para><itemizedlist><listitem><para>The level 0 tape</para>
</listitem><listitem><para>The most recent Friday tape</para>
</listitem><listitem><para>The most recent daily tape since the last Friday tape, if any</para>
</listitem>
</itemizedlist>
</sect4>
</sect3><sect3 id="bkupconcepts-9"><title>Example&mdash;Daily Cumulative, Weekly Incremental
Backup Schedule</title><para>The following table shows a schedule where each weekday tape accumulates all
files that changed since the beginning of the week, or the initial level 0 backup
for the first week. In addition, each Friday's tape contains all the files that changed
that week.</para><table frame="topbot" pgwide="1" id="bkupconcepts-99436"><title>Daily Cumulative,
Weekly Incremental Backup Schedule</title><tgroup cols="7" colsep="0" rowsep="0"><colspec colname="column1" colwidth="58.04*"/><colspec colname="column2" colwidth="54.76*"/><colspec colname="column3" colwidth="43.03*"/><colspec colname="column4" colwidth="45.54*"/><colspec colname="column5" colwidth="44.71*"/><colspec colname="column6" colwidth="45.54*"/><colspec colname="column7" colwidth="46.38*"/><thead><row rowsep="1"><entry>
</entry><entry><para>Floating</para>
</entry><entry><para>Mon</para>
</entry><entry><para>Tues</para>
</entry><entry><para>Wed</para>
</entry><entry><para>Thurs</para>
</entry><entry><para>Fri</para>
</entry>
</row>
</thead><tbody><row><entry><para>1st of Month</para>
</entry><entry><para>0</para>
</entry><entry><para> </para>
</entry><entry>
</entry><entry><para> </para>
</entry><entry><para> </para>
</entry><entry><para> </para>
</entry>
</row><row><entry><para>Week 1</para>
</entry><entry>
</entry><entry><para> 9</para>
</entry><entry><para> 9</para>
</entry><entry><para> 9</para>
</entry><entry><para> 9</para>
</entry><entry><para> 3</para>
</entry>
</row><row><entry><para>Week 2</para>
</entry><entry>
</entry><entry><para> 9</para>
</entry><entry><para> 9</para>
</entry><entry><para>9 </para>
</entry><entry><para> 9</para>
</entry><entry><para> 4</para>
</entry>
</row><row><entry><para>Week 3</para>
</entry><entry>
</entry><entry><para>9</para>
</entry><entry><para> 9</para>
</entry><entry><para>9</para>
</entry><entry><para> 9</para>
</entry><entry><para> 5</para>
</entry>
</row><row><entry><para>Week 4</para>
</entry><entry>
</entry><entry><para> 9</para>
</entry><entry><para> 9</para>
</entry><entry><para> 9</para>
</entry><entry><para> 9</para>
</entry><entry><para> 6</para>
</entry>
</row>
</tbody>
</tgroup>
</table><para>The following table shows how the contents of the tapes can change across two
weeks with the daily cumulative, weekly incremental backup schedule. Each letter represents
a different file.</para><table frame="topbot" id="bkupconcepts-tbl-17"><title>Contents of Tapes for Daily
Cumulative, Weekly Incremental Backup Schedule</title><tgroup cols="6" colsep="0" rowsep="1"><colspec colname="column1" colwidth="89*"/><colspec colname="column3" colwidth="54*"/><colspec colname="column4" colwidth="55*"/><colspec colname="column5" colwidth="51*"/><colspec colname="column6" colwidth="55*"/><colspec colname="column7" colwidth="54*"/><thead><row><entry>
</entry><entry><para>Mon</para>
</entry><entry><para>Tues</para>
</entry><entry><para>Wed</para>
</entry><entry><para>Thurs</para>
</entry><entry><para>Fri</para>
</entry>
</row>
</thead><tbody><row rowsep="0"><entry><para>Week 1 </para>
</entry><entry><para>a b</para>
</entry><entry><para>a b c</para>
</entry><entry><para>a b c d</para>
</entry><entry><para>a b c d e</para>
</entry><entry><para>a b c d e f</para>
</entry>
</row><row><entry><para>Week 2 </para>
</entry><entry><para>g</para>
</entry><entry><para>g h</para>
</entry><entry><para>g h i</para>
</entry><entry><para>g h i j</para>
</entry><entry><para> g h i j k</para>
</entry>
</row>
</tbody>
</tgroup>
</table><sect4 id="bkupconcepts-10"><title>Tape Requirements for the Daily Cumulative, Weekly
Incremental Backup Schedule</title><para>With this schedule, you need six tapes if you want to reuse daily tapes. However,
you need nine tapes if you want to use four different daily tapes: </para><itemizedlist><listitem><para>One tape for the level 0 backup</para>
</listitem><listitem><para>Four tapes for Fridays</para>
</listitem><listitem><para>One or four daily tapes</para>
</listitem>
</itemizedlist><para>If you need to restore a complete file system, you need the following tapes:</para><itemizedlist><listitem><para>The level 0 tape</para>
</listitem><listitem><para>All the Friday tapes</para>
</listitem><listitem><para>The most recent daily tape since the last Friday tape, if any</para>
</listitem>
</itemizedlist>
</sect4>
</sect3><sect3 id="bkupconcepts-11"><title>Example&mdash;Daily Incremental, Weekly Cumulative
Backup Schedule</title><para>The following table shows a schedule where each weekday tape contains only the
files that changed since the previous day. In addition, each Friday's tape contains
all files changed since the initial level 0 backup at the beginning of the month.</para><table frame="topbot" pgwide="1" id="bkupconcepts-99435"><title>Daily Incremental,
Weekly Cumulative Backup Schedule</title><tgroup cols="7" colsep="0" rowsep="0"><colspec colname="column1" colwidth="58.04*"/><colspec colname="column2" colwidth="54.76*"/><colspec colname="column3" colwidth="43.03*"/><colspec colname="column4" colwidth="45.54*"/><colspec colname="column5" colwidth="44.71*"/><colspec colname="column6" colwidth="45.54*"/><colspec colname="column7" colwidth="46.38*"/><thead><row rowsep="1"><entry>
</entry><entry><para>Floating</para>
</entry><entry><para>Mon</para>
</entry><entry><para>Tues</para>
</entry><entry><para>Wed</para>
</entry><entry><para>Thurs</para>
</entry><entry><para>Fri</para>
</entry>
</row>
</thead><tbody><row><entry><para>1st of Month</para>
</entry><entry><para>0</para>
</entry><entry><para> </para>
</entry><entry>
</entry><entry><para> </para>
</entry><entry><para> </para>
</entry><entry><para> </para>
</entry>
</row><row><entry><para>Week 1 </para>
</entry><entry>
</entry><entry><para>3</para>
</entry><entry><para>4</para>
</entry><entry><para>5</para>
</entry><entry><para>6</para>
</entry><entry><para> 2</para>
</entry>
</row><row><entry><para>Week 2 </para>
</entry><entry>
</entry><entry><para>3</para>
</entry><entry><para>4</para>
</entry><entry><para>5</para>
</entry><entry><para>6</para>
</entry><entry><para> 2</para>
</entry>
</row><row><entry><para>Week 3 </para>
</entry><entry>
</entry><entry><para>3</para>
</entry><entry><para>4</para>
</entry><entry><para>5</para>
</entry><entry><para>6</para>
</entry><entry><para> 2</para>
</entry>
</row><row><entry><para>Week 4</para>
</entry><entry>
</entry><entry><para>3</para>
</entry><entry><para>4</para>
</entry><entry><para>5</para>
</entry><entry><para>6</para>
</entry><entry><para> 2</para>
</entry>
</row>
</tbody>
</tgroup>
</table><para>The following table shows how the contents of the tapes can change across two
weeks with the daily incremental, weekly cumulative schedule. Each letter represents
a different file.</para><table frame="topbot" id="bkupconcepts-tbl-18"><title>Contents of Tapes for Daily
Incremental, Weekly Cumulative Backup Schedule</title><tgroup cols="6" colsep="0" rowsep="1"><colspec colname="column1" colwidth="72*"/><colspec colname="column3" colwidth="54*"/><colspec colname="column4" colwidth="53*"/><colspec colname="column5" colwidth="54*"/><colspec colname="column6" colwidth="54*"/><colspec colname="column7" colwidth="74*"/><thead><row><entry>
</entry><entry><para>Mon</para>
</entry><entry><para>Tues</para>
</entry><entry><para>Wed</para>
</entry><entry><para>Thurs</para>
</entry><entry><para>Fri</para>
</entry>
</row>
</thead><tbody><row rowsep="0"><entry><para>Week 1 </para>
</entry><entry><para>a b</para>
</entry><entry><para>c d</para>
</entry><entry><para>e f g</para>
</entry><entry><para>hi</para>
</entry><entry><para>a b c d e f g h i</para>
</entry>
</row><row><entry><para>Week 2</para><para></para>
</entry><entry><para>j k l</para>
</entry><entry><para>m</para>
</entry><entry><para>n o</para>
</entry><entry><para>p q</para>
</entry><entry><para>a b c d e f g h i j k l m n o p q r s</para>
</entry>
</row>
</tbody>
</tgroup>
</table><sect4 id="bkupconcepts-12"><title>Tape Requirements for Daily Incremental, Weekly
Cumulative Schedule</title><para>With this schedule, you need at least 9 tapes if you want to reuse daily tapes,
which is not recommended. Preferably, you need 21 tapes if you save weekly tapes for
a month: one tape for the level 0, 4 tapes for the Fridays, and 4 or 16 daily tapes.</para><itemizedlist><listitem><para>1 tape for the level 0 backup</para>
</listitem><listitem><para>4 tapes for all the Friday backups</para>
</listitem><listitem><para>4 or 16 daily tapes</para>
</listitem>
</itemizedlist><para>If you need to restore the complete file system, you need the following tapes:</para><itemizedlist><listitem><para>The level 0 tape</para>
</listitem><listitem><para>The most recent Friday tape</para>
</listitem><listitem><para>All the daily tapes since the last Friday tape, if any</para>
</listitem>
</itemizedlist>
</sect4>
</sect3><sect3 id="bkupconcepts-13"><title>Example&mdash;Monthly Backup Schedule for a Server</title><para>The following table shows an example backup strategy for a heavily used file
server on a small network where users are doing file-intensive work, such as program
development or document production. This example assumes that the backup period begins
on a Sunday and consists of four seven-day weeks. </para><table frame="topbot" id="bkupconcepts-15361"><title>Example of Monthly Backup Schedule
for a Server</title><tgroup cols="4" colsep="0" rowsep="0"><colspec colname="column1" colwidth="90*"/><colspec colname="column2" colwidth="90*"/><colspec colname="column3" colwidth="90*"/><colspec colname="column4" colwidth="90*"/><thead><row rowsep="1"><entry><para>Directory</para>
</entry><entry><para>Date</para>
</entry><entry><para>Dump Level</para>
</entry><entry><para>Tape Name</para>
</entry>
</row>
</thead><tbody><row><entry><para>root (<filename>/</filename>)</para>
</entry><entry><para>1st Sunday</para>
</entry><entry><para>0</para>
</entry><entry><para><replaceable>n</replaceable> tapes</para>
</entry>
</row><row><entry><para><filename>/usr</filename></para>
</entry><entry><para>1st Sunday</para>
</entry><entry><para>0</para>
</entry><entry><para><replaceable>n</replaceable> tapes</para>
</entry>
</row><row><entry><para><filename>/export</filename></para>
</entry><entry><para>1st Sunday</para>
</entry><entry><para>0</para>
</entry><entry><para><replaceable>n</replaceable> tapes</para>
</entry>
</row><row><entry><para><filename>/export/home</filename></para>
</entry><entry><para>1st Sunday</para>
</entry><entry><para>0</para>
</entry><entry><para><replaceable>n</replaceable> tapes</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>1st Monday</para>
</entry><entry><para>9</para>
</entry><entry><para>A</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>1st Tuesday</para>
</entry><entry><para>9</para>
</entry><entry><para>B</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>1st Wednesday</para>
</entry><entry><para>5</para>
</entry><entry><para>C</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>1st Thursday</para>
</entry><entry><para>9</para>
</entry><entry><para>D</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>1st Friday</para>
</entry><entry><para>9</para>
</entry><entry><para>E</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>1st Saturday</para>
</entry><entry><para>5</para>
</entry><entry><para>F</para>
</entry>
</row><row><entry><para>root (<filename>/</filename>)</para>
</entry><entry><para>2nd Sunday</para>
</entry><entry><para>0</para>
</entry><entry><para><replaceable>n</replaceable> tapes</para>
</entry>
</row><row><entry><para><filename>/usr</filename></para>
</entry><entry><para>2nd Sunday</para>
</entry><entry><para>0</para>
</entry><entry><para><replaceable>n</replaceable> tapes</para>
</entry>
</row><row><entry><para><filename>/export</filename></para>
</entry><entry><para>2nd Sunday</para>
</entry><entry><para>0</para>
</entry><entry><para><replaceable>n</replaceable> tapes</para>
</entry>
</row><row><entry><para><filename>/export/home</filename></para>
</entry><entry><para>2nd Sunday</para>
</entry><entry><para>0</para>
</entry><entry><para><replaceable>n</replaceable> tapes</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>2nd Monday</para>
</entry><entry><para>9</para>
</entry><entry><para>G </para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>2nd Tuesday</para>
</entry><entry><para>9</para>
</entry><entry><para>H </para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>2nd Wednesday</para>
</entry><entry><para>5</para>
</entry><entry><para>I </para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>2nd Thursday</para>
</entry><entry><para>9</para>
</entry><entry><para>J </para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>2nd Friday</para>
</entry><entry><para>9</para>
</entry><entry><para>K</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>2nd Saturday</para>
</entry><entry><para>5</para>
</entry><entry><para>L </para>
</entry>
</row><row><entry><para>root (<filename>/</filename>)</para>
</entry><entry><para>3rd Sunday</para>
</entry><entry><para>0</para>
</entry><entry><para><replaceable>n</replaceable> tapes</para>
</entry>
</row><row><entry><para><filename>/usr</filename></para>
</entry><entry><para>3rd Sunday</para>
</entry><entry><para>0</para>
</entry><entry><para><replaceable>n</replaceable> tapes</para>
</entry>
</row><row><entry><para><filename>/export</filename></para>
</entry><entry><para>3rd Sunday</para>
</entry><entry><para>0</para>
</entry><entry><para><replaceable>n</replaceable> tapes</para>
</entry>
</row><row><entry><para><filename>/export/home</filename></para>
</entry><entry><para>3rd Sunday</para>
</entry><entry><para>0</para>
</entry><entry><para><replaceable>n</replaceable> tapes</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>3rd Monday</para>
</entry><entry><para>9</para>
</entry><entry><para>M</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>3rd Tuesday</para>
</entry><entry><para>9</para>
</entry><entry><para>N </para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>3rd Wednesday</para>
</entry><entry><para>5</para>
</entry><entry><para>O </para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>3rd Thursday</para>
</entry><entry><para>9</para>
</entry><entry><para>P</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>3rd Friday</para>
</entry><entry><para>9</para>
</entry><entry><para>Q</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>3rd Saturday</para>
</entry><entry><para>5</para>
</entry><entry><para>R</para>
</entry>
</row><row><entry><para>root (<filename>/</filename>)</para>
</entry><entry><para>4th Sunday</para>
</entry><entry><para>0</para>
</entry><entry><para><replaceable>n</replaceable> tapes</para>
</entry>
</row><row><entry><para><filename>/usr</filename></para>
</entry><entry><para>4th Sunday</para>
</entry><entry><para>0</para>
</entry><entry><para><replaceable>n</replaceable> tapes</para>
</entry>
</row><row><entry><para><filename>/export</filename></para>
</entry><entry><para>4th Sunday</para>
</entry><entry><para>0</para>
</entry><entry><para><replaceable>n</replaceable> tapes</para>
</entry>
</row><row><entry><para><filename>/export/home</filename></para>
</entry><entry><para>4th Sunday</para>
</entry><entry><para>0</para>
</entry><entry><para><replaceable>n</replaceable> tapes</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>4th Monday</para>
</entry><entry><para>9</para>
</entry><entry><para>S</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>4th Tuesday</para>
</entry><entry><para>9</para>
</entry><entry><para>T</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>4th Wednesday</para>
</entry><entry><para>5</para>
</entry><entry><para>U</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>4th Thursday</para>
</entry><entry><para>9</para>
</entry><entry><para>V</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>4th Friday</para>
</entry><entry><para>9</para>
</entry><entry><para>W</para>
</entry>
</row><row><entry><para></para>
</entry><entry><para>4th Saturday</para>
</entry><entry><para>5</para>
</entry><entry><para>X</para>
</entry>
</row>
</tbody>
</tgroup>
</table><para>With this schedule, you use 4<replaceable>n</replaceable> tapes, the number
of tapes needed for 4 full backups of the root (<filename>/</filename>), <filename>/usr</filename>, <filename>/export</filename>, and <filename>/export/home</filename> file
systems. Also, you need 24 additional tapes for the incremental backups of the <filename>/export/home</filename> file systems. This schedule assumes that each incremental
backup uses one tape and that you save the tapes for a month.</para><para>Here's how this schedule works: </para><orderedlist><listitem><para>On each Sunday, do a full backup (level 0) of the root (<filename>/</filename>), <filename>/usr</filename>, <filename>/export</filename>, and <filename>/export/home</filename> file systems. Save the level 0 tapes for at least three months.</para>
</listitem><listitem><para>On the first Monday of the month, use tape A to do a level 9 backup
of the <filename>/export/home</filename> file system. The <command>ufsdump</command> command
copies all files changed since the previous lower-level backup. In this case, the
previous lower-level backup is the level 0 backup that you did on Sunday.</para>
</listitem><listitem><para>On the first Tuesday of the month, use tape B to do a level 9 backup
of the <filename>/export/home</filename> file system. Again, the <command>ufsdump</command> command copies all files changed since the last lower-level backup, which
is Sunday's level 0 backup. </para>
</listitem><listitem><para>On the first Wednesday of the month, use tape C to do a level 5 backup
of the <filename>/export/home</filename> file system. The <command>ufsdump</command> command
copies all files that changed since Sunday. </para>
</listitem><listitem><para>Do the Thursday and Friday level 9 backups of the <filename>/export/home</filename> file system on tapes D and E. The <command>ufsdump</command> command copies
all files that changed since the last lower-level backup, which is Wednesday's level
5 backup.</para>
</listitem><listitem><para>On the first Saturday of the month, use tape F to do a level 5 backup
of <filename>/export/home</filename>. The <command>ufsdump</command> command copies
all files changed since the previous lower-level backup (in this case, the level 0
backup you did on Sunday). Store tapes A&ndash;F until the first Monday of the next
four-week period, when you use them again.</para>
</listitem><listitem><para>Repeat steps 1&ndash;6 for the next three weeks, using tapes G&ndash;L
and 4<replaceable>n</replaceable> tapes for the level 0 backup on Sunday, and so on.</para>
</listitem><listitem><para>For each four-week period, repeat steps 1&ndash;7, using a new set
of tapes for the level 0 backups and reusing tapes A&ndash;X for the incremental backups.
The level 0 tapes could be reused after three months.</para><para>This
schedule lets you save files in their various states for a month. This plan requires
many tapes, but ensures that you have a library of tapes to draw upon. To reduce the
number of tapes, you could reuse Tapes A&ndash;F each week. </para>
</listitem>
</orderedlist>
</sect3>
</sect2>
</sect1>
</chapter>