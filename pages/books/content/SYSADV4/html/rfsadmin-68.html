<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Setting Up NFS Services - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Network Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="rfsadmin-61.html">Previous</a>
             </td>
             <td align="right">
                 <a href="rfsadmin-96.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="netservices-1.html">Part&nbsp;I&nbsp;Network Services Topics</a></p>
<p class="toc level2"><a href="nsov-1.html">1.&nbsp;&nbsp;Network Service (Overview)</a></p>
<p class="toc level2"><a href="nca-1.html">2.&nbsp;&nbsp;Managing Web Cache Servers</a></p>
<p class="toc level2"><a href="time-1.html">3.&nbsp;&nbsp;Time-Related Services</a></p>
<p class="toc level1 tocsp"><a href="rfstm-1.html">Part&nbsp;II&nbsp;Accessing Network File Systems Topics</a></p>
<p class="toc level2"><a href="rfsintro-2.html">4.&nbsp;&nbsp;Managing Network File Systems (Overview)</a></p>
<p class="toc level2"><a href="rfsadmin-8.html">5.&nbsp;&nbsp;Network File System Administration (Tasks)</a></p>
<p class="toc level3"><a href="rfsadmin-56.html">Automatic File-System Sharing</a></p>
<p class="toc level4"><a href="rfsadmin-56.html#rfsadmin-57">How to Set Up Automatic File-System Sharing</a></p>
<p class="toc level4"><a href="rfsadmin-56.html#rfsadmin-112">How to Enable WebNFS Access</a></p>
<p class="toc level4"><a href="rfsadmin-56.html#rfsadmin-101">How to Enable NFS Server Logging</a></p>
<p class="toc level3 tocsp"><a href="rfsadmin-61.html">Mounting File Systems</a></p>
<p class="toc level4"><a href="rfsadmin-61.html#rfsadmin-62">How to Mount a File System at Boot Time</a></p>
<p class="toc level4"><a href="rfsadmin-61.html#rfsadmin-66">How to Mount a File System From the Command Line</a></p>
<p class="toc level4"><a href="rfsadmin-61.html#rfsadmin-75">How to Disable Large Files on an NFS Server</a></p>
<p class="toc level4"><a href="rfsadmin-61.html#rfsadmin-81">How to Use Client-Side Failover</a></p>
<p class="toc level4"><a href="rfsadmin-61.html#rfsadmin-84">How to Disable Mount Access for One Client</a></p>
<p class="toc level4"><a href="rfsadmin-61.html#rfsadmin-88">How to Mount an NFS File System Through a Firewall</a></p>
<p class="toc level4"><a href="rfsadmin-61.html#rfsadmin-92">How to Mount an NFS File System Using an NFS URL</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Setting Up NFS Services</a></p>
<p class="toc level4"><a href="#rfsadmin-69">How to Start the NFS Services</a></p>
<p class="toc level4"><a href="#rfsadmin-72">How to Stop the NFS Services</a></p>
<p class="toc level4"><a href="#rfsadmin-121">How to Start the Automounter</a></p>
<p class="toc level4"><a href="#rfsadmin-124">How to Stop the Automounter</a></p>
<p class="toc level4"><a href="#rfsadmin-965">How to Select Different Versions of NFS on a Server</a></p>
<p class="toc level4"><a href="#rfsadmin-966">How to Select Different Versions of NFS on a Client by Modifying the <tt>/etc/default/nfs</tt> File</a></p>
<p class="toc level4"><a href="#ekqwg">How to Use the Command Line to Select Different Versions of NFS on a Client</a></p>
</div>
<p class="toc level3 tocsp"><a href="rfsadmin-96.html">Administering the Secure NFS System</a></p>
<p class="toc level4"><a href="rfsadmin-96.html#rfsadmin-97">How to Set Up a Secure NFS Environment With DH Authentication</a></p>
<p class="toc level3 tocsp"><a href="rfsadmin-110.html">WebNFS Administration Tasks</a></p>
<p class="toc level3"><a href="rfsadmin-127.html">Task Overview for Autofs Administration</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-250">How to Use the <tt>/etc/default/autofs</tt> File</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-133">How to Modify the Master Map</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-139">How to Modify Indirect Maps</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-142">How to Modify Direct Maps</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-149">How to Access CD-ROM Applications With Autofs</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-152">How to Access PC-DOS Data Diskettes With Autofs</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-156">How to Access NFS File Systems by Using CacheFS</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-162">How to Set Up <tt>/home</tt> With Multiple Home Directory File Systems</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-166">How to Consolidate Project-Related Files Under <tt>/ws</tt></a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-171">How to Set Up Different Architectures to Access a Shared Namespace</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-179">How to Support Incompatible Client Operating System Versions</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-183">How to Replicate Shared Files Across Several Servers</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-186">How to Apply Autofs Security Restrictions</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-189">How to Use a Public File Handle With Autofs</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-192">How to Use NFS URLs With Autofs</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-196">How to Completely Disable Autofs Browsability on a Single NFS Client</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-200">How to Disable Autofs Browsability for All Clients</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-204">How to Disable Autofs Browsability on a Selected File System</a></p>
<p class="toc level3 tocsp"><a href="rfsadmin-214.html">Strategies for NFS Troubleshooting</a></p>
<p class="toc level3"><a href="rfsadmin-215.html">NFS Troubleshooting Procedures</a></p>
<p class="toc level4"><a href="rfsadmin-215.html#rfsadmin-216">How to Check Connectivity on an NFS Client</a></p>
<p class="toc level4"><a href="rfsadmin-215.html#rfsadmin-224">How to Check the NFS Server Remotely</a></p>
<p class="toc level4"><a href="rfsadmin-215.html#rfsadmin-231">How to Verify the NFS Service on the Server</a></p>
<p class="toc level4"><a href="rfsadmin-215.html#rfsadmin-240">How to Restart NFS Services</a></p>
<p class="toc level4"><a href="rfsadmin-215.html#rfsadmin-243">How to Warm-Start <tt>rpcbind</tt></a></p>
<p class="toc level4"><a href="rfsadmin-215.html#rfsadmin-251">How to Verify Options Used With the <tt>mount</tt> Command</a></p>
<p class="toc level3 tocsp"><a href="rfsadmin-210.html">Troubleshooting Autofs</a></p>
<p class="toc level3"><a href="rfsadmin-255.html">NFS Error Messages</a></p>
<p class="toc level2 tocsp"><a href="rfsrefer-1.html">6.&nbsp;&nbsp;Accessing Network File Systems (Reference)</a></p>
<p class="toc level1 tocsp"><a href="slptm.html">Part&nbsp;III&nbsp;SLP Topics</a></p>
<p class="toc level2"><a href="slparch-16.html">7.&nbsp;&nbsp;SLP (Overview)</a></p>
<p class="toc level2"><a href="slp.setup-10.html">8.&nbsp;&nbsp;Planning and Enabling SLP (Tasks)</a></p>
<p class="toc level2"><a href="ch.configuration-6.html">9.&nbsp;&nbsp;Administering SLP (Tasks)</a></p>
<p class="toc level2"><a href="legacy-7.html">10.&nbsp;&nbsp;Incorporating Legacy Services</a></p>
<p class="toc level2"><a href="slpreference.html">11.&nbsp;&nbsp;SLP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="mailtm-1.html">Part&nbsp;IV&nbsp;Mail Services Topics</a></p>
<p class="toc level2"><a href="mailintro-1.html">12.&nbsp;&nbsp;Mail Services (Overview)</a></p>
<p class="toc level2"><a href="mailadmin-1.html">13.&nbsp;&nbsp;Mail Services (Tasks)</a></p>
<p class="toc level2"><a href="mailrefer-1.html">14.&nbsp;&nbsp;Mail Services (Reference)</a></p>
<p class="toc level1 tocsp"><a href="modemtm-1.html">Part&nbsp;V&nbsp;Serial Networking Topics</a></p>
<p class="toc level2"><a href="pppsvrconfig.intro-1.html">15.&nbsp;&nbsp;Solaris PPP 4.0 (Overview)</a></p>
<p class="toc level2"><a href="pppsvrconfig.p2plink-1.html">16.&nbsp;&nbsp;Planning for the PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.dialin-1.html">17.&nbsp;&nbsp;Setting Up a Dial-up PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.leased-1.html">18.&nbsp;&nbsp;Setting Up a Leased-Line PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.auth-1.html">19.&nbsp;&nbsp;Setting Up PPP Authentication (Tasks)</a></p>
<p class="toc level2"><a href="ppp.pppoe-1.html">20.&nbsp;&nbsp;Setting Up a PPPoE Tunnel (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.troubleshoot-1.html">21.&nbsp;&nbsp;Fixing Common PPP Problems (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.reference-1.html">22.&nbsp;&nbsp;Solaris PPP 4.0 (Reference)</a></p>
<p class="toc level2"><a href="pppsvrconfig.convert.app-1.html">23.&nbsp;&nbsp;Migrating From Asynchronous Solaris PPP to Solaris PPP 4.0 (Tasks)</a></p>
<p class="toc level2"><a href="uucpov-1.html">24.&nbsp;&nbsp;UUCP (Overview)</a></p>
<p class="toc level2"><a href="uucptasks-1.html">25.&nbsp;&nbsp;Administering UUCP (Tasks)</a></p>
<p class="toc level2"><a href="uucpref-1.html">26.&nbsp;&nbsp;UUCP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="wwrstm.html">Part&nbsp;VI&nbsp;Working With Remote Systems Topics</a></p>
<p class="toc level2"><a href="wwrsov.html">27.&nbsp;&nbsp;Working With Remote Systems (Overview)</a></p>
<p class="toc level2"><a href="wuftp-17.html">28.&nbsp;&nbsp;Administering the FTP Server (Tasks)</a></p>
<p class="toc level2"><a href="remotehowtoaccess-99941.html">29.&nbsp;&nbsp;Accessing Remote Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="netmonitortm-1.html">Part&nbsp;VII&nbsp;Monitoring Network Services Topics</a></p>
<p class="toc level2"><a href="netmonitor-1.html">30.&nbsp;&nbsp;Monitoring Network Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="rfsadmin-68"></a><h3>Setting Up NFS Services</h3>
<p><a name="indexterm-227"></a>This section describes some of the tasks that are necessary to do the
following:</p>
<ul><li><p>Start and stop the NFS server</p></li>
<li><p>Start and stop the automounter</p></li>
<li><p>Select a different version of NFS</p></li></ul>

<hr><p><b>Note - </b>Starting in the Solaris 10 release, NFS version 4 is the default.</p>
<hr>
<a name="rfsadmin-tbl-196"></a><h6>Table&nbsp;5-3 Task Map for NFS Services</h6><table><col width="110*"><col width="167*"><col width="119*"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For
Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Start the NFS server</p></td>
<td align="left" valign="top" scope="row"><p>Steps to start the NFS service if it has
not been started automatically.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#rfsadmin-69">How to Start the NFS Services</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Stop the NFS server</p></td>
<td align="left" valign="top" scope="row"><p>Steps to stop the NFS service.
Normally the service should not need to be stopped.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#rfsadmin-72">How to Stop the NFS Services</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Start the automounter</p></td>
<td align="left" valign="top" scope="row"><p>Steps to start
the automounter. This procedure is required when some of the automounter maps are
changed.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#rfsadmin-121">How to Start the Automounter</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Stop the automounter</p></td>
<td align="left" valign="top" scope="row"><p>Steps to stop the automounter. This procedure is required when
some of the automounter maps are changed.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#rfsadmin-124">How to Stop the Automounter</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Select a different version of NFS on
the server</p></td>
<td align="left" valign="top" scope="row"><p>Steps to select a different version of NFS on the server.
If you choose not to use NFS version 4, use this procedure.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#rfsadmin-965">How to Select Different Versions of NFS on a Server</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Select a
different version of NFS on the client</p></td>
<td align="left" valign="top" scope="row"><p>Steps to select a different version
of NFS on the client by modifying the <tt>/etc/default/nfs</tt> file. If you choose
not to use NFS version 4, use this procedure.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#rfsadmin-966">How to Select Different Versions of NFS on a Client by Modifying the <tt>/etc/default/nfs</tt> File</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p>Alternate steps to select a
different version of NFS on the client by using the command line. If
you choose not to use NFS version 4, use this alternate procedure.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#ekqwg">How to Use the Command Line to Select Different Versions of NFS on a Client</a></p></td>
</tr>
</table>

<a name="rfsadmin-69"></a><h4>How to Start the NFS Services</h4><a name="indexterm-228"></a><a name="indexterm-229"></a><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="rfsadmin-step-71"></a><b>Enable the NFS service on the server. </b><p>Type the following command.</p><pre># <tt><b>svcadm enable network/nfs/server</b></tt></pre><p>This command enables the NFS service.</p>
<hr><p><b>Note - </b>Starting with the Solaris 9 release, the NFS server starts automatically when you
boot the system. Additionally, any time after the system has been booted, the
NFS service daemons can be automatically enabled by sharing the NFS file system.
See <a href="rfsadmin-56.html#rfsadmin-57">How to Set Up Automatic File-System Sharing</a>.</p>
<hr>
</li></ol>

<a name="rfsadmin-72"></a><h4>How to Stop the NFS Services</h4><a name="indexterm-230"></a><a name="indexterm-231"></a><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="rfsadmin-step-74"></a><b>Disable the NFS service on the server. </b><p>Type the following command.</p><pre># <tt><b>svcadm disable network/nfs/server</b></tt></pre></li></ol>

<a name="rfsadmin-121"></a><h4>How to Start the Automounter</h4><a name="indexterm-232"></a><a name="indexterm-233"></a><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="rfsadmin-step-123"></a><b>Enable the autofs daemon. </b><p>Type the following command:</p><pre># <tt><b>svcadm enable system/filesystem/autofs</b></tt></pre></li></ol>

<a name="rfsadmin-124"></a><h4>How to Stop the Automounter</h4><a name="indexterm-234"></a><a name="indexterm-235"></a><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="rfsadmin-step-126"></a><b>Disable the autofs daemon. </b><p>Type the following command:</p><pre># <tt><b>svcadm disable system/filesystem/autofs</b></tt></pre></li></ol>

<a name="rfsadmin-965"></a><h4>How to Select Different Versions of NFS on a Server</h4><a name="indexterm-236"></a><p>If you choose not to use NFS version 4, use this procedure.
</p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="rfsadmin-step-218"></a><b>Edit the <tt>/etc/default/nfs</tt> file.</b><p>For example, if you want the server to provide only version 3, set
the values for both NFS_SERVER_VERSMAX and NFS_SERVER_VERSMIN to 3. For a list of
keywords and their values, refer to <a href="rfsrefer-6.html#rfsrefer-133">Keywords for the <tt>/etc/default/nfs</tt> File</a>.</p><pre>NFS_SERVER_VERSMAX=<i>value</i>
NFS_SERVER_VERSMIN=<i>value</i></pre><dl><dt><i>value</i></dt>
<dd><p>Provide the version number.</p></dd>
</dl>

<hr><p><b>Note - </b>By default, these lines are commented. Remember to remove the pound (#) sign,
also.</p>
<hr>
</li>
<li><a name="rfsadmin-step-726"></a>(Optional) <b>If you want to disable server delegation, include this line in the <tt>/etc/default/nfs</tt>
file.</b><pre><tt><b>NFS_SERVER_DELEGATION=off</b></tt></pre>
<hr><p><b>Note - </b>In NFS version 4, server delegation is enabled by default. For more information,
see <a href="rfsrefer-45.html#rfsrefer-140">Delegation in NFS Version 4</a>.</p>
<hr>
</li>
<li><a name="rfsadmin-step-244"></a>(Optional) <b>If you want to set a common domain for clients and servers, include
this line in the <tt>/etc/default/nfs</tt> file.</b><pre>NFSMAPID_DOMAIN=<i>my.comany.com</i></pre><dl><dt><i>my.comany.com</i></dt>
<dd><p>Provide the common domain</p></dd>
</dl>
<p>For more information, refer to <a href="rfsrefer-8.html#rfsrefer-118"><tt>nfsmapid</tt> Daemon</a>.</p></li>
<li><a name="rfsadmin-step-240"></a><b>Check if the NFS service is running on the server.</b><p>Type the following command:</p><pre># <tt><b>svcs network/nfs/server</b></tt></pre><p>This command reports whether the NFS server service is online or disabled.</p></li>
<li><a name="rfsadmin-step-219"></a>(Optional) <b>If necessary, disable the NFS service. </b><p>If you discovered from the previous step that the NFS service is online,
type the following command to disable the service.</p><pre># <tt><b>svcadm disable network/nfs/server</b></tt></pre>
<hr><p><b>Note - </b>If you need to configure your NFS service, refer to <a href="rfsadmin-56.html#rfsadmin-57">How to Set Up Automatic File-System Sharing</a>.</p>
<hr>
</li>
<li><a name="rfsadmin-step-220"></a><b>Enable the NFS service. </b><p>Type the following command to enable the service.</p><pre># <tt><b>svcadm enable network/nfs/server</b></tt></pre></li></ol><h6>See Also</h6><p><a href="rfsrefer-45.html#rfsrefer-147">Version Negotiation in NFS</a></p>

<a name="rfsadmin-966"></a><h4>How to Select Different Versions of NFS on a Client by Modifying the <tt>/etc/default/nfs</tt> File</h4><a name="indexterm-237"></a><p>The following procedure shows you how to control which version of NFS is
used on the client by modifying the <tt>/etc/default/nfs</tt> file. If you prefer to
use the command line, refer to <a href="#ekqwg">How to Use the Command Line to Select Different Versions of NFS on a Client</a>.</p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="rfsadmin-step-241"></a><b>Edit the <tt>/etc/default/nfs</tt> file.</b><p>For example, if you want only version 3 on the client, set
the values for both NFS_CLIENT_VERSMAX and NFS_CLIENT_VERSMIN to 3. For a list of keywords
and their values, refer to <a href="rfsrefer-6.html#rfsrefer-133">Keywords for the <tt>/etc/default/nfs</tt> File</a>.</p><pre>NFS_CLIENT_VERSMAX=<i>value</i>
NFS_CLIENT_VERSMIN=<i>value</i></pre><dl><dt><i>value</i></dt>
<dd><p>Provide the version number.</p></dd>
</dl>

<hr><p><b>Note - </b>By default, these lines are commented. Remember to remove the pound (#) sign,
also.</p>
<hr>
</li>
<li><a name="rfsadmin-step-243"></a><b>Mount NFS on the client.</b><p>Type the following command:</p><pre># mount <i>server-name</i>:<i>/share-point</i> <i>/local-dir</i></pre><dl><dt><i>server-name</i></dt>
<dd><p>Provide the name of the server.</p></dd>
<dt><i>/share-point</i></dt>
<dd><p>Provide the path of the remote directory to be shared.</p></dd>
<dt><i>/local-dir</i></dt>
<dd><p>Provide the path of the local mount point.</p></dd>
</dl>
</li></ol><h6>See Also</h6><p><a href="rfsrefer-45.html#rfsrefer-147">Version Negotiation in NFS</a></p>

<a name="ekqwg"></a><h4>How to Use the Command Line to Select Different Versions of NFS on a Client</h4><a name="indexterm-238"></a><p>The following procedure shows you how to use the command line to
control which version of NFS is used on a client for a particular
mount. If you prefer to modify the <tt>/etc/default/nfs</tt> file, see <a href="#rfsadmin-966">How to Select Different Versions of NFS on a Client by Modifying the <tt>/etc/default/nfs</tt> File</a>.</p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><b>Mount the desired version of NFS on the client.</b><p>Type the following command:</p><pre># mount -o vers=<i>value</i> <i>server-name</i>:<i>/share-point</i> <i>/local-dir</i></pre><dl><dt><i>value</i></dt>
<dd><p>Provide the version number.</p></dd>
<dt><i>server-name</i></dt>
<dd><p>Provide the name of the server.</p></dd>
<dt><i>/share-point</i></dt>
<dd><p>Provide the path of the remote directory to be shared.</p></dd>
<dt><i>/local-dir</i></dt>
<dd><p>Provide the path of the local mount point.</p></dd>
</dl>

<hr><p><b>Note - </b>This command uses the NFS protocol to mount the remote directory and overrides
the client settings in the <tt>/etc/default/nfs</tt> file.</p>
<hr>
</li></ol><h6>See Also</h6><p><a href="rfsrefer-45.html#rfsrefer-147">Version Negotiation in NFS</a></p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="rfsadmin-61.html">Previous</a>
             </td>
             <td align="right">
                 <a href="rfsadmin-96.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

