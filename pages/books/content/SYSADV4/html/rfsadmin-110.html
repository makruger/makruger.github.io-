<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>WebNFS Administration Tasks - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Network Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="rfsadmin-96.html">Previous</a>
             </td>
             <td align="right">
                 <a href="rfsadmin-127.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="netservices-1.html">Part&nbsp;I&nbsp;Network Services Topics</a></p>
<p class="toc level2"><a href="nsov-1.html">1.&nbsp;&nbsp;Network Service (Overview)</a></p>
<p class="toc level2"><a href="nca-1.html">2.&nbsp;&nbsp;Managing Web Cache Servers</a></p>
<p class="toc level2"><a href="time-1.html">3.&nbsp;&nbsp;Time-Related Services</a></p>
<p class="toc level1 tocsp"><a href="rfstm-1.html">Part&nbsp;II&nbsp;Accessing Network File Systems Topics</a></p>
<p class="toc level2"><a href="rfsintro-2.html">4.&nbsp;&nbsp;Managing Network File Systems (Overview)</a></p>
<p class="toc level2"><a href="rfsadmin-8.html">5.&nbsp;&nbsp;Network File System Administration (Tasks)</a></p>
<p class="toc level3"><a href="rfsadmin-56.html">Automatic File-System Sharing</a></p>
<p class="toc level4"><a href="rfsadmin-56.html#rfsadmin-57">How to Set Up Automatic File-System Sharing</a></p>
<p class="toc level4"><a href="rfsadmin-56.html#rfsadmin-112">How to Enable WebNFS Access</a></p>
<p class="toc level4"><a href="rfsadmin-56.html#rfsadmin-101">How to Enable NFS Server Logging</a></p>
<p class="toc level3 tocsp"><a href="rfsadmin-61.html">Mounting File Systems</a></p>
<p class="toc level4"><a href="rfsadmin-61.html#rfsadmin-62">How to Mount a File System at Boot Time</a></p>
<p class="toc level4"><a href="rfsadmin-61.html#rfsadmin-66">How to Mount a File System From the Command Line</a></p>
<p class="toc level4"><a href="rfsadmin-61.html#rfsadmin-75">How to Disable Large Files on an NFS Server</a></p>
<p class="toc level4"><a href="rfsadmin-61.html#rfsadmin-81">How to Use Client-Side Failover</a></p>
<p class="toc level4"><a href="rfsadmin-61.html#rfsadmin-84">How to Disable Mount Access for One Client</a></p>
<p class="toc level4"><a href="rfsadmin-61.html#rfsadmin-88">How to Mount an NFS File System Through a Firewall</a></p>
<p class="toc level4"><a href="rfsadmin-61.html#rfsadmin-92">How to Mount an NFS File System Using an NFS URL</a></p>
<p class="toc level3 tocsp"><a href="rfsadmin-68.html">Setting Up NFS Services</a></p>
<p class="toc level4"><a href="rfsadmin-68.html#rfsadmin-69">How to Start the NFS Services</a></p>
<p class="toc level4"><a href="rfsadmin-68.html#rfsadmin-72">How to Stop the NFS Services</a></p>
<p class="toc level4"><a href="rfsadmin-68.html#rfsadmin-121">How to Start the Automounter</a></p>
<p class="toc level4"><a href="rfsadmin-68.html#rfsadmin-124">How to Stop the Automounter</a></p>
<p class="toc level4"><a href="rfsadmin-68.html#rfsadmin-965">How to Select Different Versions of NFS on a Server</a></p>
<p class="toc level4"><a href="rfsadmin-68.html#rfsadmin-966">How to Select Different Versions of NFS on a Client by Modifying the <tt>/etc/default/nfs</tt> File</a></p>
<p class="toc level4"><a href="rfsadmin-68.html#ekqwg">How to Use the Command Line to Select Different Versions of NFS on a Client</a></p>
<p class="toc level3 tocsp"><a href="rfsadmin-96.html">Administering the Secure NFS System</a></p>
<p class="toc level4"><a href="rfsadmin-96.html#rfsadmin-97">How to Set Up a Secure NFS Environment With DH Authentication</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">WebNFS Administration Tasks</a></p>
</div>
<p class="toc level3"><a href="rfsadmin-127.html">Task Overview for Autofs Administration</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-250">How to Use the <tt>/etc/default/autofs</tt> File</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-133">How to Modify the Master Map</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-139">How to Modify Indirect Maps</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-142">How to Modify Direct Maps</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-149">How to Access CD-ROM Applications With Autofs</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-152">How to Access PC-DOS Data Diskettes With Autofs</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-156">How to Access NFS File Systems by Using CacheFS</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-162">How to Set Up <tt>/home</tt> With Multiple Home Directory File Systems</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-166">How to Consolidate Project-Related Files Under <tt>/ws</tt></a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-171">How to Set Up Different Architectures to Access a Shared Namespace</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-179">How to Support Incompatible Client Operating System Versions</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-183">How to Replicate Shared Files Across Several Servers</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-186">How to Apply Autofs Security Restrictions</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-189">How to Use a Public File Handle With Autofs</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-192">How to Use NFS URLs With Autofs</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-196">How to Completely Disable Autofs Browsability on a Single NFS Client</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-200">How to Disable Autofs Browsability for All Clients</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-204">How to Disable Autofs Browsability on a Selected File System</a></p>
<p class="toc level3 tocsp"><a href="rfsadmin-214.html">Strategies for NFS Troubleshooting</a></p>
<p class="toc level3"><a href="rfsadmin-215.html">NFS Troubleshooting Procedures</a></p>
<p class="toc level4"><a href="rfsadmin-215.html#rfsadmin-216">How to Check Connectivity on an NFS Client</a></p>
<p class="toc level4"><a href="rfsadmin-215.html#rfsadmin-224">How to Check the NFS Server Remotely</a></p>
<p class="toc level4"><a href="rfsadmin-215.html#rfsadmin-231">How to Verify the NFS Service on the Server</a></p>
<p class="toc level4"><a href="rfsadmin-215.html#rfsadmin-240">How to Restart NFS Services</a></p>
<p class="toc level4"><a href="rfsadmin-215.html#rfsadmin-243">How to Warm-Start <tt>rpcbind</tt></a></p>
<p class="toc level4"><a href="rfsadmin-215.html#rfsadmin-251">How to Verify Options Used With the <tt>mount</tt> Command</a></p>
<p class="toc level3 tocsp"><a href="rfsadmin-210.html">Troubleshooting Autofs</a></p>
<p class="toc level3"><a href="rfsadmin-255.html">NFS Error Messages</a></p>
<p class="toc level2 tocsp"><a href="rfsrefer-1.html">6.&nbsp;&nbsp;Accessing Network File Systems (Reference)</a></p>
<p class="toc level1 tocsp"><a href="slptm.html">Part&nbsp;III&nbsp;SLP Topics</a></p>
<p class="toc level2"><a href="slparch-16.html">7.&nbsp;&nbsp;SLP (Overview)</a></p>
<p class="toc level2"><a href="slp.setup-10.html">8.&nbsp;&nbsp;Planning and Enabling SLP (Tasks)</a></p>
<p class="toc level2"><a href="ch.configuration-6.html">9.&nbsp;&nbsp;Administering SLP (Tasks)</a></p>
<p class="toc level2"><a href="legacy-7.html">10.&nbsp;&nbsp;Incorporating Legacy Services</a></p>
<p class="toc level2"><a href="slpreference.html">11.&nbsp;&nbsp;SLP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="mailtm-1.html">Part&nbsp;IV&nbsp;Mail Services Topics</a></p>
<p class="toc level2"><a href="mailintro-1.html">12.&nbsp;&nbsp;Mail Services (Overview)</a></p>
<p class="toc level2"><a href="mailadmin-1.html">13.&nbsp;&nbsp;Mail Services (Tasks)</a></p>
<p class="toc level2"><a href="mailrefer-1.html">14.&nbsp;&nbsp;Mail Services (Reference)</a></p>
<p class="toc level1 tocsp"><a href="modemtm-1.html">Part&nbsp;V&nbsp;Serial Networking Topics</a></p>
<p class="toc level2"><a href="pppsvrconfig.intro-1.html">15.&nbsp;&nbsp;Solaris PPP 4.0 (Overview)</a></p>
<p class="toc level2"><a href="pppsvrconfig.p2plink-1.html">16.&nbsp;&nbsp;Planning for the PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.dialin-1.html">17.&nbsp;&nbsp;Setting Up a Dial-up PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.leased-1.html">18.&nbsp;&nbsp;Setting Up a Leased-Line PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.auth-1.html">19.&nbsp;&nbsp;Setting Up PPP Authentication (Tasks)</a></p>
<p class="toc level2"><a href="ppp.pppoe-1.html">20.&nbsp;&nbsp;Setting Up a PPPoE Tunnel (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.troubleshoot-1.html">21.&nbsp;&nbsp;Fixing Common PPP Problems (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.reference-1.html">22.&nbsp;&nbsp;Solaris PPP 4.0 (Reference)</a></p>
<p class="toc level2"><a href="pppsvrconfig.convert.app-1.html">23.&nbsp;&nbsp;Migrating From Asynchronous Solaris PPP to Solaris PPP 4.0 (Tasks)</a></p>
<p class="toc level2"><a href="uucpov-1.html">24.&nbsp;&nbsp;UUCP (Overview)</a></p>
<p class="toc level2"><a href="uucptasks-1.html">25.&nbsp;&nbsp;Administering UUCP (Tasks)</a></p>
<p class="toc level2"><a href="uucpref-1.html">26.&nbsp;&nbsp;UUCP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="wwrstm.html">Part&nbsp;VI&nbsp;Working With Remote Systems Topics</a></p>
<p class="toc level2"><a href="wwrsov.html">27.&nbsp;&nbsp;Working With Remote Systems (Overview)</a></p>
<p class="toc level2"><a href="wuftp-17.html">28.&nbsp;&nbsp;Administering the FTP Server (Tasks)</a></p>
<p class="toc level2"><a href="remotehowtoaccess-99941.html">29.&nbsp;&nbsp;Accessing Remote Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="netmonitortm-1.html">Part&nbsp;VII&nbsp;Monitoring Network Services Topics</a></p>
<p class="toc level2"><a href="netmonitor-1.html">30.&nbsp;&nbsp;Monitoring Network Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="rfsadmin-110"></a><h3>WebNFS Administration Tasks</h3>
<p><a name="indexterm-268"></a>This section provides instructions for administering the WebNFS system. Related tasks follow.</p><a name="rfsadmin-tbl-58"></a><h6>Table&nbsp;5-4 Task Map for WebNFS Administration</h6><table><col width="110*"><col width="167*"><col width="119*"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Plan
for WebNFS</p></td>
<td align="left" valign="top" scope="row"><p>Issues to consider before enabling the WebNFS service.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#rfsadmin-111">Planning for WebNFS Access</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Enable WebNFS</p></td>
<td align="left" valign="top" scope="row"><p>Steps to enable
mounting of an NFS file system by using the WebNFS protocol.</p></td>
<td align="left" valign="top" scope="row"><p><a href="rfsadmin-56.html#rfsadmin-112">How to Enable WebNFS Access</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Enable WebNFS
through a firewall</p></td>
<td align="left" valign="top" scope="row"><p>Steps to allow access to files through a firewall by
using the WebNFS protocol.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#rfsadmin-119">How to Enable WebNFS Access Through a Firewall</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Browse by using an NFS URL</p></td>
<td align="left" valign="top" scope="row"><p>Instructions for using an NFS
URL within a web browser.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#rfsadmin-118">How to Browse Using an NFS URL</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Use a public file handle with autofs</p></td>
<td align="left" valign="top" scope="row"><p>Steps to
force use of the public file handle when mounting a file system with
the automounter.</p></td>
<td align="left" valign="top" scope="row"><p><a href="rfsadmin-127.html#rfsadmin-189">How to Use a Public File Handle With Autofs</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Use an NFS URL with autofs</p></td>
<td align="left" valign="top" scope="row"><p>Steps to add an NFS URL
to the  automounter maps.</p></td>
<td align="left" valign="top" scope="row"><p><a href="rfsadmin-127.html#rfsadmin-192">How to Use NFS URLs With Autofs</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Provide access to a file system through a
firewall</p></td>
<td align="left" valign="top" scope="row"><p>Steps to allow access to a file system through a firewall by
using the WebNFS protocol.</p></td>
<td align="left" valign="top" scope="row"><p><a href="rfsadmin-61.html#rfsadmin-88">How to Mount an NFS File System Through a Firewall</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Mount a file system by using an NFS URL</p></td>
<td align="left" valign="top" scope="row"><p>Steps to
allow access to a file system by  using an NFS URL.
This process allows for file-system access without using the MOUNT protocol.</p></td>
<td align="left" valign="top" scope="row"><p><a href="rfsadmin-61.html#rfsadmin-92">How to Mount an NFS File System Using an NFS URL</a></p></td>
</tr>
</table>

<a name="rfsadmin-111"></a><h4>Planning for WebNFS Access</h4>
<a name="indexterm-269"></a><p>To use WebNFS, you first need an application that is capable of
running and loading an NFS URL (for example, <tt>nfs://server/path</tt>). The next step is to
choose the file system that can be exported for WebNFS access. If the
application is web browsing, often the document root for the web server is
used. You need to consider several factors when choosing a file system to
export for WebNFS access.</p>
<ol><li><p><a name="indexterm-270"></a><a name="indexterm-271"></a>Each server has one public file handle that by default is associated with the server's root file system. The path in an NFS URL is evaluated relative to the directory with which the public file handle is associated. If the path leads to a file or directory within an exported file system, the server provides access. You can use the <tt>public</tt> option of the <tt>share</tt> command to associate the public file handle with a specific exported directory. Using this option allows URLs to be relative to the shared file system rather than to the server's root file system. The root file system does not allow web access unless the root file system is shared. </p></li>
<li><p><a name="indexterm-272"></a>The WebNFS environment enables users who already have mount privileges to access files through a browser. This capability is enabled regardless of whether the file system is exported by using the <tt>public</tt> option. Because users already have access to these files through the NFS setup, this access should not create any additional security risk. You only need to share a file system by using the <tt>public</tt> option if users who cannot mount the file system need to use WebNFS access. </p></li>
<li><p><a name="indexterm-273"></a>File systems that are already open to the public make good candidates for using the <tt>public</tt> option. Some examples are the top directory in an ftp archive or the main URL directory for a web site.</p></li>
<li><p><a name="indexterm-274"></a><a name="indexterm-275"></a>You can use the <tt>index</tt> option with the <tt>share</tt> command to force the loading of an HTML file. Otherwise, you can list the directory when an NFS URL is accessed.</p><p><a name="indexterm-276"></a>After a file system is chosen, review the files and set access permissions to restrict viewing of files or directories, as needed. Establish the permissions, as appropriate, for any NFS file system that is being shared. For many sites, <tt>755</tt> permissions for directories and <tt>644</tt> permissions for files provide the correct level of access.</p><p>You need to consider additional factors if both NFS and HTTP URLs are to be used to access one web site. These factors are described in <a href="rfsrefer-45.html#rfsrefer-57">WebNFS Limitations With Web Browser Use</a>.</p></li></ol>


<a name="rfsadmin-118"></a><h4>How to Browse Using an NFS URL</h4>
<a name="indexterm-277"></a><a name="indexterm-278"></a><a name="indexterm-279"></a><p>Browsers that are capable of supporting the WebNFS service should provide access to
an NFS URL that resembles the following:</p><pre>nfs://<i>server</i>&lt;:<i>port</i>>/<i>path</i></pre><dl><dt><i>server</i></dt>
<dd><p>Name of the file server</p></dd>
<dt><i>port</i></dt>
<dd><p>Port number to use (<tt>2049</tt>, default value)</p></dd>
<dt><i>path</i></dt>
<dd><p>Path to file, which can be relative to the public file handle or to the root file system</p></dd>
</dl>

<hr><p><b>Note - </b><a name="indexterm-280"></a><a name="indexterm-281"></a>In most browsers, the URL service type (for example, <tt>nfs</tt> or <tt>http</tt>)
is remembered from one transaction to the next. The exception occurs when a
URL that includes a different service type is loaded. After you use an
NFS URL, a reference to an HTTP URL might be loaded. If
such a reference is loaded, subsequent pages are loaded by using the HTTP
protocol instead of the NFS protocol.</p>
<hr>


<a name="rfsadmin-119"></a><h4>How to Enable WebNFS Access Through a Firewall</h4>
<p><a name="indexterm-282"></a><a name="indexterm-283"></a><a name="indexterm-284"></a>You can enable WebNFS access for clients that are not part of the
local subnet by configuring the firewall to allow a TCP connection on port
<tt>2049</tt>. Just allowing access for <tt>httpd</tt> does not allow NFS URLs to be
used.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="rfsadmin-96.html">Previous</a>
             </td>
             <td align="right">
                 <a href="rfsadmin-127.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

