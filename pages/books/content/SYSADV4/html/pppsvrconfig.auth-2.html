<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Configuring PAP Authentication - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Network Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="pppsvrconfig.p2plink-19.html">Previous</a>
             </td>
             <td align="right">
                 <a href="pppsvrconfig.auth-5.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="netservices-1.html">Part&nbsp;I&nbsp;Network Services Topics</a></p>
<p class="toc level2"><a href="nsov-1.html">1.&nbsp;&nbsp;Network Service (Overview)</a></p>
<p class="toc level2"><a href="nca-1.html">2.&nbsp;&nbsp;Managing Web Cache Servers</a></p>
<p class="toc level2"><a href="time-1.html">3.&nbsp;&nbsp;Time-Related Services</a></p>
<p class="toc level1 tocsp"><a href="rfstm-1.html">Part&nbsp;II&nbsp;Accessing Network File Systems Topics</a></p>
<p class="toc level2"><a href="rfsintro-2.html">4.&nbsp;&nbsp;Managing Network File Systems (Overview)</a></p>
<p class="toc level2"><a href="rfsadmin-8.html">5.&nbsp;&nbsp;Network File System Administration (Tasks)</a></p>
<p class="toc level2"><a href="rfsrefer-1.html">6.&nbsp;&nbsp;Accessing Network File Systems (Reference)</a></p>
<p class="toc level1 tocsp"><a href="slptm.html">Part&nbsp;III&nbsp;SLP Topics</a></p>
<p class="toc level2"><a href="slparch-16.html">7.&nbsp;&nbsp;SLP (Overview)</a></p>
<p class="toc level2"><a href="slp.setup-10.html">8.&nbsp;&nbsp;Planning and Enabling SLP (Tasks)</a></p>
<p class="toc level2"><a href="ch.configuration-6.html">9.&nbsp;&nbsp;Administering SLP (Tasks)</a></p>
<p class="toc level2"><a href="legacy-7.html">10.&nbsp;&nbsp;Incorporating Legacy Services</a></p>
<p class="toc level2"><a href="slpreference.html">11.&nbsp;&nbsp;SLP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="mailtm-1.html">Part&nbsp;IV&nbsp;Mail Services Topics</a></p>
<p class="toc level2"><a href="mailintro-1.html">12.&nbsp;&nbsp;Mail Services (Overview)</a></p>
<p class="toc level2"><a href="mailadmin-1.html">13.&nbsp;&nbsp;Mail Services (Tasks)</a></p>
<p class="toc level2"><a href="mailrefer-1.html">14.&nbsp;&nbsp;Mail Services (Reference)</a></p>
<p class="toc level1 tocsp"><a href="modemtm-1.html">Part&nbsp;V&nbsp;Serial Networking Topics</a></p>
<p class="toc level2"><a href="pppsvrconfig.intro-1.html">15.&nbsp;&nbsp;Solaris PPP 4.0 (Overview)</a></p>
<p class="toc level2"><a href="pppsvrconfig.p2plink-1.html">16.&nbsp;&nbsp;Planning for the PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.dialin-1.html">17.&nbsp;&nbsp;Setting Up a Dial-up PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.leased-1.html">18.&nbsp;&nbsp;Setting Up a Leased-Line PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.auth-1.html">19.&nbsp;&nbsp;Setting Up PPP Authentication (Tasks)</a></p>
<p class="toc level3"><a href="pppsvrconfig.p2plink-19.html">Configuring PPP Authentication (Task Map)</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Configuring PAP Authentication</a></p>
<p class="toc level4"><a href="#ppp.auth-62">How to Create a PAP Credentials Database (Dial-in Server)</a></p>
<p class="toc level4"><a href="#ppp.auth-63">How to Add PAP Support to the PPP Configuration Files (Dial-in Server)</a></p>
<p class="toc level4"><a href="#ppp.auth-64">How to Configure PAP Authentication Credentials for the Trusted Callers</a></p>
<p class="toc level4"><a href="#ppp.auth-65">How to Add PAP Support to the PPP Configuration Files (Dial-out Machine)</a></p>
</div>
<p class="toc level3 tocsp"><a href="pppsvrconfig.auth-5.html">Configuring CHAP Authentication</a></p>
<p class="toc level4"><a href="pppsvrconfig.auth-5.html#ppp.auth-67">How to Create a CHAP Credentials Database (Dial-in Server)</a></p>
<p class="toc level4"><a href="pppsvrconfig.auth-5.html#ppp.auth-68">How to Add CHAP Support to the PPP Configuration Files (Dial-in Server)</a></p>
<p class="toc level4"><a href="pppsvrconfig.auth-5.html#ppp.auth-69">How to Configure CHAP Authentication Credentials for the Trusted Callers</a></p>
<p class="toc level4"><a href="pppsvrconfig.auth-5.html#ppp.auth-70">How to Add CHAP Support to the PPP Configuration Files (Dial-out Machine)</a></p>
<p class="toc level2 tocsp"><a href="ppp.pppoe-1.html">20.&nbsp;&nbsp;Setting Up a PPPoE Tunnel (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.troubleshoot-1.html">21.&nbsp;&nbsp;Fixing Common PPP Problems (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.reference-1.html">22.&nbsp;&nbsp;Solaris PPP 4.0 (Reference)</a></p>
<p class="toc level2"><a href="pppsvrconfig.convert.app-1.html">23.&nbsp;&nbsp;Migrating From Asynchronous Solaris PPP to Solaris PPP 4.0 (Tasks)</a></p>
<p class="toc level2"><a href="uucpov-1.html">24.&nbsp;&nbsp;UUCP (Overview)</a></p>
<p class="toc level2"><a href="uucptasks-1.html">25.&nbsp;&nbsp;Administering UUCP (Tasks)</a></p>
<p class="toc level2"><a href="uucpref-1.html">26.&nbsp;&nbsp;UUCP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="wwrstm.html">Part&nbsp;VI&nbsp;Working With Remote Systems Topics</a></p>
<p class="toc level2"><a href="wwrsov.html">27.&nbsp;&nbsp;Working With Remote Systems (Overview)</a></p>
<p class="toc level2"><a href="wuftp-17.html">28.&nbsp;&nbsp;Administering the FTP Server (Tasks)</a></p>
<p class="toc level2"><a href="remotehowtoaccess-99941.html">29.&nbsp;&nbsp;Accessing Remote Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="netmonitortm-1.html">Part&nbsp;VII&nbsp;Monitoring Network Services Topics</a></p>
<p class="toc level2"><a href="netmonitor-1.html">30.&nbsp;&nbsp;Monitoring Network Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="pppsvrconfig.auth-2"></a><h3>Configuring PAP Authentication</h3>
<p><a name="indexterm-1829"></a>The tasks in this section explain how to implement authentication on a PPP link
by using the Password Authentication Protocol (PAP). The tasks use the example that is shown
in <a href="pppsvrconfig.p2plink-11.html#pppsvrconfig.p2plink-15">Examples of PPP Authentication Configurations</a> to illustrate a working PAP scenario for a dial-up link. Use the
instructions as the basis for implementing PAP authentication at your site.</p><p><a name="indexterm-1830"></a>Before you perform the next procedures, you must have done the following:</p>
<ul><li><p>Set up and tested the dial-up link between the dial-in server and dial-out machines that belong to trusted callers</p></li>
<li><p>Ideally, for dial-in server authentication, obtained superuser permission for the machine where the network password database is administered, for example, in LDAP, NIS, or local files</p></li>
<li><p>Obtained superuser authority for the local machine, either dial-in server or dial-out machine</p></li></ul>


<a name="ppp.auth-58"></a><h4>Setting Up PAP Authentication (Task Maps)</h4>
<a name="indexterm-1831"></a><a name="indexterm-1832"></a><p>Use the next task maps to quickly access PAP-related tasks for the dial-in server
and trusted callers on dial-out machines.</p><a name="pppsvrconfig.p2plink-tbl-90"></a><h6>Table&nbsp;19-2 Task Map for PAP Authentication (Dial-in Server)</h6><table><col width="43.82*"><col width="56.18*"><col width="56.18*"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>1. Gather preconfiguration information</p></td>
<td align="left" valign="top" scope="row"><p>Collect user names and
other data that is needed for authentication.</p></td>
<td align="left" valign="top" scope="row"><p><a href="pppsvrconfig.p2plink-11.html">Planning for Authentication on a Link</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>2. Update the password database, if necessary</p></td>
<td align="left" valign="top" scope="row"><p>Ensure that
all potential callers are in the server's password database.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#ppp.auth-62">How to Create a PAP Credentials Database (Dial-in Server)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>3. Create the PAP database</p></td>
<td align="left" valign="top" scope="row"><p>Create
security credentials for all prospective callers in <tt>/etc/ppp/pap-secrets</tt>.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#ppp.auth-62">How to Create a PAP Credentials Database (Dial-in Server)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>4. Modify the PPP configuration files</p></td>
<td align="left" valign="top" scope="row"><p>Add options
specific to PAP to the <tt>/etc/ppp/options</tt> and <tt>/etc/ppp/peers/</tt><i>peer-name</i> files.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#ppp.auth-63">How to Add PAP Support to the PPP Configuration Files (Dial-in Server)</a></p></td>
</tr>
</table><a name="pppsvrconfig.p2plink-tbl-100"></a><h6>Table&nbsp;19-3 Task Map for PAP Authentication (Dial-out Machine)</h6><table><col width="43.82*"><col width="56.18*"><col width="56.18*"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>1. Gather preconfiguration information</p></td>
<td align="left" valign="top" scope="row"><p>Collect
user names and other data that is needed for authentication.</p></td>
<td align="left" valign="top" scope="row"><p><a href="pppsvrconfig.p2plink-11.html">Planning for Authentication on a Link</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>2. Create the PAP
database for the trusted caller's machine</p></td>
<td align="left" valign="top" scope="row"><p>Create the security credentials for the trusted caller and,
if necessary, security credentials for other users who call the dial-out machine, in <tt>/etc/ppp/pap-secrets</tt>.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#ppp.auth-64">How to Configure PAP Authentication Credentials for the Trusted Callers</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>3.
Modify the PPP configuration files</p></td>
<td align="left" valign="top" scope="row"><p>Add options specific to PAP to the <tt>/etc/ppp/options</tt> and <tt>/etc/ppp/peers/</tt><i>peer-name</i>
files.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#ppp.auth-65">How to Add PAP Support to the PPP Configuration Files (Dial-out Machine)</a></p></td>
</tr>
</table>

<a name="pppsvrconfig.auth-3"></a><h4>Configuring PAP Authentication on the Dial-in Server</h4>
<p>To set up PAP authentication, you must do the following:</p>
<ul><li><p>Create a PAP credentials database</p></li>
<li><p>Modify PPP configuration files for PAP support</p></li></ul>


<a name="ppp.auth-62"></a><h4>How to Create a PAP Credentials Database (Dial-in Server)</h4><a name="indexterm-1833"></a><a name="indexterm-1834"></a><a name="indexterm-1835"></a><a name="indexterm-1836"></a><p>This procedure modifies the <tt>/etc/ppp/pap-secrets</tt> file, which contains the PAP security credentials that are
used to authenticate callers on the link. <tt>/etc/ppp/pap-secrets</tt> must exist on both machines on
a PPP link.</p><p>The sample PAP configuration that was introduced in <a href="pppsvrconfig.p2plink-11.html#pppsvrconfig.p2plink-fig-20">Figure&nbsp;16-3</a> uses the <tt>login</tt> option
of PAP. If you plan to use this option, you might also need to
update your network's password database. For more information about the <tt>login</tt> option, refer to <a href="pppsvrconfig.reference-17.html#pppsvrconfig.reference-20">Using the <tt>login</tt> Option With <tt>/etc/ppp/pap-secrets</tt></a>.</p><ol>
<li><a name="pppsvrconfig.auth-step-11"></a><b><a name="indexterm-1837"></a>Assemble a list of all potential trusted callers. Trusted callers are people to be
granted permission to call the dial-in server from their remote machines.</b></li>
<li><a name="pppsvrconfig.auth-step-13"></a><b>Verify that each trusted caller already has a UNIX user name and password in
the dial-in server's password database.</b>
<hr><p><b>Note - </b>Verification is particularly important for the sample PAP configuration, which uses the <tt>login</tt> option of
PAP to authenticate callers. If you choose not to implement <tt>login</tt> for PAP,
the callers' PAP user names do not have to correspond with their UNIX user
names. For information about standard <tt>/etc/ppp/pap-secrets</tt>, refer to <a href="pppsvrconfig.reference-17.html#pppsvrconfig.reference-25"><tt>/etc/ppp/pap-secrets</tt> File</a>.</p>
<hr>
<p>Do the following if a potential trusted caller does not have a UNIX user
name and password: </p><ol style="list-style-type: lower-alpha">
				 
<li><a name="pppsvrconfig.auth-step-14"></a><b>Confirm with their managers that callers whom you do not know personally have permission
to access the dial-in server.</b></li>
<li><a name="pppsvrconfig.auth-step-15"></a><b><a name="indexterm-1838"></a><a name="indexterm-1839"></a>Create UNIX user names and passwords for these callers in the manner that is
directed by your corporate security policy.</b></li></ol></li>
<li><b>Become superuser  on the dial-in server or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure
a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="pppsvrconfig.auth-step-16"></a><b><a name="indexterm-1840"></a><a name="indexterm-1841"></a><a name="indexterm-1842"></a>Edit the <tt>/etc/ppp/pap-secrets</tt> file.</b><p>Solaris PPP 4.0 provides a <tt>pap-secrets</tt> file in <tt>/etc/ppp</tt> that contains comments about how to
use PAP authentication but no options. You can add the following options at the end
of the comments.</p><pre><tt><b>user1 myserver "" *</b></tt>
<tt><b>user2 myserver "" *</b></tt>
<tt><b>myserver user2 serverpass *</b></tt></pre><p>To use the <tt>login</tt> option of <tt>/etc/ppp/pap-secrets</tt>, you must type the UNIX user name
of each trusted caller. Wherever a set of double quotes (&ldquo;&ldquo;) appears in the third
field, the password for the caller is looked up in the server's password database.</p><p>The entry <tt>myserver * serverpass  *</tt> contains the PAP user name and password for the dial-in server. In
<a href="pppsvrconfig.p2plink-11.html#pppsvrconfig.p2plink-fig-20">Figure&nbsp;16-3</a>, the trusted caller <tt>user2</tt> requires authentication from remote peers. Therefore, <tt>myserver</tt>'s <tt>/etc/ppp/pap-secrets</tt>
file contains PAP credentials for use when a link is established with <tt>user2</tt>.</p></li></ol><h6>See Also</h6><p>The following list provides references to related information.</p>
<ul><li><p><a href="#ppp.auth-55">Modifying the PPP Configuration Files for PAP (Dial-in Server)</a></p></li>
<li><p><a href="#pppsvrconfig.auth-6">Configuring PAP Authentication for Trusted Callers (Dial-out Machines)</a></p></li></ul>


<a name="ppp.auth-55"></a><h4>Modifying the PPP Configuration Files for PAP (Dial-in Server)</h4>
<p>The tasks in this section explain how to update any existing PPP configuration files
to support PAP authentication on the dial-in server. </p>

<a name="ppp.auth-63"></a><h4>How to Add PAP Support to the PPP Configuration Files (Dial-in Server)</h4><a name="indexterm-1843"></a><a name="indexterm-1844"></a><p>The procedure uses as examples the PPP configuration files that were introduced in <a href="pppsvrconfig.dialin-54.html#ppp.dialin-18">How to Define Communications Over the Serial Line (Dial-in Server)</a>.</p><ol>
<li><a name="pppsvrconfig.auth-step-9"></a><b>Log in as superuser on the dial-in server or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure
a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="pppsvrconfig.auth-step-20"></a><b>Add authentication options to the <tt>/etc/ppp/options</tt> file.</b><p>For example, you would add the options in bold to an existing <tt>/etc/ppp/options</tt>
file to implement PAP authentication:</p><pre>lock
<tt><b>auth</b></tt>
<tt><b>login</b></tt>
<tt><b>nodefaultroute</b></tt>
<tt><b>proxyarp</b></tt>
<tt><b>ms-dns 10.0.0.1</b></tt>
<tt><b>idle 120</b></tt></pre><dl><dt><tt>auth</tt></dt>
<dd><p><a name="indexterm-1845"></a><a name="indexterm-1846"></a>Specifies that the server must authenticate callers before establishing the link.</p></dd>
<dt><tt>login</tt></dt>
<dd><p><a name="indexterm-1847"></a><a name="indexterm-1848"></a>Specifies that the remote caller be authenticated by using the standard UNIX user authentication services.</p></dd>
<dt><tt>nodefaultroute</tt></dt>
<dd><p>Indicates that no <tt>pppd</tt> session on the local system can establish a default route without <tt>root</tt> privileges.</p></dd>
<dt><tt>proxyarp</tt></dt>
<dd><p>Adds an entry to the system's Address Resolution Protocol (ARP) table that specifies the IP address of the peer and the Ethernet address of the system. With this option the peer appears to be on the local Ethernet to other systems.</p></dd>
<dt><tt>ms-dns 10.0.0.1</tt></dt>
<dd><p>Enables <tt>pppd</tt> to supply a Domain Name Server (DNS) address, <tt>10.0.0.1</tt>, for the client</p></dd>
<dt><tt>idle 120</tt></dt>
<dd><p>Specifies that idle users are disconnected after two minutes.</p></dd>
</dl>
</li>
<li><a name="pppsvrconfig.auth-step-211"></a><b>In the <tt>/etc/ppp/options.cua.a</tt> file, add the following address for the <tt>cua/a</tt> user.</b><pre>:10.0.0.2</pre></li>
<li><b>In the <tt>/etc/ppp/options.cua.b</tt> file, add the following address for the <tt>cua/b</tt> user.</b><pre>:10.0.0.3</pre></li>
<li><b>In the <tt>/etc/ppp/pap-secrets</tt> file, add the following entry.</b><pre><tt><b>* * "" *</b></tt></pre>
<hr><p><b>Note - </b>The <tt>login</tt> option, as previously described, supplies the necessary user authentication. This entry in the
<tt>/etc/ppp/pap-secrets</tt> file is the standard way of enabling PAP with the <tt>login</tt> option.</p>
<hr>
</li></ol><h6>See Also</h6><p>To configure PAP authentication credentials for trusted callers of the dial-in server, refer to
<a href="#pppsvrconfig.auth-6">Configuring PAP Authentication for Trusted Callers (Dial-out Machines)</a>.</p>

<a name="pppsvrconfig.auth-6"></a><h4>Configuring PAP Authentication for Trusted Callers (Dial-out Machines)</h4>
<p>This section contains tasks for setting up PAP authentication on the dial-out machines of
trusted callers. As system administrator, you can set up PAP authentication on the systems before
distribution to  prospective callers. Or, if the remote callers already have their machines, you
can give these callers the tasks in this section.</p><p>Configuring PAP for trusted callers involves two tasks:</p>
<ul><li><p>Configuring the callers' PAP security credentials</p></li>
<li><p>Configuring the callers' dial-out machines to support PAP authentication</p></li></ul>


<a name="ppp.auth-64"></a><h4>How to Configure PAP Authentication Credentials for the Trusted Callers</h4><a name="indexterm-1849"></a><a name="indexterm-1850"></a><a name="indexterm-1851"></a><a name="indexterm-1852"></a><p>This procedure shows how to set up PAP credentials for two trusted callers, one
of which requires authentication credentials from remote peers. The steps in the procedure assume
that you, the system administrator, are creating the PAP credentials on the trusted callers' dial-out
machines. </p><ol>
<li><a name="pppsvrconfig.auth-step-24"></a><b>Become superuser  on a dial-out machine or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure
a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p><p>Using the sample PAP configuration that was introduced in <a href="pppsvrconfig.p2plink-11.html#pppsvrconfig.p2plink-fig-20">Figure&nbsp;16-3</a>, assume that the dial-out machine
belongs to <tt>user1</tt>.</p></li>
<li><a name="pppsvrconfig.auth-step-25"></a><b>Modify the pap-secrets database for the caller.</b><p><a name="indexterm-1853"></a>Solaris PPP 4.0 provides an <tt>/etc/ppp/pap-secrets</tt> file that contains helpful comments but no options. You
can add the following options to this <tt>/etc/ppp/pap-secrets</tt> file.</p><pre><tt><b>user1 myserver pass1 *</b></tt></pre><p>Note that <tt>user1</tt>'s password <tt>pass1</tt> is passed in readable ASCII form over the link. <tt>myserver</tt>
is caller <tt>user1</tt>'s name for the peer.</p></li>
<li><a name="pppsvrconfig.auth-step-26"></a><b>Become superuser on another dial-out machine or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure
a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a></p><p>Using the PAP authentication example, assume that this dial-out machine belongs to the caller
<tt>user2</tt>.</p></li>
<li><a name="pppsvrconfig.auth-step-27"></a><b>Modify the pap-secrets database for the caller.</b><p>You can add the next options to the end of the existing <tt>/etc/ppp/pap-secrets</tt> file.</p><pre><tt><b>user2 myserver pass2 *</b></tt>
<tt><b>myserver user2 serverpass *</b></tt></pre><p>In this example, <tt>/etc/ppp/pap-secrets</tt> has two entries. The first entry contains the PAP
security credentials that <tt>user2</tt> passes to dial-in server <tt>myserver</tt> for authentication. </p><p><tt>user2</tt> requires PAP credentials from the dial-in server as part of link negotiation. Therefore,
the <tt>/etc/ppp/pap-secrets</tt> also contains PAP credentials that are expected from <tt>myserver</tt> on the second line.</p>
<hr><p><b>Note - </b><a name="indexterm-1854"></a><a name="indexterm-1855"></a>Because most ISPs do not supply authentication credentials,  the previous scenario might be
unrealistic for communications with an ISP.</p>
<hr>
</li></ol><h6>See Also</h6><p>The following list provides references to related information.</p>
<ul><li><p><a href="#ppp.auth-62">How to Create a PAP Credentials Database (Dial-in Server)</a></p></li>
<li><p><a href="#ppp.auth-64">How to Configure PAP Authentication Credentials for the Trusted Callers</a></p></li></ul>


<a name="ppp.auth-56"></a><h4>Modifying PPP Configuration Files for PAP (Dial-out Machine)</h4>
<p>The following tasks explain how to update existing PPP configuration files to support PAP
authentication on the dial-out machines of trusted callers. </p><p>The procedure uses the following parameters to configure PAP authentication on the dial-out machine
that belongs to <tt>user2</tt>, who was introduced in <a href="pppsvrconfig.p2plink-11.html#pppsvrconfig.p2plink-fig-20">Figure&nbsp;16-3</a>. <tt>user2</tt> requires incoming callers to authenticate, including
calls from dial-in <tt>myserver</tt>.</p>

<a name="ppp.auth-65"></a><h4>How to Add PAP Support to the PPP Configuration Files (Dial-out Machine)</h4><p>This procedure uses as examples the PPP configuration files that were introduced in <a href="pppsvrconfig.dialin-52.html#ppp.dialin-53">How to Define Communications Over the Serial Line</a>
. The procedure configures the dial-out machine that belongs to <tt>user2</tt>, as shown in <a href="pppsvrconfig.p2plink-11.html#pppsvrconfig.p2plink-fig-20">Figure&nbsp;16-3</a>.</p><ol>
<li><a name="pppsvrconfig.auth-step-31"></a><b>Log in to the dial-out machine as superuser.</b></li>
<li><a name="pppsvrconfig.auth-step-32"></a><b><a name="indexterm-1856"></a>Modify the <tt>/etc/ppp/options</tt> file.</b><p>The next <tt>/etc/ppp/options</tt> file contains options for PAP support, which are shown in bold.</p><pre># <tt><b>cat /etc/ppp/options</b></tt>
lock
<tt><b>name user2</b></tt>
<tt><b>auth</b></tt>
<tt><b>require-pap</b></tt></pre><dl><dt>name user2</dt>
<dd><p><a name="indexterm-1857"></a><a name="indexterm-1858"></a><a name="indexterm-1859"></a>Sets <tt>user2</tt> as the PAP name of the user on the local machine. If the <tt>login</tt> option is used, the PAP name must be the same as the user's UNIX user name in the password database.</p></dd>
<dt>auth</dt>
<dd><p>States that the dial-out machine must authenticate callers before establishing the link.</p>
<hr><p><b>Note - </b>This dial-out machine demands authentication from its peers, even though most dial-out machines do not make this demand. Either way is acceptable.</p>
<hr>
</dd>
<dt>require-pap</dt>
<dd><p><a name="indexterm-1860"></a><a name="indexterm-1861"></a>Demands PAP credentials from the peer.</p></dd>
</dl>
</li>
<li><a name="pppsvrconfig.auth-step-33"></a><b><a name="indexterm-1862"></a>Create an <tt>/etc/ppp/peers/</tt><i>peer-name</i> file for the remote machine <tt>myserver</tt>.</b><p>The next example shows how to add PAP support to the existing <tt>/etc/ppp/peers/myserver</tt> file
that was created in <a href="pppsvrconfig.dialin-52.html#ppp.dialin-55">How to Define the Connection With an Individual Peer</a>.</p><pre># <tt><b>cat /etc/ppp/peers/myserver</b></tt>
/dev/cua/a
57600
noipdefault
defaultroute
idle 120
<tt><b>user user2</b></tt>
<tt><b>remotename myserver</b></tt>
connect "chat -U 'mypassword' -f /etc/ppp/mychat"</pre><p>The new options in bold add PAP requirements for peer <tt>myserver</tt>.</p><dl><dt>user user2</dt>
<dd><p>Defines <tt>user2</tt> as the user name of the local machine</p></dd>
<dt>remotename myserver</dt>
<dd><p>Defines <tt>myserver</tt> as a peer that requires authentication credentials from the local machine</p></dd>
</dl>
</li></ol><h6>See Also</h6><p>The following list provides references to related information.</p>
<ul><li><p>To test the PAP authentication setup by calling the dial-in server, see <a href="pppsvrconfig.dialin-25.html#pppsvrconfig.dialin-proc-27">How to Call the Dial-in Server</a>.</p></li>
<li><p>To learn more about PAP authentication, see <a href="pppsvrconfig.reference-17.html#pppsvrconfig.intro-8">Password Authentication Protocol (PAP)</a>.</p></li></ul>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="pppsvrconfig.p2plink-19.html">Previous</a>
             </td>
             <td align="right">
                 <a href="pppsvrconfig.auth-5.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

