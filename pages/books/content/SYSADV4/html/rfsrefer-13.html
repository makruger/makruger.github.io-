<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>NFS Commands - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Network Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="rfsrefer-8.html">Previous</a>
             </td>
             <td align="right">
                 <a href="rfsrefer-37.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="netservices-1.html">Part&nbsp;I&nbsp;Network Services Topics</a></p>
<p class="toc level2"><a href="nsov-1.html">1.&nbsp;&nbsp;Network Service (Overview)</a></p>
<p class="toc level2"><a href="nca-1.html">2.&nbsp;&nbsp;Managing Web Cache Servers</a></p>
<p class="toc level2"><a href="time-1.html">3.&nbsp;&nbsp;Time-Related Services</a></p>
<p class="toc level1 tocsp"><a href="rfstm-1.html">Part&nbsp;II&nbsp;Accessing Network File Systems Topics</a></p>
<p class="toc level2"><a href="rfsintro-2.html">4.&nbsp;&nbsp;Managing Network File Systems (Overview)</a></p>
<p class="toc level2"><a href="rfsadmin-8.html">5.&nbsp;&nbsp;Network File System Administration (Tasks)</a></p>
<p class="toc level2"><a href="rfsrefer-1.html">6.&nbsp;&nbsp;Accessing Network File Systems (Reference)</a></p>
<p class="toc level3"><a href="rfsrefer-6.html">NFS Files</a></p>
<p class="toc level3"><a href="rfsrefer-8.html">NFS Daemons</a></p>
<div class="onpage">
<p class="toc level3"><a href="">NFS Commands</a></p>
</div>
<p class="toc level3"><a href="rfsrefer-37.html">Commands for Troubleshooting NFS Problems</a></p>
<p class="toc level3"><a href="rfsrefer-154.html">NFS Over RDMA</a></p>
<p class="toc level3"><a href="rfsrefer-45.html">How the NFS Service Works</a></p>
<p class="toc level3"><a href="rfsrefer-66.html">Autofs Maps</a></p>
<p class="toc level3"><a href="rfsrefer-75.html">How Autofs Works</a></p>
<p class="toc level3"><a href="rfsrefer-98.html">Autofs Reference</a></p>
<p class="toc level1 tocsp"><a href="slptm.html">Part&nbsp;III&nbsp;SLP Topics</a></p>
<p class="toc level2"><a href="slparch-16.html">7.&nbsp;&nbsp;SLP (Overview)</a></p>
<p class="toc level2"><a href="slp.setup-10.html">8.&nbsp;&nbsp;Planning and Enabling SLP (Tasks)</a></p>
<p class="toc level2"><a href="ch.configuration-6.html">9.&nbsp;&nbsp;Administering SLP (Tasks)</a></p>
<p class="toc level2"><a href="legacy-7.html">10.&nbsp;&nbsp;Incorporating Legacy Services</a></p>
<p class="toc level2"><a href="slpreference.html">11.&nbsp;&nbsp;SLP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="mailtm-1.html">Part&nbsp;IV&nbsp;Mail Services Topics</a></p>
<p class="toc level2"><a href="mailintro-1.html">12.&nbsp;&nbsp;Mail Services (Overview)</a></p>
<p class="toc level2"><a href="mailadmin-1.html">13.&nbsp;&nbsp;Mail Services (Tasks)</a></p>
<p class="toc level2"><a href="mailrefer-1.html">14.&nbsp;&nbsp;Mail Services (Reference)</a></p>
<p class="toc level1 tocsp"><a href="modemtm-1.html">Part&nbsp;V&nbsp;Serial Networking Topics</a></p>
<p class="toc level2"><a href="pppsvrconfig.intro-1.html">15.&nbsp;&nbsp;Solaris PPP 4.0 (Overview)</a></p>
<p class="toc level2"><a href="pppsvrconfig.p2plink-1.html">16.&nbsp;&nbsp;Planning for the PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.dialin-1.html">17.&nbsp;&nbsp;Setting Up a Dial-up PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.leased-1.html">18.&nbsp;&nbsp;Setting Up a Leased-Line PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.auth-1.html">19.&nbsp;&nbsp;Setting Up PPP Authentication (Tasks)</a></p>
<p class="toc level2"><a href="ppp.pppoe-1.html">20.&nbsp;&nbsp;Setting Up a PPPoE Tunnel (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.troubleshoot-1.html">21.&nbsp;&nbsp;Fixing Common PPP Problems (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.reference-1.html">22.&nbsp;&nbsp;Solaris PPP 4.0 (Reference)</a></p>
<p class="toc level2"><a href="pppsvrconfig.convert.app-1.html">23.&nbsp;&nbsp;Migrating From Asynchronous Solaris PPP to Solaris PPP 4.0 (Tasks)</a></p>
<p class="toc level2"><a href="uucpov-1.html">24.&nbsp;&nbsp;UUCP (Overview)</a></p>
<p class="toc level2"><a href="uucptasks-1.html">25.&nbsp;&nbsp;Administering UUCP (Tasks)</a></p>
<p class="toc level2"><a href="uucpref-1.html">26.&nbsp;&nbsp;UUCP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="wwrstm.html">Part&nbsp;VI&nbsp;Working With Remote Systems Topics</a></p>
<p class="toc level2"><a href="wwrsov.html">27.&nbsp;&nbsp;Working With Remote Systems (Overview)</a></p>
<p class="toc level2"><a href="wuftp-17.html">28.&nbsp;&nbsp;Administering the FTP Server (Tasks)</a></p>
<p class="toc level2"><a href="remotehowtoaccess-99941.html">29.&nbsp;&nbsp;Accessing Remote Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="netmonitortm-1.html">Part&nbsp;VII&nbsp;Monitoring Network Services Topics</a></p>
<p class="toc level2"><a href="netmonitor-1.html">30.&nbsp;&nbsp;Monitoring Network Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="rfsrefer-13"></a><h3>NFS Commands</h3>
<p><a name="indexterm-542"></a>These commands must be run as <tt>root</tt> to be fully effective, but requests
for information can be made by all users: </p>
<ul><li><p><a href="#rfsrefer-64"><tt>automount</tt> Command</a></p></li>
<li><p><a href="#rfsrefer-14"><tt>clear_locks</tt> Command</a></p></li>
<li><p><a href="#gcays"><tt>fsstat</tt> Command</a></p></li>
<li><p><a href="#rfsrefer-15"><tt>mount</tt> Command</a></p></li>
<li><p><a href="#rfsrefer-21"><tt>mountall</tt> Command</a></p></li>
<li><p><a href="#rfsrefer-36"><tt>setmnt</tt> Command</a></p></li>
<li><p><a href="#gcrvu"><tt>sharemgr</tt> Command</a></p></li>
<li><p><a href="#gecpc"><tt>sharectl</tt> Command</a></p></li>
<li><p><a href="#rfsrefer-25"><tt>share</tt> Command</a></p></li>
<li><p><a href="#rfsrefer-30"><tt>shareall</tt> Command</a></p></li>
<li><p><a href="#rfsrefer-34"><tt>showmount</tt> Command</a></p></li>
<li><p><a href="#rfsrefer-19"><tt>umount</tt> Command</a></p></li>
<li><p><a href="#rfsrefer-23"><tt>umountall</tt> Command</a></p></li>
<li><p><a href="#rfsrefer-28"><tt>unshare</tt> Command</a></p></li>
<li><p><a href="#rfsrefer-32"><tt>unshareall</tt> Command</a></p></li></ul>


<a name="rfsrefer-64"></a><h4><tt>automount</tt> Command</h4>
<a name="indexterm-543"></a><p>This command installs autofs mount points and associates the information in the automaster
files with each mount point. The syntax of the command is as follows:</p><p><tt>automount</tt> <tt>[</tt> <tt>-t</tt> <i>duration</i> <tt>]</tt> <tt>[</tt> <tt>-v</tt> <tt>]</tt></p><p><tt>-t</tt> <i>duration</i> sets the time, in seconds, that a file system is to
remain mounted, and <tt>-v</tt> selects the verbose mode. Running this command in the
verbose mode allows for easier troubleshooting.</p><p>If not specifically set, the value for duration is set to 5
minutes. In most circumstances, this value is good. However, on systems that have
many automounted file systems, you might need to increase the duration value. In particular,
if a server has many users active, checking the automounted file systems every
5 minutes can be inefficient. Checking the autofs file systems every 1800 seconds,
which is 30 minutes, could be more optimal. By not unmounting the file
systems every 5 minutes, <tt>/etc/mnttab</tt> can become large. To reduce the output when
<tt>df</tt> checks each entry in <tt>/etc/mnttab</tt>, you can filter the output from
<tt>df</tt> by using the <tt>-F</tt> option (see the <a href="http://docs.sun.com/doc/819-2240/df-1m?a=view"><tt>df</tt>(1M)</a> man page) or by
using <tt>egrep</tt>.</p><p>You should consider that adjusting the duration also changes how quickly changes to
the automounter maps are reflected. Changes cannot be seen until the file system
is unmounted. Refer to <a href="rfsadmin-127.html#rfsadmin-132">Modifying the Maps</a> for instructions on how to modify automounter
maps.</p>

<a name="rfsrefer-14"></a><h4><tt>clear_locks</tt> Command</h4>
<a name="indexterm-544"></a><a name="indexterm-545"></a><p>This command enables you to remove all file, record, and share locks for
an NFS client. You must be <tt>root</tt> to run this command. From an
NFS server, you can clear the locks for a specific client. From
an NFS client, you can clear locks for that client on a specific
server. The following example would clear the locks for the NFS client that
is named <tt>tulip</tt> on the current system. </p><pre># <tt><b>clear_locks tulip</b></tt></pre><p>Using the <tt>-s</tt> option enables you to specify which NFS host to clear
the locks from. You must run this option from the NFS client, which
created the locks. In this situation, the locks from the client would be
removed from the NFS server that is named <tt>bee</tt>.</p><pre># <tt><b>clear_locks -s bee</b></tt></pre>
<hr><p><b>Caution - </b>This command should only be run when a client crashes and cannot clear
its locks. To avoid data corruption problems, do not clear locks for an
active client.</p>
<hr>


<a name="gcays"></a><h4><tt>fsstat</tt> Command</h4>
<p>Starting in the Solaris 10 11/06 release, the <tt>fsstat</tt> utility enables you to
monitor file system operations by file system type and by mount point. Various
options allow you to customize the output. See the following examples.</p><p>This example shows output for NFS version 3, version 4, and the
<tt>root</tt> mount point.</p><pre>% fsstat nfs3 nfs4 /
  new     name   name    attr    attr   lookup   rddir   read   read   write   write
 file    remov   chng     get     set      ops     ops    ops  bytes     ops   bytes
3.81K       90  3.65K   5.89M   11.9K    35.5M   26.6K   109K   118M   35.0K   8.16G  nfs3
  759      503    457   93.6K   1.44K     454K   8.82K  65.4K   827M     292    223K  nfs4
25.2K    18.1K  1.12K   54.7M    1017     259M   1.76M  22.4M  20.1G   1.43M   3.77G  /</pre><p>This example uses the <tt>-i</tt> option to provide statistics about the I/O operations
for NFS version 3,  version 4, and the <tt>root</tt> mount point.</p><pre>% fsstat -i nfs3 nfs4 /
 read    read    write   write   rddir   rddir   rwlock   rwulock
  ops   bytes      ops   bytes     ops   bytes      ops       ops
 109K    118M    35.0K   8.16G   26.6K   4.45M     170K      170K  nfs3
65.4K    827M      292    223K   8.82K   2.62M    74.1K     74.1K  nfs4
22.4M   20.1G    1.43M   3.77G   1.76M   3.29G    25.5M     25.5M  /</pre><p>This example uses the <tt>-n</tt> option to provide statistics about the naming operations
for NFS version 3, version 4, and the <tt>root</tt> mount point.</p><pre>% fsstat -n nfs3 nfs4 /
lookup   creat   remov  link   renam  mkdir  rmdir   rddir  symlnk  rdlnk
 35.5M   3.79K      90     2   3.64K      5      0   26.6K      11   136K  nfs3
  454K     403     503     0     101      0      0   8.82K     356  1.20K  nfs4
  259M   25.2K   18.1K   114    1017     10      2   1.76M      12  8.23M  /</pre><p>For more information, see the <a href="http://docs.sun.com/doc/819-2240/fsstat-1m?a=view"><tt>fsstat</tt>(1M)</a> man page.</p>

<a name="rfsrefer-15"></a><h4><tt>mount</tt> Command</h4>
<a name="indexterm-546"></a><p>With this command, you can attach a named file system, either local or
remote, to a specified mount point. For more information, see the <a href="http://docs.sun.com/doc/819-2240/mount-1m?a=view"><tt>mount</tt>(1M)</a>
man page. Used without arguments, <tt>mount</tt> displays a list of file systems
that are currently mounted on your computer. </p><p>Many types of file systems are included in the standard Solaris installation. Each
file-system type has a specific man page that lists the options to
<tt>mount</tt> that are appropriate for that file-system type. The man page for NFS
file systems is <a href="http://docs.sun.com/doc/819-2240/mount-nfs-1m?a=view"><tt>mount_nfs</tt>(1M)</a>. For UFS file systems, see <a href="http://docs.sun.com/doc/819-2240/mount-ufs-1m?a=view"><tt>mount_ufs</tt>(1M)</a>. </p><p>The Solaris 7 release includes the ability to select a path name
to mount from an NFS server by using an NFS URL instead of
the standard <tt>server:/pathname</tt> syntax. See <a href="rfsadmin-61.html#rfsadmin-92">How to Mount an NFS File System Using an NFS URL</a> for further information.</p>
<hr><p><b>Caution - </b>The version of the <tt>mount</tt> command that is included in any Solaris release
from 2.6 to the current release does not warn about invalid options. The
command silently ignores any options that cannot be interpreted. Ensure that you verify
all of the options that were used so that you can prevent unexpected
behavior.</p>
<hr>


<a name="rfsrefer-16"></a><h5><tt>mount</tt> Options for NFS File Systems</h5>
<a name="indexterm-547"></a><p>The subsequent text lists some of the options that can follow the
<tt>-o</tt> flag when you are mounting an NFS file system. For a
complete list of options, refer to the <a href="http://docs.sun.com/doc/819-2240/mount-nfs-1m?a=view"><tt>mount_nfs</tt>(1M)</a> man page. </p><dl><dt>bg|fg</dt>
<dd><p><a name="indexterm-548"></a><a name="indexterm-549"></a><a name="indexterm-550"></a><a name="indexterm-551"></a><a name="indexterm-552"></a><a name="indexterm-553"></a>These options can be used to select the retry behavior if a mount fails. The <tt>bg</tt> option causes the mount attempts to be run in the background. The <tt>fg</tt> option causes the mount attempt to be run in the foreground. The default is <tt>fg</tt>, which is the best selection for file systems that must be available. This option prevents further processing until the mount is complete. <tt>bg</tt> is a good selection for noncritical file systems because the client can do other processing while waiting for the mount request to be completed. </p></dd>
<dt>forcedirectio</dt>
<dd><p><a name="indexterm-554"></a><a name="indexterm-555"></a>This option improves performance of large sequential data transfers. Data is copied directly to a user buffer. No caching is performed in the kernel on the client. This option is off by default. </p><p>Previously, all write requests were serialized by both the NFS client and the NFS server. The NFS client has been modified to permit an application to issue concurrent writes, as well as concurrent reads and writes, to a single file. You can enable this functionality on the client by using the <tt>forcedirectio</tt> mount option. When you use this option, you are enabling this functionality for all files within the mounted file system. You could also enable this functionality on a single file on the client by using the <tt>directio()</tt> interface. Unless this functionality has been enabled, writes to files are serialized. Also, if concurrent writes or concurrent reads and writes are occurring, then POSIX semantics are no longer being supported for that file.</p><p><a name="indexterm-556"></a>For an example of how to use this option, refer to <a href="#rfsrefer-18">Using the <tt>mount</tt> Command</a>.</p></dd>
<dt>largefiles</dt>
<dd><p><a name="indexterm-557"></a>With this option, you can access files that are larger than 2 Gbytes on a server that is running the Solaris 2.6 release. Whether a large file can be accessed can only be controlled on the server, so this option is silently ignored on NFS version 3 mounts. Starting with release 2.6, by default, all UFS file systems are mounted with <tt>largefiles</tt>. For mounts that use the NFS version 2 protocol, the <tt>largefiles</tt> option causes the mount to fail with an error.</p></dd>
<dt>nolargefiles</dt>
<dd><p><a name="indexterm-558"></a>This option for UFS mounts guarantees that no large files can exist on the file system. See the <a href="http://docs.sun.com/doc/819-2240/mount-ufs-1m?a=view"><tt>mount_ufs</tt>(1M)</a> man page. Because the existence of large files can only be controlled on the NFS server, no option for <tt>nolargefiles</tt> exists when using NFS mounts. Attempts to NFS-mount a file system by using this option are rejected with an error.</p></dd>
<dt>nosuid|suid</dt>
<dd><p>Starting in the Solaris 10 release, the <tt>nosuid</tt> option is the equivalent of specifying the <tt>nodevices</tt> option with the <tt>nosetuid</tt> option. When the <tt>nodevices</tt> option is specified, the opening of device-special files on the mounted file system is disallowed. When the <tt>nosetuid</tt> option is specified, the <tt>setuid</tt> bit and <tt>setgid</tt> bit in binary files that are located in the file system are ignored. The processes run with the privileges of the user who executes the binary file.</p><p>The <tt>suid</tt> option is the equivalent of specifying the <tt>devices</tt> option with the <tt>setuid</tt> option. When the <tt>devices</tt> option is specified, the opening of device-special files on the mounted file system is allowed. When the <tt>setuid</tt> option is specified, the <tt>setuid</tt> bit and the <tt>setgid</tt> bit in binary files that are located in the file system are honored by the kernel.</p><p>If neither option is specified, the default option is <tt>suid</tt>, which provides the default behavior of specifying the <tt>devices</tt> option with the <tt>setuid</tt> option.</p><p>The following table describes the effect of combining <tt>nosuid</tt> or <tt>suid</tt> with <tt>devices</tt> or <tt>nodevices</tt>, and <tt>setuid</tt> or <tt>nosetuid</tt>. Note that in each combination of options, the most restrictive option determines the behavior.</p><table><col width="25*"><col width="25*"><col width="25*"><col width="25*"><tr><th align="left" valign="top" scope="column"><p>Behavior From the Combined Options</p></th>
<th align="left" valign="top" scope="column"><p>Option</p></th>
<th align="left" valign="top" scope="column"><p>Option</p></th>
<th align="left" valign="top" scope="column"><p>Option</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>The equivalent of <tt>nosetuid</tt> with <tt>nodevices</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>nosuid</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>nosetuid</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>nodevices</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>The equivalent of <tt>nosetuid</tt> with <tt>nodevices</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>nosuid</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>nosetuid</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>devices</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>The equivalent of <tt>nosetuid</tt> with <tt>nodevices</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>nosuid</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>setuid</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>nodevices</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>The equivalent of <tt>nosetuid</tt> with <tt>nodevices</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>nosuid</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>setuid</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>devices</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>The equivalent of <tt>nosetuid</tt> with <tt>nodevices</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>suid</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>nosetuid</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>nodevices</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>The equivalent of <tt>nosetuid</tt> with <tt>devices</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>suid</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>nosetuid</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>devices</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>The equivalent of <tt>setuid</tt> with <tt>nodevices</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>suid</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>setuid</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>nodevices</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>The equivalent of <tt>setuid</tt> with <tt>devices</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>suid</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>setuid</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>devices</tt></p></td>
</tr>
</table><p>The <tt>nosuid</tt> option provides additional security for NFS clients that access potentially untrusted servers. The mounting of remote file systems with this option reduces the chance of privilege escalation through importing untrusted devices or importing untrusted <tt>setuid</tt> binary files. All these options are available in all Solaris file systems.</p></dd>
<dt>public</dt>
<dd><p><a name="indexterm-559"></a>This option forces the use of the public file handle when contacting the NFS server. If the public file handle is supported by the server, the mounting operation is faster because the MOUNT protocol is not used. Also, because the MOUNT protocol is not used, the public option allows mounting to occur through a firewall.</p></dd>
<dt>rw|ro</dt>
<dd><p><a name="indexterm-560"></a><a name="indexterm-561"></a><a name="indexterm-562"></a><a name="indexterm-563"></a><a name="indexterm-564"></a><a name="indexterm-565"></a><a name="indexterm-566"></a>The <tt>-rw</tt> and <tt>-ro</tt> options indicate whether a file system is to be mounted read-write or read-only. The default is read-write, which is the appropriate option for remote home directories, mail-spooling directories, or other file systems that need to be changed by users. The read-only option is appropriate for directories that should not be changed by users. For example, shared copies of the man pages should not be writable by users. </p></dd>
<dt>sec=<i>mode</i></dt>
<dd><p>You can use this option to specify the authentication mechanism to be used during the mount transaction. The value for <i>mode</i> can be one of the following.</p>
<ul><li><p>Use <tt>krb5</tt> for Kerberos version 5 authentication service.</p></li>
<li><p>Use <tt>krb5i</tt> for Kerberos version 5 with integrity.</p></li>
<li><p>Use <tt>krb5p</tt> for Kerberos version 5 with privacy.</p></li>
<li><p>Use <tt>none</tt> for no authentication.</p></li>
<li><p>Use <tt>dh</tt> for Diffie-Hellman (DH) authentication.</p></li>
<li><p>Use <tt>sys</tt> for standard UNIX authentication.</p></li></ul>
<p>The modes are also defined in <tt>/etc/nfssec.conf</tt>.</p></dd>
<dt>soft|hard</dt>
<dd><p><a name="indexterm-567"></a><a name="indexterm-568"></a>An NFS file system that is mounted with the <tt>soft</tt> option returns an error if the server does not respond. The <tt>hard</tt> option causes the mount to continue to retry until the server responds. The default is <tt>hard</tt>, which should be used for most file systems. Applications frequently do not check return values from <tt>soft</tt>-mounted file systems, which can make the application fail or can lead to corrupted files. If the application does check the return values, routing problems and other conditions can still confuse the application or lead to file corruption if the <tt>soft</tt> option is used. In most situations, the <tt>soft</tt> option should not be used. If a file system is mounted by using the <tt>hard</tt> option and becomes unavailable, an application that uses this file system hangs until the file system becomes available. </p></dd>
</dl>


<a name="rfsrefer-18"></a><h5>Using the <tt>mount</tt> Command</h5>
<p>Refer to the following examples.</p>
<ul><li><p><a name="indexterm-569"></a><a name="indexterm-570"></a><a name="indexterm-571"></a><a name="indexterm-572"></a><a name="indexterm-573"></a><a name="indexterm-574"></a><a name="indexterm-575"></a>In NFS version 2 or version 3, both of these commands mount an NFS file system from the server <tt>bee</tt> read-only.</p><pre># <tt><b>mount -F nfs -r bee:/export/share/man /usr/man</b></tt></pre><pre># <tt><b>mount -F nfs -o ro bee:/export/share/man /usr/man</b></tt></pre><p>In NFS version 4, the following command line would accomplish the same mount.</p><pre># <tt><b>mount -F nfs -o vers=4 -r bee:/export/share/man /usr/man</b></tt></pre></li>
<li><p><a name="indexterm-576"></a><a name="indexterm-577"></a><a name="indexterm-578"></a>In NFS version 2 or version 3, this command uses the <tt>-O</tt> option to force the man pages from the server <tt>bee</tt> to be mounted on the local system even if <tt>/usr/man</tt> has already been mounted. See the following.</p><pre># <tt><b>mount -F nfs -O bee:/export/share/man /usr/man</b></tt></pre><p>In NFS version 4, the following command line would accomplish the same mount.</p><pre># <tt><b>mount -F nfs -o vers=4 -O bee:/export/share/man /usr/man</b></tt></pre></li>
<li><p><a name="indexterm-579"></a><a name="indexterm-580"></a>In NFS version 2 or version 3, this command uses client failover.</p><pre># <tt><b>mount -F nfs -r bee,wasp:/export/share/man /usr/man</b></tt></pre><p><a name="indexterm-581"></a><a name="indexterm-582"></a>In NFS version 4, the following command line uses client failover.</p><pre># <tt><b>mount -F nfs -o vers=4 -r bee,wasp:/export/share/man /usr/man</b></tt></pre>
<hr><p><b>Note - </b>When used from the command line, the listed servers must support the same version of the NFS protocol. Do not use both version 2 and version 3 servers when running <tt>mount</tt> from the command line. You can use both servers with autofs. Autofs automatically selects the best subset of version 2 or version 3 servers.</p>
<hr>
</li>
<li><p><a name="indexterm-583"></a><a name="indexterm-584"></a>Here is an example of using an NFS URL with the <tt>mount</tt> command in NFS version 2 or version 3.</p><pre># <tt><b>mount -F nfs nfs://bee//export/share/man /usr/man</b></tt></pre><p>Here is an example of using an NFS URL with the <tt>mount</tt> command in NFS version 4.</p><pre># <tt><b>mount -F nfs -o vers=4 nfs://bee//export/share/man /usr/man</b></tt></pre></li>
<li><p>Use the <tt>forcedirectio</tt> mount option to enable the client to permit concurrent writes, as well as concurrent reads and writes, to a file. Here is an example. </p><pre># <tt><b>mount -F nfs -o forcedirectio bee:/home/somebody /mnt</b></tt></pre><p>In this example, the command mounts an NFS file system from the server <tt>bee</tt> and enables concurrent reads and writes for each file in the directory <tt>/mnt</tt>. When support for concurrent reads and writes is enabled, the following occurs.</p>
<ul><li><p>The client permits applications to write to a file in parallel.</p></li>
<li><p>Caching is disabled on the client. Consequently, data from reads and writes is kept on the server. More explicitly, because the client does not cache the data that is read or written, any data that the application does not already have cached for itself is read from the server. The client's operating system does not have a copy of this data. Normally, the NFS client caches data in the kernel for applications to use.</p><p>Because caching is disabled on the client, the read-ahead and write-behind processes are disabled. A read-ahead process occurs when the kernel anticipates the data that an application might request next. The kernel then starts the process of gathering that data in advance. The kernel's goal is to have the data ready before the application makes a request for the data.</p><p>The client uses the write-behind process to increase write throughput. Instead of immediately starting an I/O operation every time an application writes data to a file, the data is cached in memory. Later, the data is written to the disk.</p><p>Potentially, the write-behind process permits the data to be written in larger chunks or to be written asynchronously from the application. Typically, the result of using larger chunks is increased throughput. Asynchronous writes permit overlap between application processing and I/O processing. Also, asynchronous writes permit the storage subsystem to optimize the I/O by providing a better sequencing of the I/O. Synchronous writes force a sequence of I/O on the storage subsystem that might not be optimal.</p></li>
<li><p>Significant performance degradation can occur if the application is not prepared to handle the semantics of data that is not being cached. Multithreaded applications avoid this problem.</p></li></ul>

<hr><p><b>Note - </b>If support for concurrent writes is not enabled, all write requests are serialized. When requests are serialized, the following occurs. When a write request is in progress, a second write request has to wait for the first write request to be completed before proceeding.</p>
<hr>
</li>
<li><p><a name="indexterm-585"></a><a name="indexterm-586"></a>Use the <tt>mount</tt> command with no arguments to display file systems that are mounted on a client. See the following.</p><pre>% <tt><b>mount</b></tt>
/ on /dev/dsk/c0t3d0s0 read/write/setuid on Wed Apr 7 13:20:47 2004
/usr on /dev/dsk/c0t3d0s6 read/write/setuid on Wed Apr 7 13:20:47 20041995
/proc on /proc read/write/setuid on Wed Apr 7 13:20:47 2004
/dev/fd on fd read/write/setuid on Wed Apr 7 13:20:47 2004
/tmp on swap read/write on Wed Apr 7 13:20:51 2004
/opt on /dev/dsk/c0t3d0s5 setuid/read/write on Wed Apr 7 13:20:51 20041995
/home/kathys on bee:/export/home/bee7/kathys              
  intr/noquota/nosuid/remote on Wed Apr 24 13:22:13 2004</pre></li></ul>


<a name="rfsrefer-19"></a><h4><tt>umount</tt> Command</h4>
<a name="indexterm-587"></a><p><a name="indexterm-588"></a><a name="indexterm-589"></a>This command enables you to remove a remote file system that is currently
mounted. The <tt>umount</tt> command supports the <tt>-V</tt> option to allow for testing. You
might also use the <tt>-a</tt> option to unmount several file systems at one
time. If <i>mount-points</i> are included with the <tt>-a</tt> option, those file systems are
unmounted. If no mount points are included, an attempt is made to unmount
all file systems that are listed in <tt>/etc/mnttab</tt> except for the &ldquo;required&rdquo; file systems,
such as <tt>/</tt>, <tt>/usr</tt>, <tt>/var</tt>, <tt>/proc</tt>, <tt>/dev/fd</tt>, and <tt>/tmp</tt>. Because the file system
is already mounted and should have an entry in <tt>/etc/mnttab</tt>, you do not
need to include a flag for the file-system type.  </p><p>The <tt>-f</tt> option forces a busy file system to be unmounted. You can
use this option to unhang a client that is hung while trying
to mount an unmountable file system.</p>
<hr><p><b>Caution - </b>By forcing an unmount of a file system, you can cause data loss
if files are being written to.</p>
<hr>
<p>See the following examples.</p><a name="rfsrefer-ex-152"></a>Example&nbsp;6-1 Unmounting a File System<p><a name="indexterm-590"></a>This example unmounts a file system that is mounted on <tt>/usr/man</tt>: </p><pre># <tt><b>umount /usr/man</b></tt></pre><a name="rfsrefer-ex-153"></a>Example&nbsp;6-2 Using Options with <tt>umount</tt><p>This example displays the results of running <tt>umount</tt> <tt>-a -V</tt>: </p><pre># <tt><b>umount -a -V</b></tt>
umount /home/kathys
umount /opt
umount /home
umount /net</pre><p>Notice that this command does not actually unmount the file systems.</p>

<a name="rfsrefer-21"></a><h4><tt>mountall</tt> Command</h4>
<a name="indexterm-591"></a><p>Use this command to mount all file systems or a specific group
of file systems that are listed in a file-system table. The command provides
a way of doing the following:</p>
<ul><li><p>Selecting the file-system type to be accessed with the <tt>-F</tt> <i>FSType</i> option</p></li>
<li><p>Selecting all the remote file systems that are listed in a file-system table with the <tt>-r</tt> option</p></li>
<li><p><a name="indexterm-592"></a>Selecting all the local file systems with the <tt>-l</tt> option</p></li></ul>
<p>Because all file systems that are labeled as NFS file-system type are remote
file systems, some of these options are redundant. For more information, see the
<a href="http://docs.sun.com/doc/819-2240/mountall-1m?a=view"><tt>mountall</tt>(1M)</a> man page.  </p><p>Note that the following two examples of user input are equivalent: </p><pre># <tt><b>mountall -F nfs</b></tt></pre><pre># <tt><b>mountall -F nfs -r</b></tt></pre>

<a name="rfsrefer-23"></a><h4><tt>umountall</tt> Command</h4>
<a name="indexterm-593"></a><p><a name="indexterm-594"></a><a name="indexterm-595"></a><a name="indexterm-596"></a><a name="indexterm-597"></a><a name="indexterm-598"></a><a name="indexterm-599"></a><a name="indexterm-600"></a><a name="indexterm-601"></a><a name="indexterm-602"></a><a name="indexterm-603"></a><a name="indexterm-604"></a><a name="indexterm-605"></a><a name="indexterm-606"></a><a name="indexterm-607"></a>Use this command to unmount a group of file systems. The <tt>-k</tt>
option runs the <tt>fuser</tt> <tt>-k</tt> <i>mount-point</i> command to kill any processes that are associated
with the <i>mount-point</i>. The <tt>-s</tt> option indicates that unmount is not to
be performed in parallel. <tt>-l</tt> specifies that only local file systems are
to be used, and <tt>-r</tt> specifies that only remote file systems are to
be used. The <tt>-h</tt> <i>host</i> option indicates that all file systems from
the named host should be unmounted. You cannot combine the <tt>-h</tt> option with
<tt>-l</tt> or <tt>-r</tt>.         
   </p><p>The following is an example of unmounting all file systems that are mounted
from remote hosts: </p><pre># <tt><b>umountall -r</b></tt></pre><p>The following is an example of unmounting all file systems that are currently
mounted from the server <tt>bee</tt>: </p><pre># <tt><b>umountall -h bee</b></tt></pre>

<a name="gcrvu"></a><h4><tt>sharemgr</tt> Command</h4>
<p>The Solaris Express, Developer Edition 2/07 release includes the <tt>sharemgr</tt> utility, which is an
administrative tool that provides an enhanced method of sharing files and performing related
tasks. Previously, such tasks were accomplished by adding entries to the <tt>/etc/dfs/dfstab</tt> file
and using the <tt>share</tt> command to create a temporary share. You made the share
permanent by rebooting the system or using the <tt>shareall</tt> command. Related administrative tasks
necessitated that you manually edit configuration files. The <tt>sharemgr</tt> utility simplifies this process
by introducing two concepts:</p>
<ul><li><p><b>Share</b> &ndash; One or more files or directories in a share group.</p></li>
<li><p><b>Share group</b> &ndash; A container of one or more shared files or directories. Note the following:</p>
<ul><li><p>Options for <tt>sharemgr</tt> are set to a share group, not to a specific file or directory. All options apply to each file and directory in the group.</p></li>
<li><p>A file or directory can only be assigned to one share group. However, you can move a file or directory from one group to another.</p></li>
<li><p>A share group can be used by multiple file-system types. For example, the share group <tt>my_group</tt> could be used by NFS and ZFS and be assigned one set of options for NFS and another set of options for ZFS.</p>
<hr><p><b>Note - </b>When a share is managed by ZFS, <tt>sharemgr</tt> identifies the share and lists it in a <tt>zfs</tt> share group.</p>
<hr>
</li></ul>
</li></ul>
<p>The <tt>sharemgr</tt> utility accomplishes different tasks by using subcommands. Options and their related
properties can be used with each subcommand. The utility uses the following syntax:</p><pre># sharemgr [subcommand] [option] [share_group]</pre>
<hr><p><b>Note - </b>The <tt>sharemgr</tt> utility provides a unique way of checking the validity of a
desired configuration. The <tt>-n</tt> option allows you to test the validity of the
options and properties you want to use with a specific subcommand. The test
does not change your configuration. For example, if you use the <tt>-n</tt> option
with the subcommand <tt>create</tt>, no share group is created.</p>
<hr>
<p>The following tables describes the subcommands supported by the <tt>sharemgr</tt> utility.</p><a name="gcsrw"></a><h6>Table&nbsp;6-2 Subcommands Supported by <tt>sharemgr</tt></h6><table><col width="34.38*"><col width="65.62*"><tr><th align="left" valign="top" scope="column"><p>Subcommand</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a href="#gcrwl">create</a></p></td>
<td align="left" valign="top" scope="row"><p>Makes (or
creates) a new share group</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a href="#gcrwp">delete</a></p></td>
<td align="left" valign="top" scope="row"><p>Removes a share group</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a href="#gcrvm">list</a></p></td>
<td align="left" valign="top" scope="row"><p>Lists the current share groups</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a href="#gcrvv">show</a></p></td>
<td align="left" valign="top" scope="row"><p>Lists
the shares by share group</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a href="#gcrxg">set</a></p></td>
<td align="left" valign="top" scope="row"><p>Sets a share group's properties, including the group's
security property</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a href="#gcswk">unset</a></p></td>
<td align="left" valign="top" scope="row"><p>Removes (or unsets) properties from a share group</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a href="#gcryf">add-share</a></p></td>
<td align="left" valign="top" scope="row"><p>Adds a new share
to a share group</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a href="#gcrxz">move-share</a></p></td>
<td align="left" valign="top" scope="row"><p>Moves a share from one share group to another</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a href="#gcryv">remove-share</a></p></td>
<td align="left" valign="top" scope="row"><p>Removes
a share from a share group</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a href="#gcrxq">set-share</a></p></td>
<td align="left" valign="top" scope="row"><p>Updates the properties associated with a share</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a href="#gcrys">disable</a></p></td>
<td align="left" valign="top" scope="row"><p>Unshares
one or more share groups</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a href="#gcrxj">enable</a></p></td>
<td align="left" valign="top" scope="row"><p>Shares one or more share groups</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a href="#gcryq">start</a></p></td>
<td align="left" valign="top" scope="row"><p>Used by the
<tt>smf</tt> utility to share one or more share groups</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a href="#gcryx">stop</a></p></td>
<td align="left" valign="top" scope="row"><p>Used by the <tt>smf</tt> utility
to unshare one or more share groups</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a href="#gcrxi">-h</a></p></td>
<td align="left" valign="top" scope="row"><p>Provides online-help descriptions of <tt>sharemgr</tt> and its subcommands
and options, and shows the syntax to use</p></td>
</tr>
</table><p>The following table describes the properties supported by the <tt>sharemgr</tt> utility.</p><a name="gcrwf"></a><h6>Table&nbsp;6-3 Properties Supported by <tt>sharemgr</tt> Utility</h6><table><col width="22.01*"><col width="24.98*"><col width="52.00*"><tr><th align="left" valign="top" scope="column"><p>Property</p></th>
<th align="left" valign="top" scope="column"><p>Value</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>aclok</tt></p></td>
<td align="left" valign="top" scope="row"><p>boolean</p></td>
<td align="left" valign="top" scope="row"><p>Enable access
control lists (ACL) for NFS version 2.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>anon</tt></p></td>
<td align="left" valign="top" scope="row"><p>UID</p></td>
<td align="left" valign="top" scope="row"><p>Specify the User ID for unknown
users.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>index</tt></p></td>
<td align="left" valign="top" scope="row"><p>file path</p></td>
<td align="left" valign="top" scope="row"><p>Include the specified file in a content list for a directory.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>log</tt></p></td>
<td align="left" valign="top" scope="row"><p>tag</p></td>
<td align="left" valign="top" scope="row"><p>Specify
a tag for NFS server logging. Note that these tags are defined in
the <tt>/etc/nfs/nfslog.conf</tt> file.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>nosub</tt></p></td>
<td align="left" valign="top" scope="row"><p>boolean</p></td>
<td align="left" valign="top" scope="row"><p>Disallow clients from mounting subdirectories of shares.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>nosuid</tt></p></td>
<td align="left" valign="top" scope="row"><p>boolean</p></td>
<td align="left" valign="top" scope="row"><p>Disallow the use of
the <tt>setuid()</tt> and <tt>setgid()</tt> functions.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>public</tt></p></td>
<td align="left" valign="top" scope="row"><p>boolean</p></td>
<td align="left" valign="top" scope="row"><p>Move the location of a public file handle
from <tt>root</tt> to an exported directory for WebNFS-enabled  browsers and clients. Only one file
system (or share) on each server can use this property. This property is
not accepted by a share group. For more information, see <a href="http://docs.sun.com/doc/819-2240/share-nfs-1m?a=view"><tt>share_nfs</tt>(1M)</a> man
page.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ro</tt></p></td>
<td align="left" valign="top" scope="row"><p>access-list, boolean, or an asterisk (<tt>*</tt>)</p></td>
<td align="left" valign="top" scope="row"><p>If the property is set to an
access-list, permissions for the list are set to read-only. For information about access
lists, see the <a href="http://docs.sun.com/doc/819-2240/share-nfs-1m?a=view"><tt>share_nfs</tt>(1M)</a> man page.</p><p>If you set the property to no
value or <tt>true</tt>, permissions for the share group are set to read-only.</p><p>If you
set the property to an asterisk (<tt>*</tt>), permissions for all hosts are set
to read-only.</p>
<hr><p><b>Note - </b>To use this property, you must use the <tt>-S</tt> option to set
the security mode. For more information about setting a security mode, see <a href="#gcrxg"><tt>set</tt> Subcommand</a>.</p>
<hr>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>root</tt></p></td>
<td align="left" valign="top" scope="row"><p>access-list
or an asterisk (<tt>*</tt>)</p></td>
<td align="left" valign="top" scope="row"><p>If the property is set to an access-list, permissions
for the list are set to <tt>root</tt> access. For information about access-lists, see the
<a href="http://docs.sun.com/doc/819-2240/share-nfs-1m?a=view"><tt>share_nfs</tt>(1M)</a> man page.</p><p>If you set the property to an asterisk (<tt>*</tt>), all hosts have
<tt>root</tt> access.</p>
<hr><p><b>Note - </b>To use this property, you must use the <tt>-S</tt> option to set
the security mode. For more information about setting a security mode, see <a href="#gcrxg"><tt>set</tt> Subcommand</a>.</p>
<hr>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>rw</tt></p></td>
<td align="left" valign="top" scope="row"><p>access-list,
boolean, or an asterisk (<tt>*</tt>)</p></td>
<td align="left" valign="top" scope="row"><p>If the property is set to an access-list,
permissions for the list are set to read-write. For information about access-lists, see
the <a href="http://docs.sun.com/doc/819-2240/share-nfs-1m?a=view"><tt>share_nfs</tt>(1M)</a> man page.</p><p>If you set the property to no value or
<tt>true</tt>, permissions for the share group are set to read-write.</p><p>If you set the
property to an asterisk (<tt>*</tt>), permissions for all hosts are set to read-write.</p>
<hr><p><b>Note - </b>To
use this property, you must use the <tt>-S</tt> option to set the security
mode. For more information about setting a security mode, see <a href="#gcrxg"><tt>set</tt> Subcommand</a>.</p>
<hr>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>window</tt></p></td>
<td align="left" valign="top" scope="row"><p>integer</p></td>
<td align="left" valign="top" scope="row"><p>For the <tt>dh</tt>
security mode, set the number of seconds a credential is available.</p>
<hr><p><b>Note - </b>To use this
property, you must use the <tt>-S</tt> option to set the security mode. For
more information about setting a security mode, see <a href="#gcrxg"><tt>set</tt> Subcommand</a>.</p>
<hr>
</td>
</tr>
</table>
<hr><p><b>Note - </b><tt>sharemgr</tt> and <tt>sharectl</tt> are the preferred utilities for managing your file systems and
file-sharing protocols.</p>
<hr>
<p>For procedures that use the <tt>sharemgr</tt> utility, see the following:</p>
<ul><li><p><a href="rfsadmin-56.html">Automatic File-System Sharing</a></p></li>
<li><p><a href="rfsadmin-61.html">Mounting File Systems</a></p></li>
<li><p><a href="rfsadmin-96.html">Administering the Secure NFS System</a></p></li></ul>
<p>Also, see the <tt>sharemgr</tt>(1M) man page.</p><p>The <tt>sharectl</tt> utility is an administrative tool that enables you to configure and
manage file-sharing protocols, such as NFS. For more information, see the following:</p>
<ul><li><p><tt>sharectl</tt>(1M) man page</p></li>
<li><p><a href="#gecpc"><tt>sharectl</tt> Command</a>.</p></li></ul>
<p>The sections that follow describe each subcommand for <tt>sharemgr</tt> and provide examples.</p>
<ul><li><p><a href="#gcrwl"><tt>create</tt> Subcommand</a></p></li>
<li><p><a href="#gcrwp"><tt>delete</tt> Subcommand</a></p></li>
<li><p><a href="#gcrvm"><tt>list</tt> Subcommand</a></p></li>
<li><p><a href="#gcrvv"><tt>show</tt> Subcommand</a></p></li>
<li><p><a href="#gcrxg"><tt>set</tt> Subcommand</a></p></li>
<li><p><a href="#gcswk"><tt>unset</tt> Subcommand</a></p></li>
<li><p><a href="#gcryf"><tt>add-share</tt> Subcommand</a></p></li>
<li><p><a href="#gcrxz"><tt>move-share</tt> Subcommand</a></p></li>
<li><p><a href="#gcryv"><tt>remove-share</tt> Subcommand</a></p></li>
<li><p><a href="#gcrxq"><tt>set-share</tt> Subcommand</a></p></li>
<li><p><a href="#gcrxj"><tt>enable</tt> Subcommand</a></p></li>
<li><p><a href="#gcrys"><tt>disable</tt> Subcommand</a></p></li>
<li><p><a href="#gcryq"><tt>start</tt> Subcommand</a></p></li>
<li><p><a href="#gcryx"><tt>stop</tt> Subcommand</a></p></li>
<li><p><a href="#gcrxi"><tt>-h</tt> Feature</a></p></li></ul>


<a name="gcrwl"></a><h5><tt>create</tt> Subcommand</h5>
<p>The <tt>create</tt> subcommand makes (or creates) a share group. After you create a
share group,  use the add-share subcommand to add shares to the
group. Note the following:</p>
<ul><li><p>The group name is restricted to alphanumeric characters, the hyphen (-), and the underscore (_). The first character must be alphabetic.</p></li>
<li><p>By default, a newly created share group is enabled.</p></li>
<li><p>If a file-system type is not specified, all supported protocols are added to the share group.</p></li>
<li><p>When adding options to the share group, you must explicitly define the protocol associated with the options.</p></li></ul>
<p>This subcommand supports the following options:</p><dl><dt><tt>-n</tt></dt>
<dd><p>Checks the validity of a desired configuration.</p></dd>
<dt><tt>-P</tt></dt>
<dd><p>Specifies a file-system type. The default is NFS.</p></dd>
<dt><tt>-p</tt></dt>
<dd><p>Specifies a property for the new share group.</p></dd>
<dt><tt>-h</tt></dt>
<dd><p>Provides an online-help description.</p></dd>
</dl>
<p>The create subcommand uses the following syntax:</p><pre># sharemgr create [-h] [-n] [-P protocol] [-p property=value] share_group</pre><p>The following example creates <tt>my_group</tt> with the following parameters:</p>
<ul><li><p>The share group uses NFS.</p></li>
<li><p>The permissions for the group are set to read-write.</p></li>
<li><p>The functions, <tt>setuid()</tt> and <tt>setgid()</tt>, cannot be used on <tt>my_group</tt>.</p></li></ul>
<pre>example# <tt><b>sharemgr create -P nfs -p rw=true -p nosuid=true my_group</b></tt></pre>

<a name="gcrwp"></a><h5><tt>delete</tt> Subcommand</h5>
<p>This subcommand removes a share group. Before using this option, use the 
<tt>remove-share</tt> subcommand to delete all shares from the group. Alternately, use  the
<tt>-f</tt> option with this subcommand to force the removal of a group that
might still contain shares. The <tt>-f</tt> option unshares and removes all shares from
the share group, so the share group can be removed.</p><p>To remove a protocol from a share group, use the <tt>-P</tt> option. Note
that when using the <tt>-P</tt> option, the share group is not removed. Only
the protocol is removed from the group.</p><p>This subcommand supports the following options:</p><dl><dt><tt>-n</tt></dt>
<dd><p>Checks the validity of command-line string</p></dd>
<dt><tt>-f</tt></dt>
<dd><p>Forces a share group to be removed</p></dd>
<dt><tt>-P</tt></dt>
<dd><p>Specifies a file-system type to be removed from the group</p></dd>
<dt><tt>-h</tt></dt>
<dd><p>Provides an online-help description</p></dd>
</dl>
<p>This subcommand uses the following syntax:</p><pre># sharemgr delete [-h] [-n] [-f] [-P protocol] share_group</pre>

<a name="gcrvm"></a><h5><tt>list</tt> Subcommand</h5>
<p>This subcommand provides a list of current share groups. You can customize the
output by using various options with this subcommand.</p><p>This subcommand supports the following options:</p><dl><dt><tt>-P</tt></dt>
<dd><p>Enables you to see a list of groups that use a specific file-system type.</p></dd>
<dt><tt>-v</tt></dt>
<dd><p>Is the verbose option and provides the following:</p>
<ul><li><p>Group name</p></li>
<li><p>Status of the group, specifically whether the group is enabled or disabled</p></li>
<li><p>File-system type used by the group</p></li></ul>
</dd>
<dt><tt>-h</tt></dt>
<dd><p>Provides an online-help description.</p></dd>
</dl>
<p>This subcommand uses the following syntax:</p><pre># sharemgr list [-h] [-P protocol] [-v]</pre><p>The following example shows the output for the <tt>-v</tt> option:</p><pre>example# <tt><b>sharemgr list -v</b></tt>
group01   enabled    nfs
group02   disabled   nfs</pre>

<a name="gcrvv"></a><h5><tt>show</tt> Subcommand</h5>
<p>This subcommand provides a list of shares by group. By specifying one or
more share groups, you can limit the output to a list of
shares in the specified groups. If no groups are specified, the list shows
the shares in each group.</p><p>This subcommand supports the following options:</p><dl><dt><tt>-p</tt></dt>
<dd><p>Shows you the properties assigned to each group.</p></dd>
<dt><tt>-v</tt></dt>
<dd><p>Is the verbose option. If included, the verbose option provides the resource name and descriptions of each share.</p></dd>
<dt><tt>-x</tt></dt>
<dd><p>Creates an XML file for the output. Because this option automatically includes the information you would get from the <tt>-p</tt> and <tt>-v</tt> options, no other options are needed when you use this option.</p></dd>
<dt><tt>-h</tt></dt>
<dd><p>Provides an online-help description.</p></dd>
</dl>
<p>This subcommand uses the following syntax:</p><pre># sharemgr show [-h] [-v] [-p] [-x] [share_group...]</pre><p>The following example uses the <tt>-p</tt> option to show the shares and group
properties for <tt>my_group</tt>:</p><pre>example01# <tt><b>sharemgr show -p my_group</b></tt>
my_group    nfs=(rw=true nosuid=true)
    /export/home/home0
    /export/home/home1</pre><p>The next example uses the <tt>-v</tt> option to show the shares in <tt>my_group</tt>
and their  descriptions:</p><pre>example02# <tt><b>sharemgr show -v my_group</b></tt>
my_group
    HOME0=/export/home/home0    "Home directory set 0"
    HOME1=/export/home/home1    "Home directory set 1"</pre>

<a name="gcrxg"></a><h5><tt>set</tt> Subcommand</h5>
<p>This subcommand sets properties to a share group. Note the following conditions:</p>
<ul><li><p>If you do not change the protocol currently associated with the group, the previous property value is replaced with the new value.</p></li>
<li><p>If you specify a different protocol for the group, the new properties for the different protocol are added to the existing shares.</p></li></ul>
<p>A group can be associated with more than one protocol and can
have different properties for each protocol.</p><p>This subcommand supports the following options:</p><dl><dt><tt>-n</tt></dt>
<dd><p>Checks the validity of the command-line string.</p></dd>
<dt><tt>-P</tt></dt>
<dd><p>Specifies a file-system type.</p></dd>
<dt><tt>-p</tt></dt>
<dd><p>Specifies a property for the share group.</p></dd>
<dt><tt>-S</tt></dt>
<dd><p>Specifies the security mode, such as <tt>sys</tt>, <tt>dh</tt>, or <tt>krb5</tt>. For more information about security modes, see the <a href="http://docs.sun.com/doc/819-2252/nfssec-5?a=view"><tt>nfssec</tt>(5)</a> man page.</p></dd>
<dt><tt>-s</tt></dt>
<dd><p>Specifies the path to the share, which is a file or a directory.</p></dd>
<dt><tt>-h</tt></dt>
<dd><p>Provides an online-help description.</p></dd>
</dl>
<p>This subcommand uses the following syntax:</p><pre># sharemgr set [-h] [-n] [-P protocol] [-s share-path] [-S security-mode] [-p property=value] share_group</pre><p>The following example sets the user ID for unknown users in <tt>my_group</tt>
to <tt>1234546</tt>:</p><pre>example01# <tt><b>sharemgr set -p anon=123456 my_group</b></tt></pre><p>In the next example, the following occurs:</p>
<ul><li><p><tt>my_group</tt> continues to use NFS.</p></li>
<li><p>Previously, <tt>nosuid</tt> was set to <tt>true</tt>. Because <tt>set</tt> replaces the previous value for <tt>nosuid</tt> with the new value, the functions, <tt>setuid()</tt> and <tt>setgid()</tt>, can now be used on the shares in <tt>my_group</tt>.</p></li>
<li><p>The permissions for the group continue to be set to read-write.</p></li></ul>
<pre>example02# <tt><b>sharemgr create -P nfs -p rw=true -p nosuid=true my_group</b></tt>    
example02# <tt><b>sharemgr set -P nfs -p nosuid=false my_group</b></tt></pre>

<a name="gcswk"></a><h5><tt>unset</tt> Subcommand</h5>
<p>This subcommand removes (or unsets) properties from a share group.</p><p>This subcommand supports the following options:</p><dl><dt><tt>-n</tt></dt>
<dd><p>Checks the validity of the command-line string</p></dd>
<dt><tt>-P</tt></dt>
<dd><p>Specifies the protocol associated with the properties being removed from the group</p></dd>
<dt><tt>-p</tt></dt>
<dd><p>Specifies the property to be removed from the share group</p></dd>
<dt><tt>-s</tt></dt>
<dd><p>Specifies the path to the share, which is a file or a directory.</p></dd>
<dt><tt>-h</tt></dt>
<dd><p>Provides an online-help description</p></dd>
</dl>
<p>This subcommand uses the following syntax:</p><pre># sharemgr unset [-h] [-n] -P protocol [-s share-path] [-p property] share_group</pre>

<a name="gcryf"></a><h5><tt>add-share</tt> Subcommand</h5>
<p>After creating a share group, use this subcommand to add shares to
the group. A share is a path to a file or a directory.
Note that a share can exist in one group only. If you try
to add a share to another group, you will get an error message.</p><p>This subcommand supports the following options:</p><dl><dt><tt>-n</tt></dt>
<dd><p>Checks the validity of the command-line string.</p></dd>
<dt><tt>-s</tt></dt>
<dd><p>Specifies the path to the share, which is a file or a directory.</p></dd>
<dt><tt>-t</tt></dt>
<dd><p>Specifies that the share is transient. Transient shares are automatically removed from the group when you reboot the system or use the <tt>disable</tt> or <tt>stop</tt> subcommands.</p></dd>
<dt><tt>-d</tt></dt>
<dd><p>Adds descriptive text about the share.</p></dd>
<dt><tt>-r</tt></dt>
<dd><p>Assigns the share a resource name that identifies the share. Note that the resource name only uses alphanumeric characters, the hyphen (-), and the underscore (_). The first character in the name must be alphabetic.</p></dd>
<dt><tt>-h</tt></dt>
<dd><p>Provides an online-help description.</p></dd>
</dl>
<p>This subcommand uses the following syntax:</p><pre># sharemgr add-share [-h] [-n] -s share-path [-t] [-d description] [-r resource-name] share_group</pre><p>The following example adds the shares <tt>/export/home/home0</tt> and <tt>/export/home/home1</tt> to <tt>my_group</tt>.</p><pre>example# <tt><b>sharemgr add-share -s /export/home/home0 my_group</b></tt>
example# <tt><b>sharemgr add-share -s /export/home/home1 my_group</b></tt></pre>

<a name="gcrxz"></a><h5><tt>move-share</tt> Subcommand</h5>
<p>Use this subcommand to move a share from one group to another.</p><p>This subcommand supports the following options:</p><dl><dt><tt>-n</tt></dt>
<dd><p>Checks the validity of the command-line string</p></dd>
<dt><tt>-s</tt></dt>
<dd><p>Specifies the path to the share, which is a file or a directory</p></dd>
<dt><tt>-h</tt></dt>
<dd><p>Provides an online-help description</p></dd>
</dl>
<p>This subcommand uses the following syntax:</p><pre># sharemgr move-share [-h] [-n] -s share-path share_group</pre><p>The following example shows a share that was added to <tt>my_group</tt> and then
moved to <tt>your_group</tt>.</p><pre>example# <tt><b>sharemgr add-share -s /export/home/home0 my_group</b></tt>
example# <tt><b>sharemgr move-share -s /export/home/home0 your_group</b></tt></pre>

<a name="gcryv"></a><h5><tt>remove-share</tt> Subcommand</h5>
<p>Use this subcommand to remove a share from a share group.</p><p>This subcommand supports the following options:</p><dl><dt><tt>-n</tt></dt>
<dd><p>Checks the validity of the command-line string</p></dd>
<dt><tt>-s</tt></dt>
<dd><p>Specifies the path to the share, which is a file or a directory</p></dd>
<dt><tt>-h</tt></dt>
<dd><p>Provides an online-help description</p></dd>
</dl>
<p>This subcommand uses the following syntax:</p><pre># sharemgr remove-share [-h] [-n] -s share-path share_group</pre><p>The following example removes the share <tt>/export/home/home0</tt> from <tt>my_group</tt>.</p><pre>example# <tt><b>sharemgr remove-share -s /export/home/home0 my_group</b></tt></pre>

<a name="gcrxq"></a><h5><tt>set-share</tt> Subcommand</h5>
<p>Use this subcommand to change the properties associated with a share. Currently, you
can use this subcommand to change the descriptive text associated with a specific
share.</p><p>This subcommand supports the following options:</p><dl><dt><tt>-n</tt></dt>
<dd><p>Checks the validity of the command-line string.</p></dd>
<dt><tt>-s</tt></dt>
<dd><p>Specifies the path to the share, which is a file or a directory.</p></dd>
<dt><tt>-d</tt></dt>
<dd><p>Adds descriptive text about the share.</p></dd>
<dt><tt>-r</tt></dt>
<dd><p>Assigns the share a resource name that identifies the share. Note that the resource name only uses alphanumeric characters, the hyphen (-), and the underscore (_). The first character in the name must be alphabetic.</p></dd>
<dt><tt>-h</tt></dt>
<dd><p>Provides an online-help description.</p></dd>
</dl>
<p>This subcommand uses the following syntax:</p><pre># sharemgr set-share [-h] [-n] -s share-path [-d description] [-r resource-name] share_group</pre><p>The following example shows how a description is changed.</p><pre>example# <tt><b>sharemgr add-share -s /export/home/home0 -d "original text" my_group</b></tt>
example# <tt><b>sharemgr set-share -s /export/home/home0 -d "new text" my_group</b></tt></pre>

<a name="gcrxj"></a><h5><tt>enable</tt> Subcommand</h5>
<p>Use this subcommand to share (or enable) the shares in the groups
that you specify. Note that the groups you create are enabled by default.
You must use this subcommand to enable a group that has previously been
disabled with the <tt>disable</tt> subcommand.</p>
<hr><p><b>Note - </b>If you specify a protocol, only the groups that are associated with that
protocol are enabled.</p>
<hr>
<p>This subcommand supports the following options:</p><dl><dt><tt>-a</tt></dt>
<dd><p>Specifies all groups</p></dd>
<dt><tt>-n</tt></dt>
<dd><p>Checks the validity of the command-line string</p></dd>
<dt><tt>-P</tt></dt>
<dd><p>Specifies a file-system type</p></dd>
<dt><tt>-h</tt></dt>
<dd><p>Provides an online-help description</p></dd>
</dl>
<p>This subcommand uses the following syntax:</p><pre># sharemgr enable [-h] [-n] [-P protocol] [share_group | -a]</pre><p>The following example shares (or enables) the shares in all groups that use
NFS.</p><pre>example01# <tt><b>sharemgr enable -P NFS -a</b></tt></pre><p>In this next example, all shares in <tt>my_group</tt> are shared (or enabled).</p><pre>example02# <tt><b>sharemgr enable my_group</b></tt></pre>

<a name="gcrys"></a><h5><tt>disable</tt> Subcommand</h5>
<p>Use this subcommand to unshare (or disable) the shares in the groups that
you specify. This subcommand can be reversed by using the <tt>enable</tt> subcommand.</p>
<hr><p><b>Note - </b>If you specify a protocol, only the groups that are associated with that
protocol are disabled.</p>
<hr>
<p>This subcommand supports the following options:</p><dl><dt><tt>-a</tt></dt>
<dd><p>Specifies all groups</p></dd>
<dt><tt>-n</tt></dt>
<dd><p>Checks the validity of the command-line string</p></dd>
<dt><tt>-P</tt></dt>
<dd><p>Specifies a file-system type</p></dd>
<dt><tt>-h</tt></dt>
<dd><p>Provides an online-help description</p></dd>
</dl>
<p>This subcommand uses the following syntax:</p><pre># sharemgr disable [-h] [-P protocol] [share_group | -a]</pre><p>The following example unshares (or disables) the shares in all groups that use
NFS.</p><pre>example01# <tt><b>sharemgr disable -P NFS -a</b></tt></pre><p>In this next example, all shares in <tt>my_group</tt> are unshared (or disabled).</p><pre>example02# <tt><b>sharemgr disable my_group</b></tt></pre>

<a name="gcryq"></a><h5><tt>start</tt> Subcommand</h5>
<p>This subcommand is similar to the <tt>enable</tt> subcommand with these distinctions:</p>
<ul><li><p><tt>start</tt> enables the shares to start sharing in specified groups that have previously been stopped by the <tt>stop</tt> subcommand.</p></li>
<li><p><tt>start</tt> can be used by SMF (Service Management Facility) to enable shares to start sharing in specified groups during a system boot. See the man pages for <a href="http://docs.sun.com/doc/819-2252/smf-5?a=view"><tt>smf</tt>(5)</a> and <a href="http://docs.sun.com/doc/819-2240/svcadm-1m?a=view"><tt>svcadm</tt>(1M)</a>.</p></li>
<li><p><tt>start</tt> works only on groups that are enabled.</p></li></ul>
<p>This subcommand supports the following options:</p><dl><dt><tt>-a</tt></dt>
<dd><p>Specifies all groups</p></dd>
<dt><tt>-h</tt></dt>
<dd><p>Provides an online-help description</p></dd>
</dl>
<a name="gctdc"></a><h6>Table&nbsp;6-4 Two Ways to Start a Share Group</h6><table><col width="50*"><col width="50*"><tr><th align="left" valign="top" scope="column"><p>Using the <tt>start</tt> Subcommand</p></th>
<th align="left" valign="top" scope="column"><p>Using the <tt>svcadm</tt> Command</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>The <tt>start</tt> subcommand uses the following
syntax:</p><pre># sharemgr start [-h] [share-group | -a]</pre><p>The following example enables the shares in all groups to start sharing.</p><pre># <tt><b>sharemgr start -a</b></tt></pre></td>
<td align="left" valign="top" scope="row"><p>The
<tt>svcadm</tt> command uses the following syntax:</p><pre># svcadm start network/shares/group:<i>share-group</i></pre><p>The following example enables the shares in
<tt>my-group</tt> to start sharing.</p><pre># <tt><b>svcadm start network/shares/group:my-group</b></tt></pre></td>
</tr>
</table>

<a name="gcryx"></a><h5><tt>stop</tt> Subcommand</h5>
<p>This subcommand is similar to the <tt>disable</tt> subcommand with these distinctions:</p>
<ul><li><p><tt>stop</tt> unshares the shares in specified groups, and can only be reversed by using the <tt>start</tt> subcommand.</p></li>
<li><p><tt>stop</tt> can be used by SMF (Service Management Facility) to unshare the shares in specified groups during a system shutdown. See the man pages for <a href="http://docs.sun.com/doc/819-2252/smf-5?a=view"><tt>smf</tt>(5)</a> and <a href="http://docs.sun.com/doc/819-2240/svcadm-1m?a=view"><tt>svcadm</tt>(1M)</a>.</p></li>
<li><p><tt>stop</tt> works only on groups that are enabled.</p></li>
<li><p><tt>stop</tt> permanently removes all transient shares.</p></li></ul>
<p>This subcommand supports the following options:</p><dl><dt><tt>-a</tt></dt>
<dd><p>Specifies all groups</p></dd>
<dt><tt>-h</tt></dt>
<dd><p>Provides an online-help description</p></dd>
</dl>
<a name="gctdh"></a><h6>Table&nbsp;6-5 Two Ways to Stop a Share Group</h6><table><col width="50*"><col width="50*"><tr><th align="left" valign="top" scope="column"><p>Using the <tt>stop</tt> Subcommand</p></th>
<th align="left" valign="top" scope="column"><p>Using the <tt>svcadm</tt> Command</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>The <tt>stop</tt> subcommand uses the following
syntax:</p><pre># sharemgr stop [-h] [share-group | -a]</pre><p>The following example unshares the shares in all groups.</p><pre># <tt><b>sharemgr stop -a</b></tt></pre></td>
<td align="left" valign="top" scope="row"><p>The <tt>svcadm</tt> command uses
the following syntax:</p><pre># svcadm stop network/shares/group:<i>share-group</i></pre><p>The following example unshares the shares in <tt>my-group</tt>.</p><pre># <tt><b>svcadm stop network/shares/group:my-group</b></tt></pre></td>
</tr>
</table>

<a name="gcrxi"></a><h5><tt>-h</tt> Feature</h5>
<p>The <tt>sharemgr</tt> utility has an online help feature that describes <tt>sharemgr</tt> and its
subcommands and options, and shows proper syntax. For online help, use <tt>-h</tt>.</p><p>This feature uses the following syntax:</p><pre># sharemgr [subcommand] -h</pre><p>The following example uses <tt>-h</tt> to provide a complete description of the <tt>sharemgr</tt>
utility.</p><pre>example01# <tt><b>sharemgr -h</b></tt>
USAGE: # sharemgr [subcommand] [option] [share_group]

DESCRIPTION: Configures and manages file sharing

SUBCOMMANDS:
create        Makes (or creates) a new share group
delete        Removes a share group
list          Lists the current share groups
show          Lists the shares by share group
set           Sets a share group's properties
unset         Removes (or unsets) properties from a share group
add-share     Adds a new share to a share group
move-share    Moves a share from one share group to another
remove-share  Removes a share from a share group
set-share     Updates the properties associated with a share
disable       Unshares one or more share groups
enable        Shares one or more share groups
start         Used by the smf utility to share one or more share groups
stop          Used by the smf utility to unshare one or more share groups
-h            Online-help feature

SEE ALSO:
sharemgr(1M) man page
System Administration Guide: Network Services</pre><p>This next example uses <tt>-h</tt> to provide information about the <tt>set</tt> subcommand.</p><pre>example02# <tt><b>sharemgr set -h</b></tt>
USAGE: # sharemgr set [-h] [-n] [-P protocol] [-S security-mode] [-p property=value] share_group

DESCRIPTION: Sets a share group's properties

OPTIONS:
-h  Online-help feature
-n  Checks the validity of the command-line string
-P  Specifies a file-system type.
-p  Specifies a property for the share group.
-S  Specifies the security mode, such as sys, dh, or krb5

PROPERTIES:
aclok={true|false}        Enable access control lists (ACL) for NFS version 2.
anon=UID                  Specify the User ID for unknown users.
index=file path           Include the specified file in a content list for a directory.
log=tag                   Specify a tag to use for log messages.
nosub={true|false}        Disallow clients from mounting subdirectories of shares.
nosuid={true|false}       Disallow the use of the setuid() and setgid() functions.
ro={access-list|true|*}   If ro is set to an access-list, permissions for the list
                          are read-only. If ro is set to no value or to true, 
                          permissions for the share group are read-only. If ro
                          is set to an asterisk (*), permissions for all hosts
                          are set to read-only.
root={access-list|*}      If root  is set to an access-list, permissions for the
                          list are set to allow root access. If root is set to
                          an asterisk (*), all hosts have root access.
rw={access-list|true|*}   If rw is set to an access list, permissions for the list
                          are set to read-write. If rw is set to no value or to 
                          true, permissions for the share group are set to 
                          read-write. If rw is set to an asterisk (*), permissions
                          for all hosts are set to read-write.
window=integer            For the dh security mode, set the number of seconds a
                          credential is available.

SEE ALSO:
sharemgr(1M) man page
System Administration Guide: Network Services
nfssec(5) man page for more information about security modes</pre><p>For help, you can also refer to the <tt>sharemgr</tt>(1M) man page.</p>

<a name="gecpc"></a><h4><tt>sharectl</tt> Command</h4>
<p>The Solaris Express, Developer Edition 2/07 release includes the <tt>sharectl</tt> utility, which is an
administrative tool that enables you to configure and manage file-sharing protocols, such as
NFS. You can use this command to do the following:</p>
<ul><li><p>Set client and server operational properties</p></li>
<li><p>Display property values for a specific protocol</p></li>
<li><p>Obtain the status of a protocol</p></li></ul>
<p>The <tt>sharectl</tt> utility uses the following syntax:</p><pre># sharectl subcommand [option] [protocol]</pre><p>The <tt>sharectl</tt> utility supports the following subcommands:</p><a name="gecom"></a><h6>Table&nbsp;6-6 Subcommands for <tt>sharectl</tt> Utility</h6><table><col width="50*"><col width="50*"><tr><th align="left" valign="top" scope="column"><p>Subcommand</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>set</tt></p></td>
<td align="left" valign="top" scope="row"><p>Defines the properties for a file-sharing
protocol. For a list of properties and property values, see the parameters described
in  the <a href="http://docs.sun.com/doc/819-2251/nfs-4?a=view"><tt>nfs</tt>(4)</a> man page.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>get</tt></p></td>
<td align="left" valign="top" scope="row"><p>Displays the properties and property values for the
specified protocol.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>status</tt></p></td>
<td align="left" valign="top" scope="row"><p>Displays whether the specified protocol is enabled or disabled. If no protocol
is specified, the status of all file-sharing protocols is displayed.</p></td>
</tr>
</table>
<hr><p><b>Note - </b><tt>sharemgr</tt> and <tt>sharectl</tt> are the preferred utilities for managing your file systems and
file-sharing protocols.</p>
<hr>
<p>For more information about the <tt>sharectl</tt> utility, see the following:</p>
<ul><li><p><tt>sharectl</tt>(1M) man page</p></li>
<li><p><a href="#gecpf"><tt>set</tt> Subcommand</a></p></li>
<li><p><a href="#gecph"><tt>get</tt> Subcommand</a></p></li>
<li><p><a href="#gecoi"><tt>status</tt> Subcommand</a></p></li></ul>
<p>For information about the <tt>sharemgr</tt> utility, see the following:</p>
<ul><li><p><tt>sharemgr</tt>(1M) man page</p></li>
<li><p><a href="#gcrvu"><tt>sharemgr</tt> Command</a></p></li></ul>


<a name="gecpf"></a><h5><tt>set</tt> Subcommand</h5>
<p>The <tt>set</tt> subcommand, which defines the properties for a file-sharing protocol, supports the
following options:</p><dl><dt><tt>-h</tt></dt>
<dd><p>Provides an online-help description</p></dd>
<dt><tt>-p</tt></dt>
<dd><p>Defines a property for the protocol</p></dd>
</dl>
<p>The <tt>set</tt> subcommand uses the following syntax:</p><pre># sharectl set [-h] [-p property=value] protocol</pre>
<hr><p><b>Note - </b>The following:</p>
<ul><li><p>You must have <tt>root</tt> privileges to use the <tt>set</tt> subcommand.</p></li>
<li><p>You do not need to repeat this command-line syntax for each additional property value. You can use the <tt>-p</tt> option multiple times to define multiple properties on the same command line.</p></li></ul>

<hr>
<p>The following example sets the minimum version of the NFS protocol for the
client to <tt>3</tt>:</p><pre># <tt><b>sharectl set -p nfs_client_versmin=3 nfs</b></tt></pre>

<a name="gecph"></a><h5><tt>get</tt> Subcommand</h5>
<p>The <tt>get</tt> subcommand, which displays the properties and property values for the specified
protocol, supports the following options:</p><dl><dt><tt>-h</tt></dt>
<dd><p>Provides an online-help description.</p></dd>
<dt><tt>-p</tt></dt>
<dd><p>Identifies the property value for the specified property. If the <tt>-p</tt> option is not used, all property values are displayed.</p></dd>
</dl>
<p>The <tt>get</tt> subcommand uses the following syntax:</p><pre># sharectl get [-h] [-p property] protocol</pre>
<hr><p><b>Note - </b>You must have <tt>root</tt> privileges to use the <tt>get</tt> subcommand.</p>
<hr>
<p>The following example uses <tt>nfsd_servers</tt>, which is the property that enables you to
specify the maximum number of concurrent NFS requests:</p><pre># <tt><b>sharectl get -p nfsd_servers nfs</b></tt>
nfsd_servers=<tt><b>16</b></tt></pre><p>In the following example, because the <tt>-p</tt> option is not used, all property
values are displayed:</p><pre># <tt><b>sharectl get nfs</b></tt>
listen_backlog=32
protocol=ALL
servers=32
lockd_listen_backlog=32
lockd_servers=20
lockd_retransmit_timeout=5
grace_period=90
nfsmapid_domain=company.com
server_versmin=2
server_versmax=4
client_versmin=2
client_versmax=4
max_connections=-1</pre>

<a name="gecoi"></a><h5><tt>status</tt> Subcommand</h5>
<p>The <tt>status</tt> subcommand, which displays whether the specified protocol is enabled or disabled,
supports the following option:</p><dl><dt><tt>-h</tt></dt>
<dd><p>Provides an online-help description</p></dd>
</dl>
<p>The <tt>status</tt> subcommand uses the following syntax:</p><pre># sharectl status [-h] [protocol]</pre><p>The following example shows the status of the NFS protocol:</p><pre># <tt><b>sharectl status nfs</b></tt>
nfs       enabled</pre>

<a name="rfsrefer-25"></a><h4><tt>share</tt> Command</h4>
<a name="indexterm-608"></a>
<hr><p><b>Note - </b>Starting with the Solaris Express, Developer Edition 2/07 release, <tt>sharemgr</tt> and <tt>sharectl</tt> are
the preferred utilities for managing your file systems and file-sharing protocols. See <a href="#gcrvu"><tt>sharemgr</tt> Command</a>
and <a href="#gecpc"><tt>sharectl</tt> Command</a></p>
<hr>
<p><a name="indexterm-609"></a>With this command, you can make a local file system on an
NFS server available for mounting. You can also use the <tt>share</tt> command to display
a list of the file systems on your system that are currently
shared. The NFS server must be running for the <tt>share</tt> command to work. The
NFS server software is started automatically during boot if an entry is in
<tt>/etc/dfs/dfstab</tt>. The command does not report an error if the NFS server software
is not running, so you must verify that the software is running. 
</p><p>The objects that can be shared include any directory tree. However, each file
system hierarchy is limited by the disk slice or partition that the file
system is located on. For instance, sharing the root (<tt>/</tt>) file system would
not also share <tt>/usr</tt>, unless these directories are on the same disk partition
or slice. Normal installation places root on slice 0 and <tt>/usr</tt> on slice
6. Also, sharing <tt>/usr</tt> would not share any other local disk partitions that
are mounted on subdirectories of <tt>/usr</tt>.</p><p>A file system cannot be shared if that file system is part
of a larger file system that is already being shared. For example, if
<tt>/usr</tt> and <tt>/usr/local</tt> are on one disk slice, <tt>/usr</tt> can be shared or
<tt>/usr/local</tt> can be shared. However, if both directories need to be shared with
different share options, <tt>/usr/local</tt> must be moved to a separate disk slice.</p><p><a name="indexterm-610"></a><a name="indexterm-611"></a><a name="indexterm-612"></a><a name="indexterm-613"></a>You can gain access to a file system that is read-only shared through
the file handle of a file system that is read-write shared. However, the
two file systems have to be on the same disk slice. You
can create a more secure situation. Place those file systems that need to
be read-write on a separate partition or separate disk slice from the file
systems that you need to share as read-only.     </p>
<hr><p><b>Note - </b>For information about how NFS version 4 functions when a file system is
unshared and then reshared, refer to <a href="rfsrefer-45.html#rfsrefer-148">Unsharing and Resharing a File System in NFS Version 4</a>.</p>
<hr>


<a name="rfsrefer-26"></a><h5>Non-File-System-Specific <tt>share</tt> Options</h5>
<p><a name="indexterm-614"></a><a name="indexterm-615"></a><a name="indexterm-616"></a>Some of the options that you can include with the <tt>-o</tt> flag are
as follows.  </p><dl><dt>rw|ro</dt>
<dd><p><a name="indexterm-617"></a><a name="indexterm-618"></a><a name="indexterm-619"></a><a name="indexterm-620"></a><a name="indexterm-621"></a><a name="indexterm-622"></a>The <i>pathname</i> file system is shared read-write or read-only for all clients. </p></dd>
<dt>rw=<i>accesslist</i></dt>
<dd><p><a name="indexterm-623"></a><a name="indexterm-624"></a>The file system is shared read-write for the clients that are listed only. All other requests are denied. Starting with the Solaris 2.6 release, the list of clients that are defined in <i>accesslist</i> has been expanded. See <a href="#rfsrefer-27">Setting Access Lists With the <tt>share</tt> Command</a> for more information. You can use this option to override an <tt>-ro</tt> option. </p></dd>
</dl>


<a name="rfsrefer-103"></a><h5>NFS-Specific <tt>share</tt> Options</h5>
<p>The options that you can use with NFS file systems include the
following.</p><dl><dt>aclok</dt>
<dd><p>This option enables an NFS server that supports the NFS version 2 protocol to be configured to do access control for NFS version 2 clients. Without this option, all clients are given minimal access. With this option, the clients have maximal access. For instance, on file systems that are shared with the <tt>-aclok</tt> option, if anyone has read permissions, everyone does. However, without this option, you can deny access to a client who should have access permissions. A decision to permit too much access or too little access depends on the security systems already in place. See <a href="http://docs.sun.com/doc/819-3321/secfile-37?a=view">Using Access Control Lists to Protect Files in <i>System Administration Guide: Security Services</i></a> for more information about access control lists (ACLs).</p>
<hr><p><b>Note - </b>To use ACLs, ensure that clients and servers run software that supports the NFS version 3 and NFS_ACL protocols. If the software only supports the NFS version 3 protocol, clients obtain correct access but cannot manipulate the ACLs. If the software supports the NFS_ACL protocol, the clients obtain correct access and can manipulate the ACLs. Starting with the Solaris 2.5 release, the Solaris system supports both protocols.</p>
<hr>
</dd>
<dt>anon=<i>uid</i></dt>
<dd><p><a name="indexterm-625"></a><a name="indexterm-626"></a>You use <i>uid</i> to select the user ID of unauthenticated users. If you set <i>uid</i> to <tt>-1</tt>, the server denies access to unauthenticated users. You can grant root access by setting <tt>anon=0</tt>, but this option allows unauthenticated users to have root access, so use the <tt>root</tt> option instead.  </p></dd>
<dt>index=<i>filename</i></dt>
<dd><p>When a user accesses an NFS URL, the <tt>-index=</tt><i>filename</i> option forces the HTML file to load, instead of displaying a list of the directory. This option mimics the action of current browsers if an <tt>index.html</tt> file is found in the directory that the HTTP URL is accessing. This option is the equivalent of setting the <tt>DirectoryIndex</tt> option for <tt>httpd</tt>. For instance, suppose that the <tt>dfstab</tt> file entry resembles the following:</p><pre>share -F nfs -o ro,public,index=index.html /export/web</pre><p>These URLs then display the same information:</p><pre>nfs://&lt;<i>server</i>>/&lt;<i>dir</i>>
nfs://&lt;<i>server</i>>/&lt;<i>dir</i>>/index.html
nfs://&lt;<i>server</i>>//export/web/&lt;<i>dir</i>>
nfs://&lt;<i>server</i>>//export/web/&lt;<i>dir</i>>/index.html
http://&lt;<i>server</i>>/&lt;<i>dir</i>>
http://&lt;<i>server</i>>/&lt;<i>dir</i>>/index.html</pre></dd>
<dt>log=<i>tag</i></dt>
<dd><p><a name="indexterm-627"></a>This option specifies the tag in <tt>/etc/nfs/nfslog.conf</tt> that contains the NFS server logging configuration information for a file system. This option must be selected to enable NFS server logging. </p></dd>
<dt>nosuid</dt>
<dd><p><a name="indexterm-628"></a><a name="indexterm-629"></a><a name="indexterm-630"></a>This option signals that all attempts to enable the <tt>setuid</tt> or <tt>setgid</tt> mode should be ignored. NFS clients cannot create files with the <tt>setuid</tt> or <tt>setgid</tt> bits on. </p></dd>
<dt>public</dt>
<dd><p>The <tt>-public</tt> option has been added to the <tt>share</tt> command to enable WebNFS browsing. Only one file system on a server can be shared with this option.</p></dd>
<dt>root=<i>accesslist</i></dt>
<dd><p><a name="indexterm-631"></a><a name="indexterm-632"></a>The server gives root access to the hosts in the list. By default, the server does not give root access to any remote hosts. If the selected security mode is anything other than <tt>-sec=sys</tt>, you can only include client host names in the <i>accesslist</i>. Starting with the Solaris 2.6 release, the list of clients that are defined in <i>accesslist</i> is expanded. See <a href="#rfsrefer-27">Setting Access Lists With the <tt>share</tt> Command</a> for more information. </p>
<hr><p><b>Caution - </b><a name="indexterm-633"></a><a name="indexterm-634"></a><a name="indexterm-635"></a>Granting root access to other hosts has wide security implications. Use the <tt>-root=</tt> option with extreme caution. </p>
<hr>
</dd>
<dt>root=<i>client-name</i></dt>
<dd><p>The <i>client-name</i> value is used with AUTH_SYS authentication to check the client's IP address against a list of addresses provided by <a href="http://docs.sun.com/doc/819-2239/exportfs-1b?a=view"><tt>exportfs</tt>(1B)</a>.  If a match is found, <tt>root</tt> access is given to the file systems being shared.</p></dd>
<dt>root=<i>host-name</i></dt>
<dd><p>For secure NFS modes, such as AUTH_SYS or RPCSEC_GSS, the server checks the clients' principal names against a list of host-based principal names that are derived from an access list. The generic syntax for the client's principal name is <tt>root@</tt><i>hostname</i>. For Kerberos V the syntax is <tt>root/</tt><i>hostname.fully.qualified</i><tt>@REALM</tt>. When you use the <i>host-name</i> value, the clients on the access list must have the credentials for a principal name. For Kerberos V, the client must have a valid keytab entry for its <tt>root/</tt><i>hostname.fully.qualified</i><tt>@REALM</tt> principal name. For more information, see <a href="http://docs.sun.com/doc/819-3321/setup-148?a=view">Configuring Kerberos Clients in <i>System Administration Guide: Security Services</i></a>.</p></dd>
<dt>sec=<i>mode</i>[:<i>mode</i>]</dt>
<dd><p><i>mode</i> selects the security modes that are needed to obtain access to the file system. By default, the security mode is UNIX authentication. You can specify multiple modes, but use each security mode only once per command line. Each <tt>-mode</tt> option applies to any subsequent <tt>-rw</tt>, <tt>-ro</tt>, <tt>-rw=</tt>, <tt>-ro=</tt>, <tt>-root=</tt>, and <tt>-window=</tt> options until another <tt>-mode</tt> is encountered. The use of <tt>-sec=none</tt> maps all users to user <tt>nobody</tt>.</p></dd>
<dt>window=<i>value</i></dt>
<dd><p><i>value</i> selects the maximum lifetime in seconds of a credential on the NFS server. The default value is 30000 seconds or 8.3 hours.</p></dd>
</dl>


<a name="rfsrefer-27"></a><h5>Setting Access Lists With the <tt>share</tt> Command</h5>
<p>In Solaris releases prior to 2.6, the <i>accesslist</i> that was included with either
the <tt>-ro=</tt>, <tt>-rw=</tt>, or <tt>-root=</tt> option of the <tt>share</tt> command was restricted to
a list of host names or netgroup names. Starting with the Solaris
2.6 release, the access list can also include a domain name, a subnet
number, or an entry to deny access. These extensions should simplify file access
control on a single server without having to change the namespace or maintain
long lists of clients.</p><p><a name="indexterm-636"></a><a name="indexterm-637"></a><a name="indexterm-638"></a><a name="indexterm-639"></a><a name="indexterm-640"></a><a name="indexterm-641"></a>This command provides read-only access for most systems but allows read-write access for
<tt>rose</tt> and <tt>lilac</tt>:      </p><pre># <tt><b>share -F nfs -o ro,rw=rose:lilac /usr/src</b></tt></pre><p><a name="indexterm-642"></a><a name="indexterm-643"></a><a name="indexterm-644"></a>In the next example, read-only access is assigned to any host in the
<tt>eng</tt> netgroup. The client <tt>rose</tt> is specifically given read-write access.   </p><pre># <tt><b>share -F nfs -o ro=eng,rw=rose /usr/src</b></tt></pre>
<hr><p><b>Note - </b>You cannot specify both <tt>rw</tt> and <tt>ro</tt> without arguments. If no read-write option
is specified, the default is read-write for all clients.</p>
<hr>
<p>To share one file system with multiple clients, you must type all
options on the same line. Multiple invocations of the <tt>share</tt> command on the same
object &ldquo;remember&rdquo; only the last command that is run. This command enables read-write
access to three client systems, but only <tt>rose</tt> and <tt>tulip</tt> are given
access to the file system as <tt>root</tt>.</p><pre># <tt><b>share -F nfs -o rw=rose:lilac:tulip,root=rose:tulip /usr/src</b></tt></pre><p>When sharing a file system that uses multiple authentication mechanisms, ensure that you
include the <tt>-ro</tt>, <tt>-ro=</tt>, <tt>-rw</tt>, <tt>-rw=</tt>, <tt>-root</tt>, and <tt>-window</tt> options after the correct
security modes. In this example, UNIX authentication is selected for all hosts in
the netgroup that is named <tt>eng</tt>. These hosts can only mount the file
system in read-only mode. The hosts <tt>tulip</tt> and <tt>lilac</tt> can mount the
file system read-write if these hosts use Diffie-Hellman authentication. With these options, <tt>tulip</tt>
and <tt>lilac</tt> can mount the file system read-only even if these hosts are
not using DH authentication. However, the host names must be listed in the
<tt>eng</tt> netgroup. </p><pre># <tt><b>share -F nfs -o sec=dh,rw=tulip:lilac,sec=sys,ro=eng /usr/src</b></tt></pre><p>Even though UNIX authentication is the default security mode, UNIX authentication is not
included if the <tt>-sec</tt> option is used. Therefore, you must include a <tt>-sec=sys</tt>
option if UNIX authentication is to be used with any other authentication mechanism.</p><p>You can use a DNS domain name in the access list by
preceding the actual domain name with a dot. The string that follows the
dot is a domain name, not a fully qualified host name. The following
entry allows mount access to all hosts in the <tt>eng.example.com</tt> domain:</p><pre># <tt><b>share -F nfs -o ro=.:.eng.example.com /export/share/man</b></tt></pre><p>In this example, the single &ldquo;<tt>.</tt>&rdquo; matches all hosts that are matched through
the NIS or NIS+ namespaces.  The results that are returned from these
name services do not include the domain name. The &ldquo;<tt>.eng.example.com</tt>&rdquo; entry matches all
hosts that use DNS for namespace resolution. DNS always returns a fully qualified host
name. So, the longer entry is required if you use a combination
of DNS and the other namespaces.</p><p>You can use a subnet number in an access list by preceding
the actual network number or the network name with &ldquo;<tt>@</tt>&rdquo;. This character differentiates the
network name from a netgroup or a fully qualified host name. You must
identify the subnet in either <tt>/etc/networks</tt> or in an NIS or NIS+
namespace. The following entries have the same effect if the <tt>192.168</tt> subnet has
been identified as the <tt>eng</tt> network:</p><pre># <tt><b>share -F nfs -o ro=@eng /export/share/man</b></tt>
# <tt><b>share -F nfs -o ro=@192.168 /export/share/man</b></tt>
# <tt><b>share -F nfs -o ro=@192.168.0.0 /export/share/man</b></tt></pre><p>The last two entries show that you do not need to include
the full network address.</p><p>If the network prefix is not byte aligned, as with Classless Inter-Domain Routing
(CIDR), the mask length can be explicitly specified on the command line. The
mask length is defined by following either the network name or the network
number with a slash and the number of significant bits in the
prefix of the address. For example:</p><pre># <tt><b>share -f nfs -o ro=@eng/17 /export/share/man</b></tt>
# <tt><b>share -F nfs -o ro=@192.168.0/17 /export/share/man</b></tt></pre><p>In these examples, the &ldquo;<tt>/17</tt>&rdquo; indicates that the first 17 bits in the
address are to be used as the mask. For additional information about CIDR,
look up RFC 1519.</p><p>You can also select negative access by placing a &ldquo;<tt>-</tt>&rdquo; before the entry.
Note that the entries are read from left to right. Therefore, you must
place the negative access entries before the entry that the negative access entries
apply to:</p><pre># <tt><b>share -F nfs -o ro=-rose:.eng.example.com /export/share/man</b></tt></pre><p>This example would allow access to any hosts in the <tt>eng.example.com</tt> domain
except the host that is named <tt>rose</tt>.</p>

<a name="rfsrefer-28"></a><h4><tt>unshare</tt> Command</h4>
<a name="indexterm-645"></a><p><a name="indexterm-646"></a>This command allows you to make a previously available file system unavailable for
mounting by clients. You can use the <tt>unshare</tt> command to unshare any file
system, whether the file system was shared explicitly with the <tt>share</tt> command or
automatically through <tt>/etc/dfs/dfstab</tt>. If you use the <tt>unshare</tt> command to unshare a file
system that you shared through the <tt>dfstab</tt> file, be careful. Remember that the
file system is shared again when you exit and reenter run level 3.
You must remove the entry for this file system from the <tt>dfstab</tt>
file if the change is to continue.  </p><p>When you unshare an NFS file system, access from clients with existing mounts
is inhibited. The file system might still be mounted on the client, but
the files are not accessible.</p>
<hr><p><b>Note - </b>For information about how NFS version 4 functions when a file system is
unshared and then reshared, refer to <a href="rfsrefer-45.html#rfsrefer-148">Unsharing and Resharing a File System in NFS Version 4</a>.</p>
<hr>
<p>The following is an example of unsharing a specific file system:</p><pre># <tt><b>unshare /usr/src</b></tt></pre>

<a name="rfsrefer-30"></a><h4><tt>shareall</tt> Command</h4>
<a name="indexterm-647"></a><a name="indexterm-648"></a><p>This command allows for multiple file systems to be shared. When used with
no options, the command shares all entries in <tt>/etc/dfs/dfstab</tt>. You can include a
file name to specify the name of a file that lists <tt>share</tt>
command lines. If you do not include a file name, <tt>/etc/dfs/dfstab</tt> is
checked. If you use a &ldquo;<tt>-</tt>&rdquo; to replace the file name, you can
type <tt>share</tt> commands from standard input. </p><p>The following is an example of sharing all file systems that are
listed in a local file: </p><pre># <tt><b>shareall /etc/dfs/special_dfstab</b></tt></pre>

<a name="rfsrefer-32"></a><h4><tt>unshareall</tt> Command</h4>
<a name="indexterm-649"></a><p><a name="indexterm-650"></a><a name="indexterm-651"></a><a name="indexterm-652"></a><a name="indexterm-653"></a>This command makes all currently shared resources unavailable. The <tt>-F</tt> <i>FSType</i> option selects
a list of file-system types that are defined in <tt>/etc/dfs/fstypes</tt>. This flag enables you
to choose only certain types of file systems to be unshared. The default
file-system type is defined in <tt>/etc/dfs/fstypes</tt>. To choose specific file systems, use the
<tt>unshare</tt> command.    </p><p>The following is an example of unsharing all NFS-type file systems:</p><pre># <tt><b>unshareall -F nfs</b></tt></pre>

<a name="rfsrefer-34"></a><h4><tt>showmount</tt> Command</h4>
<p>This command displays one of the following:</p>
<ul><li><p>All clients that have remotely mounted file systems that are shared from an NFS server</p></li>
<li><p>Only the file systems that are mounted by clients</p></li>
<li><p>The shared file systems with the client access information</p></li></ul>

<hr><p><b>Note - </b>The <tt>showmount</tt> command only shows NFS version 2 and version 3 exports. This
command does not show NFS version 4 exports.</p>
<hr>
<p><a name="indexterm-654"></a><a name="indexterm-655"></a><a name="indexterm-656"></a><a name="indexterm-657"></a><a name="indexterm-658"></a>The command syntax is as follows: </p><p><tt>showmount</tt> <tt>[</tt> <tt>-ade</tt> <tt>]</tt> <tt>[</tt> <b>hostname</b> <tt>]</tt></p><dl><dt><tt>-a</tt></dt>
<dd><p>Prints a list of all the remote mounts. Each entry includes the client name and the directory.</p></dd>
<dt><tt>-d</tt></dt>
<dd><p>Prints a list of the directories that are remotely mounted by clients.</p></dd>
<dt><tt>-e</tt></dt>
<dd><p>Prints a list of the files that are shared or are exported.</p></dd>
<dt><i>hostname</i></dt>
<dd><p>Selects the NFS server to gather the information from.</p></dd>
</dl>
<p><a name="indexterm-659"></a><a name="indexterm-660"></a><a name="indexterm-661"></a><a name="indexterm-662"></a><a name="indexterm-663"></a>If <i>hostname</i> is not specified, the local host is queried.   
 </p><p>The following command lists all clients and the local directories that the clients
have mounted:</p><pre># <tt><b>showmount -a bee</b></tt>
lilac:/export/share/man
lilac:/usr/src
rose:/usr/src
tulip:/export/share/man</pre><p>The following command lists the directories that have been mounted:</p><pre># <tt><b>showmount -d bee</b></tt>
/export/share/man
/usr/src</pre><p>The following command lists file systems that have been shared:</p><pre># <tt><b>showmount -e bee</b></tt>
/usr/src                                (everyone)
/export/share/man                    eng</pre>

<a name="rfsrefer-36"></a><h4><tt>setmnt</tt> Command</h4>
<a name="indexterm-664"></a><p><a name="indexterm-665"></a><a name="indexterm-666"></a>This command creates an <tt>/etc/mnttab</tt> table. The <tt>mount</tt> and <tt>umount</tt> commands consult the table.
Generally, you do not have to run this command manually, as this command
runs automatically when a system is booted.  </p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="rfsrefer-8.html">Previous</a>
             </td>
             <td align="right">
                 <a href="rfsrefer-37.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

