<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Changes From Version 8.12 of <tt>sendmail</tt> - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Network Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="evemx.html">Previous</a>
             </td>
             <td align="right">
                 <a href="modemtm-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="netservices-1.html">Part&nbsp;I&nbsp;Network Services Topics</a></p>
<p class="toc level2"><a href="nsov-1.html">1.&nbsp;&nbsp;Network Service (Overview)</a></p>
<p class="toc level2"><a href="nca-1.html">2.&nbsp;&nbsp;Managing Web Cache Servers</a></p>
<p class="toc level2"><a href="time-1.html">3.&nbsp;&nbsp;Time-Related Services</a></p>
<p class="toc level1 tocsp"><a href="rfstm-1.html">Part&nbsp;II&nbsp;Accessing Network File Systems Topics</a></p>
<p class="toc level2"><a href="rfsintro-2.html">4.&nbsp;&nbsp;Managing Network File Systems (Overview)</a></p>
<p class="toc level2"><a href="rfsadmin-8.html">5.&nbsp;&nbsp;Network File System Administration (Tasks)</a></p>
<p class="toc level2"><a href="rfsrefer-1.html">6.&nbsp;&nbsp;Accessing Network File Systems (Reference)</a></p>
<p class="toc level1 tocsp"><a href="slptm.html">Part&nbsp;III&nbsp;SLP Topics</a></p>
<p class="toc level2"><a href="slparch-16.html">7.&nbsp;&nbsp;SLP (Overview)</a></p>
<p class="toc level2"><a href="slp.setup-10.html">8.&nbsp;&nbsp;Planning and Enabling SLP (Tasks)</a></p>
<p class="toc level2"><a href="ch.configuration-6.html">9.&nbsp;&nbsp;Administering SLP (Tasks)</a></p>
<p class="toc level2"><a href="legacy-7.html">10.&nbsp;&nbsp;Incorporating Legacy Services</a></p>
<p class="toc level2"><a href="slpreference.html">11.&nbsp;&nbsp;SLP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="mailtm-1.html">Part&nbsp;IV&nbsp;Mail Services Topics</a></p>
<p class="toc level2"><a href="mailintro-1.html">12.&nbsp;&nbsp;Mail Services (Overview)</a></p>
<p class="toc level2"><a href="mailadmin-1.html">13.&nbsp;&nbsp;Mail Services (Tasks)</a></p>
<p class="toc level2"><a href="mailrefer-1.html">14.&nbsp;&nbsp;Mail Services (Reference)</a></p>
<p class="toc level3"><a href="mailrefer-75.html">Solaris Version of <tt>sendmail</tt></a></p>
<p class="toc level3"><a href="mailrefer-53.html">Software and Hardware Components of Mail Services</a></p>
<p class="toc level3"><a href="mailrefer-45.html">Mail Service Programs and Files</a></p>
<p class="toc level3"><a href="mailrefer-14.html">Mail Addresses and Mail Routing</a></p>
<p class="toc level3"><a href="mailrefer-24.html">Interactions of <tt>sendmail</tt> With Name Services</a></p>
<p class="toc level3"><a href="evemx.html">Changes in Version 8.13 of <tt>sendmail</tt></a></p>
<div class="onpage">
<p class="toc level3"><a href="">Changes From Version 8.12 of <tt>sendmail</tt></a></p>
</div>
<p class="toc level1 tocsp"><a href="modemtm-1.html">Part&nbsp;V&nbsp;Serial Networking Topics</a></p>
<p class="toc level2"><a href="pppsvrconfig.intro-1.html">15.&nbsp;&nbsp;Solaris PPP 4.0 (Overview)</a></p>
<p class="toc level2"><a href="pppsvrconfig.p2plink-1.html">16.&nbsp;&nbsp;Planning for the PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.dialin-1.html">17.&nbsp;&nbsp;Setting Up a Dial-up PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.leased-1.html">18.&nbsp;&nbsp;Setting Up a Leased-Line PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.auth-1.html">19.&nbsp;&nbsp;Setting Up PPP Authentication (Tasks)</a></p>
<p class="toc level2"><a href="ppp.pppoe-1.html">20.&nbsp;&nbsp;Setting Up a PPPoE Tunnel (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.troubleshoot-1.html">21.&nbsp;&nbsp;Fixing Common PPP Problems (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.reference-1.html">22.&nbsp;&nbsp;Solaris PPP 4.0 (Reference)</a></p>
<p class="toc level2"><a href="pppsvrconfig.convert.app-1.html">23.&nbsp;&nbsp;Migrating From Asynchronous Solaris PPP to Solaris PPP 4.0 (Tasks)</a></p>
<p class="toc level2"><a href="uucpov-1.html">24.&nbsp;&nbsp;UUCP (Overview)</a></p>
<p class="toc level2"><a href="uucptasks-1.html">25.&nbsp;&nbsp;Administering UUCP (Tasks)</a></p>
<p class="toc level2"><a href="uucpref-1.html">26.&nbsp;&nbsp;UUCP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="wwrstm.html">Part&nbsp;VI&nbsp;Working With Remote Systems Topics</a></p>
<p class="toc level2"><a href="wwrsov.html">27.&nbsp;&nbsp;Working With Remote Systems (Overview)</a></p>
<p class="toc level2"><a href="wuftp-17.html">28.&nbsp;&nbsp;Administering the FTP Server (Tasks)</a></p>
<p class="toc level2"><a href="remotehowtoaccess-99941.html">29.&nbsp;&nbsp;Accessing Remote Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="netmonitortm-1.html">Part&nbsp;VII&nbsp;Monitoring Network Services Topics</a></p>
<p class="toc level2"><a href="netmonitor-1.html">30.&nbsp;&nbsp;Monitoring Network Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="mailrefer-105"></a><h3>Changes From Version 8.12 of <tt>sendmail</tt></h3>
<p><a name="indexterm-1511"></a><a name="indexterm-1512"></a>This section contains information about the following topics.</p>
<ul><li><p><a href="#mailrefer-125">Support for TCP Wrappers From Version 8.12 of <tt>sendmail</tt></a></p></li>
<li><p><a href="#mailrefer-106"><tt>submit.cf</tt> Configuration File From Version 8.12 of <tt>sendmail</tt></a></p></li>
<li><p><a href="#mailrefer-109">Additional or Deprecated Command-Line Options From Version 8.12 of <tt>sendmail</tt></a></p></li>
<li><p><a href="#mailrefer-110">Additional Arguments for the <tt>PidFile</tt> and <tt>ProcessTitlePrefix</tt> Options From Version 8.12 of <tt>sendmail</tt></a></p></li>
<li><p><a href="#mailrefer-111">Additional Defined Macros From Version 8.12 of <tt>sendmail</tt></a></p></li>
<li><p><a href="#mailrefer-112">Additional Macros From Version 8.12 of <tt>sendmail</tt></a></p></li>
<li><p><a href="#mailrefer-113">Additional <tt>MAX</tt> Macros From Version 8.12 of <tt>sendmail</tt></a></p></li>
<li><p><a href="#mailrefer-114">Additional and Revised <tt>m4</tt> Configuration Macros From Version 8.12 of <tt>sendmail</tt></a></p></li>
<li><p><a href="#mailrefer-115">Changes to the <tt>FEATURE()</tt> Declaration From Version 8.12 of <tt>sendmail</tt></a></p></li>
<li><p><a href="#mailrefer-116">Changes to the <tt>MAILER()</tt> Declaration From Version 8.12 of <tt>sendmail</tt></a></p></li>
<li><p><a href="#mailrefer-117">Additional Delivery Agent Flags From Version 8.12 of <tt>sendmail</tt></a></p></li>
<li><p><a href="#mailrefer-118">Additional Equates for Delivery Agents From Version 8.12 of <tt>sendmail</tt></a></p></li>
<li><p><a href="#mailrefer-119">Additional Queue Features From Version 8.12 of <tt>sendmail</tt></a></p></li>
<li><p><a href="#mailrefer-120">Changes for LDAP From Version 8.12 of <tt>sendmail</tt></a></p></li>
<li><p><a href="#mailrefer-121">Change to the Built-In Mailer From Version 8.12 of <tt>sendmail</tt></a></p></li>
<li><p><a href="#mailrefer-122">Additional Rule Sets From Version 8.12 of <tt>sendmail</tt></a></p></li>
<li><p><a href="#mailrefer-123">Changes to Files From Version 8.12 of <tt>sendmail</tt></a></p></li>
<li><p><a href="#mailrefer-124"><tt>sendmail</tt> Version 8.12 and IPv6 Addresses in Configuration</a></p></li></ul>


<a name="mailrefer-125"></a><h4>Support for TCP Wrappers From Version 8.12 of <tt>sendmail</tt></h4>
<a name="indexterm-1513"></a><a name="indexterm-1514"></a><p>TCP wrappers provide a way of implementing access controls by checking the address of
a host requesting a particular network service against an access control list (ACL). Requests are
granted or denied, accordingly. Besides providing this access control mechanism, TCP wrappers also log
host  requests for network services, which is a useful monitoring function. Examples of network
services that might be placed under access control include <tt>rlogind</tt>, <tt>telnetd</tt>, and <tt>ftpd</tt>. </p><p>Starting with version 8.12, <tt>sendmail</tt> enables the use of TCP wrappers. This check
does not bypass other security measures. By enabling TCP wrappers  in <tt>sendmail</tt>, a
check has been added to validate the source of a network request before the
request is granted. See the <tt>hosts_access</tt>(4) man page.</p>
<hr><p><b>Note - </b>Support for TCP wrappers in <tt>inetd</tt>(1M) and <tt>sshd</tt>(1M) started with the Solaris 9 release.</p>
<hr>
<p>For information about ACLs, see <a href="http://docs.sun.com/doc/819-3321/secfile-37?a=view">Using Access Control Lists to Protect Files in <i>System Administration Guide: Security Services</i></a>.</p>

<a name="mailrefer-106"></a><h4><tt>submit.cf</tt> Configuration File From Version 8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1515"></a><a name="indexterm-1516"></a><a name="indexterm-1517"></a><a name="indexterm-1518"></a>Starting with version 8.12, <tt>sendmail</tt> includes an additional configuration file, <tt>/etc/mail/submit.cf</tt>. This file, <tt>submit.cf</tt>, is used
to run <tt>sendmail</tt> in mail-submission program mode instead of daemon mode. Mail-submission program mode, unlike
daemon mode, does not require <tt>root</tt> privilege, so this new paradigm provides better security.</p><p>See the following list of functions for <tt>submit.cf</tt>:</p>
<ul><li><p><a name="indexterm-1519"></a><a name="indexterm-1520"></a><a name="indexterm-1521"></a><tt>sendmail</tt> uses <tt>submit.cf</tt> to run in mail-submission program (MSP) mode, which submits email messages and can be started by programs (such as <tt>mailx</tt>), as well as by users. Refer to the descriptions of the <tt>-Ac</tt> option and the <tt>-Am</tt> option in the <a href="http://docs.sun.com/doc/819-2240/sendmail-1m?a=view"><tt>sendmail</tt>(1M)</a> man page.</p></li>
<li><p><tt>submit.cf</tt> is used in the following operating modes:</p>
<ul><li><p><tt>-bm</tt>, which is the default operating mode</p></li>
<li><p><tt>-bs</tt>, which uses standard input to run SMTP</p></li>
<li><p><tt>-bt</tt>, which is the test mode that is used to resolve addresses</p></li></ul>
</li>
<li><p><tt>sendmail</tt>, when using <tt>submit.cf</tt>, does not run as an SMTP daemon.</p></li>
<li><p><tt>sendmail</tt>, when using <tt>submit.cf</tt>, uses <tt>/var/spool/clientmqueue</tt>,  the client-only mail queue, which holds messages that were not delivered to the <tt>sendmail</tt> daemon.  Messages in the client-only queue are delivered by the client &ldquo;daemon,&rdquo; which is really acting as a client queue runner.</p></li>
<li><p>By default, <tt>sendmail</tt> uses <tt>submit.cf</tt> periodically to run the MSP queue (otherwise known as the client-only queue), <tt>/var/spool/clientmqueue</tt>.</p><pre>/usr/lib/sendmail -Ac -q15m</pre></li></ul>
<p>Note the following:</p>
<ul><li><p>Starting with the Solaris 9 release, <tt>submit.cf</tt> is provided automatically.</p></li>
<li><p><tt>submit.cf</tt> does not require any planning or preliminary procedures prior to the installation of the Solaris 9 release or a more recent release.</p></li>
<li><p>Unless you specify a configuration file, <tt>sendmail</tt> automatically uses <tt>submit.cf</tt> as required. Basically, <tt>sendmail</tt> knows which tasks are appropriate for <tt>submit.cf</tt> and which tasks are appropriate for <tt>sendmail.cf</tt>.</p></li>
<li><p><tt>submit.cf</tt> is not to be modified.</p></li></ul>


<a name="mailrefer-107"></a><h5>Functions That Distinguish <tt>sendmail.cf</tt> From <tt>submit.cf</tt></h5>
<p>The <tt>sendmail.cf</tt> configuration file is for the daemon mode. When using this file, <tt>sendmail</tt>
is acting as a mail transfer agent (MTA), which is started by <tt>root</tt>.</p><pre>/usr/lib/sendmail -L sm-mta -bd -q1h</pre><p>See the following list of other distinguishing functions for <tt>sendmail.cf</tt>:</p>
<ul><li><p><a name="indexterm-1522"></a>By default, <tt>sendmail.cf</tt> accepts SMTP connections on ports 25 and 587.</p></li>
<li><p>By default, <tt>sendmail.cf</tt> runs the main queue, <tt>/var/spool/mqueue</tt>.</p></li></ul>


<a name="mailrefer-108"></a><h5>Functional Changes From Version 8.12 of <tt>sendmail</tt></h5>
<p>With the addition of <tt>submit.cf</tt>, the following functional changes have occurred:</p>
<ul><li><p>Starting with version 8.12 of <tt>sendmail</tt>, only <tt>root</tt> can run the mail queue. For further details, refer to the changes that are described in the <a href="http://docs.sun.com/doc/819-2239/mailq-1?a=view"><tt>mailq</tt>(1)</a> man page. For new task information, refer to <a href="mailadmin-262.html">Administering the Queue Directories (Task Map)</a>. </p></li>
<li><p>The mail-submission program mode runs without <tt>root</tt> privilege, which might prevent <tt>sendmail</tt> from having access to certain files (such as the <tt>.forward</tt> files). Therefore, the <tt>-bv</tt> option for <tt>sendmail</tt> could give the user misleading output. No workaround is available.</p></li>
<li><p>Prior to <tt>sendmail</tt> version 8.12, if you were not running <tt>sendmail</tt> in daemon mode, you would only prevent the delivery of inbound mail. Starting with <tt>sendmail</tt> version 8.12, if you are not running the <tt>sendmail</tt> daemon with the default configuration, you also prevent the delivery of outbound mail. The client queue runner (also known as the mail submission program) must be able to submit mail to the daemon on the local SMTP port. If the client queue runner tries to open an SMTP session with the local host and the daemon is not listening on the SMTP port, the mail remains in the queue. The default configuration does run a daemon, so this problem does not occur if you are using the default configuration. However, if you have disabled your daemon, refer to <a href="mailadmin-377.html">Managing Mail Delivery by Using an Alternate Configuration</a> for a way to resolve this problem.</p></li></ul>


<a name="mailrefer-109"></a><h4>Additional or Deprecated Command-Line Options From Version 8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1523"></a><a name="indexterm-1524"></a><a name="indexterm-1525"></a>The following table describes additional or deprecated command-line options for <tt>sendmail</tt>. Other command-line options are
described in the <a href="http://docs.sun.com/doc/819-2240/sendmail-1m?a=view"><tt>sendmail</tt>(1M)</a> man page.</p><a name="mailrefer-tbl-200"></a><h6>Table&nbsp;14-19 Additional or Deprecated Command-Line Options From Version 8.12 of <tt>sendmail</tt></h6><table><col width="17.68*"><col width="82.32*"><tr><th align="left" valign="top" scope="column"><p>Option</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1526"></a><tt>-Ac</tt></p></td>
<td align="left" valign="top" scope="row"><p>Indicates that you want to use the configuration file, <tt>submit.cf</tt>,
even if the operation mode does not indicate an initial mail submission. For more
information about <tt>submit.cf</tt>, refer to <a href="#mailrefer-106"><tt>submit.cf</tt> Configuration File From Version 8.12 of <tt>sendmail</tt></a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1527"></a><tt>-Am</tt></p></td>
<td align="left" valign="top" scope="row"><p>Indicates that you want to use the configuration file, <tt>sendmail.cf</tt>,
even if the operation mode indicates an initial mail submission. For more information, refer
to <a href="#mailrefer-106"><tt>submit.cf</tt> Configuration File From Version 8.12 of <tt>sendmail</tt></a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1528"></a><tt>-bP</tt></p></td>
<td align="left" valign="top" scope="row"><p>Indicates that you are printing the number of entries in each queue.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1529"></a><tt>-G</tt></p></td>
<td align="left" valign="top" scope="row"><p>Indicates
that the message that is being submitted from the command line is for relaying,
not for initial submission. The message is rejected if the addresses are not fully
qualified. No canonicalization is done.  As is noted in the Release Notes that
are part of the <tt>sendmail</tt> distribution on <a href="ftp://ftp.sendmail.org">ftp://ftp.sendmail.org</a>, improperly formed messages might be rejected in future
releases.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1530"></a><tt>-L</tt> <i>tag</i></p></td>
<td align="left" valign="top" scope="row"><p>Sets the identifier that is used for syslog messages to the supplied
<i>tag</i>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1531"></a><tt>-q[!]I</tt> <i>substring</i></p></td>
<td align="left" valign="top" scope="row"><p>Processes only jobs that contain this <i>substring</i> of one of the recipients. When
<tt>!</tt> is added, the option processes only jobs that do not have this <i>substring</i>
of one of the recipients.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1532"></a><tt>-q[!]R</tt> <i>substring</i></p></td>
<td align="left" valign="top" scope="row"><p>Processes only jobs that contain this <i>substring</i> of the
queue ID. When <tt>!</tt> is added, the option processes only jobs that do not
have this <i>substring</i> of the queue ID.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1533"></a><tt>-q[!]S</tt> <i>substring</i></p></td>
<td align="left" valign="top" scope="row"><p>Processes only jobs that contain this
<i>substring</i> of the sender. When <tt>!</tt> is added, the option processes only jobs that do
not have this <i>substring</i> of the sender.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1534"></a><tt>-qf</tt></p></td>
<td align="left" valign="top" scope="row"><p>Processes saved messages in the queue once,
without using the <tt>fork</tt> system call, and runs the process in the foreground.
Refer to the <a href="http://docs.sun.com/doc/819-2241/fork-2?a=view"><tt>fork</tt>(2)</a> man page.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1535"></a><tt>-qG</tt><i>name</i></p></td>
<td align="left" valign="top" scope="row"><p>Processes only the messages in the <i>name</i> queue group.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1536"></a><tt>-qp</tt><i>time</i></p></td>
<td align="left" valign="top" scope="row"><p>Processes saved messages
in the queue at a specific interval of time with a single child that
is forked for each queue. The child sleeps between queue runs. This new option
is similar to the <tt>-q</tt><i>time</i>, which periodically forks a child to process the queue.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1537"></a><tt>-U</tt></p></td>
<td align="left" valign="top" scope="row"><p>As
is noted in the Release Notes that are part of the <tt>sendmail</tt> distribution on
<a href="ftp://ftp.sendmail.org">ftp://ftp.sendmail.org</a>, this option is not available as of version 8.12. Mail user agents should use
the <tt>-G</tt> argument.</p></td>
</tr>
</table>

<a name="mailrefer-110"></a><h4>Additional Arguments for the <tt>PidFile</tt> and <tt>ProcessTitlePrefix</tt> Options From Version 8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1538"></a><a name="indexterm-1539"></a><a name="indexterm-1540"></a><a name="indexterm-1541"></a><a name="indexterm-1542"></a><a name="indexterm-1543"></a><a name="indexterm-1544"></a>The following table describes additional macro-processed arguments for the <tt>PidFile</tt> and <tt>ProcessTitlePrefix</tt> options. For more
information about these options, see the <a href="http://docs.sun.com/doc/819-2240/sendmail-1m?a=view"><tt>sendmail</tt>(1M)</a> man page.</p><a name="mailrefer-tbl-201"></a><h6>Table&nbsp;14-20 Arguments for the <tt>PidFile</tt> and <tt>ProcessTitlePrefix</tt> Options</h6><table><col width="28.24*"><col width="71.76*"><tr><th align="left" valign="top" scope="column"><p>Macro</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${daemon_addr}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Provides daemon address (for example, 0.0.0.0)</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${daemon_family}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Provides daemon
family (for example, <tt>inet</tt>, and <tt>inet6</tt>)</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${daemon_info}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Provides daemon information (for example,     
           SMTP+queueing@00:30:00)</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${daemon_name}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Provides
daemon name (for example, MSA)</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${daemon_port}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Provides daemon port (for example, 25)</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${queue_interval}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Provides queue run interval (for example,
00:30:00)</p></td>
</tr>
</table>

<a name="mailrefer-111"></a><h4>Additional Defined Macros From Version 8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1545"></a><a name="indexterm-1546"></a>The following table describes additional macros that are reserved for use by the <tt>sendmail</tt>
program. The macros' values are assigned internally. For more information, refer to the <a href="http://docs.sun.com/doc/819-2240/sendmail-1m?a=view"><tt>sendmail</tt>(1M)</a>
man page.</p><a name="mailrefer-tbl-202"></a><h6>Table&nbsp;14-21 Additional Defined Macros for <tt>sendmail</tt></h6><table><col width="50*"><col width="50*"><tr><th align="left" valign="top" scope="column"><p>Macro</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${addr_type}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Identifies the current address as an envelope sender or a recipient address.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${client_resolve}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Holds the result
of the resolve call for <tt>${client_name}</tt>: <tt>OK</tt>, <tt>FAIL</tt>, <tt>FORGED</tt>, or <tt>TEMP</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${deliveryMode}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Specifies the current
delivery mode <tt>sendmail</tt> is using instead of the value of the <tt>DeliveryMode</tt> option.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${dsn_notify}</tt>, <tt>${dsn_envid}</tt>,
<tt>${dsn_ret}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Holds the corresponding DSN parameter values.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${if_addr}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Provides the interface's address for the incoming connection if
the interface does not belong to the loopback net. This macro is especially useful for
virtual hosting.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${if_addr_out}</tt>, <tt>${if_name_out}</tt>, <tt>${if_family_out}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Avoids the reuse of <tt>${if_addr}</tt>. Holds the following values respectively.</p><p>The
address of the interface for the outgoing connection</p><p>The host name of the interface for
the outgoing connection</p><p>The family of the interface for the outgoing connection</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${if_name}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Provides the interface's
host name for the incoming connection and is especially useful for virtual hosting. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${load_avg}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Checks
and reports the current average number of jobs in the run queue.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${msg_size}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Holds the value
of the message size (<tt>SIZE=parameter</tt>) in an ESMTP dialogue before the message has been collected.
Thereafter, the macro holds the message size as computed by <tt>sendmail</tt> and is used in
<tt>check_compat</tt>. For information about <tt>check_compat</tt>, refer to <a href="#mailrefer-tbl-206">Table&nbsp;14-25</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${nrcpts}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Holds the number of validated recipients.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${ntries}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Holds the
number of delivery attempts.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${rcpt_mailer}</tt>, <tt>${rcpt_host}</tt>, <tt>${rcpt_addr}</tt>, <tt>${mail_mailer}</tt>, <tt>${mail_host}</tt>, <tt>${mail_addr}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Holds the results of parsing the
<tt>RCPT</tt> and <tt>MAIL</tt> arguments, which is the resolved right-hand side (RHS) triplet from the
mail delivery agent (<tt>$#</tt><i>mailer</i><tt></tt>), the host (<tt>$@</tt><i>host</i><tt></tt>), and the user (<tt>$:</tt><i>addr</i><tt></tt>).</p></td>
</tr>
</table>

<a name="mailrefer-112"></a><h4>Additional Macros From Version 8.12 of <tt>sendmail</tt></h4>
<p>In this section, you can find a table that describes the additional macros that
are used to build the <tt>sendmail</tt> configuration file.</p><a name="mailrefer-tbl-203"></a><h6>Table&nbsp;14-22 Additional Macros Used to Build the <tt>sendmail</tt> Configuration File</h6><table><col width="50*"><col width="50*"><tr><th align="left" valign="top" scope="column"><p>Macro</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>LOCAL_MAILER_EOL</tt></p></td>
<td align="left" valign="top" scope="row"><p>Overrides the default end-of-line string for
the local mailer.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>LOCAL_MAILER_FLAGS</tt></p></td>
<td align="left" valign="top" scope="row"><p>Adds <tt>Return-Path:</tt> header by default.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>MAIL_SETTINGS_DIR</tt></p></td>
<td align="left" valign="top" scope="row"><p>Contains the path (including the trailing slash) for
the mail settings directory.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>MODIFY_MAILER_FLAGS</tt></p></td>
<td align="left" valign="top" scope="row"><p>Improves the <tt>*_MAILER_FLAGS</tt>. This macro sets, adds, or deletes flags.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>RELAY_MAILER_FLAGS</tt></p></td>
<td align="left" valign="top" scope="row"><p>Defines additional
flags for the relay mailer.</p></td>
</tr>
</table>

<a name="mailrefer-113"></a><h4>Additional <tt>MAX</tt> Macros From Version 8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1547"></a><a name="indexterm-1548"></a>Use the following macros to configure the maximum number of commands that can be
received before <tt>sendmail</tt> slows its delivery. You can set these <tt>MAX</tt> macros at compile
time. The maximum values in the following table also represent the current default values.</p><a name="mailrefer-tbl-204"></a><h6>Table&nbsp;14-23 Additional <tt>MAX</tt> Macros</h6><table><col width="33*"><col width="33*"><col width="33*"><tr><th align="left" valign="top" scope="column"><p>Macro</p></th>
<th align="left" valign="top" scope="column"><p>Maximum
Value</p></th>
<th align="left" valign="top" scope="column"><p>Commands Checked by Each Macro</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1549"></a><tt>MAXBADCOMMANDS</tt></p></td>
<td align="left" valign="top" scope="row"><p>25</p></td>
<td align="left" valign="top" scope="row"><p>Unknown commands</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1550"></a><tt>MAXNOOPCOMMANDS</tt></p></td>
<td align="left" valign="top" scope="row"><p>20</p></td>
<td align="left" valign="top" scope="row"><p><tt>NOOP</tt>, <tt>VERB</tt>, <tt>ONEX</tt>, <tt>XUSR</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1551"></a><tt>MAXHELOCOMMANDS</tt></p></td>
<td align="left" valign="top" scope="row"><p>3</p></td>
<td align="left" valign="top" scope="row"><p><tt>HELO</tt>, <tt>EHLO</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1552"></a><tt>MAXVRFYCOMMANDS</tt></p></td>
<td align="left" valign="top" scope="row"><p>6</p></td>
<td align="left" valign="top" scope="row"><p><tt>VRFY</tt>, <tt>EXPN</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1553"></a><tt>MAXETRNCOMMANDS</tt></p></td>
<td align="left" valign="top" scope="row"><p>8</p></td>
<td align="left" valign="top" scope="row"><p><tt>ETRN</tt></p></td>
</tr>
</table>
<hr><p><b>Note - </b>You can disable a macro's check by setting the macro's value to zero.</p>
<hr>


<a name="mailrefer-114"></a><h4>Additional and Revised <tt>m4</tt> Configuration Macros From Version 8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1554"></a><a name="indexterm-1555"></a>This section contains a table of additional and revised <tt>m4</tt> configuration macros for <tt>sendmail</tt>.
Use the following syntax to declare these macros.</p><pre><i>symbolic-name</i>(`<i>value</i>')</pre><p>If you need to build a new <tt>sendmail.cf</tt> file, refer to <a href="mailadmin-43.html">Building the <tt>sendmail.cf</tt> Configuration File</a> in
<a href="mailadmin-1.html">Chapter&nbsp;13, Mail Services (Tasks)</a>.</p><a name="mailrefer-tbl-205"></a><h6>Table&nbsp;14-24 Additional and Revised <tt>m4</tt> Configuration Macros for <tt>sendmail</tt></h6><table><col width="37.05*"><col width="62.95*"><tr><th align="left" valign="top" scope="column"><p><tt>m4</tt> Macro</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>FEATURE()</tt></p></td>
<td align="left" valign="top" scope="row"><p>For details, refer to <a href="#mailrefer-115">Changes to the <tt>FEATURE()</tt> Declaration From Version 8.12 of <tt>sendmail</tt></a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1556"></a><tt>LOCAL_DOMAIN()</tt></p></td>
<td align="left" valign="top" scope="row"><p>This macro adds entries to class <tt>w</tt>
(<tt>$=w</tt>).</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1557"></a><tt>MASQUERADE_EXCEPTION()</tt></p></td>
<td align="left" valign="top" scope="row"><p>A new macro that defines hosts or subdomains that cannot be masqueraded.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1558"></a><tt>SMART_HOST()</tt></p></td>
<td align="left" valign="top" scope="row"><p>This macro
can now be used for bracketed addresses, such as <tt>user@[</tt><i>host</i><tt>]</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1559"></a><a name="indexterm-1560"></a><tt>VIRTUSER_DOMAIN()</tt> or <tt>VIRTUSER_DOMAIN_FILE()</tt></p></td>
<td align="left" valign="top" scope="row"><p>When these
macros are used, include <tt>$={VirtHost}</tt> in <tt>$=R</tt>. As a reminder, <tt>$=R</tt> is the
set of host names that are allowed to relay.</p></td>
</tr>
</table>

<a name="mailrefer-115"></a><h4>Changes to the <tt>FEATURE()</tt> Declaration From Version 8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1561"></a>Refer to the following tables for information about the specific changes to the <tt>FEATURE()</tt>
declarations.</p><p>To use the new and revised <tt>FEATURE</tt> names, use the following syntax.</p><pre>FEATURE(`<i>name</i>', `<i>argument</i>')</pre><p><a name="indexterm-1562"></a><a name="indexterm-1563"></a>If you need to build a new <tt>sendmail.cf</tt> file, refer to <a href="mailadmin-43.html">Building the <tt>sendmail.cf</tt> Configuration File</a> in <a href="mailadmin-1.html">Chapter&nbsp;13, Mail Services (Tasks)</a>.</p><a name="mailrefer-tbl-206"></a><h6>Table&nbsp;14-25 Additional and Revised <tt>FEATURE()</tt> Declarations</h6><table><col width="36.22*"><col width="63.78*"><tr><th align="left" valign="top" scope="column"><p>Name
of <tt>FEATURE()</tt></p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1564"></a><tt>compat_check</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument: Refer to the example in the following paragraph.</p><p>This new <tt>FEATURE()</tt> enables you
to look for a key in the access map that consists of the
sender address and the recipient address. This <tt>FEATURE()</tt> is delimited by the following string,
<tt>&lt;@></tt>. <i>sender</i><tt>@</tt><i>sdomain</i><tt>&lt;@></tt><i>recipient</i><tt>@</tt><i>rdomain</i> is an example.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1565"></a><tt>delay_checks</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument: <tt>friend</tt>, which enables a spam-friend test, or <tt>hater</tt>, which enables
a spam-hater test.</p><p>A new <tt>FEATURE()</tt> that delays all checks. By using <tt>FEATURE(`delay_checks')</tt>, the
rule sets <tt>check_mail</tt> and <tt>check_relay</tt> are not called when a client connects or issues
a <tt>MAIL</tt> command respectively.  Instead, these rule sets are called by the <tt>check_rcpt</tt>
rule set. For details, refer to the <tt>/etc/mail/cf/README</tt> file.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1566"></a><tt>dnsbl</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument: This <tt>FEATURE()</tt>accepts a maximum of
two arguments:</p>
<ul><li><p>DNS server name</p></li>
<li><p>Rejection message</p></li></ul>
<p>A new <tt>FEATURE()</tt> that you can include multiple times to check the return
values for DNS lookups. Note that this <tt>FEATURE()</tt> enables you to specify the behavior
of temporary lookup failures.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1567"></a><tt>enhdnsbl</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument: domain name.</p><p>A new <tt>FEATURE()</tt> that is an enhanced version of
<tt>dnsbl</tt>, which enables you to check the return values for DNS lookups. For more
information, refer to <tt>/etc/mail/cf/README</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1568"></a><tt>generics_entire_domain</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument: None.</p><p>A new <tt>FEATURE()</tt> that you can also use to apply
<tt>genericstable</tt> to subdomains of <tt>$=G</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1569"></a><tt>ldap_routing</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument: For details, refer to the &ldquo;Release Notes&rdquo; in <a href="http://www.sendmail.org">http://www.sendmail.org</a>.</p><p>A
new <tt>FEATURE()</tt> that implements LDAP address routing.  </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1570"></a><tt>local_lmtp</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument: Path name of an
LMTP-capable mailer. The default is <tt>mail.local</tt>, which is LMTP capable in this Solaris release.</p><p>A
<tt>FEATURE()</tt> that now sets the delivery status notification (DSN) diagnostic-code type for the local mailer
to the proper value of <tt>SMTP</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1571"></a><tt>local_no_masquerade</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument: None.</p><p>A new <tt>FEATURE()</tt> that you can use
to avoid masquerading for the local mailer.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1572"></a><tt>lookupdotdomain</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument: None.</p><p>A new <tt>FEATURE()</tt> that you can also
use to look up the <i>.domain</i> in the access map.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1573"></a><tt>nocanonify</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument: <tt>canonify_hosts</tt> or nothing.</p><p>A <tt>FEATURE()</tt>
that now includes the following features.</p><p>Enables a list of domains, as specified by <tt>CANONIFY_DOMAIN</tt>
or <tt>CANONIFY_DOMAIN_FILE</tt>, to be passed to the <tt>$[</tt> and <tt>$]</tt> operators for canonification.</p><p>Enables
addresses that have only a host name, such as <tt>&lt;user@host></tt>, to be canonified,
if <tt>canonify_hosts</tt> is specified as its parameter.</p><p>Adds a trailing dot to addresses with more
than one component.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1574"></a><tt>no_default_msa</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument: None.</p><p>A new <tt>FEATURE()</tt> that turns off <tt>sendmail</tt>'s default setting from <tt>m4</tt>&ndash;generated configuration
files to &ldquo;listen&rdquo; on several different ports, an implementation of RFC 2476.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1575"></a><tt>nouucp</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument: <tt>reject</tt>, which does
not allow the <tt>!</tt> token, or <tt>nospecial</tt>, which does allow the <tt>!</tt> token.</p><p>A <tt>FEATURE()</tt>
that determines whether to allow the <tt>!</tt> token in the local part of an
address.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1576"></a><tt>nullclient</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument: None.</p><p>A <tt>FEATURE()</tt> that now provides the full rule sets of a normal configuration,
allowing antispam checks to be performed.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1577"></a><tt>preserve_local_plus_detail</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument: None.</p><p>A new <tt>FEATURE()</tt> that enables you to preserve
the <tt>+detail</tt> portion of the address when <tt>sendmail</tt> passes the address to the local
delivery agent.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1578"></a><tt>preserve_luser_host</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument: None.</p><p>A new <tt>FEATURE()</tt> that enables you to preserve the name of the recipient
host, if <tt>LUSER_RELAY</tt> is used.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1579"></a><tt>queuegroup</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument: None.</p><p>A new <tt>FEATURE()</tt> that enables you to select
a queue group that is based on the full email address or on the
domain of the recipient.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1580"></a><tt>relay_mail_from</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument: The <i>domain</i> is an optional argument.</p><p>A new <tt>FEATURE()</tt> that allows
relaying if the mail sender is listed as a <tt>RELAY</tt> in the access map
and is tagged with the <tt>From:</tt> header line. If the optional <i>domain</i> argument is
given, the domain portion of the mail sender is also checked.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1581"></a><tt>virtuser_entire_domain</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument: None.</p><p>A <tt>FEATURE()</tt> that you
can now use to apply <tt>$={VirtHost}</tt>, a new class for matching <tt>virtusertable</tt>
entries that can be populated by <tt>VIRTUSER_DOMAIN</tt> or <tt>VIRTUSER_DOMAIN_FILE</tt>. </p><p><tt>FEATURE(`virtuser_entire_domain')</tt> can also apply
the class <tt>$={VirtHost}</tt> to entire subdomains.</p></td>
</tr>
</table><p><a name="indexterm-1582"></a><a name="indexterm-1583"></a>The following <tt>FEATURE()</tt> declarations are no longer supported.</p><a name="mailrefer-tbl-207"></a><h6>Table&nbsp;14-26 Unsupported <tt>FEATURE()</tt> Declarations</h6><table><col width="36.19*"><col width="63.81*"><tr><th align="left" valign="top" scope="column"><p>Name of <tt>FEATURE()</tt></p></th>
<th align="left" valign="top" scope="column"><p>Replacement</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1584"></a><tt>rbl</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-1585"></a><a name="indexterm-1586"></a><tt>FEATURE(`dnsbl')</tt> and <tt>FEATURE(`enhdnsbl')</tt> replace this
<tt>FEATURE()</tt>, which has been removed.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1587"></a><tt>remote_mode</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>MASQUERADE_AS(`$S')</tt> replaces <tt>FEATURE(`remote_mode')</tt> in <tt>/etc/mail/cf/subsidiary.mc</tt>. <tt>$S</tt> is the <tt>SMART_HOST</tt>
value in <tt>sendmail.cf</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1588"></a><tt>sun_reverse_alias_files</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-1589"></a><tt>FEATURE(`genericstable')</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1590"></a><tt>sun_reverse_alias_nis</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>FEATURE(`genericstable')</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1591"></a><tt>sun_reverse_alias_nisplus</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>FEATURE(`genericstable')</tt>.</p></td>
</tr>
</table>

<a name="mailrefer-116"></a><h4>Changes to the <tt>MAILER()</tt> Declaration From Version 8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1592"></a><a name="indexterm-1593"></a>The <tt>MAILER()</tt> declaration specifies support for delivery agents. To declare a delivery agent, use
the following syntax.</p><pre>MAILER(`<i>symbolic-name</i>')</pre><p>Note the following changes.</p>
<ul><li><p>In this new version of <tt>sendmail</tt>, the <tt>MAILER(`smtp')</tt> declaration now includes an additional mailer, <tt>dsmtp</tt>, which provides on-demand delivery by using the <tt>F=%</tt> mailer flag. The <tt>dsmtp</tt> mailer definition uses the new <tt>DSMTP_MAILER_ARGS</tt>, which defaults to <tt>IPC $h</tt>.</p></li>
<li><p>Numbers for rule sets that are used by <tt>MAILER</tt>s have been removed. You now have no required order for listing your <tt>MAILER</tt>s except for <tt>MAILER(`uucp')</tt>, which must follow <tt>MAILER(`smtp')</tt> if <tt>uucp-dom</tt> and <tt>uucp-uudom</tt> are used.</p></li></ul>
<p>For more information about mailers, refer to <a href="mailrefer-53.html#mailrefer-58">Mailers and <tt>sendmail</tt></a>. If you need to build a
new <tt>sendmail.cf</tt> file, refer to <a href="mailadmin-43.html">Building the <tt>sendmail.cf</tt> Configuration File</a> in <a href="mailadmin-1.html">Chapter&nbsp;13, Mail Services (Tasks)</a>.</p>

<a name="mailrefer-117"></a><h4>Additional Delivery Agent Flags From Version 8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1594"></a><a name="indexterm-1595"></a>The following table describes additional delivery agent flags, which by default are not set.
These single-character flags are Boolean. You can set or unset a flag by including
or excluding it in the <tt>F=</tt> statement of your configuration file, as shown in the
following example.</p><pre>Mlocal,    P=/usr/lib/mail.local, F=lsDFMAw5:/|@qSXfmnz9, S=10/30, R=20/40,
Mprog,     P=/bin/sh, F=lsDFMoqeu9, S=10/30, R=20/40, D=$z:/,
Msmtp,     P=[IPC], F=mDFMuX, S=11/31, R=21, E=\r\n, L=990,
Mesmtp,    P=[IPC], F=mDFMuXa, S=11/31, R=21, E=\r\n, L=990,
Msmtp8,    P=[IPC], F=mDFMuX8, S=11/31, R=21, E=\r\n, L=990,
Mrelay,    P=[IPC], F=mDFMuXa8, S=11/31, R=61, E=\r\n, L=2040,</pre><a name="mailrefer-tbl-208"></a><h6>Table&nbsp;14-27 Additional Mailer Flags</h6><table><col width="10.15*"><col width="89.85*"><tr><th align="left" valign="top" scope="column"><p>Flag</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>%</tt></p></td>
<td align="left" valign="top" scope="row"><p>Mailers that use this flag do not attempt delivery to the initial recipient
of a message or to queue runs unless the queued message is selected by
using an <tt>ETRN</tt> request or one of the following queue options: <tt>-qI</tt>, <tt>-qR</tt>, or
<tt>-qS</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>1</tt></p></td>
<td align="left" valign="top" scope="row"><p>This flag disables the ability of the mailer to send null characters (for example,
<tt>\0</tt>).</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>2</tt></p></td>
<td align="left" valign="top" scope="row"><p>This flag disables the use of ESMTP and requires that SMTP be used instead.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>6</tt></p></td>
<td align="left" valign="top" scope="row"><p>This
flag enables mailers to strip headers to 7 bit.</p></td>
</tr>
</table>

<a name="mailrefer-118"></a><h4>Additional Equates for Delivery Agents From Version 8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1596"></a><a name="indexterm-1597"></a>The following table describes additional equates that you can use with the <tt>M</tt> delivery-agent definition
command. The following syntax shows you how to append new equates or new arguments
to the equates that already exist in the configuration file.</p><pre>M<i>agent-name</i>, <i>equate</i>, <i>equate</i>, ...</pre><p>The following example includes the new <tt>W=</tt> equate. This equate specifies the maximum time to
wait for the mailer to return after all data has been sent.</p><pre>Msmtp, P=[IPC], F=mDFMuX, S=11/31, R=21, E=\r\n, L=990, W=2m</pre><p>When you modify the definition of a value for <tt>m4</tt> configuration, use the syntax
that is provided in the following example.</p><pre>define(`SMTP_MAILER_MAXMSGS', `1000')</pre><p>The preceding example places a limit of 1000 on the number of messages that
are delivered per connection on an <tt>smtp</tt> mailer.</p><p>If you need to build a new <tt>sendmail.cf</tt> file, refer to <a href="mailadmin-43.html">Building the <tt>sendmail.cf</tt> Configuration File</a> in
<a href="mailadmin-1.html">Chapter&nbsp;13, Mail Services (Tasks)</a>.</p>
<hr><p><b>Note - </b>Typically, you modify the equate definitions in the <tt>mailer</tt> directory only when you fine-tune.</p>
<hr>
<a name="mailrefer-tbl-209"></a><h6>Table&nbsp;14-28 Additional Equates for Delivery Agents</h6><table><col width="13.51*"><col width="86.49*"><tr><th align="left" valign="top" scope="column"><p>Equate</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/=</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument:
Path to a directory</p><p>Specifies a directory to apply <tt>chroot()</tt> to before the
mailer program is executed</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>m=</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument: Any of the following <tt>m4</tt> values that have previously been
defined with the <tt>define()</tt> routine</p>
<ul><li><p><tt>SMTP_MAILER_MAXMSGS</tt>, for the <tt>smtp</tt> mailer</p></li>
<li><p><tt>LOCAL_MAILER_MAXMSGS</tt>, for the <tt>local</tt> mailer</p></li>
<li><p><tt>RELAY_MAILER_MAXMSGS</tt>, for the <tt>relay</tt> mailer</p></li></ul>
<p>Limits the number of messages that are delivered per
connection on an <tt>smtp</tt>, <tt>local</tt>, or <tt>relay</tt> mailer</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>W=</tt></p></td>
<td align="left" valign="top" scope="row"><p>Argument: An increment of time</p><p>Specifies the
maximum time to wait for the return of the mailer after all data has
been sent</p></td>
</tr>
</table>

<a name="mailrefer-119"></a><h4>Additional Queue Features From Version 8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1598"></a><a name="indexterm-1599"></a>The following list provides details about additional queue features.</p>
<ul><li><p>This release supports multiple queue directories. To use multiple queues, supply a <tt>QueueDirectory</tt> option value in the configuration file that ends with an asterisk (*), as is shown in the following example.</p><pre>O QueueDirectory=/var/spool/mqueue/q*</pre><p>The option value, <tt>/var/spool/mqueue/q*</tt>, uses all of the directories (or symbolic links to directories) that begin with &ldquo;<tt>q</tt>&rdquo; as queue directories. Do not change the queue directory structure while <tt>sendmail</tt> is running. Queue runs create a separate process for running each queue unless the verbose flag (<tt>-v</tt>) is used on a nondaemon queue run. The new items are randomly assigned to a queue.</p></li>
<li><p>The new queue file-naming system uses file names that are guaranteed to be unique for 60 years. This system allows queue IDs to be assigned without complex file-system locking and simplifies the movement of queued items between queues.</p></li>
<li><p>Starting with version 8.12, only <tt>root</tt> can run the mail queue. For further details, refer to the changes that are described in the <a href="http://docs.sun.com/doc/819-2239/mailq-1?a=view"><tt>mailq</tt>(1)</a> man page. For new task information, refer to <a href="mailadmin-262.html">Administering the Queue Directories (Task Map)</a>.</p></li>
<li><p>To accommodate envelope splitting, queue file names are now 15&ndash;characters long, rather than 14&ndash;characters long. File systems with a 14&ndash;character name limit are no longer supported.</p></li></ul>
<p>For task information, refer to <a href="mailadmin-262.html">Administering the Queue Directories (Task Map)</a>.</p>

<a name="mailrefer-120"></a><h4>Changes for LDAP From Version 8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1600"></a><a name="indexterm-1601"></a>The following list describes changes in the use of the Lightweight Directory Access Protocol
(LDAP) with <tt>sendmail</tt>.</p>
<ul><li><p><tt>LDAPROUTE_EQUIVALENT()</tt> and <tt>LDAPROUTE_EQUIVALENT_FILE()</tt> permit you to specify equivalent host names, which are replaced by the masquerade domain name for LDAP routing lookups. For more information, refer to <tt>/etc/mail/cf/README</tt>. </p></li>
<li><p>As noted in the Release Notes that are part of the <tt>sendmail</tt> distribution at <a href="ftp://ftp.sendmail.org">ftp://ftp.sendmail.org</a>, the LDAPX map has been renamed to LDAP. Use the following syntax for LDAP.</p><pre>Kldap ldap <i>options</i></pre></li>
<li><p>This release supports the return of multiple values for a single LDAP lookup. Place the values to be returned in a comma-separated string with the <tt>-v</tt> option, as is shown.</p><pre>Kldap ldap -v"<i>mail</i>,<i>more-mail</i>"</pre></li>
<li><p>If no LDAP attributes are specified in an LDAP map declaration, all attributes that are found in the match are returned.</p></li>
<li><p>This version of <tt>sendmail</tt> prevents commas in quoted key and value strings in the specifications of the LDAP alias file from dividing a single entry into multiple entries.</p></li>
<li><p>This version of <tt>sendmail</tt> has a new option for LDAP maps. The option <tt>-V</tt><i>separator</i> enables you to specify a separator so that a lookup can return both an attribute and a value that are separated by the relevant <i>separator</i>.</p></li>
<li><p>In addition to using the <tt>%s</tt> token to parse an LDAP filter specification, you can use the new token, <tt>%0</tt>, to encode the key buffer. The <tt>%0</tt> token applies a literal meaning to LDAP special characters.</p></li></ul>
<p>The following example shows how these tokens differ for a &ldquo;<tt>*</tt>&rdquo; lookup.</p><a name="mailrefer-tbl-210"></a><h6>Table&nbsp;14-29 Comparison of Tokens</h6><table><col width="30.02*"><col width="30.02*"><col width="38.96*"><tr><th align="left" valign="top" scope="column"><p>LDAP Map
Specification</p></th>
<th align="left" valign="top" scope="column"><p>Specification Equivalent</p></th>
<th align="left" valign="top" scope="column"><p>Result</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-k"uid=%s"</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>-k"uid=*"</tt></p></td>
<td align="left" valign="top" scope="row"><p>Matches any record with a user attribute</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-k"uid=%0"</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>-k"uid=\2A"</tt></p></td>
<td align="left" valign="top" scope="row"><p>Matches a user with the name
&ldquo;<tt>*</tt>&rdquo;</p></td>
</tr>
</table><p>The following table describes additional LDAP map flags.</p><a name="mailrefer-tbl-211"></a><h6>Table&nbsp;14-30 Additional LDAP Map Flags</h6><table><col width="40.77*"><col width="59.23*"><tr><th align="left" valign="top" scope="column"><p>Flag</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-1</tt></p></td>
<td align="left" valign="top" scope="row"><p>Requires a single match to be returned.
If more than one match is returned, the results are the equivalent of no
records being found.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-r never|always|search|find</tt></p></td>
<td align="left" valign="top" scope="row"><p>Sets the LDAP alias dereference option.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-Z size</tt></p></td>
<td align="left" valign="top" scope="row"><p>Limits the number of matches to return.</p></td>
</tr>
</table>

<a name="mailrefer-121"></a><h4>Change to the Built-In Mailer From Version 8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1602"></a><a name="indexterm-1603"></a>The old <tt>[TCP]</tt> built-in mailer is not available.  Use the <tt>P=[IPC]</tt> built-in
mailer instead. The interprocess communications (<tt>[IPC]</tt>) built-in mailer now enables delivery to a UNIX domain socket
on systems that support it. You can use this mailer with <tt>LMTP</tt> delivery
agents that listen on a named socket.  An example mailer might resemble the
following.</p><pre>Mexecmail, P=[IPC], F=lsDFMmnqSXzA5@/:|, E=\r\n, 
S=10, R=20/40, T=DNS/RFC822/X-Unix, A=FILE /var/run/lmtpd</pre><p>The first mailer argument in the <tt>[IPC]</tt> mailer is now checked for a legitimate
value. The following table provides possible values for the first mailer argument. </p><a name="mailrefer-tbl-212"></a><h6>Table&nbsp;14-31 Possible Values for the First Mailer Argument</h6><table><col width="25.73*"><col width="74.27*"><tr><th align="left" valign="top" scope="column"><p>Value</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>A=FILE</tt></p></td>
<td align="left" valign="top" scope="row"><p>Use for
UNIX domain socket delivery</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>A=TCP</tt></p></td>
<td align="left" valign="top" scope="row"><p>Use for TCP/IP connections</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>A=IPC</tt></p></td>
<td align="left" valign="top" scope="row"><p>Is no longer available as a first
mailer argument</p></td>
</tr>
</table>

<a name="mailrefer-122"></a><h4>Additional Rule Sets From Version 8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1604"></a><a name="indexterm-1605"></a>The following table lists the additional rule sets and describes what the rule sets
 do.</p><a name="mailrefer-tbl-213"></a><h6>Table&nbsp;14-32 New Rule Sets</h6><table><col width="26.82*"><col width="73.18*"><tr><th align="left" valign="top" scope="column"><p>Set</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1606"></a><tt>check_eoh</tt></p></td>
<td align="left" valign="top" scope="row"><p>Correlates information that is gathered between headers and checks for missing headers. This
rule set is used with the macro storage map and is called after all
of the headers have been collected. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1607"></a><tt>check_etrn</tt></p></td>
<td align="left" valign="top" scope="row"><p>Uses the <tt>ETRN</tt> command (as <tt>check_rcpt</tt> uses <tt>RCPT</tt>).</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1608"></a><tt>check_expn</tt></p></td>
<td align="left" valign="top" scope="row"><p>Uses
the <tt>EXPN</tt> command (as <tt>check_rcpt</tt> uses <tt>RCPT</tt>).</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1609"></a><tt>check_vrfy</tt></p></td>
<td align="left" valign="top" scope="row"><p>Uses the <tt>VRFY</tt> command (as <tt>check_rcpt</tt> uses <tt>RCPT</tt>).</p></td>
</tr>
</table><p>The following list describes additional rule set features.</p>
<ul><li><p>Numbered rule sets are also named, but the rule sets can still be accessed by their numbers.</p></li>
<li><p>The <tt>H</tt> header configuration file command allows for a default rule set to be specified for header checks. This rule set is called only if the individual header has not been assigned its own rule set.</p></li>
<li><p>Comments in rule sets (that is, text within parentheses) are not removed if the configuration file version is nine or greater. For example, the following rule matches the input <tt>token (1)</tt>, but does not match the input <tt>token</tt>.</p><pre>R$+ (1)        $@ 1</pre></li>
<li><p><tt>sendmail</tt> accepts the SMTP <tt>RSET</tt> command even when it rejects commands because of TCP wrappers or the <tt>check_relay</tt> rule set.</p></li>
<li><p>You receive a warning if you set the <tt>OperatorChars</tt> option multiple times. Also, do not set <tt>OperatorChars</tt> after the rule sets are defined.</p></li>
<li><p>The name of the rule set, as well as its lines, are ignored if an invalid rule set is declared. The rule set lines are not added to <tt>S0</tt>.</p></li></ul>


<a name="mailrefer-123"></a><h4>Changes to Files From Version 8.12 of <tt>sendmail</tt></h4>
<p><a name="indexterm-1610"></a>Note the following changes.</p>
<ul><li><p>Starting in the Solaris 10 release, to support a read-only <tt>/usr</tt> file system, the contents of the <tt>/usr/lib/mail</tt> directory has been moved to the <tt>/etc/mail/cf</tt> directory. For details, refer to <a href="mailrefer-45.html#mailrefer-126">Contents of the <tt>/etc/mail/cf</tt> Directory</a>. Note, however, that the shell scripts <tt>/usr/lib/mail/sh/check-hostname</tt> and <tt>/usr/lib/mail/sh/check-permissions</tt> are now in the <tt>/usr/sbin</tt> directory. See <a href="mailrefer-45.html#mailrefer-83">Other Files Used for Mail Services</a>. For backward compatibility, symbolic links point to each file's new location.</p></li>
<li><p><a name="indexterm-1611"></a><a name="indexterm-1612"></a><a name="indexterm-1613"></a><a name="indexterm-1614"></a>The new name for <tt>/usr/lib/mail/cf/main-v7sun.mc</tt> is <tt>/etc/mail/cf/cf/main.mc</tt>.</p></li>
<li><p><a name="indexterm-1615"></a><a name="indexterm-1616"></a><a name="indexterm-1617"></a><a name="indexterm-1618"></a>The new name for <tt>/usr/lib/mail/cf/subsidiary-v7sun.mc</tt> is <tt>/etc/mail/cf/cf/subsidiary.mc</tt>.</p></li>
<li><p><a name="indexterm-1619"></a><a name="indexterm-1620"></a><a name="indexterm-1621"></a><a name="indexterm-1622"></a><a name="indexterm-1623"></a><a name="indexterm-1624"></a><a name="indexterm-1625"></a><a name="indexterm-1626"></a>The <tt>helpfile</tt> is now located in <tt>/etc/mail/helpfile</tt>. The old name (<tt>/etc/mail/sendmail.hf</tt>) has a symbolic link that points to the new name.</p></li>
<li><p><a name="indexterm-1627"></a><a name="indexterm-1628"></a><a name="indexterm-1629"></a><a name="indexterm-1630"></a><a name="indexterm-1631"></a><a name="indexterm-1632"></a><a name="indexterm-1633"></a><a name="indexterm-1634"></a>The <tt>trusted-users</tt> file is now located in <tt>/etc/mail/trusted-users</tt>. During an upgrade, if the old name (<tt>/etc/mail/sendmail.ct</tt>) is detected, but not the new name, a hard link from the old name to the new name is created. Otherwise, no change is made. The default content is <tt>root</tt>.</p></li>
<li><p><a name="indexterm-1635"></a><a name="indexterm-1636"></a><a name="indexterm-1637"></a><a name="indexterm-1638"></a><a name="indexterm-1639"></a><a name="indexterm-1640"></a><a name="indexterm-1641"></a><a name="indexterm-1642"></a>The <tt>local-host-names</tt> file is now located in <tt>/etc/mail/local-host-names</tt>. During an upgrade, if the old name (<tt>/etc/mail/sendmail.cw</tt>) is detected, but not the new name, a hard link from the old name to the new name is created. Otherwise, no change is made. The default content is zero length.</p></li></ul>


<a name="mailrefer-124"></a><h4><tt>sendmail</tt> Version 8.12 and IPv6 Addresses in Configuration</h4>
<p><a name="indexterm-1643"></a><a name="indexterm-1644"></a>Starting with version 8.12 of <tt>sendmail</tt>, IPv6 addresses that are used in configuration should be
prefixed with the <tt>IPv6:</tt> tag to identify the address properly. If you are
not identifying an IPv6 address, a prefix tag is not used.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="evemx.html">Previous</a>
             </td>
             <td align="right">
                 <a href="modemtm-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

