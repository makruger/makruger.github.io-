<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Modifying DA Advertising and Discovery Frequency - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Network Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="slp.config-1a.html">Previous</a>
             </td>
             <td align="right">
                 <a href="slp.config-14.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="netservices-1.html">Part&nbsp;I&nbsp;Network Services Topics</a></p>
<p class="toc level2"><a href="nsov-1.html">1.&nbsp;&nbsp;Network Service (Overview)</a></p>
<p class="toc level2"><a href="nca-1.html">2.&nbsp;&nbsp;Managing Web Cache Servers</a></p>
<p class="toc level2"><a href="time-1.html">3.&nbsp;&nbsp;Time-Related Services</a></p>
<p class="toc level1 tocsp"><a href="rfstm-1.html">Part&nbsp;II&nbsp;Accessing Network File Systems Topics</a></p>
<p class="toc level2"><a href="rfsintro-2.html">4.&nbsp;&nbsp;Managing Network File Systems (Overview)</a></p>
<p class="toc level2"><a href="rfsadmin-8.html">5.&nbsp;&nbsp;Network File System Administration (Tasks)</a></p>
<p class="toc level2"><a href="rfsrefer-1.html">6.&nbsp;&nbsp;Accessing Network File Systems (Reference)</a></p>
<p class="toc level1 tocsp"><a href="slptm.html">Part&nbsp;III&nbsp;SLP Topics</a></p>
<p class="toc level2"><a href="slparch-16.html">7.&nbsp;&nbsp;SLP (Overview)</a></p>
<p class="toc level2"><a href="slp.setup-10.html">8.&nbsp;&nbsp;Planning and Enabling SLP (Tasks)</a></p>
<p class="toc level2"><a href="ch.configuration-6.html">9.&nbsp;&nbsp;Administering SLP (Tasks)</a></p>
<p class="toc level3"><a href="slp.config-1a.html">Configuring SLP Properties</a></p>
<p class="toc level4"><a href="slp.config-1a.html#ch.configuration-155">How to Change Your SLP Configuration</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Modifying DA Advertising and Discovery Frequency</a></p>
<p class="toc level4"><a href="#slp.config-4">How to Limit UAs and SAs to Statically Configured DAs</a></p>
<p class="toc level4"><a href="#wuftp-63">How to Configure DA Discovery for Dial-up Networks</a></p>
<p class="toc level4"><a href="#slp.config-3">How to Configure DA Heartbeat for Frequent Partitions</a></p>
</div>
<p class="toc level3 tocsp"><a href="slp.config-14.html">Accommodating Different Network Media, Topologies, or Configurations</a></p>
<p class="toc level4"><a href="slp.config-14.html#slp.config-rsar">How to Reduce SA Reregistrations</a></p>
<p class="toc level4"><a href="slp.config-14.html#slp.config-htcmttlp">How to Configure the Multicast Time-to-Live Property</a></p>
<p class="toc level4"><a href="slp.config-14.html#slp.config-28">How to Configure the Packet Size</a></p>
<p class="toc level4"><a href="slp.config-14.html#slp.config-36">How to Configure Broadcast-Only Routing</a></p>
<p class="toc level3 tocsp"><a href="slp.config-19.html">Modifying Timeouts on SLP Discovery Requests</a></p>
<p class="toc level4"><a href="slp.config-19.html#slp.config-44">How to Change Default Timeouts</a></p>
<p class="toc level4"><a href="slp.config-19.html#slp.config-53">How to Configure the Random-Wait Bound</a></p>
<p class="toc level3 tocsp"><a href="slp.config-22.html">Deploying Scopes</a></p>
<p class="toc level4"><a href="slp.config-22.html#slp.config-62">How to Configure Scopes</a></p>
<p class="toc level3 tocsp"><a href="slp.config-dda.html">Deploying DAs</a></p>
<p class="toc level4"><a href="slp.config-dda.html#slp.config-70">How to Deploy DAs</a></p>
<p class="toc level3 tocsp"><a href="slp.config-6.html">SLP and Multihoming</a></p>
<p class="toc level2 tocsp"><a href="legacy-7.html">10.&nbsp;&nbsp;Incorporating Legacy Services</a></p>
<p class="toc level2"><a href="slpreference.html">11.&nbsp;&nbsp;SLP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="mailtm-1.html">Part&nbsp;IV&nbsp;Mail Services Topics</a></p>
<p class="toc level2"><a href="mailintro-1.html">12.&nbsp;&nbsp;Mail Services (Overview)</a></p>
<p class="toc level2"><a href="mailadmin-1.html">13.&nbsp;&nbsp;Mail Services (Tasks)</a></p>
<p class="toc level2"><a href="mailrefer-1.html">14.&nbsp;&nbsp;Mail Services (Reference)</a></p>
<p class="toc level1 tocsp"><a href="modemtm-1.html">Part&nbsp;V&nbsp;Serial Networking Topics</a></p>
<p class="toc level2"><a href="pppsvrconfig.intro-1.html">15.&nbsp;&nbsp;Solaris PPP 4.0 (Overview)</a></p>
<p class="toc level2"><a href="pppsvrconfig.p2plink-1.html">16.&nbsp;&nbsp;Planning for the PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.dialin-1.html">17.&nbsp;&nbsp;Setting Up a Dial-up PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.leased-1.html">18.&nbsp;&nbsp;Setting Up a Leased-Line PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.auth-1.html">19.&nbsp;&nbsp;Setting Up PPP Authentication (Tasks)</a></p>
<p class="toc level2"><a href="ppp.pppoe-1.html">20.&nbsp;&nbsp;Setting Up a PPPoE Tunnel (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.troubleshoot-1.html">21.&nbsp;&nbsp;Fixing Common PPP Problems (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.reference-1.html">22.&nbsp;&nbsp;Solaris PPP 4.0 (Reference)</a></p>
<p class="toc level2"><a href="pppsvrconfig.convert.app-1.html">23.&nbsp;&nbsp;Migrating From Asynchronous Solaris PPP to Solaris PPP 4.0 (Tasks)</a></p>
<p class="toc level2"><a href="uucpov-1.html">24.&nbsp;&nbsp;UUCP (Overview)</a></p>
<p class="toc level2"><a href="uucptasks-1.html">25.&nbsp;&nbsp;Administering UUCP (Tasks)</a></p>
<p class="toc level2"><a href="uucpref-1.html">26.&nbsp;&nbsp;UUCP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="wwrstm.html">Part&nbsp;VI&nbsp;Working With Remote Systems Topics</a></p>
<p class="toc level2"><a href="wwrsov.html">27.&nbsp;&nbsp;Working With Remote Systems (Overview)</a></p>
<p class="toc level2"><a href="wuftp-17.html">28.&nbsp;&nbsp;Administering the FTP Server (Tasks)</a></p>
<p class="toc level2"><a href="remotehowtoaccess-99941.html">29.&nbsp;&nbsp;Accessing Remote Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="netmonitortm-1.html">Part&nbsp;VII&nbsp;Monitoring Network Services Topics</a></p>
<p class="toc level2"><a href="netmonitor-1.html">30.&nbsp;&nbsp;Monitoring Network Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="slp.config-8"></a><h3>Modifying DA Advertising and Discovery Frequency</h3>
<p><a name="indexterm-952"></a><a name="indexterm-953"></a>In situations such as the following, you can modify properties that control the
timing of DA advertisements and discovery requests.</p>
<ul><li><p>When you want the SA or UA to obtain DA configuration information statically from the <tt>net.slp.DAAddresses</tt> property in the <tt>slp.conf</tt> file, you can disable DA discovery.</p></li>
<li><p>When the network is subject to recurrent partitioning, you can change the frequency of passive advertisements and active discovery.</p></li>
<li><p><a name="indexterm-954"></a>If UA and SA clients access DAs on the other side of a dial-up connection, you can decrease the DA heartbeat frequency and the active discovery interval to reduce the number of times a dial-up line is activated.</p></li>
<li><p>If network congestion is high, you can limit multicasting.</p></li></ul>
<p>The procedures in this section explain how to modify the following properties.</p><a name="slp.config-tbl-2a"></a><h6>Table&nbsp;9-2 DA Advertisement Timing and Discovery Request Properties</h6><table><col width="4*"><col width="6*"><tr><th align="left" valign="top" scope="column"><p>Property</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>net.slp.passiveDADetection</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-955"></a>Boolean
that specifies whether <tt>slpd</tt> listens for unsolicited DA advertisements</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>net.slp.DAActiveDiscoveryInterval</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-956"></a>Value that specifies how often
<tt>slpd</tt> performs active DA discovery for a new DA</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>net.slp.DAHeartBeat</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-957"></a>Value that specifies how often
a DA multicasts an unsolicited DA advertisement</p></td>
</tr>
</table>

<a name="slp.config-9"></a><h4>Limiting UAs and SAs to Statically Configured DAs</h4>
<a name="indexterm-958"></a><a name="indexterm-959"></a><a name="indexterm-960"></a><a name="indexterm-961"></a><a name="indexterm-962"></a><p><a name="indexterm-963"></a>Sometimes you might need to limit UAs and SAs to obtaining DA addresses
from the static configuration information in the <tt>slp.conf</tt> file. In the next procedure,
you can modify two properties that cause <tt>slpd</tt> to obtain DA information exclusively
from the <tt>net.slp.DAAddresses</tt> property.</p>

<a name="slp.config-4"></a><h4>How to Limit UAs and SAs to Statically Configured DAs</h4><p>Use the following procedure to change the <tt>net.slp.passiveDADetection</tt> and the <tt>net.slp.DAActiveDiscoveryInterval</tt> properties.</p>
<hr><p><b>Note - </b>Use this procedure only on hosts that execute UAs and SAs which are
restricted to static configurations. </p>
<hr>
<ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="ch.configuration-step-35c"></a><b>Stop <tt>slpd</tt> and all SLP activity on the host.</b><pre># <tt><b>svcadm disable network/slp</b></tt></pre></li>
<li><a name="ch.configuration-step-36a"></a><b><a name="indexterm-964"></a>Back up the default <tt>/etc/inet/slp.conf</tt> file before you change the configuration settings.</b></li>
<li><a name="ch.configuration-step-38b"></a><b><a name="indexterm-965"></a><a name="indexterm-966"></a>Set the <tt>net.slp.passiveDADetection</tt> property to <tt>False</tt> in the <tt>slp.conf</tt> file to disable passive discovery.
This setting causes <tt>slpd</tt> to ignore unsolicited DA advertisements.</b><pre>net.slp.passiveDADetection=False</pre></li>
<li><a name="slp.config-step-2"></a><b><a name="indexterm-967"></a><a name="indexterm-968"></a><a name="indexterm-969"></a><a name="indexterm-970"></a>Set the <tt>net.slp.DAActiveDiscoveryInterval</tt> to <tt>-1</tt> to disable initial and periodic active discovery.</b><pre>net.slp.DAActiveDiscoveryInterval=-1</pre></li>
<li><a name="ch.configuration-step-39b"></a><b>Save your changes and close the file.</b></li>
<li><a name="ch.configuration-step-40c"></a><b>Restart <tt>slpd</tt> to activate your changes.</b><pre># <tt><b>svcadm enable network/slp</b></tt></pre></li></ol>

<a name="slp.config-5"></a><h4>Configuring DA Discovery for Dial-up Networks</h4>
<p><a name="indexterm-971"></a><a name="indexterm-972"></a>If the UAs or SAs are separated from the DA by a
dial-up network, you can configure DA discovery to reduce or eliminate the number
of discovery requests and DA advertisements. Dial-up networks usually incur a charge when activated.
Minimizing extraneous calls can reduce the cost of using the dial-up network.</p>
<hr><p><b>Note - </b>You can disable DA discovery completely with the method that is described in
<a href="#slp.config-9">Limiting UAs and SAs to Statically Configured DAs</a>. </p>
<hr>


<a name="wuftp-63"></a><h4>How to Configure DA Discovery for Dial-up Networks</h4><p>You can use the following procedure to reduce unsolicited DA advertisements and active
discovery by increasing the DA heartbeat period and the active discovery interval.</p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="slp.config-step-6"></a><b>Stop <tt>slpd</tt> and all SLP activity on the host.</b><pre># <tt><b>svcadm disable network/slp</b></tt></pre></li>
<li><a name="slp.config-step-7"></a><b><a name="indexterm-973"></a>Back up the default <tt>/etc/inet/slp.conf</tt> file before you change the configuration settings.</b></li>
<li><a name="wuftp-step-66"></a><b>Increase the <tt>net.slp.DAHeartbeat</tt> property in the <tt>slpd.conf</tt> file.</b><pre><tt>net.slp.DAHeartbeat</tt>=<i>value</i></pre><dl><dt><i>value</i></dt>
<dd><p>A 32-bit integer that sets the number of seconds for the passive DA advertisement heartbeat</p><p>Default Value=10800 seconds (3 hours)</p><p>Range of Values=2000&ndash;259200000 seconds</p></dd>
</dl>
<p>For example, you can set the DA heartbeat to approximately 18 hours on
a host that is executing a DA:</p><pre>net.slp.DAHeartbeat=65535</pre></li>
<li><a name="slp.config-step-8"></a><b>Increase the <tt>net.slp.DAActiveDiscoveryInterval</tt> property in the <tt>slpd.conf</tt> file:</b><pre><tt>net.slp.DAActiveDiscoveryInterval</tt> <i>value</i></pre><dl><dt><i>value</i></dt>
<dd><p>A 32&ndash;bit integer that sets the number of seconds for DA active discovery queries</p><p>Default Value=900 seconds (15 minutes)</p><p>Range of Values=300&ndash;10800 seconds</p></dd>
</dl>
<p>For example, you can set the DA active discovery interval to 18
hours on a host that is executing a UA and an SA:</p><pre>net.slp.DAActiveDiscoveryInterval=65535</pre></li>
<li><a name="ch.configuration-step-39d"></a><b>Save your changes and close the file.</b></li>
<li><a name="ch.configuration-step-40d"></a><b>Restart <tt>slpd</tt> to activate your changes.</b><pre># <tt><b>svcadm enable network/slp</b></tt></pre></li></ol>

<a name="slp.config-2"></a><h4>Configuring the DA Heartbeat for Frequent Partitions</h4>
<a name="indexterm-974"></a><p><a name="indexterm-975"></a><a name="indexterm-976"></a><a name="indexterm-977"></a>SAs are required to register with all DAs that support their scopes. A
DA can appear after <tt>slpd</tt> has performed active discovery. If the DA supports
<tt>slpd</tt> scopes, the SLP daemon registers all advertisements on its host with the
DA.</p><p>One way <tt>slpd</tt> discovers DAs is by the initial unsolicited advertisement a DA
sends when it boots. The SLP daemon uses the periodic unsolicited advertisement (the
heartbeat) to determine whether a DA is still active. If the heartbeat fails
to appear, the daemon removes the DAs the daemon uses and those the
daemon offers to UAs.</p><p>Finally, when a DA undergoes a controlled shutdown, it transmits a special DA
advertisement that informs listening SA services that it will be out of service.
The SLP daemon also uses this advertisement to remove inactive DAs from the
cache.</p><p><a name="indexterm-978"></a><a name="indexterm-979"></a>If your network is subject to frequent partitions and SAs are long-lived, <tt>slpd</tt>
can remove cached DAs during the partitioning if heartbeat advertisements are not received.
By decreasing the heartbeat time, you can decrease the delay before a deactivated
DA is restored to the cache after the partition is repaired.</p>

<a name="slp.config-3"></a><h4>How to Configure DA Heartbeat for Frequent Partitions</h4><p><a name="indexterm-980"></a><a name="indexterm-981"></a>Use the following procedure to change the <tt>net.slp.DAHeartBeat</tt> property to decrease the
DA heartbeat period.</p>
<hr><p><b>Note - </b><a name="indexterm-982"></a><a name="indexterm-983"></a>If DA discovery is completely disabled, the <tt>net.slp.DAAddresses</tt> property must be set
in <tt>slp.conf</tt> on the hosts that are executing UAs and SAs so that
they access the correct DA.</p>
<hr>
<ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="slp.config-step-10"></a><b>Stop <tt>slpd</tt> and all SLP activity on the host.</b><pre># <tt><b>svcadm disable network/slp</b></tt></pre></li>
<li><a name="slp.config-step-11"></a><b><a name="indexterm-984"></a>Back up the default <tt>/etc/inet/slp.conf</tt> file before you change the configuration settings.</b></li>
<li><a name="slp.config-step-12"></a><b><a name="indexterm-985"></a><a name="indexterm-986"></a><a name="indexterm-987"></a>Decrease the <tt>net.slp.DAHeartBeat</tt> value to 1 hour (3600 seconds). By default, the DA
heartbeat period is set to 3 hours (10800 seconds). </b><pre>net.slp.DAHeartBeat=3600</pre></li>
<li><a name="slp.config-step-13"></a><b>Save your changes and close the file.</b></li>
<li><a name="slp.config-step-14"></a><b>Restart <tt>slpd</tt> to activate your changes.</b><pre># <tt><b>svcadm enable network/slp</b></tt></pre></li></ol>

<a name="slp.config-13"></a><h4>Relieving Network Congestion</h4>
<a name="indexterm-988"></a><a name="indexterm-989"></a><p>If network congestion is high, you can limit the amount of multicast activity.
If DAs have not already been deployed in the network, deploying DAs can
drastically reduce the amount of SLP-related multicast.</p><p><a name="indexterm-990"></a><a name="indexterm-991"></a>However, even after DAs are deployed, multicast is still necessary for DA discovery.
You can reduce the amount of multicast necessary for DA discovery by using
the method that is described in <a href="#wuftp-63">How to Configure DA Discovery for Dial-up Networks</a>. You can completely eliminate multicast for
DA discovery by using the method that is described in <a href="#slp.config-9">Limiting UAs and SAs to Statically Configured DAs</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="slp.config-1a.html">Previous</a>
             </td>
             <td align="right">
                 <a href="slp.config-14.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

