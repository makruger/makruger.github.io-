<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Setting Up the PPPoE Client - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Network Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ppp.pppoe-40.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ppp.pppoe-5.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="netservices-1.html">Part&nbsp;I&nbsp;Network Services Topics</a></p>
<p class="toc level2"><a href="nsov-1.html">1.&nbsp;&nbsp;Network Service (Overview)</a></p>
<p class="toc level2"><a href="nca-1.html">2.&nbsp;&nbsp;Managing Web Cache Servers</a></p>
<p class="toc level2"><a href="time-1.html">3.&nbsp;&nbsp;Time-Related Services</a></p>
<p class="toc level1 tocsp"><a href="rfstm-1.html">Part&nbsp;II&nbsp;Accessing Network File Systems Topics</a></p>
<p class="toc level2"><a href="rfsintro-2.html">4.&nbsp;&nbsp;Managing Network File Systems (Overview)</a></p>
<p class="toc level2"><a href="rfsadmin-8.html">5.&nbsp;&nbsp;Network File System Administration (Tasks)</a></p>
<p class="toc level2"><a href="rfsrefer-1.html">6.&nbsp;&nbsp;Accessing Network File Systems (Reference)</a></p>
<p class="toc level1 tocsp"><a href="slptm.html">Part&nbsp;III&nbsp;SLP Topics</a></p>
<p class="toc level2"><a href="slparch-16.html">7.&nbsp;&nbsp;SLP (Overview)</a></p>
<p class="toc level2"><a href="slp.setup-10.html">8.&nbsp;&nbsp;Planning and Enabling SLP (Tasks)</a></p>
<p class="toc level2"><a href="ch.configuration-6.html">9.&nbsp;&nbsp;Administering SLP (Tasks)</a></p>
<p class="toc level2"><a href="legacy-7.html">10.&nbsp;&nbsp;Incorporating Legacy Services</a></p>
<p class="toc level2"><a href="slpreference.html">11.&nbsp;&nbsp;SLP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="mailtm-1.html">Part&nbsp;IV&nbsp;Mail Services Topics</a></p>
<p class="toc level2"><a href="mailintro-1.html">12.&nbsp;&nbsp;Mail Services (Overview)</a></p>
<p class="toc level2"><a href="mailadmin-1.html">13.&nbsp;&nbsp;Mail Services (Tasks)</a></p>
<p class="toc level2"><a href="mailrefer-1.html">14.&nbsp;&nbsp;Mail Services (Reference)</a></p>
<p class="toc level1 tocsp"><a href="modemtm-1.html">Part&nbsp;V&nbsp;Serial Networking Topics</a></p>
<p class="toc level2"><a href="pppsvrconfig.intro-1.html">15.&nbsp;&nbsp;Solaris PPP 4.0 (Overview)</a></p>
<p class="toc level2"><a href="pppsvrconfig.p2plink-1.html">16.&nbsp;&nbsp;Planning for the PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.dialin-1.html">17.&nbsp;&nbsp;Setting Up a Dial-up PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.leased-1.html">18.&nbsp;&nbsp;Setting Up a Leased-Line PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.auth-1.html">19.&nbsp;&nbsp;Setting Up PPP Authentication (Tasks)</a></p>
<p class="toc level2"><a href="ppp.pppoe-1.html">20.&nbsp;&nbsp;Setting Up a PPPoE Tunnel (Tasks)</a></p>
<p class="toc level3"><a href="ppp.pppoe-40.html">Major Tasks for Setting Up a PPPoE Tunnel (Task Maps)</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Setting Up the PPPoE Client</a></p>
<p class="toc level4"><a href="#ppp.pppoe-55">How to Configure an Interface for a PPPoE Client</a></p>
<p class="toc level4"><a href="#ppp.pppoe-56">How to Define a PPPoE Access Server Peer</a></p>
</div>
<p class="toc level3 tocsp"><a href="ppp.pppoe-5.html">Setting Up a PPPoE Access Server</a></p>
<p class="toc level4"><a href="ppp.pppoe-5.html#ppp.pppoe-58">How to Set Up a PPPoE Access Server</a></p>
<p class="toc level4"><a href="ppp.pppoe-5.html#ppp.pppoe-60">How to Modify an Existing <tt>/etc/ppp/pppoe</tt> File</a></p>
<p class="toc level4"><a href="ppp.pppoe-5.html#ppp.pppoe-61">How to Restrict the Use of an Interface to Particular Clients</a></p>
<p class="toc level2 tocsp"><a href="pppsvrconfig.troubleshoot-1.html">21.&nbsp;&nbsp;Fixing Common PPP Problems (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.reference-1.html">22.&nbsp;&nbsp;Solaris PPP 4.0 (Reference)</a></p>
<p class="toc level2"><a href="pppsvrconfig.convert.app-1.html">23.&nbsp;&nbsp;Migrating From Asynchronous Solaris PPP to Solaris PPP 4.0 (Tasks)</a></p>
<p class="toc level2"><a href="uucpov-1.html">24.&nbsp;&nbsp;UUCP (Overview)</a></p>
<p class="toc level2"><a href="uucptasks-1.html">25.&nbsp;&nbsp;Administering UUCP (Tasks)</a></p>
<p class="toc level2"><a href="uucpref-1.html">26.&nbsp;&nbsp;UUCP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="wwrstm.html">Part&nbsp;VI&nbsp;Working With Remote Systems Topics</a></p>
<p class="toc level2"><a href="wwrsov.html">27.&nbsp;&nbsp;Working With Remote Systems (Overview)</a></p>
<p class="toc level2"><a href="wuftp-17.html">28.&nbsp;&nbsp;Administering the FTP Server (Tasks)</a></p>
<p class="toc level2"><a href="remotehowtoaccess-99941.html">29.&nbsp;&nbsp;Accessing Remote Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="netmonitortm-1.html">Part&nbsp;VII&nbsp;Monitoring Network Services Topics</a></p>
<p class="toc level2"><a href="netmonitor-1.html">30.&nbsp;&nbsp;Monitoring Network Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="ppp.pppoe-2"></a><h3>Setting Up the PPPoE Client</h3>
<p>To provide PPP  to client systems over DSL, you must first configure PPPoE
on the interface that is connected to the modem or hub. Then you
need to change the PPP configuration files to define the access server on the opposite
end of the PPPoE.</p>

<a name="ppp.pppoe-3"></a><h4>Prerequisites for Setting Up the PPPoE Client</h4>
<a name="indexterm-1887"></a><p>Before you set up the PPPoE client, you must have done the following:</p>
<ul><li><p>Installed Solaris 8 Update 6 release or subsequent releases on the client machines to use the PPPoE tunnel.</p></li>
<li><p>Contacted the service provider for information about its PPPoE access server.</p></li>
<li><p>Had the telephone company or service provider assemble the devices that are used by the client machines. These devices include, for example, the DSL modem and the splitter, which the telephone company rather than you might assemble.</p></li></ul>


<a name="ppp.pppoe-55"></a><h4>How to Configure an Interface for a PPPoE Client</h4><a name="indexterm-1888"></a><a name="indexterm-1889"></a><a name="indexterm-1890"></a><p>Use this procedure to define the Ethernet interface to be used for the PPPoE
tunnel.</p><ol>
<li><a name="ppp.pppoe-step-16"></a><b>Become superuser on the PPPoE client or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure a
role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="ppp.pppoe-step-12"></a><b><a name="indexterm-1891"></a>Add the name of the Ethernet interface with the DSL connection to the <tt>/etc/ppp/pppoe.if</tt>
file.</b><p>For example, you add the following entry to <tt>/etc/ppp/pppoe.if</tt> for a PPPoE client
that uses <tt>hme0</tt> as the network interface that is connected to the DSL modem. </p><pre><tt><b>hme0</b></tt></pre><p>For more information about <tt>/etc/ppp/pppoe.if</tt>, go to <a href="ppp.reference-45.html#ppp.reference-51"><tt>/etc/ppp/pppoe.if</tt> File</a>.</p></li>
<li><a name="ppp.pppoe-step-19"></a><b>Configure the interface for PPPoE use.</b><pre># <tt><b>/etc/init.d/pppd start</b></tt></pre></li>
<li><a name="ppp.pppoe-step-49"></a>(Optional) <b>Verify that the interface is now plumbed for PPPoE.</b><pre># <tt><b>/usr/sbin/sppptun query</b></tt>
hme0:pppoe
hme0:pppoed</pre><p>You can also use the <tt>/usr/sbin/sppptun</tt> command to manually plumb interfaces for PPPoE.
For instructions, refer to <a href="ppp.reference-45.html#ppp.reference-49"><tt>/usr/sbin/sppptun</tt> Command</a>.</p></li></ol>

<a name="ppp.pppoe-56"></a><h4>How to Define a PPPoE Access Server Peer</h4><p><a name="indexterm-1892"></a>You define the access server in the <tt>/etc/ppp/peers/</tt><i>peer-name</i> file. Many of the options that
are used for the access server are also used to define the dial-in server
in a dial-up scenario. For a detailed explanation of <tt>/etc/ppp/peers.</tt><i>peer-name</i>, refer to <a href="pppsvrconfig.reference-45.html#pppsvrconfig.reference-56"><tt>/etc/ppp/peers/</tt><i>peer-name</i> File</a>.</p><ol>
<li><a name="ppp.pppoe-step-13"></a><b>Become superuser on the PPPoE client or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure a
role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="ppp.pppoe-step-20"></a><b><a name="indexterm-1893"></a>Define the service provider's PPPoE access server in the <tt>/etc/ppp/peers/</tt><i>peer-name</i> file.</b><p>For example, the following file, <tt>/etc/ppp/peers/dslserve</tt>, defines the access server <tt>dslserve</tt> at Far ISP
that is introduced in <a href="ppp.p2plink-25.html#ppp.p2plink-28">Example of a Configuration for a PPPoE Tunnel</a>. </p><pre># <tt><b>cat /etc/ppp/peers/dslserve</b></tt>
sppptun
plugin pppoe.so
connect "/usr/lib/inet/pppoec hme0"
noccp
noauth
user Red
password redsecret
noipdefault
defaultroute</pre><p>For a definition of the options in this file, go to <a href="ppp.reference-45.html#ppp.reference-46"><tt>/etc/ppp/peers/</tt><i>peer-name</i> File for Defining an Access Server Peer</a>.</p></li>
<li><a name="ppp.pppoe-step-22"></a><b>Modify the other PPP configuration files on the PPPoE client.</b><ol style="list-style-type: lower-alpha">
				 
<li><a name="ppp.pppoe-step-62"></a><b>Configure <tt>/etc/ppp/options</tt> as described in the instructions for configuring a dial-out machine in <a href="pppsvrconfig.dialin-52.html">Configuring the Dial-out Machine</a>.</b></li>
<li><a name="ppp.pppoe-step-57"></a><b>Create an <tt>/etc/ppp/options.sppptun</tt> file.  <tt>/etc/ppp/options.sppptun</tt>  defines PPP options for the serial port to which
the interface that is plumbed for PPPoE is attached.</b><p>You can use any options that are available for the <tt>/etc/ppp/options.</tt><i>ttyname</i> file that is
described in <a href="pppsvrconfig.reference-65.html#pppsvrconfig.reference-4"><tt>/etc/ppp/options</tt>.<i>ttyname</i> Configuration File</a>. You must name the file <tt>/etc/ppp/options.sppptun</tt> because <tt>sppptun</tt> is the specified
device name in the <tt>pppd</tt> configuration.</p></li></ol></li>
<li><a name="ppp.pppoe-step-21"></a><b>Ensure that all users can start PPP on the client.</b><pre># <tt><b>touch /etc/ppp/options</b></tt></pre></li>
<li><a name="ppp.pppoe-step-23"></a><b><a name="indexterm-1894"></a>Test if PPP can run over the DSL line.</b><pre>% <tt><b>pppd debug updetach call dslserve</b></tt></pre><p><tt><b>dslserve</b></tt> is the name that is given to the access server at the ISP
that is shown in <a href="ppp.p2plink-25.html#ppp.p2plink-28">Example of a Configuration for a PPPoE Tunnel</a>. The <tt>debug updetach</tt> option causes debugging information to be displayed in
a terminal window.</p><p>If PPP is running correctly, the terminal output shows the link becoming active. If
PPP still does not run, try the following command to see if the servers
are running correctly:</p><pre># <tt><b>/usr/lib/inet/pppoec -i hme0</b></tt></pre>
<hr><p><b>Note - </b>Users of configured PPPoE clients can begin running PPP over a DSL line by
typing the following:</p><pre>% pppd call <i>ISP-server-name</i></pre><p>Then the users can run an application or a service.</p>
<hr>
</li></ol><h6>See Also</h6><p>The following list provides references to related information.</p>
<ul><li><p>See <a href="">Setting Up the PPPoE Client</a>.</p></li>
<li><p>See <a href="ppp.reference-45.html">Creating PPPoE Tunnels for DSL Support</a>.</p></li>
<li><p>See <a href="pppsvrconfig.troubleshoot-1.html">Chapter&nbsp;21, Fixing Common PPP Problems (Tasks)</a>.</p></li>
<li><p>See <a href="ppp.pppoe-5.html">Setting Up a PPPoE Access Server</a>.</p></li></ul>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ppp.pppoe-40.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ppp.pppoe-5.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

