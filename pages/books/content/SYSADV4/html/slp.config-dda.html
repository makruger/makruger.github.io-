<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Deploying DAs - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Network Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="slp.config-22.html">Previous</a>
             </td>
             <td align="right">
                 <a href="slp.config-6.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="netservices-1.html">Part&nbsp;I&nbsp;Network Services Topics</a></p>
<p class="toc level2"><a href="nsov-1.html">1.&nbsp;&nbsp;Network Service (Overview)</a></p>
<p class="toc level2"><a href="nca-1.html">2.&nbsp;&nbsp;Managing Web Cache Servers</a></p>
<p class="toc level2"><a href="time-1.html">3.&nbsp;&nbsp;Time-Related Services</a></p>
<p class="toc level1 tocsp"><a href="rfstm-1.html">Part&nbsp;II&nbsp;Accessing Network File Systems Topics</a></p>
<p class="toc level2"><a href="rfsintro-2.html">4.&nbsp;&nbsp;Managing Network File Systems (Overview)</a></p>
<p class="toc level2"><a href="rfsadmin-8.html">5.&nbsp;&nbsp;Network File System Administration (Tasks)</a></p>
<p class="toc level2"><a href="rfsrefer-1.html">6.&nbsp;&nbsp;Accessing Network File Systems (Reference)</a></p>
<p class="toc level1 tocsp"><a href="slptm.html">Part&nbsp;III&nbsp;SLP Topics</a></p>
<p class="toc level2"><a href="slparch-16.html">7.&nbsp;&nbsp;SLP (Overview)</a></p>
<p class="toc level2"><a href="slp.setup-10.html">8.&nbsp;&nbsp;Planning and Enabling SLP (Tasks)</a></p>
<p class="toc level2"><a href="ch.configuration-6.html">9.&nbsp;&nbsp;Administering SLP (Tasks)</a></p>
<p class="toc level3"><a href="slp.config-1a.html">Configuring SLP Properties</a></p>
<p class="toc level4"><a href="slp.config-1a.html#ch.configuration-155">How to Change Your SLP Configuration</a></p>
<p class="toc level3 tocsp"><a href="slp.config-8.html">Modifying DA Advertising and Discovery Frequency</a></p>
<p class="toc level4"><a href="slp.config-8.html#slp.config-4">How to Limit UAs and SAs to Statically Configured DAs</a></p>
<p class="toc level4"><a href="slp.config-8.html#wuftp-63">How to Configure DA Discovery for Dial-up Networks</a></p>
<p class="toc level4"><a href="slp.config-8.html#slp.config-3">How to Configure DA Heartbeat for Frequent Partitions</a></p>
<p class="toc level3 tocsp"><a href="slp.config-14.html">Accommodating Different Network Media, Topologies, or Configurations</a></p>
<p class="toc level4"><a href="slp.config-14.html#slp.config-rsar">How to Reduce SA Reregistrations</a></p>
<p class="toc level4"><a href="slp.config-14.html#slp.config-htcmttlp">How to Configure the Multicast Time-to-Live Property</a></p>
<p class="toc level4"><a href="slp.config-14.html#slp.config-28">How to Configure the Packet Size</a></p>
<p class="toc level4"><a href="slp.config-14.html#slp.config-36">How to Configure Broadcast-Only Routing</a></p>
<p class="toc level3 tocsp"><a href="slp.config-19.html">Modifying Timeouts on SLP Discovery Requests</a></p>
<p class="toc level4"><a href="slp.config-19.html#slp.config-44">How to Change Default Timeouts</a></p>
<p class="toc level4"><a href="slp.config-19.html#slp.config-53">How to Configure the Random-Wait Bound</a></p>
<p class="toc level3 tocsp"><a href="slp.config-22.html">Deploying Scopes</a></p>
<p class="toc level4"><a href="slp.config-22.html#slp.config-62">How to Configure Scopes</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Deploying DAs</a></p>
<p class="toc level4"><a href="#slp.config-70">How to Deploy DAs</a></p>
</div>
<p class="toc level3 tocsp"><a href="slp.config-6.html">SLP and Multihoming</a></p>
<p class="toc level2 tocsp"><a href="legacy-7.html">10.&nbsp;&nbsp;Incorporating Legacy Services</a></p>
<p class="toc level2"><a href="slpreference.html">11.&nbsp;&nbsp;SLP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="mailtm-1.html">Part&nbsp;IV&nbsp;Mail Services Topics</a></p>
<p class="toc level2"><a href="mailintro-1.html">12.&nbsp;&nbsp;Mail Services (Overview)</a></p>
<p class="toc level2"><a href="mailadmin-1.html">13.&nbsp;&nbsp;Mail Services (Tasks)</a></p>
<p class="toc level2"><a href="mailrefer-1.html">14.&nbsp;&nbsp;Mail Services (Reference)</a></p>
<p class="toc level1 tocsp"><a href="modemtm-1.html">Part&nbsp;V&nbsp;Serial Networking Topics</a></p>
<p class="toc level2"><a href="pppsvrconfig.intro-1.html">15.&nbsp;&nbsp;Solaris PPP 4.0 (Overview)</a></p>
<p class="toc level2"><a href="pppsvrconfig.p2plink-1.html">16.&nbsp;&nbsp;Planning for the PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.dialin-1.html">17.&nbsp;&nbsp;Setting Up a Dial-up PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.leased-1.html">18.&nbsp;&nbsp;Setting Up a Leased-Line PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.auth-1.html">19.&nbsp;&nbsp;Setting Up PPP Authentication (Tasks)</a></p>
<p class="toc level2"><a href="ppp.pppoe-1.html">20.&nbsp;&nbsp;Setting Up a PPPoE Tunnel (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.troubleshoot-1.html">21.&nbsp;&nbsp;Fixing Common PPP Problems (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.reference-1.html">22.&nbsp;&nbsp;Solaris PPP 4.0 (Reference)</a></p>
<p class="toc level2"><a href="pppsvrconfig.convert.app-1.html">23.&nbsp;&nbsp;Migrating From Asynchronous Solaris PPP to Solaris PPP 4.0 (Tasks)</a></p>
<p class="toc level2"><a href="uucpov-1.html">24.&nbsp;&nbsp;UUCP (Overview)</a></p>
<p class="toc level2"><a href="uucptasks-1.html">25.&nbsp;&nbsp;Administering UUCP (Tasks)</a></p>
<p class="toc level2"><a href="uucpref-1.html">26.&nbsp;&nbsp;UUCP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="wwrstm.html">Part&nbsp;VI&nbsp;Working With Remote Systems Topics</a></p>
<p class="toc level2"><a href="wwrsov.html">27.&nbsp;&nbsp;Working With Remote Systems (Overview)</a></p>
<p class="toc level2"><a href="wuftp-17.html">28.&nbsp;&nbsp;Administering the FTP Server (Tasks)</a></p>
<p class="toc level2"><a href="remotehowtoaccess-99941.html">29.&nbsp;&nbsp;Accessing Remote Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="netmonitortm-1.html">Part&nbsp;VII&nbsp;Monitoring Network Services Topics</a></p>
<p class="toc level2"><a href="netmonitor-1.html">30.&nbsp;&nbsp;Monitoring Network Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="slp.config-dda"></a><h3>Deploying DAs</h3>
<p>This section describes the strategic deployment of DAs in a network that is
running SLP.</p><p>SLP functions adequately with only the base agents (UAs and SAs), and with
no deployed DAs or configured scopes. All agents that lack specific configurations use
the <tt>default</tt> scope. DAs serve as caches for service advertisements. Deploying DAs decreases
the number of messages that are sent on the network and reduces the
time that is required to receive responses to messages. This capability enables SLP
to accommodate larger networks.</p>

<a name="slp.config-31"></a><h4>Why Deploy an SLP DA?</h4>
<a name="indexterm-1045"></a><p><a name="indexterm-1046"></a><a name="indexterm-1047"></a>The primary reason to deploy DAs is to reduce the amount of
multicast traffic and the delays that are associated with gathering unicast replies. In a
large network with many UAs and SAs, the amount of multicast traffic that
is involved in service discovery can become so large that network performance degrades.
By deploying one or more DAs, UAs must unicast to DAs for
service and SAs must register with DAs by using unicast. The only SLP-registered
multicast in a network with DAs is for active and passive DA discovery.</p><p><a name="indexterm-1048"></a><a name="indexterm-1049"></a>SAs register automatically with any DAs they discover within a set of common
scopes, rather than accepting multicast service requests. Multicast requests in scopes that are
not supported by the DA are still answered directly by the SA, however.
</p><p><a name="indexterm-1050"></a><a name="indexterm-1051"></a><a name="indexterm-1052"></a>Service requests from UAs are unicast to DAs rather than multicast onto the
network when a DA is deployed within the UA's scopes. Consequently, DAs within
the UA's scopes reduce multicast. By eliminating multicast for normal UA requests, the
time that is required to obtain replies to queries is greatly reduced (from
seconds to milliseconds).</p><p><a name="indexterm-1053"></a>DAs act as a focal point for SA and UA activity. Deploying
one or several DAs for a collection of scopes provides a centralized point
for monitoring SLP activity. By turning on DA logging, it is easier to
monitor registrations and requests than by checking the logs from multiple SAs that are
scattered around the network. You can deploy any number of DAs for
a particular scope or scopes, depending on the need to balance the load.</p><p><a name="indexterm-1054"></a><a name="indexterm-1055"></a><a name="indexterm-1056"></a>In networks without multicast routing enabled, you can configure SLP to use broadcast.
However, broadcast is very inefficient, because it requires each host to process the
message. Broadcast also does not normally propagate across routers. As a result, in
a network without multicast routing support, services can be discovered only on the
same subnet. Partial support for multicast routing leads to inconsistent ability to discover
services on a network. Multicast messages are used to discover DAs. Partial support
for multicast routing, therefore, implies that UAs and SAs register services with all
known DAs in the SA's scope. For example, if a UA queries a
DA that is called <tt>DA1</tt> and the SA has registered services with <tt>DA2</tt>,
the UA will fail to discover a service.  See <a href="slp.config-14.html#slp.config-18">Configuring Broadcast-Only Routing</a> for more
information on how to deploy SLP on networks without multicast enabled.</p><p>On a network with inconsistent site-wide support for multicast routing, you must configure
the SLP UAs and SAs with a consistent list of DA locations by
using the <tt>net.slp.DAAdresseses</tt> property.</p><p><a name="indexterm-1057"></a>Finally, the Solaris SLPv2 DA supports interoperability with SLPv1. SLPv1 interoperability is enabled
by default in the Solaris DA. If your network contains SLPv1 devices, such
as printers, or you need to interoperate with Novell Netware 5, which uses
SLPv1 for service discovery, you should deploy a DA. Without a DA, the
Solaris SLP UAs are unable to find SLPv1 advertised services.</p>

<a name="slp.config-32"></a><h4>When to Deploy DAs</h4>
<a name="indexterm-1058"></a><p>Deploy DAs on your enterprise if any of the following conditions are true:</p>
<ul><li><p>Multicast SLP traffic exceeds 1 percent of the bandwidth on your network, as measured by <tt>snoop</tt>.</p></li>
<li><p>UA clients experience long delays or timeouts during multicast service requests.</p></li>
<li><p>You want to centralize the monitoring of SLP service advertisements for particular scopes on one or several hosts.</p></li>
<li><p>Your network does not have multicast enabled and consists of multiple subnets that must share services.</p></li>
<li><p>Your network employs devices that support earlier versions of SLP (SLPv1) or you would like SLP service discovery to interoperate with Novell Netware 5.</p></li></ul>


<a name="slp.config-70"></a><h4>How to Deploy DAs</h4><p>Use the following procedure to set the <tt>net.slp.isDA</tt> property to <tt>True</tt> in the
<tt>slp.conf</tt> file. </p>
<hr><p><b>Note - </b>You can assign only one DA per host.</p>
<hr>
<ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="slp.config-step-73"></a><b>Stop <tt>slpd</tt>and all SLP activity on the host.</b><pre># <tt><b>svcadm disable network/slp</b></tt></pre></li>
<li><a name="slp.config-step-74"></a><b><a name="indexterm-1059"></a>Back up the default <tt>/etc/inet/slp.conf</tt> file before you change the configuration settings.</b></li>
<li><a name="slp.config-step-75"></a><b>Set the <tt>net.slp.isDA</tt> property in the <tt>slpd.conf</tt> file to <tt>True</tt>:</b><pre>net.slp.isDA=True</pre></li>
<li><a name="slp.config-step-76"></a><b>Save your changes and close the file.</b></li>
<li><a name="slp.config-step-77"></a><b>Restart <tt>slpd</tt> to activate your changes.</b><pre># <tt><b>svcadm enable network/slp</b></tt></pre></li></ol>

<a name="slp.config-40"></a><h4>Where to Place DAs</h4>
<a name="indexterm-1060"></a><p>This section provides suggestions for where to place DAs in different situations.</p>
<ul><li><p>When multicast routing is not enabled and DAs are required to bridge service discovery between subnets</p><p><a name="indexterm-1061"></a>In this situation, a DA must be placed on a host with interfaces and all subnets that share services. The <tt>net.slp.interfaces</tt> configuration property does <b>not</b> need to be set, unless IP packets are not routed among the interfaces. See <a href="slp.config-6.html#slp.config-42">Multihoming Configuration for SLP</a> for more information on configuring the <tt>net.slp.interfaces</tt> property.</p></li>
<li><p>When DAs are deployed for scalability and the primary consideration is optimizing agent access</p><p>UAs typically make many requests for services to DAs. An SA registers with the DA once, and can refresh the advertisement at periodic but infrequent intervals. As a result, UA access to DAs is far more frequent than SA access. The number of service advertisements is also usually smaller than the number of requests. Consequently, most DA deployments are more efficient if the deployment is optimized for UA access.</p></li>
<li><p>Situating DAs so that they are topologically close to UAs on the network to optimize UA access</p><p>Naturally, you must configure the DA with a scope that is shared by both the UA and SA clients.</p></li></ul>


<a name="slp.config-41"></a><h5>Placing Multiple DAs for Load Balancing</h5>
<a name="indexterm-1062"></a><a name="indexterm-1063"></a><p>You can deploy multiple DAs for the same collection of scopes as
a means of load balancing. Deploy DAs in any of the following circumstances:</p>
<ul><li><p><a name="indexterm-1064"></a><a name="indexterm-1065"></a>UA requests to a DA are timing out, or are returning with the <tt>DA_BUSY_NOW</tt> error.</p></li>
<li><p>The DA log shows that many SLP requests are being dropped.</p></li>
<li><p>The network of users who share services in the scopes spans a number of buildings or physical sites.</p></li></ul>
<p><a name="indexterm-1066"></a>You can run a <tt>snoop</tt> trace of SLP traffic to determine how many
UA requests return with the <tt>DA_BUSY_NOW</tt> error. If the number of UA requests
returned is high, UAs in buildings physically and topologically distant from the DA
can exhibit slow response or excessive timeouts. In such a scenario, you can
deploy a DA in each building to improve response for UA clients within
the building.</p><p><a name="indexterm-1067"></a><a name="indexterm-1068"></a>Links that connect buildings are often slower than the local area networks within
the buildings. If your network spans multiple buildings or physical sites, set the
<tt>net.slp.DAAddresses</tt> property in the <tt>/etc/inet/slp.conf</tt> file to a list of specific host names or
addresses so that the UAs access only the DAs you specify.</p><p>If a particular DA is using large amounts of host memory for
service registrations, reduce the number of SA registrations by reducing the number of scopes
the DA supports. You can split into two a scope that has
many registrations. You can then support one of the new scopes by deploying
another DA on another host.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="slp.config-22.html">Previous</a>
             </td>
             <td align="right">
                 <a href="slp.config-6.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

