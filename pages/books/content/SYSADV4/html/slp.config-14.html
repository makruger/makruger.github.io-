<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Accommodating Different Network Media, Topologies, or Configurations - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Network Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="slp.config-8.html">Previous</a>
             </td>
             <td align="right">
                 <a href="slp.config-19.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="netservices-1.html">Part&nbsp;I&nbsp;Network Services Topics</a></p>
<p class="toc level2"><a href="nsov-1.html">1.&nbsp;&nbsp;Network Service (Overview)</a></p>
<p class="toc level2"><a href="nca-1.html">2.&nbsp;&nbsp;Managing Web Cache Servers</a></p>
<p class="toc level2"><a href="time-1.html">3.&nbsp;&nbsp;Time-Related Services</a></p>
<p class="toc level1 tocsp"><a href="rfstm-1.html">Part&nbsp;II&nbsp;Accessing Network File Systems Topics</a></p>
<p class="toc level2"><a href="rfsintro-2.html">4.&nbsp;&nbsp;Managing Network File Systems (Overview)</a></p>
<p class="toc level2"><a href="rfsadmin-8.html">5.&nbsp;&nbsp;Network File System Administration (Tasks)</a></p>
<p class="toc level2"><a href="rfsrefer-1.html">6.&nbsp;&nbsp;Accessing Network File Systems (Reference)</a></p>
<p class="toc level1 tocsp"><a href="slptm.html">Part&nbsp;III&nbsp;SLP Topics</a></p>
<p class="toc level2"><a href="slparch-16.html">7.&nbsp;&nbsp;SLP (Overview)</a></p>
<p class="toc level2"><a href="slp.setup-10.html">8.&nbsp;&nbsp;Planning and Enabling SLP (Tasks)</a></p>
<p class="toc level2"><a href="ch.configuration-6.html">9.&nbsp;&nbsp;Administering SLP (Tasks)</a></p>
<p class="toc level3"><a href="slp.config-1a.html">Configuring SLP Properties</a></p>
<p class="toc level4"><a href="slp.config-1a.html#ch.configuration-155">How to Change Your SLP Configuration</a></p>
<p class="toc level3 tocsp"><a href="slp.config-8.html">Modifying DA Advertising and Discovery Frequency</a></p>
<p class="toc level4"><a href="slp.config-8.html#slp.config-4">How to Limit UAs and SAs to Statically Configured DAs</a></p>
<p class="toc level4"><a href="slp.config-8.html#wuftp-63">How to Configure DA Discovery for Dial-up Networks</a></p>
<p class="toc level4"><a href="slp.config-8.html#slp.config-3">How to Configure DA Heartbeat for Frequent Partitions</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Accommodating Different Network Media, Topologies, or Configurations</a></p>
<p class="toc level4"><a href="#slp.config-rsar">How to Reduce SA Reregistrations</a></p>
<p class="toc level4"><a href="#slp.config-htcmttlp">How to Configure the Multicast Time-to-Live Property</a></p>
<p class="toc level4"><a href="#slp.config-28">How to Configure the Packet Size</a></p>
<p class="toc level4"><a href="#slp.config-36">How to Configure Broadcast-Only Routing</a></p>
</div>
<p class="toc level3 tocsp"><a href="slp.config-19.html">Modifying Timeouts on SLP Discovery Requests</a></p>
<p class="toc level4"><a href="slp.config-19.html#slp.config-44">How to Change Default Timeouts</a></p>
<p class="toc level4"><a href="slp.config-19.html#slp.config-53">How to Configure the Random-Wait Bound</a></p>
<p class="toc level3 tocsp"><a href="slp.config-22.html">Deploying Scopes</a></p>
<p class="toc level4"><a href="slp.config-22.html#slp.config-62">How to Configure Scopes</a></p>
<p class="toc level3 tocsp"><a href="slp.config-dda.html">Deploying DAs</a></p>
<p class="toc level4"><a href="slp.config-dda.html#slp.config-70">How to Deploy DAs</a></p>
<p class="toc level3 tocsp"><a href="slp.config-6.html">SLP and Multihoming</a></p>
<p class="toc level2 tocsp"><a href="legacy-7.html">10.&nbsp;&nbsp;Incorporating Legacy Services</a></p>
<p class="toc level2"><a href="slpreference.html">11.&nbsp;&nbsp;SLP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="mailtm-1.html">Part&nbsp;IV&nbsp;Mail Services Topics</a></p>
<p class="toc level2"><a href="mailintro-1.html">12.&nbsp;&nbsp;Mail Services (Overview)</a></p>
<p class="toc level2"><a href="mailadmin-1.html">13.&nbsp;&nbsp;Mail Services (Tasks)</a></p>
<p class="toc level2"><a href="mailrefer-1.html">14.&nbsp;&nbsp;Mail Services (Reference)</a></p>
<p class="toc level1 tocsp"><a href="modemtm-1.html">Part&nbsp;V&nbsp;Serial Networking Topics</a></p>
<p class="toc level2"><a href="pppsvrconfig.intro-1.html">15.&nbsp;&nbsp;Solaris PPP 4.0 (Overview)</a></p>
<p class="toc level2"><a href="pppsvrconfig.p2plink-1.html">16.&nbsp;&nbsp;Planning for the PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.dialin-1.html">17.&nbsp;&nbsp;Setting Up a Dial-up PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.leased-1.html">18.&nbsp;&nbsp;Setting Up a Leased-Line PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.auth-1.html">19.&nbsp;&nbsp;Setting Up PPP Authentication (Tasks)</a></p>
<p class="toc level2"><a href="ppp.pppoe-1.html">20.&nbsp;&nbsp;Setting Up a PPPoE Tunnel (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.troubleshoot-1.html">21.&nbsp;&nbsp;Fixing Common PPP Problems (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.reference-1.html">22.&nbsp;&nbsp;Solaris PPP 4.0 (Reference)</a></p>
<p class="toc level2"><a href="pppsvrconfig.convert.app-1.html">23.&nbsp;&nbsp;Migrating From Asynchronous Solaris PPP to Solaris PPP 4.0 (Tasks)</a></p>
<p class="toc level2"><a href="uucpov-1.html">24.&nbsp;&nbsp;UUCP (Overview)</a></p>
<p class="toc level2"><a href="uucptasks-1.html">25.&nbsp;&nbsp;Administering UUCP (Tasks)</a></p>
<p class="toc level2"><a href="uucpref-1.html">26.&nbsp;&nbsp;UUCP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="wwrstm.html">Part&nbsp;VI&nbsp;Working With Remote Systems Topics</a></p>
<p class="toc level2"><a href="wwrsov.html">27.&nbsp;&nbsp;Working With Remote Systems (Overview)</a></p>
<p class="toc level2"><a href="wuftp-17.html">28.&nbsp;&nbsp;Administering the FTP Server (Tasks)</a></p>
<p class="toc level2"><a href="remotehowtoaccess-99941.html">29.&nbsp;&nbsp;Accessing Remote Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="netmonitortm-1.html">Part&nbsp;VII&nbsp;Monitoring Network Services Topics</a></p>
<p class="toc level2"><a href="netmonitor-1.html">30.&nbsp;&nbsp;Monitoring Network Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="slp.config-14"></a><h3>Accommodating Different Network Media, Topologies, or Configurations</h3>
<p><a name="indexterm-992"></a><a name="indexterm-993"></a>This section describes possible scenarios in which you can change the following properties
to tune SLP performance.</p><a name="slp.config-tbl-2a1b"></a><h6>Table&nbsp;9-3 SLP Performance Properties</h6><table><col width="4*"><col width="6*"><tr><th align="left" valign="top" scope="column"><p>Property</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>net.slp.DAAttributes</tt></p></td>
<td align="left" valign="top" scope="row"><p>The minimum refresh interval that a DA accepts for
advertisements.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>net.slp.multicastTTL</tt></p></td>
<td align="left" valign="top" scope="row"><p>The <b>time-to-live</b> value that is specified for multicast packets.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>net.slp.MTU</tt></p></td>
<td align="left" valign="top" scope="row"><p>The byte size set for
network packets. The size includes IP and TCP or UDP headers.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>net.slp.isBroadcastOnly</tt></p></td>
<td align="left" valign="top" scope="row"><p>The Boolean that
is set to indicate if broadcast should be used for DA and non-DA-based
service discovery.</p></td>
</tr>
</table>

<a name="slp.config-15"></a><h4>Reducing SA Reregistrations</h4>
<p><a name="indexterm-994"></a><a name="indexterm-995"></a><a name="indexterm-996"></a><a name="indexterm-997"></a>SAs periodically need to refresh their service advertisements before lifetimes expire. If a
DA is handling an extremely heavy load from many UAs and SAs, frequent
refreshes can cause the DA to become overloaded. If the DA becomes overloaded,
UA requests start to time out and are then dropped. UA request timeouts
 have many possible causes. Before you assume that DA overload is the
problem, use a <tt>snoop</tt> trace to check the lifetimes of service advertisements that
are registered with a service registration. If the lifetimes are short and reregistrations
are occurring often, the timeouts are probably the result of frequent reregistrations.</p>
<hr><p><b>Note - </b><a name="indexterm-998"></a>A service registration is a <b>reregistration</b> if the FRESH flag is not set.
See <a href="slpreference.html">Chapter&nbsp;11, SLP (Reference)</a> for more information on service registration messages.</p>
<hr>


<a name="slp.config-rsar"></a><h4>How to Reduce SA Reregistrations</h4><p>Use the following procedure to increase the minimum refresh interval for SAs to
reduce reregistrations.</p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="slp.config-step-16"></a><b>Stop <tt>slpd</tt> and all SLP activity on the host.</b><pre># <tt><b>svcadm disable network/slp</b></tt></pre></li>
<li><a name="slp.config-step-17"></a><b><a name="indexterm-999"></a>Back up the default <tt>/etc/inet/slp.conf</tt> file before you change the configuration settings.</b></li>
<li><a name="slp.config-step-18"></a><b><a name="indexterm-1000"></a><a name="indexterm-1001"></a>Increase the value of the <tt>min-refresh-interval</tt> attribute of the <tt>net.slp.DAAttributes</tt> property.</b><p>The default minimum reregistration period is zero. The zero default allows SAs to
reregister at any point. In the following example, the interval is increased to
3600 seconds (one hour).</p><pre>net.slp.DAAttributes(min-refresh-interval=3600)</pre></li>
<li><a name="slp.config-step-19"></a><b>Save your changes and close the file.</b></li>
<li><a name="slp.config-step-20"></a><b>Restart <tt>slpd</tt> to activate your changes.</b><pre># <tt><b>svcadm enable network/slp</b></tt></pre></li></ol>

<a name="slp.config-16"></a><h4>Configuring the Multicast Time-to-Live Property</h4>
<p><a name="indexterm-1002"></a><a name="indexterm-1003"></a>The multicast time&ndash;to-live property (<tt>net.slp.multicastTTL</tt>) determines the range over which a multicast
packet is propagated on your intranet. The multicast TTL is configured by setting
the <tt>net.slp.multicastTTL</tt> property to an integer between 1 and 255. The default
value of the multicast TTL is 255, which means, theoretically, that the packet
routing is unrestricted. However, a TTL of 255 causes a multicast packet to
penetrate the intranet to the border routers on the edge of your administrative
domain. Correct configuration of multicast on border routers is required to prevent multicast packets
from leaking into the Internet's multicast backbone, or to your ISP.</p><p>Multicast TTL scoping is similar to standard IP TTL, with the exception that
a TTL comparison is made. Each interface on a router that is
multicast enabled is assigned a TTL value. When a multicast packet arrives, the
router compares the TTL of the packet with the TTL of the interface.
If the TTL of the packet is greater than or equal to the
TTL of the interface, the packet TTL is reduced by one, as with
the standard IP TTL. If the TTL becomes zero, the packet is discarded.
When you use TTL scoping for SLP multicasting, your routers must be properly
configured to limit packets to a particular subsection of your intranet.</p>

<a name="slp.config-htcmttlp"></a><h4>How to Configure the Multicast Time-to-Live Property</h4><p>Use the following procedure to reset the <tt>net.slp.multicastTTL</tt> property.</p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="slp.config-step-23"></a><b>Stop <tt>slpd</tt> and all SLP activity on the host.</b><pre># <tt><b>svcadm disable network/slp</b></tt></pre></li>
<li><a name="slp.config-step-24"></a><b><a name="indexterm-1004"></a>Back up the default <tt>/etc/inet/slp.conf</tt> file before you change the configuration settings.</b></li>
<li><a name="slp.config-step-25"></a><b>Change the <tt>net.slp.multicastTTL</tt> property in the <tt>slpd.conf</tt> file:</b><pre><tt>net.slp.multicastTTL</tt>=<i>value</i></pre><dl><dt><i>value</i></dt>
<dd><p>A positive integer less than or equal to 255 that defines the multicast TTL</p></dd>
</dl>

<hr><p><b>Note - </b><a name="indexterm-1005"></a>You can reduce the range of multicast propagation by reducing the TTL value.
If the TTL value is 1, then the packet is restricted to
the subnet. If the value is 32, the packet is restricted to the
site. Unfortunately, the term <b>site</b> is not defined by RFC 1075, where multicast TTLs
are discussed. Values above 32 refer to theoretical routing on the Internet and
should not be used. Values below 32 can be used to restrict
multicast to a set of accessible subnets, if the routers are properly configured
with TTLs.</p>
<hr>
</li>
<li><a name="slp.config-step-26"></a><b>Save your changes and close the file.</b></li>
<li><a name="slp.config-step-27"></a><b>Restart <tt>slpd</tt> to activate your changes.</b><pre># <tt><b>svcadm enable network/slp</b></tt></pre></li></ol>

<a name="slp.config-17"></a><h4>Configuring the Packet Size</h4>
<p><a name="indexterm-1006"></a><a name="indexterm-1007"></a><a name="indexterm-1008"></a>The default packet size for SLP is 1400 bytes. The size should be
sufficient for most local area networks. For wireless networks or wide area networks,
you can reduce the packet size to avoid message fragmentation and reduce network
traffic. For local area networks that have larger packets, increasing the packet size
can improve performance. You can determine whether the packet size needs to be
reduced by checking the minimum packet size for your network. If the network
medium has a smaller packet size, you can reduce the <tt>net.slp.MTU</tt> value accordingly.</p><p>You can increase the packet size if your network medium has larger
packets. However, unless the service advertisements from SAs or queries from UAs frequently overflow
the default packet size, you should not have to change the <tt>net.slp.MTU</tt>
value. You can use <tt>snoop</tt> to determine whether UA requests often overflow the
default packet size and roll over to use TCP rather than UDP. </p><p>The <tt>net.slp.MTU</tt> property measures the complete IP packet size, including the link layer
header, the IP header, the UDP or TCP header, and the SLP message.</p>

<a name="slp.config-28"></a><h4>How to Configure the Packet Size</h4><p>Use the following procedure to change the default packet size by adjusting the
<tt>net.slp.MTU</tt> property.</p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="slp.config-step-31"></a><b>Stop <tt>slpd</tt> and all SLP activity on the host.</b><pre># <tt><b>svcadm disable network/slp</b></tt></pre></li>
<li><a name="slp.config-step-32"></a><b><a name="indexterm-1009"></a>Back up the default <tt>/etc/inet/slp.conf</tt> file before you change the configuration settings.</b></li>
<li><a name="slp.config-step-33"></a><b>Change the <tt>net.slp.MTU</tt> property in the <tt>slpd.conf</tt> file:</b><pre><tt>net.slp.MTU</tt>=<i>value</i></pre><dl><dt><i>value</i></dt>
<dd><p>A 16&ndash;bit integer that specifies the network packet size, in bytes</p><p>Default Value=1400</p><p>Range of Values=128&ndash;8192</p></dd>
</dl>
</li>
<li><a name="slp.config-step-34"></a><b>Save your changes and close the file.</b></li>
<li><a name="slp.config-step-35"></a><b>Restart <tt>slpd</tt> to activate your changes.</b><pre># <tt><b>svcadm enable network/slp</b></tt></pre></li></ol>

<a name="slp.config-18"></a><h4>Configuring Broadcast-Only Routing</h4>
<p><a name="indexterm-1010"></a><a name="indexterm-1011"></a><a name="indexterm-1012"></a>SLP is designed to use multicast for service discovery in the absence of
DAs and for DA discovery. If your network does not deploy multicast routing,
you can configure SLP to use broadcast by setting the <tt>net.slp.isBroadcastOnly</tt> property
to <tt>True</tt>.</p><p><a name="indexterm-1013"></a><a name="indexterm-1014"></a>Unlike multicast, broadcast packets do not propagate across subnets by default. For this
reason, service discovery without DAs in a non-multicast network works only on a
single subnet. In addition, special considerations are required when deploying DAs and scopes
on networks in which broadcast is used. A DA on a multihomed host
can bridge service discovery between multiple subnets with multicast disabled. See <a href="slp.config-6.html#slp.config-47">DA Placement and Scope Name Assignment</a> for
more information on deploying DAs on multihomed hosts.</p>

<a name="slp.config-36"></a><h4>How to Configure Broadcast-Only Routing</h4><p><a name="indexterm-1015"></a>Use the following procedure to change <tt>net.slp.isBroadcastOnly</tt> property to <tt>True</tt>.</p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="slp.config-step-39"></a><b>Stop <tt>slpd</tt> and all SLP activity on the host.</b><pre># <tt><b>svcadm disable network/slp</b></tt></pre></li>
<li><a name="slp.config-step-40"></a><b><a name="indexterm-1016"></a>Back up the default <tt>/etc/inet/slp.conf</tt> file before you change the configuration settings.</b></li>
<li><a name="slp.config-step-41"></a><b>Change the <tt>net.slp.isBroadcastOnly</tt> property in the <tt>slpd.conf</tt> file to <tt>True</tt>:</b><pre>net.slp.isBroadcastOnly=True</pre></li>
<li><a name="slp.config-step-42"></a><b>Save your changes and close the file.</b></li>
<li><a name="slp.config-step-43"></a><b>Restart <tt>slpd</tt> to activate your changes.</b><pre># <tt><b>svcadm enable network/slp</b></tt></pre></li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="slp.config-8.html">Previous</a>
             </td>
             <td align="right">
                 <a href="slp.config-19.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

