<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Configuring the Dial-out Machine - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Network Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ppp.dialin-11.html">Previous</a>
             </td>
             <td align="right">
                 <a href="pppsvrconfig.dialin-54.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="netservices-1.html">Part&nbsp;I&nbsp;Network Services Topics</a></p>
<p class="toc level2"><a href="nsov-1.html">1.&nbsp;&nbsp;Network Service (Overview)</a></p>
<p class="toc level2"><a href="nca-1.html">2.&nbsp;&nbsp;Managing Web Cache Servers</a></p>
<p class="toc level2"><a href="time-1.html">3.&nbsp;&nbsp;Time-Related Services</a></p>
<p class="toc level1 tocsp"><a href="rfstm-1.html">Part&nbsp;II&nbsp;Accessing Network File Systems Topics</a></p>
<p class="toc level2"><a href="rfsintro-2.html">4.&nbsp;&nbsp;Managing Network File Systems (Overview)</a></p>
<p class="toc level2"><a href="rfsadmin-8.html">5.&nbsp;&nbsp;Network File System Administration (Tasks)</a></p>
<p class="toc level2"><a href="rfsrefer-1.html">6.&nbsp;&nbsp;Accessing Network File Systems (Reference)</a></p>
<p class="toc level1 tocsp"><a href="slptm.html">Part&nbsp;III&nbsp;SLP Topics</a></p>
<p class="toc level2"><a href="slparch-16.html">7.&nbsp;&nbsp;SLP (Overview)</a></p>
<p class="toc level2"><a href="slp.setup-10.html">8.&nbsp;&nbsp;Planning and Enabling SLP (Tasks)</a></p>
<p class="toc level2"><a href="ch.configuration-6.html">9.&nbsp;&nbsp;Administering SLP (Tasks)</a></p>
<p class="toc level2"><a href="legacy-7.html">10.&nbsp;&nbsp;Incorporating Legacy Services</a></p>
<p class="toc level2"><a href="slpreference.html">11.&nbsp;&nbsp;SLP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="mailtm-1.html">Part&nbsp;IV&nbsp;Mail Services Topics</a></p>
<p class="toc level2"><a href="mailintro-1.html">12.&nbsp;&nbsp;Mail Services (Overview)</a></p>
<p class="toc level2"><a href="mailadmin-1.html">13.&nbsp;&nbsp;Mail Services (Tasks)</a></p>
<p class="toc level2"><a href="mailrefer-1.html">14.&nbsp;&nbsp;Mail Services (Reference)</a></p>
<p class="toc level1 tocsp"><a href="modemtm-1.html">Part&nbsp;V&nbsp;Serial Networking Topics</a></p>
<p class="toc level2"><a href="pppsvrconfig.intro-1.html">15.&nbsp;&nbsp;Solaris PPP 4.0 (Overview)</a></p>
<p class="toc level2"><a href="pppsvrconfig.p2plink-1.html">16.&nbsp;&nbsp;Planning for the PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.dialin-1.html">17.&nbsp;&nbsp;Setting Up a Dial-up PPP Link (Tasks)</a></p>
<p class="toc level3"><a href="ppp.dialin-11.html">Major Tasks for Setting Up the Dial-up PPP Link (Task Map)</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Configuring the Dial-out Machine</a></p>
<p class="toc level4"><a href="#ppp.dialin-50">How to Configure the Modem and Serial Port (Dial-out Machine)</a></p>
<p class="toc level4"><a href="#ppp.dialin-53">How to Define Communications Over the Serial Line</a></p>
<p class="toc level4"><a href="#pppsvrconfig.dialin-50">How to Create the Instructions for Calling a Peer</a></p>
<p class="toc level4"><a href="#ppp.dialin-55">How to Define the Connection With an Individual Peer</a></p>
</div>
<p class="toc level3 tocsp"><a href="pppsvrconfig.dialin-54.html">Configuring the Dial-in Server</a></p>
<p class="toc level4"><a href="pppsvrconfig.dialin-54.html#ppp.dialin-17">How to Configure the Modem and Serial Port (Dial-in Server)</a></p>
<p class="toc level4"><a href="pppsvrconfig.dialin-54.html#ppp.dialin-5">How to Set the Modem Speed</a></p>
<p class="toc level4"><a href="pppsvrconfig.dialin-54.html#ppp.dialin-10">How to Configure Users of the Dial-in Server</a></p>
<p class="toc level4"><a href="pppsvrconfig.dialin-54.html#ppp.dialin-18">How to Define Communications Over the Serial Line (Dial-in Server)</a></p>
<p class="toc level3 tocsp"><a href="pppsvrconfig.dialin-25.html">Calling the Dial-in Server</a></p>
<p class="toc level4"><a href="pppsvrconfig.dialin-25.html#pppsvrconfig.dialin-proc-27">How to Call the Dial-in Server</a></p>
<p class="toc level2 tocsp"><a href="pppsvrconfig.leased-1.html">18.&nbsp;&nbsp;Setting Up a Leased-Line PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.auth-1.html">19.&nbsp;&nbsp;Setting Up PPP Authentication (Tasks)</a></p>
<p class="toc level2"><a href="ppp.pppoe-1.html">20.&nbsp;&nbsp;Setting Up a PPPoE Tunnel (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.troubleshoot-1.html">21.&nbsp;&nbsp;Fixing Common PPP Problems (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.reference-1.html">22.&nbsp;&nbsp;Solaris PPP 4.0 (Reference)</a></p>
<p class="toc level2"><a href="pppsvrconfig.convert.app-1.html">23.&nbsp;&nbsp;Migrating From Asynchronous Solaris PPP to Solaris PPP 4.0 (Tasks)</a></p>
<p class="toc level2"><a href="uucpov-1.html">24.&nbsp;&nbsp;UUCP (Overview)</a></p>
<p class="toc level2"><a href="uucptasks-1.html">25.&nbsp;&nbsp;Administering UUCP (Tasks)</a></p>
<p class="toc level2"><a href="uucpref-1.html">26.&nbsp;&nbsp;UUCP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="wwrstm.html">Part&nbsp;VI&nbsp;Working With Remote Systems Topics</a></p>
<p class="toc level2"><a href="wwrsov.html">27.&nbsp;&nbsp;Working With Remote Systems (Overview)</a></p>
<p class="toc level2"><a href="wuftp-17.html">28.&nbsp;&nbsp;Administering the FTP Server (Tasks)</a></p>
<p class="toc level2"><a href="remotehowtoaccess-99941.html">29.&nbsp;&nbsp;Accessing Remote Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="netmonitortm-1.html">Part&nbsp;VII&nbsp;Monitoring Network Services Topics</a></p>
<p class="toc level2"><a href="netmonitor-1.html">30.&nbsp;&nbsp;Monitoring Network Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="pppsvrconfig.dialin-52"></a><h3>Configuring the Dial-out Machine</h3>
<p>The tasks in this section explain how to configure a dial-out machine. The tasks
use as an example the dial- in-from-home scenario that was introduced in <a href="pppsvrconfig.p2plink-4.html#pppsvrconfig.p2plink-fig-1">Figure&nbsp;16-1</a>. You
can perform the tasks at your company before passing on the machine to a
prospective user. Alternatively, you can instruct experienced users in the  setup of their
 home machines. Anyone setting up a dial-out machine must have root permission for that
machine.</p>

<a name="ppp.dialin-48"></a><h4>Tasks for Configuring the Dial-out Machine (Task Map)</h4>
<a name="indexterm-1755"></a><a name="ppp.dialin-tbl-13"></a><h6>Table&nbsp;17-2 Task Map for Setting Up the Dial-out Machine</h6><table><col width="25.61*"><col width="37.73*"><col width="49.50*"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>1. Gather preconfiguration information</p></td>
<td align="left" valign="top" scope="row"><p>Gather data that is needed prior to setting up
the link, such as peer host names, target phone numbers, and modem speed.</p></td>
<td align="left" valign="top" scope="row"><p><a href="pppsvrconfig.p2plink-4.html">Planning a Dial-up PPP Link</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>2. Configure
the modem and serial port</p></td>
<td align="left" valign="top" scope="row"><p>Set up the modem and serial port. </p></td>
<td align="left" valign="top" scope="row"><p><a href="#ppp.dialin-50">How to Configure the Modem and Serial Port (Dial-out Machine)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>3. Configure the
serial-line communication</p></td>
<td align="left" valign="top" scope="row"><p>Configure the characteristics of the transmission across the serial line.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#ppp.dialin-53">How to Define Communications Over the Serial Line</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>4. Define the conversation between the
dial-out machine and the peer</p></td>
<td align="left" valign="top" scope="row"><p>Gather communications data for use when you create the
chat script.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#pppsvrconfig.dialin-50">How to Create the Instructions for Calling a Peer</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>5. Configure information about a particular peer</p></td>
<td align="left" valign="top" scope="row"><p>Configure PPP options to call an individual
dial-in server.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#ppp.dialin-55">How to Define the Connection With an Individual Peer</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>6. Call the peer</p></td>
<td align="left" valign="top" scope="row"><p>Type the <tt>pppd</tt> command to initiate communications.</p></td>
<td align="left" valign="top" scope="row"><p><a href="pppsvrconfig.dialin-25.html#pppsvrconfig.dialin-proc-27">How to Call the Dial-in Server</a>.</p></td>
</tr>
</table>

<a name="ppp.dialin-20"></a><h4>Dial-up PPP Template Files</h4>
<p><a name="indexterm-1756"></a><a name="indexterm-1757"></a>Solaris PPP 4.0 provides template files. Each template contains common options for a particular
PPP configuration file. The next table lists the sample templates that can be used for
setting up a dial-up link, and their equivalent Solaris PPP 4.0 files.</p><table><col width="33*"><col width="33*"><col width="33*"><tr><th align="left" valign="top" scope="column"><p>Template File</p></th>
<th align="left" valign="top" scope="column"><p>PPP Configuration
File</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/ppp/options.tmpl</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>/etc/ppp/options</tt></p></td>
<td align="left" valign="top" scope="row"><p><a href="pppsvrconfig.reference-65.html#ppp.reference-17"><tt>/etc/ppp/options.tmpl</tt> Template</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/ppp/options.ttya.tmpl</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>/etc/ppp/options.</tt><i>ttyname</i></p></td>
<td align="left" valign="top" scope="row"><p><a href="pppsvrconfig.reference-65.html#ppp.reference-18"><tt>options.ttya.tmpl</tt> Template File</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/ppp/myisp-chat.tmpl</tt></p></td>
<td align="left" valign="top" scope="row"><p>File with the name of your choice to contain the chat script</p></td>
<td align="left" valign="top" scope="row"><p><a href="pppsvrconfig.reference-66.html#ppp.reference-20"><tt>/etc/ppp/myisp-chat.tmpl</tt> Chat Script Template</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/ppp/peers/myisp.tmpl</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>/etc/ppp/peers/</tt><i>peer-name</i></p></td>
<td align="left" valign="top" scope="row"><p><a href="pppsvrconfig.reference-45.html#ppp.reference-19"><tt>/etc/ppp/peers/myisp.tmpl</tt> Template File</a></p></td>
</tr>
</table><p>If you decide to use one of the template files, be sure to
rename the template to its equivalent PPP configuration file. The one exception is the chat
file template <tt>/etc/ppp/myisp-chat.tmpl</tt>. You can choose any name for your chat script.</p>

<a name="pppsvrconfig.dialin-3"></a><h4>Configuring Devices on the Dial-out Machine</h4>
<p>The first task for setting up a dial-out PPP machine is to configure the
devices on the serial line: the modem and serial port.</p>
<hr><p><b>Note - </b>Tasks that apply to a modem usually apply to an ISDN TA.</p>
<hr>
<p>Before performing the next procedure, you must have done the following.</p>
<ul><li><p>Installed the Solaris 9 release or Solaris 10 release on the dial-out machine </p></li>
<li><p>Determined the optimum modem speed</p></li>
<li><p>Decided which serial port to use on the dial-out machine</p></li>
<li><p>Obtained the root password for the dial-out machine</p></li></ul>
<p>For planning information, see <a href="pppsvrconfig.p2plink-4.html#pppsvrconfig.p2plink-tbl-9">Table&nbsp;16-2</a>.</p>

<a name="ppp.dialin-50"></a><h4>How to Configure the Modem and Serial Port (Dial-out Machine)</h4><a name="indexterm-1758"></a><a name="indexterm-1759"></a><a name="indexterm-1760"></a><a name="indexterm-1761"></a><ol>
<li><a name="pppsvrconfig.dialin-step-44"></a><b>Program the modem.</b><p>Even though a variety of modem types is available, most modems are shipped with the
correct settings for Solaris PPP 4.0. The following list shows the basic parameter settings
for modems that use Solaris PPP 4.0.</p>
<ul><li><p><b>DCD &ndash;</b> Follow carrier instructions</p></li>
<li><p><b>DTR &ndash;</b> Set low so that the modem hangs up and puts the modem on-hook</p></li>
<li><p><b>Flow Control &ndash;</b> Set to RTS/CTS for full-duplex hardware flow control</p></li>
<li><p><b>Attention Sequences &ndash;</b> Disable</p></li></ul>
<p>If you have problems setting up the link and suspect that the modem is
at fault, first consult the modem manufacturer's documentation. Also, a number of web sites
offer help with modem programming. Finally, you can find some suggestions for clearing modem problems
in <a href="ppp.trouble-6.html#ppp.trouble-27">How to Diagnose Modem Problems</a>.</p></li>
<li><a name="pppsvrconfig.dialin-step-5"></a><b>Attach the modem cables to the serial port on the dial-out machine and to
the telephone jack.</b></li>
<li><a name="pppsvrconfig.dialin-step-60"></a><b>Become superuser on the dial-out machine or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure
a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="pppsvrconfig.dialin-step-6"></a><b>Run the <tt>/usr/sadm/bin/smc</tt> command, as explained in <a href="http://docs.sun.com/doc/819-2380/modsetup-1?a=view">Setting Up Terminals and Modems With Serial Ports Tool (Overview) in <i>System Administration Guide: Advanced Administration</i></a>. This command opens the Solaris Management Console.</b><p>Use the Solaris Management Console to do the following.</p><ol style="list-style-type: lower-alpha">
				 
<li><a name="pppsvrconfig.dialin-step-32"></a><b>Select the port where you have attached the modem.</b></li>
<li><a name="pppsvrconfig.dialin-step-18"></a><b>Specify modem direction as dial-out only.</b><p>You can set up the modem as bidirectional. However, the dial-out-only choice is more
secure against possible intruders.</p></li></ol>
<hr><p><b>Note - </b>You can set the baud rate and timeout from <tt>/usr/sadm/bin/smc</tt>. However, the <tt>pppd</tt>
daemon ignores these settings.</p>
<hr>
</li>
<li><a name="ppp.dialin-step-51"></a><b>Click Okay to convey the changes.</b></li></ol>

<a name="pppsvrconfig.dialin-17"></a><h4>Configuring Communications on the Dial-out Machine</h4>
<p>The procedures in this section show how to configure communications over the serial line
of the dial-out machine. Before you can use these procedures, you must have configured the
modem and serial port, as described in <a href="#ppp.dialin-50">How to Configure the Modem and Serial Port (Dial-out Machine)</a>.</p><p>The next tasks show how to enable the dial-out machine to successfully initiate communications
with the dial-in server. Communications are initiated as defined in the  options in
the PPP configuration files. You need to create the following files:</p>
<ul><li><p><tt>/etc/ppp/options</tt></p></li>
<li><p><tt>/etc/ppp/options.</tt><i>ttyname</i></p></li>
<li><p>Chat script</p></li>
<li><p><tt>/etc/ppp/peers/</tt><i>peer-name</i></p></li></ul>
<p>Solaris PPP 4.0 provides templates for the PPP configuration files, which you can customize
to accommodate your needs. Refer to <a href="#ppp.dialin-20">Dial-up PPP Template Files</a> for detailed information about these files. </p>

<a name="ppp.dialin-53"></a><h4>How to Define Communications Over the Serial Line</h4><a name="indexterm-1762"></a><a name="indexterm-1763"></a><a name="indexterm-1764"></a><ol>
<li><a name="pppsvrconfig.dialin-step-23"></a><b>Become superuser on the dial-out machine or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure
a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a></p></li>
<li><a name="pppsvrconfig.dialin-step-1"></a><b>Create a file that is called <tt>/etc/ppp/options</tt> with the following entry:</b><pre><tt><b>lock</b></tt></pre><p>The <tt>/etc/ppp/options</tt> file is used for defining global parameters that apply to all communications
by the local machine. The <tt>lock</tt> option enables UUCP-style locking of the form <tt>/var/spool/locks/LK.xxx.yyy.zzz</tt>.</p>
<hr><p><b>Note - </b>If the dial-out machine does not have an <tt>/etc/ppp/options</tt> file, only the superuser can
run the <tt>pppd</tt> command. However, the <tt>/etc/ppp/options</tt> can be empty.</p>
<hr>
<p><a name="indexterm-1765"></a><a name="indexterm-1766"></a>For a complete description of <tt>/etc/ppp/options</tt>, refer to <a href="pppsvrconfig.reference-65.html#pppsvrconfig.reference-46"><tt>/etc/ppp/options</tt> Configuration File</a>.</p></li>
<li><a name="pppsvrconfig.dialin-step-53"></a>(Optional) <b>Create a file that is called <tt>/etc/ppp/options.</tt><i>ttyname</i> for defining how communications should be initiated from
a specific serial port.</b><p>The next example shows an <tt>/etc/ppp/options.</tt><i>ttyname</i> file for the port with the device name
<tt>/dev/cua/a</tt>.</p><pre># <tt><b>cat /etc/ppp/options.cua.a</b></tt>
crtscts</pre><p><a name="indexterm-1767"></a><a name="indexterm-1768"></a><a name="indexterm-1769"></a>The PPP option <tt>crtscts</tt> tells the <tt>pppd</tt> daemon to turn on hardware flow control for serial
port a.</p><p>For more information about the <tt>/etc/ppp/options.ttyname</tt> file, go to <a href="pppsvrconfig.reference-65.html#pppsvrconfig.reference-4"><tt>/etc/ppp/options</tt>.<i>ttyname</i> Configuration File</a>.</p></li>
<li><a name="ppp.dialin-step-9"></a><b>Set the modem speed, as described in <a href="pppsvrconfig.dialin-54.html#ppp.dialin-5">How to Set the Modem Speed</a>.</b></li></ol>

<a name="pppsvrconfig.dialin-50"></a><h4>How to Create the Instructions for Calling a Peer</h4><p><a name="indexterm-1770"></a>Before the dial-out machine can initiate a PPP link, you must collect information about
the dial-in server that is to become the peer. Then, you use this information
to create the chat script, which describes the actual conversation between the dial-out machine and
the peer.</p><ol>
<li><a name="ppp.dialin-step-14"></a><b>Determine the speed at which the dial-out machine's modem needs to run. </b><p>For more information, see <a href="ppp.reference-65.html">Configuring Modem Speed for a Dial-up Link</a>.</p></li>
<li><a name="ppp.dialin-step-2"></a><b>Obtain the following information from the dial-in server's site.</b>
<ul><li><p>Server's telephone number</p></li>
<li><p>Authentication protocol that is used, if appropriate</p></li>
<li><p>Login sequence that is required by the peer for the chat script</p></li></ul>
</li>
<li><a name="ppp.dialin-step-3"></a><b>Obtain the names and IP addresses of name servers at the dial-in server's site.</b></li>
<li><a name="ppp.dialin-step-4"></a><b>In a chat script, provide instructions for initiating calls to the particular peer.</b><p><a name="indexterm-1771"></a><a name="indexterm-1772"></a><a name="indexterm-1773"></a>For example, you might create the following chat script, <tt>/etc/ppp/mychat</tt>, to call the dial-in
server <tt>myserver</tt>. </p><pre>SAY "Calling the peer\n"
        TIMEOUT 10
        ABORT BUSY
        ABORT 'NO CARRIER'
        ABORT ERROR
        REPORT CONNECT
        "" AT&amp;F1&amp;M5S2=255
        TIMEOUT 60
        OK ATDT1-123-555-1234 
        CONNECT \c
        SAY "Connected; logging in.\n"
        TIMEOUT 5
        ogin:--ogin: pppuser
        TIMEOUT 20
        ABORT 'ogin incorrect'
        ssword: \qmypassword
        "% " \c
        SAY "Logged in.  Starting PPP on peer system.\n" 
        ABORT 'not found'
        "" "exec pppd"
        ~ \c</pre><p>The script contains instructions for calling a Solaris dial-in server that requires a login
sequence. For a description of each instruction, refer to <a href="pppsvrconfig.reference-66.html#pppsvrconfig.reference-14">Basic Chat Script Enhanced for a UNIX-Style Login</a>. For complete details about creating
a chat script, read the section <a href="pppsvrconfig.reference-66.html">Defining the Conversation on the Dial-up Link</a>.</p>
<hr><p><b>Note - </b>You do not invoke the chat script directly. Rather, you use the file name
of the chat script as an argument to the <tt>chat</tt> command, which invokes the
script.</p>
<hr>
<p>If a peer runs Solaris or a similar operating system, consider using the previous
chat script as a template for your dial-out machines. </p></li></ol>

<a name="ppp.dialin-55"></a><h4>How to Define the Connection With an Individual Peer</h4><a name="indexterm-1774"></a><ol>
<li><a name="pppsvrconfig.dialin-step-30"></a><b>Become superuser on the dial-out machine or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure
a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="pppsvrconfig.dialin-step-10"></a><b>Update DNS databases by creating the following <tt>/etc/resolv.conf</tt> file:</b><pre><tt><b>domain bigcompany.com</b></tt>
<tt><b>nameserver 10.10.111.15</b></tt>
<tt><b>nameserver 10.10.130.8</b></tt></pre><dl><dt><tt><b>domain bigcompany.com</b></tt></dt>
<dd><p>Specifies that the peer's DNS domain is <tt>bigcompany.com</tt>.</p></dd>
<dt><tt><b>nameserver 10.10.111.15</b></tt> and <tt><b>nameserver 10.10.130.8</b></tt></dt>
<dd><p>Lists the IP addresses of name servers at <tt>bigcompany.com</tt>.</p></dd>
</dl>
</li>
<li><a name="pppsvrconfig.dialin-step-11"></a><b>Edit the <tt>/etc/nsswitch.conf</tt> file to have the DNS database searched first for host
information.</b><pre>hosts:      dns [NOTFOUND=return] files </pre></li>
<li><a name="pppsvrconfig.dialin-step-12"></a><b>Create a file for the peer.</b><p>For example, you would create the following file to define the dial-in server <tt>myserver</tt>:</p><pre># <tt><b>cat /etc/ppp/peers/myserver</b></tt>
/dev/cua/a
57600
noipdefault
defaultroute
idle 120
noauth
connect "chat -U 'mypassword' -T 1-123-555-1213 -f /etc/ppp/mychat"</pre><dl><dt>/dev/cua/a</dt>
<dd><p>Specifies that the device <tt>/dev/cua/a</tt> should be used as the serial interface for calls to <tt>myserver</tt>.</p></dd>
<dt>57600</dt>
<dd><p>Defines the speed of the link.</p></dd>
<dt>noipdefault</dt>
<dd><p><a name="indexterm-1775"></a><a name="indexterm-1776"></a>Specifies that for transactions with peer <tt>myserver</tt>, the dial-out machine initially has an IP address of 0.0.0.0. <tt>myserver</tt> assigns an IP address to the dial-out machine for every dial-up session.</p></dd>
<dt>idle 120</dt>
<dd><p><a name="indexterm-1777"></a><a name="indexterm-1778"></a>Indicates that the link must time out after an idle period of 120 seconds.</p></dd>
<dt>noauth</dt>
<dd><p><a name="indexterm-1779"></a><a name="indexterm-1780"></a>Specifies that the peer <tt>myserver</tt> does not need to provide authentication credentials when negotiating the connection with the dial-out machine.</p></dd>
<dt>connect "chat -U 'mypassword' -T 1-123-555-1213 -f /etc/ppp/mychat"</dt>
<dd><p>Specifies the <tt>connect</tt> option and its arguments, including the phone number of the peer, and the chat script <tt>/etc/ppp/mychat</tt> with calling instructions.</p></dd>
</dl>
</li></ol><h6>See Also</h6><p>The following list provides references to related information.</p>
<ul><li><p>To configure another dial-out machine, see <a href="#ppp.dialin-50">How to Configure the Modem and Serial Port (Dial-out Machine)</a>.</p></li>
<li><p>To test modem connectivity by dialing out to another computer, see <a href="http://docs.sun.com/doc/819-2239/cu-1c?a=view"><tt>cu</tt>(1C)</a> and <a href="http://docs.sun.com/doc/819-2239/tip-1?a=view"><tt>tip</tt>(1)</a> man pages. These utilities can help you test if your modem is properly configured. Also, use these utilities to test if you can establish a connection with another machine.</p></li>
<li><p>To learn more about the configuration files and options, see <a href="pppsvrconfig.reference-65.html">Using PPP Options in Files and on the Command Line</a>.</p></li>
<li><p>To configure a dial-in server, see <a href="pppsvrconfig.dialin-54.html#pppsvrconfig.dialin-53">Configuring Devices on the Dial-in Server</a>.</p></li></ul>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ppp.dialin-11.html">Previous</a>
             </td>
             <td align="right">
                 <a href="pppsvrconfig.dialin-54.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

