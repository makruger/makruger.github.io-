<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Troubleshooting Autofs - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Network Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="rfsadmin-215.html">Previous</a>
             </td>
             <td align="right">
                 <a href="rfsadmin-255.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="netservices-1.html">Part&nbsp;I&nbsp;Network Services Topics</a></p>
<p class="toc level2"><a href="nsov-1.html">1.&nbsp;&nbsp;Network Service (Overview)</a></p>
<p class="toc level2"><a href="nca-1.html">2.&nbsp;&nbsp;Managing Web Cache Servers</a></p>
<p class="toc level2"><a href="time-1.html">3.&nbsp;&nbsp;Time-Related Services</a></p>
<p class="toc level1 tocsp"><a href="rfstm-1.html">Part&nbsp;II&nbsp;Accessing Network File Systems Topics</a></p>
<p class="toc level2"><a href="rfsintro-2.html">4.&nbsp;&nbsp;Managing Network File Systems (Overview)</a></p>
<p class="toc level2"><a href="rfsadmin-8.html">5.&nbsp;&nbsp;Network File System Administration (Tasks)</a></p>
<p class="toc level3"><a href="rfsadmin-56.html">Automatic File-System Sharing</a></p>
<p class="toc level4"><a href="rfsadmin-56.html#rfsadmin-57">How to Set Up Automatic File-System Sharing</a></p>
<p class="toc level4"><a href="rfsadmin-56.html#rfsadmin-112">How to Enable WebNFS Access</a></p>
<p class="toc level4"><a href="rfsadmin-56.html#rfsadmin-101">How to Enable NFS Server Logging</a></p>
<p class="toc level3 tocsp"><a href="rfsadmin-61.html">Mounting File Systems</a></p>
<p class="toc level4"><a href="rfsadmin-61.html#rfsadmin-62">How to Mount a File System at Boot Time</a></p>
<p class="toc level4"><a href="rfsadmin-61.html#rfsadmin-66">How to Mount a File System From the Command Line</a></p>
<p class="toc level4"><a href="rfsadmin-61.html#rfsadmin-75">How to Disable Large Files on an NFS Server</a></p>
<p class="toc level4"><a href="rfsadmin-61.html#rfsadmin-81">How to Use Client-Side Failover</a></p>
<p class="toc level4"><a href="rfsadmin-61.html#rfsadmin-84">How to Disable Mount Access for One Client</a></p>
<p class="toc level4"><a href="rfsadmin-61.html#rfsadmin-88">How to Mount an NFS File System Through a Firewall</a></p>
<p class="toc level4"><a href="rfsadmin-61.html#rfsadmin-92">How to Mount an NFS File System Using an NFS URL</a></p>
<p class="toc level3 tocsp"><a href="rfsadmin-68.html">Setting Up NFS Services</a></p>
<p class="toc level4"><a href="rfsadmin-68.html#rfsadmin-69">How to Start the NFS Services</a></p>
<p class="toc level4"><a href="rfsadmin-68.html#rfsadmin-72">How to Stop the NFS Services</a></p>
<p class="toc level4"><a href="rfsadmin-68.html#rfsadmin-121">How to Start the Automounter</a></p>
<p class="toc level4"><a href="rfsadmin-68.html#rfsadmin-124">How to Stop the Automounter</a></p>
<p class="toc level4"><a href="rfsadmin-68.html#rfsadmin-965">How to Select Different Versions of NFS on a Server</a></p>
<p class="toc level4"><a href="rfsadmin-68.html#rfsadmin-966">How to Select Different Versions of NFS on a Client by Modifying the <tt>/etc/default/nfs</tt> File</a></p>
<p class="toc level4"><a href="rfsadmin-68.html#ekqwg">How to Use the Command Line to Select Different Versions of NFS on a Client</a></p>
<p class="toc level3 tocsp"><a href="rfsadmin-96.html">Administering the Secure NFS System</a></p>
<p class="toc level4"><a href="rfsadmin-96.html#rfsadmin-97">How to Set Up a Secure NFS Environment With DH Authentication</a></p>
<p class="toc level3 tocsp"><a href="rfsadmin-110.html">WebNFS Administration Tasks</a></p>
<p class="toc level3"><a href="rfsadmin-127.html">Task Overview for Autofs Administration</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-250">How to Use the <tt>/etc/default/autofs</tt> File</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-133">How to Modify the Master Map</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-139">How to Modify Indirect Maps</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-142">How to Modify Direct Maps</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-149">How to Access CD-ROM Applications With Autofs</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-152">How to Access PC-DOS Data Diskettes With Autofs</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-156">How to Access NFS File Systems by Using CacheFS</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-162">How to Set Up <tt>/home</tt> With Multiple Home Directory File Systems</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-166">How to Consolidate Project-Related Files Under <tt>/ws</tt></a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-171">How to Set Up Different Architectures to Access a Shared Namespace</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-179">How to Support Incompatible Client Operating System Versions</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-183">How to Replicate Shared Files Across Several Servers</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-186">How to Apply Autofs Security Restrictions</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-189">How to Use a Public File Handle With Autofs</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-192">How to Use NFS URLs With Autofs</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-196">How to Completely Disable Autofs Browsability on a Single NFS Client</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-200">How to Disable Autofs Browsability for All Clients</a></p>
<p class="toc level4"><a href="rfsadmin-127.html#rfsadmin-204">How to Disable Autofs Browsability on a Selected File System</a></p>
<p class="toc level3 tocsp"><a href="rfsadmin-214.html">Strategies for NFS Troubleshooting</a></p>
<p class="toc level3"><a href="rfsadmin-215.html">NFS Troubleshooting Procedures</a></p>
<p class="toc level4"><a href="rfsadmin-215.html#rfsadmin-216">How to Check Connectivity on an NFS Client</a></p>
<p class="toc level4"><a href="rfsadmin-215.html#rfsadmin-224">How to Check the NFS Server Remotely</a></p>
<p class="toc level4"><a href="rfsadmin-215.html#rfsadmin-231">How to Verify the NFS Service on the Server</a></p>
<p class="toc level4"><a href="rfsadmin-215.html#rfsadmin-240">How to Restart NFS Services</a></p>
<p class="toc level4"><a href="rfsadmin-215.html#rfsadmin-243">How to Warm-Start <tt>rpcbind</tt></a></p>
<p class="toc level4"><a href="rfsadmin-215.html#rfsadmin-251">How to Verify Options Used With the <tt>mount</tt> Command</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Troubleshooting Autofs</a></p>
</div>
<p class="toc level3"><a href="rfsadmin-255.html">NFS Error Messages</a></p>
<p class="toc level2 tocsp"><a href="rfsrefer-1.html">6.&nbsp;&nbsp;Accessing Network File Systems (Reference)</a></p>
<p class="toc level1 tocsp"><a href="slptm.html">Part&nbsp;III&nbsp;SLP Topics</a></p>
<p class="toc level2"><a href="slparch-16.html">7.&nbsp;&nbsp;SLP (Overview)</a></p>
<p class="toc level2"><a href="slp.setup-10.html">8.&nbsp;&nbsp;Planning and Enabling SLP (Tasks)</a></p>
<p class="toc level2"><a href="ch.configuration-6.html">9.&nbsp;&nbsp;Administering SLP (Tasks)</a></p>
<p class="toc level2"><a href="legacy-7.html">10.&nbsp;&nbsp;Incorporating Legacy Services</a></p>
<p class="toc level2"><a href="slpreference.html">11.&nbsp;&nbsp;SLP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="mailtm-1.html">Part&nbsp;IV&nbsp;Mail Services Topics</a></p>
<p class="toc level2"><a href="mailintro-1.html">12.&nbsp;&nbsp;Mail Services (Overview)</a></p>
<p class="toc level2"><a href="mailadmin-1.html">13.&nbsp;&nbsp;Mail Services (Tasks)</a></p>
<p class="toc level2"><a href="mailrefer-1.html">14.&nbsp;&nbsp;Mail Services (Reference)</a></p>
<p class="toc level1 tocsp"><a href="modemtm-1.html">Part&nbsp;V&nbsp;Serial Networking Topics</a></p>
<p class="toc level2"><a href="pppsvrconfig.intro-1.html">15.&nbsp;&nbsp;Solaris PPP 4.0 (Overview)</a></p>
<p class="toc level2"><a href="pppsvrconfig.p2plink-1.html">16.&nbsp;&nbsp;Planning for the PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.dialin-1.html">17.&nbsp;&nbsp;Setting Up a Dial-up PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.leased-1.html">18.&nbsp;&nbsp;Setting Up a Leased-Line PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.auth-1.html">19.&nbsp;&nbsp;Setting Up PPP Authentication (Tasks)</a></p>
<p class="toc level2"><a href="ppp.pppoe-1.html">20.&nbsp;&nbsp;Setting Up a PPPoE Tunnel (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.troubleshoot-1.html">21.&nbsp;&nbsp;Fixing Common PPP Problems (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.reference-1.html">22.&nbsp;&nbsp;Solaris PPP 4.0 (Reference)</a></p>
<p class="toc level2"><a href="pppsvrconfig.convert.app-1.html">23.&nbsp;&nbsp;Migrating From Asynchronous Solaris PPP to Solaris PPP 4.0 (Tasks)</a></p>
<p class="toc level2"><a href="uucpov-1.html">24.&nbsp;&nbsp;UUCP (Overview)</a></p>
<p class="toc level2"><a href="uucptasks-1.html">25.&nbsp;&nbsp;Administering UUCP (Tasks)</a></p>
<p class="toc level2"><a href="uucpref-1.html">26.&nbsp;&nbsp;UUCP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="wwrstm.html">Part&nbsp;VI&nbsp;Working With Remote Systems Topics</a></p>
<p class="toc level2"><a href="wwrsov.html">27.&nbsp;&nbsp;Working With Remote Systems (Overview)</a></p>
<p class="toc level2"><a href="wuftp-17.html">28.&nbsp;&nbsp;Administering the FTP Server (Tasks)</a></p>
<p class="toc level2"><a href="remotehowtoaccess-99941.html">29.&nbsp;&nbsp;Accessing Remote Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="netmonitortm-1.html">Part&nbsp;VII&nbsp;Monitoring Network Services Topics</a></p>
<p class="toc level2"><a href="netmonitor-1.html">30.&nbsp;&nbsp;Monitoring Network Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="rfsadmin-210"></a><h3>Troubleshooting Autofs</h3>
<p><a name="indexterm-411"></a><a name="indexterm-412"></a><a name="indexterm-413"></a>Occasionally, you might encounter problems with autofs. This section should improve the problem-solving
process. The section is divided into two subsections.   </p><p>This section presents a list of the error messages that autofs generates. The
list is divided into two parts: </p>
<ul><li><p>Error messages that are generated by the verbose (<tt>-v</tt>) option of <tt>automount</tt></p></li>
<li><p>Error messages that might appear at any time</p></li></ul>
<p>Each error message is followed by a description and probable cause of the
message. </p><p>When troubleshooting, start the autofs programs with the verbose (<tt>-v</tt>) option. Otherwise,
you might experience problems without knowing the cause.</p><p>The following paragraphs are labeled with the error message you are likely to
see if autofs fails, and a description of the possible problem. </p>

<a name="rfsadmin-211"></a><h4>Error Messages Generated by <tt>automount</tt> <tt>-v</tt></h4>
<p><a name="indexterm-414"></a><a name="indexterm-415"></a><a name="indexterm-416"></a><a name="indexterm-417"></a>bad key <i>key</i> in direct map <i>mapname</i>    </p>Description: <p>While scanning a direct map, autofs has found an entry key without a
prefixed /. </p>Solution: <p>Keys in direct maps must be full path names. </p><p><a name="indexterm-418"></a>bad key <i>key</i> in indirect map <i>mapname</i> </p>Description: <p>While scanning an indirect map, autofs has found an entry key that contains
a <tt>/</tt>. </p>Solution: <p>Indirect map keys must be simple names, not path names. </p><p><a name="indexterm-419"></a>can't mount <i>server</i>:<i>pathname: reason</i> </p>Description: <p>The mount daemon on the server refuses to provide a file handle for
<i>server</i>:<i>pathname</i>. </p>Solution: <p>Check the export table on the server.</p><p><a name="indexterm-420"></a>couldn't create mount point <i>mountpoint</i>: <i>reason</i> </p>Description: <p>Autofs was unable to create a mount point that was required for a
mount. This problem most frequently occurs when you attempt to hierarchically mount all
of a server's exported file systems. </p>Solution: <p>A required mount point can exist only in a file system that cannot
be mounted, which means the file system cannot be exported. The mount point
cannot be created because the exported parent file system is exported read-only. </p><p><a name="indexterm-421"></a>leading space in map entry <i>entry</i> text in <i>mapname</i>  </p>Description: <p>Autofs has discovered an entry in an automount map that contains leading spaces.
This problem is usually an indication of an improperly continued map entry. For
example: </p><pre>fake
/blat           frobz:/usr/frotz </pre>Solution: <p>In this example, the warning is generated when autofs encounters the second line
because the first line should be terminated with a backslash (<tt>\</tt>). </p><p><a name="indexterm-422"></a><i>mapname</i>: Not found </p>Description: <p>The required map cannot be located. This message is produced only when the
<tt>-v</tt> option is used. </p>Solution: <p>Check the spelling and path name of the map name. </p><p><a name="indexterm-423"></a><a name="indexterm-424"></a>remount <i>server</i>:<i>pathname</i> on <i>mountpoint</i>: server not responding</p>Description: <p>Autofs has failed to remount a file system that it previously unmounted.</p>Solution: <p>Contact Sun for assistance. This error message is extremely rare and has no
straightforward solution.</p><p><a name="indexterm-425"></a><a name="indexterm-426"></a>WARNING: <i>mountpoint</i> already mounted on</p>Description: <p>Autofs is attempting to mount over an existing mount point. This message means
that an internal error occurred in autofs (an anomaly).</p>Solution: <p>Contact Sun for assistance. This error message is extremely rare and has no
straightforward solution.</p>

<a name="rfsadmin-212"></a><h4>Miscellaneous Error Messages</h4>
<p><a name="indexterm-427"></a><a name="indexterm-428"></a><a name="indexterm-429"></a>dir <i>mountpoint</i> must start with '/'</p>Solution: <p>The automounter mount point must be given as a full path name. Check
the spelling and path name of the mount point. </p><p><a name="indexterm-430"></a>hierarchical mountpoint: <i>pathname1</i> and <i>pathname2</i> </p>Solution: <p>Autofs does not allow its mount points to have a hierarchical relationship. An
autofs mount point must not be contained within another automounted file system. </p><p><a name="indexterm-431"></a>host <i>server</i> not responding </p>Description: <p>Autofs attempted to contact <i>server</i>, but received no response. </p>Solution: <p>Check the NFS server status.</p><p><i>hostname</i>: exports: <i>rpc-err</i> </p>Description: <p>An error occurred while getting the export list from <i>hostname</i>. This message indicates
a server or network problem. </p>Solution: <p>Check the NFS server status.</p><p><a name="indexterm-432"></a>map <i>mapname</i>, key <i>key</i>: bad </p>Description: <p>The map entry is malformed, and autofs cannot interpret the entry. </p>Solution: <p>Recheck the entry. Perhaps the entry has characters that need to be escaped.
</p><p><i>mapname</i>: <i>nis-err</i> </p>Description: <p>An error occurred when looking up an entry in a NIS map. This
message can indicate NIS problems. </p>Solution: <p>Check the NIS server status.</p><p><a name="indexterm-433"></a>mount of <i>server</i>:<i>pathname</i> on <i>mountpoint:reason</i></p>Description: <p>Autofs failed to do a mount. This occurrence  can indicate a server
or network problem. The <i>reason</i> string defines the problem.</p>Solution: <p>Contact Sun for assistance. This error message is extremely rare and has no
straightforward solution.</p><p><a name="indexterm-434"></a><i>mountpoint</i>: Not a directory</p>Description: <p>Autofs cannot mount itself on <i>mountpoint</i> because it is not a directory.
</p>Solution: <p>Check the spelling and path name of the mount point.</p><p><a name="indexterm-435"></a><a name="indexterm-436"></a>nfscast: cannot send packet: <i>reason</i></p>Description: <p>Autofs cannot send a query packet to a server in a list of
replicated file system locations. The <i>reason</i> string defines the problem.</p>Solution: <p>Contact Sun for assistance. This error message is extremely rare and has no
straightforward solution.</p><p><a name="indexterm-437"></a><a name="indexterm-438"></a>nfscast: cannot receive reply: <i>reason</i>   </p>Description: <p>Autofs cannot receive replies from any of the servers in a list of
replicated file system locations. The <i>reason</i> string defines the problem.</p>Solution: <p>Contact Sun for assistance. This error message is extremely rare and has no
straightforward solution.</p><p><a name="indexterm-439"></a>nfscast: select: <i>reason</i></p>Description: <p>All these error messages indicate problems in attempting to check servers for a
replicated file system. This message can indicate a network problem. The <i>reason</i> string defines
the problem.</p>Solution: <p>Contact Sun for assistance. This error message is extremely rare and has no
straightforward solution.</p><p><a name="indexterm-440"></a><a name="indexterm-441"></a>pathconf: no info for <i>server</i><tt>:</tt><i>pathname</i></p>Description: <p>Autofs failed to get <tt>pathconf</tt> information for the path name. </p>Solution: <p>See the <a href="http://docs.sun.com/doc/819-2241/fpathconf-2?a=view"><tt>fpathconf</tt>(2)</a> man page.</p><p><a name="indexterm-442"></a><a name="indexterm-443"></a><tt>pathconf:</tt> <i>server</i><tt>: server not responding</tt></p>Description: <p>Autofs is unable to contact the mount daemon on <i>server</i> that provides the
information to <tt>pathconf()</tt>.</p>Solution: <p>Avoid using the <tt>POSIX</tt> mount option with this server.</p>

<a name="rfsadmin-213"></a><h4>Other Errors With Autofs</h4>
<p>If the <tt>/etc/auto*</tt> files have the execute bit set, the automounter tries to
execute the maps, which creates messages such as the following:</p><p><tt>/etc/auto_home: +auto_home: not found</tt></p><p>In this situation, the <tt>auto_home</tt> file has incorrect permissions. Each entry in the
file generates an error message that is similar to this message. The permissions
to the file should be reset by typing the following command:</p><pre># <tt><b>chmod 644 /etc/auto_home</b></tt></pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="rfsadmin-215.html">Previous</a>
             </td>
             <td align="right">
                 <a href="rfsadmin-255.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

