<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>NFS Files - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Network Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="rfsrefer-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="rfsrefer-8.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="netservices-1.html">Part&nbsp;I&nbsp;Network Services Topics</a></p>
<p class="toc level2"><a href="nsov-1.html">1.&nbsp;&nbsp;Network Service (Overview)</a></p>
<p class="toc level2"><a href="nca-1.html">2.&nbsp;&nbsp;Managing Web Cache Servers</a></p>
<p class="toc level2"><a href="time-1.html">3.&nbsp;&nbsp;Time-Related Services</a></p>
<p class="toc level1 tocsp"><a href="rfstm-1.html">Part&nbsp;II&nbsp;Accessing Network File Systems Topics</a></p>
<p class="toc level2"><a href="rfsintro-2.html">4.&nbsp;&nbsp;Managing Network File Systems (Overview)</a></p>
<p class="toc level2"><a href="rfsadmin-8.html">5.&nbsp;&nbsp;Network File System Administration (Tasks)</a></p>
<p class="toc level2"><a href="rfsrefer-1.html">6.&nbsp;&nbsp;Accessing Network File Systems (Reference)</a></p>
<div class="onpage">
<p class="toc level3"><a href="">NFS Files</a></p>
</div>
<p class="toc level3"><a href="rfsrefer-8.html">NFS Daemons</a></p>
<p class="toc level3"><a href="rfsrefer-13.html">NFS Commands</a></p>
<p class="toc level3"><a href="rfsrefer-37.html">Commands for Troubleshooting NFS Problems</a></p>
<p class="toc level3"><a href="rfsrefer-154.html">NFS Over RDMA</a></p>
<p class="toc level3"><a href="rfsrefer-45.html">How the NFS Service Works</a></p>
<p class="toc level3"><a href="rfsrefer-66.html">Autofs Maps</a></p>
<p class="toc level3"><a href="rfsrefer-75.html">How Autofs Works</a></p>
<p class="toc level3"><a href="rfsrefer-98.html">Autofs Reference</a></p>
<p class="toc level1 tocsp"><a href="slptm.html">Part&nbsp;III&nbsp;SLP Topics</a></p>
<p class="toc level2"><a href="slparch-16.html">7.&nbsp;&nbsp;SLP (Overview)</a></p>
<p class="toc level2"><a href="slp.setup-10.html">8.&nbsp;&nbsp;Planning and Enabling SLP (Tasks)</a></p>
<p class="toc level2"><a href="ch.configuration-6.html">9.&nbsp;&nbsp;Administering SLP (Tasks)</a></p>
<p class="toc level2"><a href="legacy-7.html">10.&nbsp;&nbsp;Incorporating Legacy Services</a></p>
<p class="toc level2"><a href="slpreference.html">11.&nbsp;&nbsp;SLP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="mailtm-1.html">Part&nbsp;IV&nbsp;Mail Services Topics</a></p>
<p class="toc level2"><a href="mailintro-1.html">12.&nbsp;&nbsp;Mail Services (Overview)</a></p>
<p class="toc level2"><a href="mailadmin-1.html">13.&nbsp;&nbsp;Mail Services (Tasks)</a></p>
<p class="toc level2"><a href="mailrefer-1.html">14.&nbsp;&nbsp;Mail Services (Reference)</a></p>
<p class="toc level1 tocsp"><a href="modemtm-1.html">Part&nbsp;V&nbsp;Serial Networking Topics</a></p>
<p class="toc level2"><a href="pppsvrconfig.intro-1.html">15.&nbsp;&nbsp;Solaris PPP 4.0 (Overview)</a></p>
<p class="toc level2"><a href="pppsvrconfig.p2plink-1.html">16.&nbsp;&nbsp;Planning for the PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.dialin-1.html">17.&nbsp;&nbsp;Setting Up a Dial-up PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.leased-1.html">18.&nbsp;&nbsp;Setting Up a Leased-Line PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.auth-1.html">19.&nbsp;&nbsp;Setting Up PPP Authentication (Tasks)</a></p>
<p class="toc level2"><a href="ppp.pppoe-1.html">20.&nbsp;&nbsp;Setting Up a PPPoE Tunnel (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.troubleshoot-1.html">21.&nbsp;&nbsp;Fixing Common PPP Problems (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.reference-1.html">22.&nbsp;&nbsp;Solaris PPP 4.0 (Reference)</a></p>
<p class="toc level2"><a href="pppsvrconfig.convert.app-1.html">23.&nbsp;&nbsp;Migrating From Asynchronous Solaris PPP to Solaris PPP 4.0 (Tasks)</a></p>
<p class="toc level2"><a href="uucpov-1.html">24.&nbsp;&nbsp;UUCP (Overview)</a></p>
<p class="toc level2"><a href="uucptasks-1.html">25.&nbsp;&nbsp;Administering UUCP (Tasks)</a></p>
<p class="toc level2"><a href="uucpref-1.html">26.&nbsp;&nbsp;UUCP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="wwrstm.html">Part&nbsp;VI&nbsp;Working With Remote Systems Topics</a></p>
<p class="toc level2"><a href="wwrsov.html">27.&nbsp;&nbsp;Working With Remote Systems (Overview)</a></p>
<p class="toc level2"><a href="wuftp-17.html">28.&nbsp;&nbsp;Administering the FTP Server (Tasks)</a></p>
<p class="toc level2"><a href="remotehowtoaccess-99941.html">29.&nbsp;&nbsp;Accessing Remote Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="netmonitortm-1.html">Part&nbsp;VII&nbsp;Monitoring Network Services Topics</a></p>
<p class="toc level2"><a href="netmonitor-1.html">30.&nbsp;&nbsp;Monitoring Network Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="rfsrefer-6"></a><h3>NFS Files</h3>
<p><a name="indexterm-495"></a>You need several files to support NFS activities on any computer. Many of
these files are ASCII, but some of the files are data files.
<a href="#rfsrefer-tbl-7">Table&nbsp;6-1</a> lists these files and their functions. </p><a name="rfsrefer-tbl-7"></a><h6>Table&nbsp;6-1 NFS Files</h6><table><col width="3*"><col width="6*"><tr><th align="left" valign="top" scope="column"><p>File Name</p></th>
<th align="left" valign="top" scope="column"><p>Function</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/default/autofs</tt></p></td>
<td align="left" valign="top" scope="row"><p>Lists configuration information for the
autofs environment.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/default/fs</tt>     </p></td>
<td align="left" valign="top" scope="row"><p>Lists the default file-system type for
local file systems.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/default/nfs</tt>  </p></td>
<td align="left" valign="top" scope="row"><p>Lists configuration information for <tt>lockd</tt> and <tt>nfsd</tt>. For
more information, refer to <a href="#rfsrefer-133">Keywords for the <tt>/etc/default/nfs</tt> File</a> and the <a href="http://docs.sun.com/doc/819-2251/nfs-4?a=view"><tt>nfs</tt>(4)</a> man page.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/default/nfslogd</tt>  
</p></td>
<td align="left" valign="top" scope="row"><p>Lists configuration information for the NFS server logging daemon, <tt>nfslogd</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/dfs/dfstab</tt></p></td>
<td align="left" valign="top" scope="row"><p>Lists the local
resources to be shared.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/dfs/fstypes</tt>    </p></td>
<td align="left" valign="top" scope="row"><p>Lists the default file-system types
for remote file systems.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/dfs/sharetab</tt>    </p></td>
<td align="left" valign="top" scope="row"><p>Lists the local and remote
resources that are shared. See the <a href="http://docs.sun.com/doc/819-2251/sharetab-4?a=view"><tt>sharetab</tt>(4)</a> man page. Do not edit
this file.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/mnttab</tt>   </p></td>
<td align="left" valign="top" scope="row"><p>Lists file systems that are currently mounted, including automounted directories.
See the <a href="http://docs.sun.com/doc/819-2251/mnttab-4?a=view"><tt>mnttab</tt>(4)</a> man page. Do not edit this file.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/netconfig</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-496"></a><a name="indexterm-497"></a>Lists the transport protocols.
Do not edit this file. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/nfs/nfslog.conf</tt></p></td>
<td align="left" valign="top" scope="row"><p>Lists general configuration information for NFS server
logging.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/nfs/nfslogtab</tt>   </p></td>
<td align="left" valign="top" scope="row"><p>Lists information for log postprocessing by <tt>nfslogd</tt>. Do not edit
this file.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/nfssec.conf</tt>   </p></td>
<td align="left" valign="top" scope="row"><p>Lists NFS security services.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/rmtab</tt></p></td>
<td align="left" valign="top" scope="row"><p>Lists file systems that are
remotely mounted by NFS clients. See the <a href="http://docs.sun.com/doc/819-2251/rmtab-4?a=view"><tt>rmtab</tt>(4)</a> man page. Do not
edit this file.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/vfstab</tt>  </p></td>
<td align="left" valign="top" scope="row"><p>Defines file systems to be mounted locally. See the
<a href="http://docs.sun.com/doc/819-2251/vfstab-4?a=view"><tt>vfstab</tt>(4)</a> man page.</p></td>
</tr>
</table><p>The first entry in <tt>/etc/dfs/fstypes</tt> is often used as the default file-system type
for remote file systems. This entry defines the NFS file-system type as the
default.</p><p><a name="indexterm-498"></a><a name="indexterm-499"></a>Only one entry is in <tt>/etc/default/fs</tt>: the default file-system type for local disks.
You can determine the file-system types that are supported on a client or
server by checking the files in <tt>/kernel/fs</tt>.  </p>

<a name="rfsrefer-146"></a><h4><tt>/etc/default/autofs</tt> File</h4>
<a name="indexterm-500"></a><p>Starting in the Solaris 10 release, you can use the <tt>/etc/default/autofs</tt> file
to configure your autofs environment. Specifically, this file provides an additional way to
configure your autofs commands and autofs daemons. The same specifications you would make
on the command line can be made in this configuration file. However, unlike
the specifications you would make on the  command line, this file preserves
your specifications, even during upgrades to your operating system. Additionally,  you are
no longer required to update critical startup files to ensure that the existing
behavior of your autofs environment is preserved. You can make your specifications by
providing values for the following keywords:</p><dl><dt>AUTOMOUNT_TIMEOUT</dt>
<dd><p>Sets the duration for a file system to remain idle before the file system is unmounted. This keyword is the equivalent of the <tt>-t</tt> argument for the <tt>automount</tt> command. The default value is 600.</p></dd>
<dt>AUTOMOUNT_VERBOSE</dt>
<dd><p>Provides notification of autofs mounts, unmounts, and other nonessential events. This keyword is the equivalent of the <tt>-v</tt> argument for <tt>automount</tt>. The default value is FALSE.</p></dd>
<dt>AUTOMOUNTD_VERBOSE</dt>
<dd><p>Logs status messages to the console and is the equivalent of the <tt>-v</tt> argument for the <tt>automountd</tt> daemon. The default value is FALSE.</p></dd>
<dt>AUTOMOUNTD_NOBROWSE</dt>
<dd><p>Turns browsing on or off for all autofs mount points and is the equivalent of the <tt>-n</tt> argument for <tt>automountd</tt>. The default value is FALSE.</p></dd>
<dt>AUTOMOUNTD_TRACE</dt>
<dd><p>Expands each remote procedure call (RPC) and displays the expanded RPC on standard output. This keyword is the equivalent of the <tt>-T</tt> argument for <tt>automountd</tt>. The default value is 0. Values can range from 0 to 5.</p></dd>
<dt>AUTOMOUNTD_ENV</dt>
<dd><p>Permits you to assign different values to different environments. This keyword is the equivalent of the <tt>-D</tt> argument for <tt>automountd</tt>. The AUTOMOUNTD_ENV keyword can be used multiple times. However, you must use separate lines for each environment assignment.</p></dd>
</dl>
<p>For more information, refer to the man pages for  <a href="http://docs.sun.com/doc/819-2240/automount-1m?a=view"><tt>automount</tt>(1M)</a> and
<a href="http://docs.sun.com/doc/819-2240/automountd-1m?a=view"><tt>automountd</tt>(1M)</a>. For procedural information, refer to <a href="rfsadmin-127.html#rfsadmin-250">How to Use the <tt>/etc/default/autofs</tt> File</a>.</p>

<a name="rfsrefer-133"></a><h4>Keywords for the <tt>/etc/default/nfs</tt> File</h4>
<a name="indexterm-501"></a><p>In NFS version 4, the following keywords can be set in the
<tt>/etc/default/nfs</tt> file. These keywords control the NFS protocols that are used by both
the client and server.</p><dl><dt>NFS_SERVER_VERSMIN</dt>
<dd><p><a name="indexterm-502"></a>Sets the minimum version of the NFS protocol to be registered and offered by the server. Starting in the Solaris 10 release, the default is 2. Other valid values include 3 or 4. Refer to <a href="rfsadmin-68.html">Setting Up NFS Services</a>.</p></dd>
<dt>NFS_SERVER_VERSMAX</dt>
<dd><p><a name="indexterm-503"></a>Sets the maximum version of the NFS protocol to be registered and offered by the server. Starting in the Solaris 10 release, the default is 4. Other valid values include 2 or 3. Refer to <a href="rfsadmin-68.html">Setting Up NFS Services</a>.</p></dd>
<dt>NFS_CLIENT_VERSMIN</dt>
<dd><p><a name="indexterm-504"></a>Sets the minimum version of the NFS protocol to be used by the NFS client. Starting in the Solaris 10 release, the default is 2. Other valid values include 3 or 4. Refer to <a href="rfsadmin-68.html">Setting Up NFS Services</a>.</p></dd>
<dt>NFS_CLIENT_VERSMAX</dt>
<dd><p><a name="indexterm-505"></a>Sets the maximum version of the NFS protocol to be used by the NFS client. Starting in the Solaris 10 release, the default is 4. Other valid values include 2 or 3. Refer to <a href="rfsadmin-68.html">Setting Up NFS Services</a>.</p></dd>
<dt>NFS_SERVER_DELEGATION</dt>
<dd><p><a name="indexterm-506"></a>Controls whether the NFS version 4 delegation feature is enabled for the server. If this feature is enabled, the server attempts to provide delegations to the NFS version 4 client. By default, server delegation is enabled. To disable server delegation, see <a href="rfsadmin-68.html#rfsadmin-965">How to Select Different Versions of NFS on a Server</a>. For more information, refer to <a href="rfsrefer-45.html#rfsrefer-140">Delegation in NFS Version 4</a>.</p></dd>
<dt>NFSMAPID_DOMAIN</dt>
<dd><p><a name="indexterm-507"></a>Sets a common domain for clients and servers. Overrides the default behavior of using the local DNS domain name. For task information, refer to <a href="rfsadmin-68.html">Setting Up NFS Services</a>. Also, see <a href="rfsrefer-8.html#rfsrefer-118"><tt>nfsmapid</tt> Daemon</a>.</p></dd>
</dl>


<a name="rfsrefer-101"></a><h4><tt>/etc/default/nfslogd</tt> File</h4>
<a name="indexterm-508"></a><a name="indexterm-509"></a><p>This file defines some of the parameters that are used when using
NFS server logging. The following parameters can be defined.</p><dl><dt>CYCLE_FREQUENCY</dt>
<dd><p>Determines the number of hours that must pass before the log files are cycled. The default value is 24 hours. This option is used to prevent the log files from growing too large. </p></dd>
<dt>IDLE_TIME</dt>
<dd><p>Sets the number of seconds <tt>nfslogd</tt> should sleep before checking for more information in the buffer file. This parameter also determines how often the configuration file is checked. This parameter, along with MIN_PROCESSING_SIZE, determines how often the buffer file is processed. The default value is 300 seconds. Increasing this number can improve performance by reducing the number of checks.</p></dd>
<dt>MAPPING_UPDATE_INTERVAL</dt>
<dd><p>Specifies the number of seconds between updates of the records in the file-handle-to-path mapping tables. The default value is 86400 seconds or one day. This parameter helps keep the file-handle-to-path mapping tables up-to-date without having to continually update the tables.</p></dd>
<dt>MAX_LOGS_PRESERVE</dt>
<dd><p>Determines the number of log files to be saved. The default value is 10. </p></dd>
<dt>MIN_PROCESSING_SIZE</dt>
<dd><p>Sets the minimum number of bytes that the buffer file must reach before processing and writing to the log file. This parameter, along with IDLE_TIME, determines how often the buffer file is processed. The default value is 524288 bytes. Increasing this number can improve performance by reducing the number of times the buffer file is processed.</p></dd>
<dt>PRUNE_TIMEOUT</dt>
<dd><p>Selects the number of hours that must pass before a file-handle-to-path mapping record times out and can be reduced. The default value is 168 hours or 7 days.</p></dd>
<dt>UMASK</dt>
<dd><p>Specifies the file mode creation mask for the log files that are created by <tt>nfslogd</tt>. The default value is 0137.</p></dd>
</dl>


<a name="rfsrefer-102"></a><h4><tt>/etc/nfs/nfslog.conf</tt> File</h4>
<a name="indexterm-510"></a><a name="indexterm-511"></a><p>This file defines the path, file names, and type of logging to
be used by <tt>nfslogd</tt>. Each definition is associated with a <i>tag</i>. Starting NFS
server logging requires that you identify the <i>tag</i> for each file system. The
global tag defines the default values. You can use the following parameters with
each tag as needed.</p><dl><dt>defaultdir=<i>path</i></dt>
<dd><p>Specifies the default directory path for the logging files. Unless you specify differently, the default directory is <tt>/var/nfs</tt>.</p></dd>
<dt>log=<i>path/filename</i></dt>
<dd><p>Sets the path and file name for the log files. The default is <tt>/var/nfs/nfslog</tt>.</p></dd>
<dt>fhtable=<i>path/filename</i></dt>
<dd><p>Selects the path and file name for the file-handle-to-path database files. The default is <tt>/var/nfs/fhtable</tt>.</p></dd>
<dt>buffer=<i>path/filename</i></dt>
<dd><p>Determines the path and file name for the buffer files. The default is <tt>/var/nfs/nfslog_workbuffer</tt>.</p></dd>
<dt>logformat=<i>basic</i>|<i>extended</i></dt>
<dd><p>Selects the format to be used when creating user-readable log files. The basic format produces a log file that is similar to some <tt>ftpd</tt> daemons. The extended format gives a more detailed view.</p></dd>
</dl>
<p>If the path is not specified, the path that is defined by
<tt>defaultdir</tt> is used. Also, you can override <tt>defaultdir</tt> by using an absolute path.</p><p>To identify the files more easily, place the files in separate directories. Here
is an example of the changes that are needed.</p><pre>% <tt><b>cat /etc/nfs/nfslog.conf</b></tt>
#ident  "@(#)nfslog.conf        1.5     99/02/21 SMI"
#
  .
  .
# NFS server log configuration file.
#

global  defaultdir=/var/nfs \
        log=nfslog fhtable=fhtable buffer=nfslog_workbuffer

publicftp log=logs/nfslog fhtable=fh/fhtables buffer=buffers/workbuffer</pre><p>In this example, any file system that is shared with <tt>log=publicftp</tt> uses
the following values: </p>
<ul><li><p>The default directory is <tt>/var/nfs</tt>.</p></li>
<li><p>Log files are stored in <tt>/var/nfs/logs/nfslog*</tt>.</p></li>
<li><p>File-handle-to-path database tables are stored in <tt>/var/nfs/fh/fhtables</tt>.</p></li>
<li><p>Buffer files are stored in <tt>/var/nfs/buffers/workbuffer</tt>.</p></li></ul>
<p>For procedural information, refer to <a href="rfsadmin-56.html#rfsadmin-101">How to Enable NFS Server Logging</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="rfsrefer-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="rfsrefer-8.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

