<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Software and Hardware Components of Mail Services - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Network Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="mailrefer-75.html">Previous</a>
             </td>
             <td align="right">
                 <a href="mailrefer-45.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="netservices-1.html">Part&nbsp;I&nbsp;Network Services Topics</a></p>
<p class="toc level2"><a href="nsov-1.html">1.&nbsp;&nbsp;Network Service (Overview)</a></p>
<p class="toc level2"><a href="nca-1.html">2.&nbsp;&nbsp;Managing Web Cache Servers</a></p>
<p class="toc level2"><a href="time-1.html">3.&nbsp;&nbsp;Time-Related Services</a></p>
<p class="toc level1 tocsp"><a href="rfstm-1.html">Part&nbsp;II&nbsp;Accessing Network File Systems Topics</a></p>
<p class="toc level2"><a href="rfsintro-2.html">4.&nbsp;&nbsp;Managing Network File Systems (Overview)</a></p>
<p class="toc level2"><a href="rfsadmin-8.html">5.&nbsp;&nbsp;Network File System Administration (Tasks)</a></p>
<p class="toc level2"><a href="rfsrefer-1.html">6.&nbsp;&nbsp;Accessing Network File Systems (Reference)</a></p>
<p class="toc level1 tocsp"><a href="slptm.html">Part&nbsp;III&nbsp;SLP Topics</a></p>
<p class="toc level2"><a href="slparch-16.html">7.&nbsp;&nbsp;SLP (Overview)</a></p>
<p class="toc level2"><a href="slp.setup-10.html">8.&nbsp;&nbsp;Planning and Enabling SLP (Tasks)</a></p>
<p class="toc level2"><a href="ch.configuration-6.html">9.&nbsp;&nbsp;Administering SLP (Tasks)</a></p>
<p class="toc level2"><a href="legacy-7.html">10.&nbsp;&nbsp;Incorporating Legacy Services</a></p>
<p class="toc level2"><a href="slpreference.html">11.&nbsp;&nbsp;SLP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="mailtm-1.html">Part&nbsp;IV&nbsp;Mail Services Topics</a></p>
<p class="toc level2"><a href="mailintro-1.html">12.&nbsp;&nbsp;Mail Services (Overview)</a></p>
<p class="toc level2"><a href="mailadmin-1.html">13.&nbsp;&nbsp;Mail Services (Tasks)</a></p>
<p class="toc level2"><a href="mailrefer-1.html">14.&nbsp;&nbsp;Mail Services (Reference)</a></p>
<p class="toc level3"><a href="mailrefer-75.html">Solaris Version of <tt>sendmail</tt></a></p>
<div class="onpage">
<p class="toc level3"><a href="">Software and Hardware Components of Mail Services</a></p>
</div>
<p class="toc level3"><a href="mailrefer-45.html">Mail Service Programs and Files</a></p>
<p class="toc level3"><a href="mailrefer-14.html">Mail Addresses and Mail Routing</a></p>
<p class="toc level3"><a href="mailrefer-24.html">Interactions of <tt>sendmail</tt> With Name Services</a></p>
<p class="toc level3"><a href="evemx.html">Changes in Version 8.13 of <tt>sendmail</tt></a></p>
<p class="toc level3"><a href="mailrefer-105.html">Changes From Version 8.12 of <tt>sendmail</tt></a></p>
<p class="toc level1 tocsp"><a href="modemtm-1.html">Part&nbsp;V&nbsp;Serial Networking Topics</a></p>
<p class="toc level2"><a href="pppsvrconfig.intro-1.html">15.&nbsp;&nbsp;Solaris PPP 4.0 (Overview)</a></p>
<p class="toc level2"><a href="pppsvrconfig.p2plink-1.html">16.&nbsp;&nbsp;Planning for the PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.dialin-1.html">17.&nbsp;&nbsp;Setting Up a Dial-up PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.leased-1.html">18.&nbsp;&nbsp;Setting Up a Leased-Line PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.auth-1.html">19.&nbsp;&nbsp;Setting Up PPP Authentication (Tasks)</a></p>
<p class="toc level2"><a href="ppp.pppoe-1.html">20.&nbsp;&nbsp;Setting Up a PPPoE Tunnel (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.troubleshoot-1.html">21.&nbsp;&nbsp;Fixing Common PPP Problems (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.reference-1.html">22.&nbsp;&nbsp;Solaris PPP 4.0 (Reference)</a></p>
<p class="toc level2"><a href="pppsvrconfig.convert.app-1.html">23.&nbsp;&nbsp;Migrating From Asynchronous Solaris PPP to Solaris PPP 4.0 (Tasks)</a></p>
<p class="toc level2"><a href="uucpov-1.html">24.&nbsp;&nbsp;UUCP (Overview)</a></p>
<p class="toc level2"><a href="uucptasks-1.html">25.&nbsp;&nbsp;Administering UUCP (Tasks)</a></p>
<p class="toc level2"><a href="uucpref-1.html">26.&nbsp;&nbsp;UUCP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="wwrstm.html">Part&nbsp;VI&nbsp;Working With Remote Systems Topics</a></p>
<p class="toc level2"><a href="wwrsov.html">27.&nbsp;&nbsp;Working With Remote Systems (Overview)</a></p>
<p class="toc level2"><a href="wuftp-17.html">28.&nbsp;&nbsp;Administering the FTP Server (Tasks)</a></p>
<p class="toc level2"><a href="remotehowtoaccess-99941.html">29.&nbsp;&nbsp;Accessing Remote Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="netmonitortm-1.html">Part&nbsp;VII&nbsp;Monitoring Network Services Topics</a></p>
<p class="toc level2"><a href="netmonitor-1.html">30.&nbsp;&nbsp;Monitoring Network Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="mailrefer-53"></a><h3>Software and Hardware Components of Mail Services</h3>
<p>This section describes the software and hardware components of a mail system.</p>
<ul><li><p><a href="#mailrefer-54">Software Components</a></p></li>
<li><p><a href="#mailrefer-68">Hardware Components</a></p></li></ul>


<a name="mailrefer-54"></a><h4>Software Components</h4>
<p><a name="indexterm-1253"></a>Each mail service includes at least one of each of the following software components.</p>
<ul><li><p><a href="#mailrefer-55">Mail User Agent</a></p></li>
<li><p><a href="#mailrefer-56">Mail Transfer Agent</a></p></li>
<li><p><a href="#mailrefer-57">Local Delivery Agent</a></p></li></ul>
<p>This section also describes these software components.</p>
<ul><li><p><a href="#mailrefer-58">Mailers and <tt>sendmail</tt></a></p></li>
<li><p><a href="#mailrefer-59">Mail Addresses</a></p></li>
<li><p><a href="#mailrefer-64">Mailbox Files</a></p></li>
<li><p><a href="#mailrefer-66">Mail Aliases</a></p></li></ul>


<a name="mailrefer-55"></a><h5>Mail User Agent</h5>
<a name="indexterm-1254"></a><a name="indexterm-1255"></a><p>The <b>mail user agent</b> is the program that acts as the interface between the user and
mail transfer agent. The <tt>sendmail</tt> program is a mail transfer agent. The Solaris operating system
supplies the following mail user agents.</p>
<ul><li><p><tt>/usr/bin/mail</tt></p></li>
<li><p><tt>/usr/bin/mailx</tt></p></li>
<li><p><tt>/usr/dt/bin/dtmail</tt></p></li></ul>


<a name="mailrefer-56"></a><h5>Mail Transfer Agent</h5>
<p><a name="indexterm-1256"></a><a name="indexterm-1257"></a>The <b>mail transfer agent</b> is responsible for the routing of mail messages and the resolution of
mail addresses. This agent is also known as a mail <b>transport</b> agent. The
transfer agent for the Solaris operating system is <tt>sendmail</tt>. The transfer agent performs these
functions.</p>
<ul><li><p>Accepts messages from the mail user agent</p></li>
<li><p>Resolves destination addresses</p></li>
<li><p>Selects a proper delivery agent to deliver the mail</p></li>
<li><p>Receives incoming mail from other mail transfer agents</p></li></ul>


<a name="mailrefer-57"></a><h5>Local Delivery Agent</h5>
<p><a name="indexterm-1258"></a><a name="indexterm-1259"></a>A <b>local delivery agent</b> is a program that implements a mail delivery protocol. The following local
delivery agents are provided with the Solaris operating system.</p>
<ul><li><p>The UUCP local delivery agent, which uses <tt>uux</tt> to deliver mail</p></li>
<li><p>The local delivery agent, which is <tt>mail.local</tt> in the standard Solaris release</p></li></ul>
<p><a href="mailrefer-105.html">Changes From Version 8.12 of <tt>sendmail</tt></a> provides information on these related topics.</p>
<ul><li><p><a href="mailrefer-105.html#mailrefer-117">Additional Delivery Agent Flags From Version 8.12 of <tt>sendmail</tt></a></p></li>
<li><p><a href="mailrefer-105.html#mailrefer-118">Additional Equates for Delivery Agents From Version 8.12 of <tt>sendmail</tt></a></p></li></ul>


<a name="mailrefer-58"></a><h5>Mailers and <tt>sendmail</tt></h5>
<p><a name="indexterm-1260"></a><a name="indexterm-1261"></a><a name="indexterm-1262"></a><a name="indexterm-1263"></a><b>Mailer</b> is a <tt>sendmail</tt>-specific term. A <b>mailer</b> is used by <tt>sendmail</tt> to identify a specific instance
of a customized local delivery agent or a customized mail transfer agent. You need to
specify at least one mailer in your <tt>sendmail.cf</tt> file. For task information, refer to
<a href="mailadmin-43.html">Building the <tt>sendmail.cf</tt> Configuration File</a> in <a href="mailadmin-1.html">Chapter&nbsp;13, Mail Services (Tasks)</a>. This section provides a brief description of two types of mailers.</p>
<ul><li><p><a href="#mailrefer-90">Simple Mail Transfer Protocol (SMTP) Mailers</a></p></li>
<li><p><a href="#mailrefer-91">UNIX-to-UNIX Copy Program (UUCP) Mailers</a></p></li></ul>
<p><a name="indexterm-1264"></a>For additional information about mailers, see <a href="http://www.sendmail.org/m4/readme.html">http://www.sendmail.org/m4/readme.html</a> or <tt>/etc/mail/cf/README</tt>.</p>

<a name="mailrefer-90"></a><h5>Simple Mail Transfer Protocol (SMTP) Mailers</h5>
<p><a name="indexterm-1265"></a><a name="indexterm-1266"></a>SMTP is the standard mail protocol that is used on the Internet. This protocol
defines these mailers.</p>
<ul><li><p><tt>smtp</tt> provides regular SMTP transfers to other servers.</p></li>
<li><p><tt>esmtp</tt> provides extended SMTP transfers to other servers.</p></li>
<li><p><tt>smtp8</tt> provides SMTP transfers to other servers without converting 8-bit data to MIME.</p></li>
<li><p><tt>dsmtp</tt> provides on-demand delivery by using the <tt>F=%</tt> mailer flag. Refer to <a href="mailrefer-105.html#mailrefer-116">Changes to the <tt>MAILER()</tt> Declaration From Version 8.12 of <tt>sendmail</tt></a> and <a href="mailrefer-105.html#mailrefer-117">Additional Delivery Agent Flags From Version 8.12 of <tt>sendmail</tt></a>.</p></li></ul>


<a name="mailrefer-91"></a><h5>UNIX-to-UNIX Copy Program (UUCP) Mailers</h5>
<p><a name="indexterm-1267"></a><a name="indexterm-1268"></a>If possible, avoid using UUCP. For an explanation, refer to <a href="http://www.sendmail.org/m4/uucp_mailers.html">http://www.sendmail.org/m4/uucp_mailers.html</a> or do
a search in <tt>/etc/mail/cf/README</tt> on this string: <tt>USING UUCP MAILERS</tt>.</p><p>UUCP defines these mailers.</p><dl><dt><tt>uucp-old</tt></dt>
<dd><p>Names in the <tt>$=U</tt> class are sent to <tt>uucp-old</tt>. <tt>uucp</tt> is the obsolete name for this mailer. The <tt>uucp-old</tt> mailer uses an exclamation-point address in the headers.</p></dd>
<dt><tt>uucp-new</tt></dt>
<dd><p>Names in the <tt>$=Y</tt> class are sent to <tt>uucp-new</tt>. Use this mailer when you know that the receiving UUCP mailer can manage multiple recipients in one transfer. <tt>suucp</tt> is the obsolete name for this mailer. The <tt>uucp-new</tt> mailer also uses an exclamation-point address in the headers.</p></dd>
</dl>
<p>If <tt>MAILER(smtp)</tt> is also specified in your configuration, two more mailers are defined.</p><dl><dt><tt>uucp-dom</tt></dt>
<dd><p>This mailer uses domain-style addresses and, basically, applies the SMTP rewriting rules.</p></dd>
<dt><tt>uucp-uudom</tt></dt>
<dd><p>Names in the <tt>$=Z</tt> class are sent to <tt>uucp-uudom</tt>. <tt>uucp-uudom</tt> and <tt>uucp-dom</tt> use the same header address format, domain-style addresses.</p></dd>
</dl>

<hr><p><b>Note - </b>Because the <tt>smtp</tt> mailer modifies the UUCP mailer, always put <tt>MAILER(smtp)</tt> before <tt>MAILER(uucp)</tt>
in your <tt>.mc</tt> file.</p>
<hr>


<a name="mailrefer-59"></a><h5>Mail Addresses</h5>
<p><a name="indexterm-1269"></a><a name="indexterm-1270"></a>The <b>mail address</b> contains the name of the recipient and the system to which the
mail message is delivered. When you administer a small mail system that does not
use a name service, addressing mail is easy. The login names uniquely identify the users.
Complexity is introduced if you are administering a mail system that has more than
one system with mailboxes or that has one or more domains. Additional complexity can be
generated if you have a UUCP (or other) mail connection to servers outside your
network. The information in the following sections can help you understand the parts and
complexities of a mail address.</p>
<ul><li><p><a href="#mailrefer-93">Domains and Subdomains</a></p></li>
<li><p><a href="#mailrefer-95">Name Service Domain Name and Mail Domain Name</a></p></li>
<li><p><a href="#mailrefer-94">Typical Format for Mail Addresses</a></p></li>
<li><p><a href="#mailrefer-96">Route-Independent Mail Addresses</a></p></li></ul>


<a name="mailrefer-93"></a><h5>Domains and Subdomains</h5>
<p>Email addressing uses domains. A <b>domain</b> is a directory structure for network address naming. A
domain can have one or more <b>subdomains</b>. The domain and subdomains of an
address can be compared to the hierarchy of a file system. Just as a
subdirectory is considered to be inside the directory above it, each subdomain in a
mail address is considered to be inside the location to its right.</p><p><a name="indexterm-1271"></a><a name="indexterm-1272"></a>The following table shows some top-level domains.</p><a name="mailrefer-tbl-60"></a><h6>Table&nbsp;14-7 Top-Level Domains</h6><table><col width="132*"><col width="264*"><tr><th align="left" valign="top" scope="column"><p>Domain</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>com</tt></p></td>
<td align="left" valign="top" scope="row"><p>Commercial sites</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>edu</tt></p></td>
<td align="left" valign="top" scope="row"><p>Educational sites</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>gov</tt></p></td>
<td align="left" valign="top" scope="row"><p>United States government installations</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>mil</tt></p></td>
<td align="left" valign="top" scope="row"><p>United States
military installations</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>net</tt></p></td>
<td align="left" valign="top" scope="row"><p>Networking organizations</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>org</tt></p></td>
<td align="left" valign="top" scope="row"><p>Other nonprofit organizations</p></td>
</tr>
</table><p><a name="indexterm-1273"></a>Domains are case insensitive. You can use uppercase, lowercase, or mixed-case letters in the
domain part of an address without making any errors.</p>

<a name="mailrefer-95"></a><h5>Name Service Domain Name and Mail Domain Name</h5>
<p>When you are working with name service domain names and mail domain names, remember
the following.</p>
<ul><li><p>By default, the <tt>sendmail</tt> program strips the first component from the NIS or NIS+ domain name to form the mail domain name. For example, if an NIS+ domain name were <tt>bldg5.example.com</tt>, its mail domain name would be <tt>example.com</tt>.</p></li>
<li><p>Although mail domain addresses are case insensitive, the NIS or NIS+ domain name is not. For the best results, use lowercase characters when setting up the mail and NIS or NIS+ domain names.</p></li>
<li><p>The DNS domain name and the mail domain name must be identical.</p></li></ul>
<p>For more information, refer to <a href="mailrefer-24.html">Interactions of <tt>sendmail</tt> With Name Services</a>.</p>

<a name="mailrefer-94"></a><h5>Typical Format for Mail Addresses</h5>
<p>Typically, a mail address has the following format. For further details, refer to <a href="#mailrefer-96">Route-Independent Mail Addresses</a>.</p><pre><i>user@subdomain. ... .subdomain2.subdomain1.top-level-domain</i></pre><p>The part of the address to the left of the <tt>@</tt> sign is the
local address. The local address can contain the following.</p>
<ul><li><p>Information about routing with another mail transport (for example, <tt>bob::vmsvax@gateway</tt> or <tt>smallberries%mill.uucp@gateway</tt>) </p></li>
<li><p>An alias (for example, <tt>iggy.ignatz</tt>)</p></li></ul>

<hr><p><b>Note - </b>The receiving mailer is responsible for determining what the local part of the address
means. For information about mailers, refer to <a href="#mailrefer-58">Mailers and <tt>sendmail</tt></a>.</p>
<hr>
<p><a name="indexterm-1274"></a>The part of the address to the right of the <tt>@</tt> sign shows the
domain levels, which is where the local address resides. A dot separates each subdomain.
The domain part of the address can be an organization, a physical area, or a
geographic region. Furthermore, the order of domain information is hierarchical, so the more local
the subdomain, the closer the subdomain is to the <tt>@</tt> sign.</p>

<a name="mailrefer-96"></a><h5>Route&ndash;Independent Mail Addresses</h5>
<p>Mail addresses can be route independent. Route-independent addressing requires the sender of an email
message to specify the name of the recipient and the final destination. A high-speed network,
such as the Internet, uses route-independent addresses. Route-independent addresses can have this format.</p><pre><i>user</i><tt>@</tt><i>host</i><tt>.</tt><i>domain</i></pre><p>Route-independent addresses for UUCP connections can have this address format.</p><pre><i>host</i><tt>.</tt><i>domain</i><tt>!</tt><i>user</i></pre><p>The increased popularity of the domain-hierarchical naming scheme for computers is making route-independent addresses more
common. Actually, the most common route-independent address omits the host name and relies on the
domain name service to properly identify the final destination of the email message. </p><pre><i>user</i><tt>@</tt><i>domain</i></pre><p>Route-independent addresses are first read by searching for the <tt>@</tt> sign. The domain
hierarchy is then read from the right (the highest level) to the left (the
most specific part of the address to the right of the <tt>@</tt> sign).</p>

<a name="mailrefer-64"></a><h5>Mailbox Files</h5>
<p>A <b>mailbox</b> is a file that is the final destination for email messages. The
name of the mailbox can be the user name or the identity of a
specific function, such as the postmaster. Mailboxes are in the <tt>/var/mail/</tt><i>username</i> file, which can exist
either on the user's local system or on a remote mail server. In either
instance, the mailbox is on the system to which the mail is delivered.</p><p><a name="indexterm-1275"></a>Mail should always be delivered to a local file system so that the user
agent can pull mail from the mail spool and store it readily in the
local mailbox. Do not use NFS-mounted file systems as the destination for a user's
mailbox. Specifically, do not direct mail to a mail client that is mounting the
<tt>/var/mail</tt> file system from a remote server. Mail for the user, in this instance,
should be addressed to the mail server and not to the client host name.
NFS-mounted file systems can cause problems with mail delivery and handling.</p><p><a name="indexterm-1276"></a><a name="indexterm-1277"></a><a name="indexterm-1278"></a><a name="indexterm-1279"></a>The <tt>/etc/mail/aliases</tt> file and name services such as NIS and NIS+ provide mechanisms for
creating aliases for electronic mail addresses. So, users do not need to know the
precise local name of a user's mailbox.</p><p>The following table shows some common naming conventions for special-purpose mailboxes.</p><a name="mailrefer-tbl-65"></a><h6>Table&nbsp;14-8 Conventions for the Format of Mailbox Names</h6><a name="indexterm-1280"></a><table><col width="79.20*"><col width="316.80*"><tr><th align="left" valign="top" scope="column"><p>Format</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1281"></a><i>username</i> </p></td>
<td align="left" valign="top" scope="row"><p>User names are
frequently the same as mailbox names.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1282"></a><a name="indexterm-1283"></a><i>Firstname</i><tt>.</tt><i>Lastname</i> <i>Firstname</i><tt>_</tt><i>Lastname</i> <i>Firstinitial</i><tt>.</tt><i>Lastname</i> <i>Firstinitial</i><tt>_</tt><i>Lastname</i>   </p></td>
<td align="left" valign="top" scope="row"><p>User names
can be identified as full names with a dot (or an underscore) that separates
the first and last names. Alternately, user names can be identified by a first
initial with a dot (or an underscore) that separates the initial and the last
name.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1284"></a><tt>postmaster</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Users can address questions and report problems with the mail system to the
<tt>postmaster</tt> mailbox. Each site and domain should have a <tt>postmaster</tt> mailbox.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>MAILER-DAEMON</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>sendmail</tt> automatically routes any
mail that is addressed to the <tt>MAILER-DAEMON</tt> to the postmaster.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1285"></a></p><p><i>aliasname</i><tt>-request</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Names that end in
<tt>-request</tt> are administrative addresses for distribution lists. This address should redirect mail to the
person who maintains the distribution list.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1286"></a></p><p><tt>owner-</tt><i>aliasname</i></p></td>
<td align="left" valign="top" scope="row"><p>Names that begin with <tt>owner-</tt> are administrative addresses for
distribution lists. This address should redirect mail to the person who handles mail errors.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1287"></a></p><p><tt>owner-owner</tt></p></td>
<td align="left" valign="top" scope="row"><p>This
alias is used when no <tt>owner-</tt><i>aliasname</i> alias exists for errors to be returned
to. This address should redirect mail to the person who handles mail errors. This address
also should be defined on any system that maintains a large number of aliases.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-1288"></a><a name="indexterm-1289"></a><a name="indexterm-1290"></a><a name="indexterm-1291"></a><i>local</i><tt>%</tt><i>domain</i>
    </p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-1292"></a>The percent sign (<tt>%</tt>) marks a local address that is
expanded when the message arrives at its destination. Most mail systems interpret mailbox names with
<tt>%</tt> characters as full mail addresses. The <tt>%</tt> is replaced with an <tt>@</tt>, and the
mail is redirected accordingly. Although many people use the <tt>%</tt> convention, this convention is
not a formal standard. This convention is referred to as the &ldquo;percent hack.&rdquo; This feature
is often used to help debug mail problems.</p></td>
</tr>
</table><p>Starting with <tt>sendmail</tt> version 8, the envelope sender for mail that is sent to
a group alias has been changed to the address that is expanded from the
owner alias, if an owner alias exists. This change enables any mail errors to
be sent to the alias owner, rather than being returned to the sender. With
this change, users notice that mail that was sent to an alias looks as
if the mail came from the alias owner, when delivered.  The following alias
format helps with some of the problems that are associated with this change.</p><pre>mygroup: :include:/pathname/mygroup.list
owner-mygroup: mygroup-request
mygroup-request: sandys, ignatz</pre><p><a name="indexterm-1293"></a>In this example, the <tt>mygroup</tt> alias is the actual mail alias for the
group. The <tt>owner-mygroup</tt> alias receives error messages. The <tt>mygroup-request</tt> alias should be used for
administrative requests. This structure means that in mail sent to the <tt>mygroup</tt> alias, the envelope
sender changes to <tt>mygroup-request</tt>.</p>

<a name="mailrefer-66"></a><h5>Mail Aliases</h5>
<p>An <b>alias</b> is an alternate name. For email, you can use aliases to assign
a mailbox location or to define mailing lists. For a task map, refer to
<a href="mailadmin-260.html">Administering Mail Alias Files (Task Map)</a> in <a href="mailadmin-1.html">Chapter&nbsp;13, Mail Services (Tasks)</a>. Also, you can refer to <a href="mailrefer-45.html#mailrefer-33">Mail Alias Files</a> in this chapter.</p><p><a name="indexterm-1294"></a><a name="indexterm-1295"></a><a name="indexterm-1296"></a>For large sites, the mail alias typically defines the location of a mailbox. Providing
a mail alias is like providing a room number as part of the address
for an individual at a large corporation that occupies multiple rooms. If you do
not provide the room number, the mail is delivered to a central address. Without
a room number, extra effort is required to determine where within the building the mail
is to be delivered. So, the possibility of an error increases. For example, if
two people who are named Kevin Smith are in the same building, only one
of them might get mail. To correct the problem, each Kevin Smith should have
a room number added to his address.</p><p>Use domains and location-independent addresses as much as possible when you create mailing lists.
To enhance portability and flexibility of alias files, make your alias entries in mailing lists
as generic and system independent as possible. For example, if you have a user
who is named <tt>ignatz</tt> on system <tt>mars</tt>, in domain <tt>example.com</tt>, create the alias <tt>ignatz@example</tt>
instead of <tt>ignatz@mars</tt>. If user <tt>ignatz</tt> changes the name of his system but remains within the
<tt>example</tt> domain, you do not need to update alias files to reflect the change
in system name.</p><p>When you create alias entries, type one alias per line. You should have only
one entry that contains the user's system name. For example, you could create the
following entries for user <tt>ignatz</tt>.</p><pre>ignatz: iggy.ignatz
iggyi: iggy.ignatz
iggy.ignatz: ignatz@mars</pre><p>You can create an alias for local names or domains. For example, an alias
entry for user <tt>fred</tt>, who has a mailbox on the system <tt>mars</tt> and
is in the domain <tt>planets</tt>, could have this entry in the NIS+ aliases
table.</p><pre>fred: fred@planets</pre><p><a name="indexterm-1297"></a>When you create mail lists that include users outside your domain, create the alias
with the user name and the domain name. For example, if you have a
user who is named <tt>smallberries</tt> on system <tt>privet</tt>, in domain <tt>example.com</tt>, create
the alias as <tt>smallberries@example.com</tt>. The email address of the sender is now automatically translated
to a fully qualified domain name when mail goes outside the user's domain.</p><p>The following list describes methods for creating and administering mail alias files.</p>
<ul><li><p>You can create mail aliases for global use in the NIS+ <tt>mail_aliases</tt> table, the NIS <tt>aliases</tt> map, or in local <tt>/etc/mail/aliases</tt> files. You can also create and administer mailing lists that use the same alias files.</p></li>
<li><p>Depending on the configuration of your mail services, you can administer aliases by using the NIS or NIS+ name service to maintain a global <tt>aliases</tt> database. Otherwise, you could update all the local <tt>/etc/mail/aliases</tt> files to keep the aliases synchronized.</p></li>
<li><p><a name="indexterm-1298"></a>Users can also create and use aliases. Users can create aliases either in their local <tt>~/.mailrc</tt> file, which only the user  can use, or in their local <tt>/etc/mail/aliases</tt> file, which anyone can use. Users cannot normally create or administer NIS or NIS+ alias files.</p></li></ul>


<a name="mailrefer-68"></a><h4>Hardware Components</h4>
<p><a name="indexterm-1299"></a>You can provide the three required elements of mail configuration in the same system
or have separate systems provide these elements.</p>
<ul><li><p><a href="#mailrefer-69">Mail Host</a></p></li>
<li><p><a href="#mailrefer-70">Mail Server</a></p></li>
<li><p><a href="#mailrefer-71">Mail Client</a></p></li></ul>
<p>When users are to communicate with networks outside your domain, you must also add
a fourth element, a mail gateway. For more information, refer to <a href="#mailrefer-72">Mail Gateway</a>. The following sections
describe each hardware component.</p>

<a name="mailrefer-69"></a><h5>Mail Host</h5>
<p><a name="indexterm-1300"></a><a name="indexterm-1301"></a>A <b>mail host</b> is the machine that you designate as the main mail machine on
your network. A mail host is the machine to which other systems at the
site forward mail that cannot be delivered. You designate a system as a mail
host in the <tt>hosts</tt> database by adding the word <tt>mailhost</tt> to the right of the
IP address in the local <tt>/etc/hosts</tt> file. Alternately, you can add the word <tt>mailhost</tt>
similarly to the hosts file in the name service. For detailed task information, refer
to <a href="mailadmin-13.html#mailadmin-29">How to Set Up a Mail Host</a> in <a href="mailadmin-1.html">Chapter&nbsp;13, Mail Services (Tasks)</a>.</p><p>A good candidate for a mail host is a system that is configured as
a router from your network to the Internet global network. For more information, refer
to <a href="pppsvrconfig.intro-1.html">Chapter&nbsp;15, Solaris PPP 4.0 (Overview)</a>, <a href="uucpov-1.html">Chapter&nbsp;24, UUCP (Overview)</a>, and <a href="http://docs.sun.com/doc/819-3000/ipconfig-116?a=view">Configuring an IPv4 Router in <i>System Administration Guide: IP Services</i></a>. If no systems on your local network have a
modem, designate a system as the mail host.</p><p>Some sites use standalone machines that are not networked in a time-sharing configuration. Specifically,
the standalone machine serves terminals that are attached to its serial ports. You can set
up electronic mail for this configuration by designating the standalone system as the mail
host of a single-system network. <a href="mailintro-2.html#mailintro-17">Overview of the Hardware Components</a> in <a href="mailintro-1.html">Chapter&nbsp;12, Mail Services (Overview)</a> provides a figure that shows a
typical email configuration.</p>

<a name="mailrefer-70"></a><h5>Mail Server</h5>
<p><a name="indexterm-1302"></a><a name="indexterm-1303"></a>A <b>mailbox</b> is a single file that contains email for a particular user. Mail
is delivered to the system where the user's mailbox resides, which can be on
a local machine or a remote server. A <b>mail server</b> is any system that maintains
user mailboxes in its <tt>/var/mail</tt> directory. For task information, refer to <a href="mailadmin-13.html#mailadmin-15">How to Set Up a Mail Server</a> in
<a href="mailadmin-1.html">Chapter&nbsp;13, Mail Services (Tasks)</a>.</p><p>The mail server routes all mail from a client. When a client sends mail,
the mail server puts the mail in a queue for delivery. After the mail
is in the queue, a user can reboot or turn off the client
without losing those mail messages. When the recipient gets mail from a client, the
path in the <tt>From</tt> line of the message contains the name of the mail server.
If the recipient responds, the response goes to the user's mailbox. Good candidates for mail
servers are systems that provide a home directory for users or systems that are
backed up regularly.</p><p><a name="indexterm-1304"></a>If the mail server is not the user's local system, users in configurations that
use NFS software can mount the <tt>/var/mail</tt> directory by using the <tt>/etc/vfstab</tt> file, if they
have <tt>root</tt> access. Otherwise, users can use the automounter. If NFS support is not
available, users can log in to the server to read their mail.</p><p><a name="indexterm-1305"></a><a name="indexterm-1306"></a><a name="indexterm-1307"></a><a name="indexterm-1308"></a><a name="indexterm-1309"></a><a name="indexterm-1310"></a>If users on your network send other types of mail, such as audio files
or files from desktop publishing systems, you need to allocate more space on the
mail server for mailboxes.      </p><p><a name="indexterm-1311"></a><a name="indexterm-1312"></a><a name="indexterm-1313"></a><a name="indexterm-1314"></a><a name="indexterm-1315"></a>By establishing a mail server for all mailboxes, you can simplify your process of
doing backups. Backups can be difficult to do when mail is spread over many
systems. The disadvantage of storing many mailboxes on one server is that the server
can be a single point of failure for many users. However, the advantages of providing
good backups usually make the risk worthwhile.</p>

<a name="mailrefer-71"></a><h5>Mail Client</h5>
<p><a name="indexterm-1316"></a><a name="indexterm-1317"></a>A mail client is a user of mail services with a mailbox on a
mail server. Additionally, the mail client has a mail alias in the <tt>/etc/mail/aliases</tt>
file that points to the location of the mailbox. For task information, refer to <a href="mailadmin-13.html#mailadmin-20">How to Set Up a Mail Client</a>
in <a href="mailadmin-1.html">Chapter&nbsp;13, Mail Services (Tasks)</a>.</p>

<a name="mailrefer-72"></a><h5>Mail Gateway</h5>
<p><a name="indexterm-1318"></a>The <b>mail gateway</b> is a machine that handles connections between networks that run different communications protocols
or communications between different networks that use the same protocol. For example, a mail gateway
might connect a TCP/IP network to a network that runs the Systems Network Architecture
(SNA) protocol suite. </p><p><a name="indexterm-1319"></a><a name="indexterm-1320"></a><a name="indexterm-1321"></a>The simplest mail gateway to set up is the mail gateway that connects two
networks that use the same protocol or mailer. This system handles mail with an
address for which <tt>sendmail</tt> cannot find a recipient in your domain. If a
mail gateway exists, <tt>sendmail</tt> uses the gateway to send and receive mail outside your domain.
 </p><p><a name="indexterm-1322"></a><a name="indexterm-1323"></a>You can set up a mail gateway between two networks that use unmatched mailers,
as shown in the next figure. To support this configuration, you must customize the
<tt>sendmail.cf</tt> file on the mail gateway system, which can be a difficult and time-consuming
process.  </p><a name="mailrefer-fig-73"></a><h6>Figure&nbsp;14-1 Gateway Between Different Communications Protocols</h6><img src="figures/7152.Gateway.gif" alt="Diagram shows two mail gateways that use unmatched mailers."></img><p>If you have a machine that provides connections to the Internet, you can configure
that machine as the mail gateway. Carefully consider your site's security needs before you
configure a mail gateway. You might need to create a firewall gateway between your corporate
network and other networks, and set up that gateway as the mail gateway. For
task information, refer to <a href="mailadmin-13.html#mailadmin-37">How to Set Up a Mail Gateway</a> in <a href="mailadmin-1.html">Chapter&nbsp;13, Mail Services (Tasks)</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="mailrefer-75.html">Previous</a>
             </td>
             <td align="right">
                 <a href="mailrefer-45.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

