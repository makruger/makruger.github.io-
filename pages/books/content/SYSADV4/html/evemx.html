<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Changes in Version 8.13 of <tt>sendmail</tt> - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Network Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="mailrefer-24.html">Previous</a>
             </td>
             <td align="right">
                 <a href="mailrefer-105.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="netservices-1.html">Part&nbsp;I&nbsp;Network Services Topics</a></p>
<p class="toc level2"><a href="nsov-1.html">1.&nbsp;&nbsp;Network Service (Overview)</a></p>
<p class="toc level2"><a href="nca-1.html">2.&nbsp;&nbsp;Managing Web Cache Servers</a></p>
<p class="toc level2"><a href="time-1.html">3.&nbsp;&nbsp;Time-Related Services</a></p>
<p class="toc level1 tocsp"><a href="rfstm-1.html">Part&nbsp;II&nbsp;Accessing Network File Systems Topics</a></p>
<p class="toc level2"><a href="rfsintro-2.html">4.&nbsp;&nbsp;Managing Network File Systems (Overview)</a></p>
<p class="toc level2"><a href="rfsadmin-8.html">5.&nbsp;&nbsp;Network File System Administration (Tasks)</a></p>
<p class="toc level2"><a href="rfsrefer-1.html">6.&nbsp;&nbsp;Accessing Network File Systems (Reference)</a></p>
<p class="toc level1 tocsp"><a href="slptm.html">Part&nbsp;III&nbsp;SLP Topics</a></p>
<p class="toc level2"><a href="slparch-16.html">7.&nbsp;&nbsp;SLP (Overview)</a></p>
<p class="toc level2"><a href="slp.setup-10.html">8.&nbsp;&nbsp;Planning and Enabling SLP (Tasks)</a></p>
<p class="toc level2"><a href="ch.configuration-6.html">9.&nbsp;&nbsp;Administering SLP (Tasks)</a></p>
<p class="toc level2"><a href="legacy-7.html">10.&nbsp;&nbsp;Incorporating Legacy Services</a></p>
<p class="toc level2"><a href="slpreference.html">11.&nbsp;&nbsp;SLP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="mailtm-1.html">Part&nbsp;IV&nbsp;Mail Services Topics</a></p>
<p class="toc level2"><a href="mailintro-1.html">12.&nbsp;&nbsp;Mail Services (Overview)</a></p>
<p class="toc level2"><a href="mailadmin-1.html">13.&nbsp;&nbsp;Mail Services (Tasks)</a></p>
<p class="toc level2"><a href="mailrefer-1.html">14.&nbsp;&nbsp;Mail Services (Reference)</a></p>
<p class="toc level3"><a href="mailrefer-75.html">Solaris Version of <tt>sendmail</tt></a></p>
<p class="toc level3"><a href="mailrefer-53.html">Software and Hardware Components of Mail Services</a></p>
<p class="toc level3"><a href="mailrefer-45.html">Mail Service Programs and Files</a></p>
<p class="toc level3"><a href="mailrefer-14.html">Mail Addresses and Mail Routing</a></p>
<p class="toc level3"><a href="mailrefer-24.html">Interactions of <tt>sendmail</tt> With Name Services</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Changes in Version 8.13 of <tt>sendmail</tt></a></p>
</div>
<p class="toc level3"><a href="mailrefer-105.html">Changes From Version 8.12 of <tt>sendmail</tt></a></p>
<p class="toc level1 tocsp"><a href="modemtm-1.html">Part&nbsp;V&nbsp;Serial Networking Topics</a></p>
<p class="toc level2"><a href="pppsvrconfig.intro-1.html">15.&nbsp;&nbsp;Solaris PPP 4.0 (Overview)</a></p>
<p class="toc level2"><a href="pppsvrconfig.p2plink-1.html">16.&nbsp;&nbsp;Planning for the PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.dialin-1.html">17.&nbsp;&nbsp;Setting Up a Dial-up PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.leased-1.html">18.&nbsp;&nbsp;Setting Up a Leased-Line PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.auth-1.html">19.&nbsp;&nbsp;Setting Up PPP Authentication (Tasks)</a></p>
<p class="toc level2"><a href="ppp.pppoe-1.html">20.&nbsp;&nbsp;Setting Up a PPPoE Tunnel (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.troubleshoot-1.html">21.&nbsp;&nbsp;Fixing Common PPP Problems (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.reference-1.html">22.&nbsp;&nbsp;Solaris PPP 4.0 (Reference)</a></p>
<p class="toc level2"><a href="pppsvrconfig.convert.app-1.html">23.&nbsp;&nbsp;Migrating From Asynchronous Solaris PPP to Solaris PPP 4.0 (Tasks)</a></p>
<p class="toc level2"><a href="uucpov-1.html">24.&nbsp;&nbsp;UUCP (Overview)</a></p>
<p class="toc level2"><a href="uucptasks-1.html">25.&nbsp;&nbsp;Administering UUCP (Tasks)</a></p>
<p class="toc level2"><a href="uucpref-1.html">26.&nbsp;&nbsp;UUCP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="wwrstm.html">Part&nbsp;VI&nbsp;Working With Remote Systems Topics</a></p>
<p class="toc level2"><a href="wwrsov.html">27.&nbsp;&nbsp;Working With Remote Systems (Overview)</a></p>
<p class="toc level2"><a href="wuftp-17.html">28.&nbsp;&nbsp;Administering the FTP Server (Tasks)</a></p>
<p class="toc level2"><a href="remotehowtoaccess-99941.html">29.&nbsp;&nbsp;Accessing Remote Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="netmonitortm-1.html">Part&nbsp;VII&nbsp;Monitoring Network Services Topics</a></p>
<p class="toc level2"><a href="netmonitor-1.html">30.&nbsp;&nbsp;Monitoring Network Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="evemx"></a><h3>Changes in Version 8.13 of <tt>sendmail</tt></h3>
<a name="indexterm-1483"></a><a name="indexterm-1484"></a><p>Starting in the Solaris 10 release, version 8.13 is the default. Although this new
version of <tt>sendmail</tt> provides many new features, the <tt>FallBackSmartHost</tt> option is the most significant
addition. Because of this option you no longer need to use <tt>main.cf</tt> and <tt>subsidiary.cf</tt>.
The <tt>main.cf</tt> file was used in environments that supported MX records. The <tt>subsidiary.cf</tt>
file was used in environments without a fully operative DNS. In such environments a smart
host was used instead of MX records. The <tt>FallBackSmartHost</tt> option provides unified configuration. It
operates like an MX record of last possible preference for all environments. To ensure
that mail gets delivered to clients, this option, if enabled, provides a well-connected (or smart)
host that serves as a backup (or failover) for MX records that fail.</p><p>For more information about version 8.13, see the following sections:</p>
<ul><li><p><a href="#evemy">Additional Command-Line Options in Version 8.13 of <tt>sendmail</tt></a></p></li>
<li><p><a href="#evenf">Additional and Revised Configuration File Options in Version 8.13 of <tt>sendmail</tt></a></p></li>
<li><p><a href="#evenm">Additional and Revised <tt>FEATURE()</tt> Declarations in Version 8.13 of <tt>sendmail</tt></a></p></li></ul>
<p>Additionally, starting in the Solaris 10 1/06 release, SMTP can run with Transport Layer
Security (TLS). See the following description.</p>

<a name="fvbrb"></a><h4>Support for Running SMTP With TLS in Version 8.13 of <tt>sendmail</tt></h4>
<a name="indexterm-1485"></a><a name="indexterm-1486"></a><a name="indexterm-1487"></a><a name="indexterm-1488"></a><p>Communications between SMTP servers and clients are not usually controlled or trusted on either
end. This lack of security might allow a third party to monitor and even alter
a communication between a server and a client. Starting in the Solaris 10 1/06
release, SMTP can use Transport Layer Security (TLS) in version 8.13 of <tt>sendmail</tt> to resolve
this problem. This extended service to SMTP servers and clients provides the following:</p>
<ul><li><p>Private, authenticated communications over the Internet</p></li>
<li><p>Protection from eavesdroppers and attackers</p></li></ul>

<hr><p><b>Note - </b>The implementation of TLS is based on the Secure Sockets Layer (SSL) protocol.</p>
<hr>
<p><tt>STARTTLS</tt> is the SMTP keyword that initiates a secure SMTP connection by using TLS. This
secure connection might be between two servers or between a server and a client.
A secure connection is defined as follows:</p>
<ul><li><p>The source email address and the destination address are encrypted.</p></li>
<li><p>The content of the email message is encrypted.</p></li></ul>
<p>When the client issues the <tt>STARTTLS</tt> command, the server responds with one of
the following:</p>
<ul><li><p><tt>220 Ready to start TLS</tt></p></li>
<li><p><tt>501 Syntax error (no parameters allowed)</tt></p></li>
<li><p><tt>454 TLS not available due to temporary reason</tt></p></li></ul>
<p>The <tt>220</tt> response requires the client to start the TLS negotiation. The <tt>501</tt> response notes
that the client incorrectly issued the <tt>STARTTLS</tt> command.  <tt>STARTTLS</tt> is issued with no parameters.
The <tt>454</tt> response necessitates that the client apply rule set values to determine whether to
accept or maintain the connection.</p><p>Note that to maintain the Internet's SMTP infrastructure, publicly used servers must not require
a TLS negotiation. However, a server that is used privately might require the client
to perform a TLS negotiation. In such instances, the server returns this response:</p><pre>530 Must issue a STARTTLS command first</pre><p>The <tt>530</tt> response instructs the client to issue the <tt>STARTTLS</tt> command to establish a
connection.</p><p>The server or client can refuse a connection if the level of authentication and
privacy is not satisfactory. Alternately, because most SMTP connections are not secure, the server
and client might maintain an unsecure connection. Whether to maintain or refuse a connection is
determined by the configuration of the server and the client.</p><p>Support for running SMTP with TLS is not enabled by default. TLS is enabled
when the SMTP client issues the <tt>STARTTLS</tt> command. Before the SMTP client can issue
this command, you must set up the certificates that enable <tt>sendmail</tt> to use TLS. See
<a href="ganav.html#fxcty">How to Set SMTP to Use TLS</a>. Note that this procedure includes defining new configuration file options and rebuilding your <tt>sendmail.cf</tt>
file.</p>

<a name="fvbqb"></a><h5>Configuration File Options for Running SMTP With TLS</h5>
<a name="indexterm-1489"></a><a name="indexterm-1490"></a><a name="indexterm-1491"></a><a name="indexterm-1492"></a><p>The following table describes the configuration file options that are used to run SMTP
with TLS. If you declare any of these options, use one of the following
syntaxes:</p>
<ul><li><p><tt>O</tt> <i>OptionName</i>=<i>argument</i> <tt># for the configuration file</tt></p></li>
<li><p><tt>-O</tt> <i>OptionName</i>=<i>argument</i> <tt># for the command line</tt></p></li>
<li><p><tt>define(`</tt><i>m4Name</i>',<i>argument</i><tt>)</tt> <tt># for m4 configuration</tt></p></li></ul>
<a name="fvzls"></a><h6>Table&nbsp;14-13 Configuration File Options for Running SMTP With TLS</h6><table><col width="31.52*"><col width="68.48*"><tr><th align="left" valign="top" scope="column"><p>Option</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>CACertFile</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>m4</tt> name: <tt>confCACERT</tt></p><p>Argument: <i>filename</i></p><p>Default value: undefined</p><p>Identifies the file that contains one CA certificate.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>CACertPath</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>m4</tt>
name: <tt>confCACERT_PATH</tt></p><p>Argument: <i>path</i></p><p>Default value: undefined</p><p>Identifies the path to the directory that contains certificates
of CAs.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ClientCertFile</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>m4</tt> name: <tt>confCLIENT_CERT</tt></p><p>Argument: <i>filename</i></p><p>Default value: undefined</p><p>Identifies the file that contains the certificate
of the client. Note that this certificate is used when <tt>sendmail</tt> acts as
a client.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ClientKeyFile</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>m4</tt> name: <tt>confCLIENT_KEY</tt></p><p>Argument: <i>filename</i></p><p>Default value: undefined</p><p>Identifies the file that contains the private
key that belongs to the client certificate.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>CRLFile</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>m4</tt> name: <tt>confCRL</tt></p><p>Argument: <i>filename</i></p><p>Default value: undefined</p><p>Identifies the
file that contains the certificate revocation status, which is used for X.509v3 authentication.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>DHParameters</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>m4</tt> name:
<tt>confDH_PARAMETERS</tt></p><p>Argument: <i>filename</i></p><p>Default value: undefined</p><p>Identifies the file that contains the Diffie-Hellman (DH) parameters.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>RandFile</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>m4</tt> name:
<tt>confRAND_FILE</tt></p><p>Argument: <tt>file:</tt><i>filename</i> or <tt>egd:</tt><i>UNIX socket</i></p><p>Default value: undefined</p><p>Uses the <tt>file:</tt> prefix to identify the file
that contains random data or uses the <tt>egd:</tt> prefix to identify the UNIX socket.
Note that because the Solaris OS supports the <tt>random</tt> number generator device, this option does not
need to be specified. See the <a href="http://docs.sun.com/doc/819-2254/random-7d?a=view"><tt>random</tt>(7D)</a> man page.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ServerCertFile</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>m4</tt> name: <tt>confSERVER_CERT</tt></p><p>Argument: <i>filename</i></p><p>Default value:
undefined</p><p>Identifies the file that contains the server's certificate. This certificate is used when <tt>sendmail</tt>
acts as a server.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>Timeout.starttls</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>m4</tt> name: <tt>confTO_STARTTLS</tt></p><p>Argument: <i>amount of time</i></p><p>Default value: <tt>1h</tt></p><p>Sets the amount of time
the SMTP client waits for a response to the <tt>STARTTLS</tt> command.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>TLSSrvOptions</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>m4</tt> name: <tt>confTLS_SRV_OPTIONS</tt></p><p>Argument: <tt>V</tt></p><p>Default
value: undefined</p><p>Determines whether the server asks for a certificate from the client. If this
option is set to <tt>V</tt>, no client verification is performed.</p></td>
</tr>
</table><p>For <tt>sendmail</tt> to support SMTP's use of TLS, the following options must be defined:</p>
<ul><li><p><tt>CACertPath</tt></p></li>
<li><p><tt>CACertFile</tt></p></li>
<li><p><tt>ServerCertFile</tt></p></li>
<li><p><tt>ClientKeyFile</tt></p></li></ul>
<p>Other options are not required.</p>

<a name="fvbqm"></a><h5>Macros for Running SMTP With TLS</h5>
<a name="indexterm-1493"></a><a name="indexterm-1494"></a><a name="indexterm-1495"></a><a name="indexterm-1496"></a><p>The following table describes the macros that are used by the <tt>STARTTLS</tt> command.</p><a name="fwaun"></a><h6>Table&nbsp;14-14 Macros for Running SMTP With TLS</h6><table><col width="31.33*"><col width="68.67*"><tr><th align="left" valign="top" scope="column"><p>Macro</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${cert_issuer}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Holds
the distinguished name (DN) of the certification authority (CA), which is the certificate issuer.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${cert_subject}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Holds
the DN of the certificate that is called the <b>cert subject</b>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${cn_issuer}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Holds the common name
(CN) of the CA, which is the <b>cert issuer</b>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${cn_subject}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Holds the CN of the certificate that
is called the <b>cert subject</b>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${tls_version}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Holds the version of TLS that is used for the
connection.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${cipher}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Holds a set of cryptographic algorithms (known as a <b>cipher suite</b>) that is used for
the connection.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${cipher_bits}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Holds in bits the key length of the symmetric encryption algorithm that is
used for the connection.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${verify}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Holds the result of the verification of the certificate that
was presented. Possible values are as follows:</p>
<ul><li><p><tt>OK</tt> &ndash; The verification succeeded.</p></li>
<li><p><tt>NO</tt> &ndash; No certificate was presented.</p></li>
<li><p><tt>NOT</tt> &ndash; No certificate was requested.</p></li>
<li><p><tt>FAIL</tt> &ndash; The certificate that was presented could not be verified.</p></li>
<li><p><tt>NONE</tt> &ndash; <tt>STARTTLS</tt> has not been performed.</p></li>
<li><p><tt>TEMP</tt> &ndash; Temporary error occurred.</p></li>
<li><p><tt>PROTOCOL</tt> &ndash; SMTP error occurred.</p></li>
<li><p><tt>SOFTWARE</tt> &ndash; <tt>STARTTLS</tt> handshake failed.</p></li></ul>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${server_name}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Holds the name of the server with the
current outgoing SMTP connection.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>${server_addr}</tt></p></td>
<td align="left" valign="top" scope="row"><p>Holds the address of the server with the current outgoing
SMTP connection.</p></td>
</tr>
</table>

<a name="fvbrj"></a><h5>Rule Sets for Running SMTP With TLS</h5>
<a name="indexterm-1497"></a><a name="indexterm-1498"></a><a name="indexterm-1499"></a><a name="indexterm-1500"></a><p>The following table describes rule sets that determine whether an SMTP connection that uses
TLS should be accepted, continued, or refused.</p><a name="fwadt"></a><h6>Table&nbsp;14-15 Rule Sets for Running SMTP With TLS</h6><table><col width="31.80*"><col width="68.20*"><tr><th align="left" valign="top" scope="column"><p>Rule Set</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>tls_server</tt></p></td>
<td align="left" valign="top" scope="row"><p>Acting as a client, <tt>sendmail</tt> uses
this rule set to determine whether the server is currently supported by TLS.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>tls_client</tt></p></td>
<td align="left" valign="top" scope="row"><p>Acting as
a server, <tt>sendmail</tt> uses this rule set to determine whether the client is
currently supported by TLS.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>tls_rcpt</tt></p></td>
<td align="left" valign="top" scope="row"><p>This rule set requires verification of the recipient's MTA. This recipient restriction
makes attacks such as DNS spoofing impossible.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>TLS_connection</tt></p></td>
<td align="left" valign="top" scope="row"><p>This rule set checks the requirement that is
specified by the RHS of the access map against the actual parameters of the
current TLS connection.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>try_tls</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>sendmail</tt> uses this rule set to determine the feasibility of using <tt>STARTTLS</tt>
when connecting to another MTA. If the MTA cannot properly implement <tt>STARTTLS</tt>, then <tt>STARTTLS</tt>
is not used.</p></td>
</tr>
</table><p>For more information, see the following:</p>
<ul><li><p><i>Sendmail Installation and Operation Guide</i> &ndash; <a href="http://people.freenet.de/slgig/op_en/rules.html">http://people.freenet.de/slgig/op_en/rules.html</a></p></li>
<li><p><tt>cf/README</tt> for <tt>sendmail</tt> &ndash; <a href="http://people.freenet.de/slgig/op_en/rules.html">http://people.freenet.de/slgig/op_en/rules.html</a></p></li></ul>


<a name="fvbqd"></a><h5>Security Considerations Related to Running SMTP With TLS</h5>
<a name="indexterm-1501"></a><a name="indexterm-1502"></a><a name="indexterm-1503"></a><a name="indexterm-1504"></a><p>As a standard mail protocol that defines mailers that run over the Internet, SMTP
is not an end-to-end mechanism. Because of this protocol limitation, TLS security through SMTP does
not include mail user agents. Mail user agents act as an interface between users
and a mail transfer agent such as <tt>sendmail</tt>.</p><p>Also, mail might be routed through multiple servers. For complete SMTP security the entire
chain of SMTP connections must have TLS support.</p><p>Finally, the level of negotiated authentication and privacy between each pair of servers or
a client and server pair must be considered. For more information, see <a href="http://docs.sun.com/doc/819-3321/secov-5?a=view">Authentication Services in <i>System Administration Guide: Security Services</i></a>.</p>

<a name="evemy"></a><h4>Additional Command-Line Options in Version 8.13 of <tt>sendmail</tt></h4>
<a name="indexterm-1505"></a><a name="indexterm-1506"></a><p>The following table describes additional command-line options that are available in version 8.13 of
<tt>sendmail</tt>. Other command-line options are described in the <a href="http://docs.sun.com/doc/819-2240/sendmail-1m?a=view"><tt>sendmail</tt>(1M)</a> man page.</p><a name="evenb"></a><h6>Table&nbsp;14-16 Command-Line Options Available in Version 8.13 of <tt>sendmail</tt></h6><table><col width="23.19*"><col width="76.81*"><tr><th align="left" valign="top" scope="column"><p>Option</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-D</tt> <i>logfile</i></p></td>
<td align="left" valign="top" scope="row"><p>Sends debugging output
to the indicated <i>logfile</i>, instead of  including this information with the standard output.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-q</tt><tt>[!]Q</tt><i>substr</i></p></td>
<td align="left" valign="top" scope="row"><p>Specifies the
processing of quarantined jobs that have this <i>substr</i>,  which is a substring of
the quarantine <i>reason</i>. See the description of the <tt>-Q</tt><i>reason</i> option. If ! is
added, this option processes quarantined  jobs that do not have this <i>substr</i>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-Q</tt><i>reason</i></p></td>
<td align="left" valign="top" scope="row"><p>Quarantines a
normal queue item with this <i>reason</i>. If no <i>reason</i> is given, the quarantined queue item is
unquarantined. This option works with the <tt>-q</tt><tt>[!]Q</tt><i>substr</i> option. The <i>substr</i> is a portion
(or substring) of the <i>reason</i>.</p></td>
</tr>
</table>

<a name="evenf"></a><h4>Additional and Revised Configuration File Options in Version 8.13 of <tt>sendmail</tt></h4>
<a name="indexterm-1507"></a><a name="indexterm-1508"></a><p>The following table describes the added and revised configuration file options. If you declare
any of these options, use one of the following syntaxes.</p><pre>O <i>OptionName</i>=<i>argument</i>          # for the configuration file
-O <i>OptionName</i>=<i>argument</i>         # for the command line
define(`<i>m4Name</i>',<i>argument</i>)     # for m4 configuration</pre><a name="evenh"></a><h6>Table&nbsp;14-17 Configuration File Options Available in Version 8.13 of <tt>sendmail</tt></h6><table><col width="29.88*"><col width="70.12*"><tr><th align="left" valign="top" scope="column"><p>Option</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ConnectionRateWindowSize</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>m4</tt> name: <tt>confCONNECTION_RATE_WINDOW_SIZE</tt></p><p>Argument: <i>number</i></p><p>Default value:
<tt>60</tt></p><p>Sets the number of seconds for incoming connections to be maintained.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>FallBackSmartHost</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>m4</tt> name: <tt>confFALLBACK_SMARTHOST</tt></p><p>Argument:
<i>hostname</i></p><p>To ensure that mail gets delivered to the clients, this option provides a well-connected
host that serves as a backup (or failover) for MX records that fail.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>InputMailFilters</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>m4</tt> name:
<tt>confINPUT_MAIL_FILTERS</tt></p><p>Argument: <i>filename</i></p><p>Lists the input mail filters for the <tt>sendmail</tt> daemon.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>PidFile</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>m4</tt> name: <tt>confPID_FILE</tt></p><p>Argument: <i>filename</i></p><p>Default
value: <tt>/var/run/sendmail.pid</tt></p><p>As in previous releases, the file name is macro-expanded before it is opened.
 Additionally, in version 8.13, the file is unlinked when <tt>sendmail</tt> exits.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>QueueSortOrder</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>m4</tt> name: <tt>confQUEUE_SORT_ORDER</tt></p><p>Added argument:
<tt>none</tt></p><p>In version 8.13 <tt>none</tt> is used to specify no sorting order.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>RejectLogInterval</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>m4</tt> name: <tt>confREJECT_LOG_INTERVAL</tt></p><p>Argument:
<i>period-of-time</i></p><p>Default value: <tt>3h</tt>, which represents three hours.</p><p>When a daemon connection is refused for the
<i>period-of-time</i> specified, the information is logged.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>SuperSafe</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>m4</tt> name: <tt>confSAFE_QUEUE</tt></p><p>Short name: <tt>s</tt></p><p>Added argument: <tt>postmilter</tt></p><p>Default value:
<tt>true</tt></p><p>If <tt>postmilter</tt> is set, <tt>sendmail</tt> defers synchronizing the queue file until all <tt>milters</tt> have signaled acceptance
of the message. For this argument to be useful, <tt>sendmail</tt> must be running as
an SMTP server. Otherwise, <tt>postmilter</tt> operates as if you are using the <tt>true</tt>
argument.</p></td>
</tr>
</table>

<a name="evenm"></a><h4>Additional and Revised <tt>FEATURE()</tt> Declarations in Version 8.13 of <tt>sendmail</tt></h4>
<a name="indexterm-1509"></a><a name="indexterm-1510"></a><p>The following table describes the added and revised <tt>FEATURE()</tt> declarations. This <tt>m4</tt> macro uses the
following syntax.</p><pre>FEATURE(`<i>name</i>', `<i>argument</i>')</pre><a name="evenn"></a><h6>Table&nbsp;14-18 <tt>FEATURE()</tt> Declarations Available in Version 8.13 of <tt>sendmail</tt></h6><table><col width="21.49*"><col width="78.51*"><tr><th align="left" valign="top" scope="column"><p>Name of <tt>FEATURE()</tt></p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>conncontrol</tt></p></td>
<td align="left" valign="top" scope="row"><p>Works with the <tt>access_db</tt> rule set to check the number
of incoming SMTP connections. For details, see <tt>/etc/mail/cf/README</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>greet_pause</tt></p></td>
<td align="left" valign="top" scope="row"><p>Adds the <tt>greet_pause</tt> rule set, which enables
open proxy and SMTP   slamming protection. For details, see <tt>/etc/mail/cf/README</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>local_lmtp</tt></p></td>
<td align="left" valign="top" scope="row"><p>The default argument continues to
be <tt>mail.local</tt>, which is the  LMTP-capable mailer in this Solaris release. However, in version 8.13,
if a different LMTP-capable mailer is used, its path name can be specified as
a second parameter and the arguments that are passed to the second parameter can
be specified in the third parameter. For example:</p><pre>FEATURE(`local_lmtp', `/usr/local/bin/lmtp', `lmtp')</pre></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>mtamark</tt></p></td>
<td align="left" valign="top" scope="row"><p>Provides experimental support for &ldquo;Marking Mail Transfer
Agents in Reverse DNS with TXT RRs&rdquo; (MTAMark). For details, see <tt>/etc/mail/cf/README</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ratecontrol</tt></p></td>
<td align="left" valign="top" scope="row"><p>Works with the
<tt>access_db</tt> rule set to control connection rates for  hosts. For details, see <tt>/etc/mail/cf/README</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>use_client_ptr</tt></p></td>
<td align="left" valign="top" scope="row"><p>If this
<tt>FEATURE()</tt> is enabled, the rule set <tt>check_relay</tt> overrides its first argument with this argument,
<tt>$&amp;{client_ptr}</tt>.</p></td>
</tr>
</table>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="mailrefer-24.html">Previous</a>
             </td>
             <td align="right">
                 <a href="mailrefer-105.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

