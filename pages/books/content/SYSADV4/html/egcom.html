<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Configuration Help for Busy Sites - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Network Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="wuftp-210.html">Previous</a>
             </td>
             <td align="right">
                 <a href="remotehowtoaccess-99941.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="netservices-1.html">Part&nbsp;I&nbsp;Network Services Topics</a></p>
<p class="toc level2"><a href="nsov-1.html">1.&nbsp;&nbsp;Network Service (Overview)</a></p>
<p class="toc level2"><a href="nca-1.html">2.&nbsp;&nbsp;Managing Web Cache Servers</a></p>
<p class="toc level2"><a href="time-1.html">3.&nbsp;&nbsp;Time-Related Services</a></p>
<p class="toc level1 tocsp"><a href="rfstm-1.html">Part&nbsp;II&nbsp;Accessing Network File Systems Topics</a></p>
<p class="toc level2"><a href="rfsintro-2.html">4.&nbsp;&nbsp;Managing Network File Systems (Overview)</a></p>
<p class="toc level2"><a href="rfsadmin-8.html">5.&nbsp;&nbsp;Network File System Administration (Tasks)</a></p>
<p class="toc level2"><a href="rfsrefer-1.html">6.&nbsp;&nbsp;Accessing Network File Systems (Reference)</a></p>
<p class="toc level1 tocsp"><a href="slptm.html">Part&nbsp;III&nbsp;SLP Topics</a></p>
<p class="toc level2"><a href="slparch-16.html">7.&nbsp;&nbsp;SLP (Overview)</a></p>
<p class="toc level2"><a href="slp.setup-10.html">8.&nbsp;&nbsp;Planning and Enabling SLP (Tasks)</a></p>
<p class="toc level2"><a href="ch.configuration-6.html">9.&nbsp;&nbsp;Administering SLP (Tasks)</a></p>
<p class="toc level2"><a href="legacy-7.html">10.&nbsp;&nbsp;Incorporating Legacy Services</a></p>
<p class="toc level2"><a href="slpreference.html">11.&nbsp;&nbsp;SLP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="mailtm-1.html">Part&nbsp;IV&nbsp;Mail Services Topics</a></p>
<p class="toc level2"><a href="mailintro-1.html">12.&nbsp;&nbsp;Mail Services (Overview)</a></p>
<p class="toc level2"><a href="mailadmin-1.html">13.&nbsp;&nbsp;Mail Services (Tasks)</a></p>
<p class="toc level2"><a href="mailrefer-1.html">14.&nbsp;&nbsp;Mail Services (Reference)</a></p>
<p class="toc level1 tocsp"><a href="modemtm-1.html">Part&nbsp;V&nbsp;Serial Networking Topics</a></p>
<p class="toc level2"><a href="pppsvrconfig.intro-1.html">15.&nbsp;&nbsp;Solaris PPP 4.0 (Overview)</a></p>
<p class="toc level2"><a href="pppsvrconfig.p2plink-1.html">16.&nbsp;&nbsp;Planning for the PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.dialin-1.html">17.&nbsp;&nbsp;Setting Up a Dial-up PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.leased-1.html">18.&nbsp;&nbsp;Setting Up a Leased-Line PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.auth-1.html">19.&nbsp;&nbsp;Setting Up PPP Authentication (Tasks)</a></p>
<p class="toc level2"><a href="ppp.pppoe-1.html">20.&nbsp;&nbsp;Setting Up a PPPoE Tunnel (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.troubleshoot-1.html">21.&nbsp;&nbsp;Fixing Common PPP Problems (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.reference-1.html">22.&nbsp;&nbsp;Solaris PPP 4.0 (Reference)</a></p>
<p class="toc level2"><a href="pppsvrconfig.convert.app-1.html">23.&nbsp;&nbsp;Migrating From Asynchronous Solaris PPP to Solaris PPP 4.0 (Tasks)</a></p>
<p class="toc level2"><a href="uucpov-1.html">24.&nbsp;&nbsp;UUCP (Overview)</a></p>
<p class="toc level2"><a href="uucptasks-1.html">25.&nbsp;&nbsp;Administering UUCP (Tasks)</a></p>
<p class="toc level2"><a href="uucpref-1.html">26.&nbsp;&nbsp;UUCP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="wwrstm.html">Part&nbsp;VI&nbsp;Working With Remote Systems Topics</a></p>
<p class="toc level2"><a href="wwrsov.html">27.&nbsp;&nbsp;Working With Remote Systems (Overview)</a></p>
<p class="toc level2"><a href="wuftp-17.html">28.&nbsp;&nbsp;Administering the FTP Server (Tasks)</a></p>
<p class="toc level3"><a href="wuftp-231.html">Administering the FTP Server (Task Map)</a></p>
<p class="toc level3"><a href="wuftp-43.html">Controlling FTP Server Access</a></p>
<p class="toc level4"><a href="wuftp-43.html#wuftp-45">How to Define FTP Server Classes</a></p>
<p class="toc level4"><a href="wuftp-43.html#wuftp-162">How to Set User Login Limits</a></p>
<p class="toc level4"><a href="wuftp-43.html#wuftp-167">How to Control the Number of Invalid Login Attempts</a></p>
<p class="toc level4"><a href="wuftp-43.html#wuftp-44a">How to Disallow FTP Server Access to Particular Users</a></p>
<p class="toc level4"><a href="wuftp-43.html#wuftp-51">How to Restrict Access to the Default FTP Server</a></p>
<p class="toc level3 tocsp"><a href="wuftp-10.html">Setting Up FTP Server Logins</a></p>
<p class="toc level4"><a href="wuftp-10.html#wuftp-153">How to Set Up Real FTP Users</a></p>
<p class="toc level4"><a href="wuftp-10.html#wuftp-18">How to Set Up Guest FTP Users</a></p>
<p class="toc level4"><a href="wuftp-10.html#wuftp-18g">How to Set Up Anonymous FTP Users</a></p>
<p class="toc level4"><a href="wuftp-10.html#wuftp-18-a">How to Create the <tt>/etc/shells</tt> file</a></p>
<p class="toc level3 tocsp"><a href="wuftp-29.html">Customizing Message Files</a></p>
<p class="toc level4"><a href="wuftp-29.html#wuftp-31">How to Customize Message Files</a></p>
<p class="toc level4"><a href="wuftp-29.html#wuftp-37">How to Create Messages to Be Sent to Users</a></p>
<p class="toc level4"><a href="wuftp-29.html#wuftp-79">How to Configure the README Option</a></p>
<p class="toc level3 tocsp"><a href="wuftp-14.html">Controlling Access to Files on the FTP Server</a></p>
<p class="toc level4"><a href="wuftp-14.html#wuftp-63a">How to Control File Access Commands</a></p>
<p class="toc level3 tocsp"><a href="wuftp-15.html">Controlling Uploads and Downloads on the FTP Server</a></p>
<p class="toc level4"><a href="wuftp-15.html#wuftp-85">How to Control Uploads to the FTP Server</a></p>
<p class="toc level4"><a href="wuftp-15.html#wuftp-173">How to Control Downloads to the FTP Server</a></p>
<p class="toc level3 tocsp"><a href="wuftp-15a2.html">Virtual Hosting</a></p>
<p class="toc level4"><a href="wuftp-15a2.html#wuftp-179">How to Enable Limited Virtual Hosting</a></p>
<p class="toc level4"><a href="wuftp-15a2.html#wuftp-184">How to Enable Complete Virtual Hosting</a></p>
<p class="toc level3 tocsp"><a href="wuftp-189.html">Starting the FTP Server Automatically</a></p>
<p class="toc level4"><a href="wuftp-189.html#wuftp-191">How to Start an FTP Server Using SMF</a></p>
<p class="toc level4"><a href="wuftp-189.html#wuftp-197">How to Start a Standalone FTP Server in the Background</a></p>
<p class="toc level4"><a href="wuftp-189.html#egcoo">How to Start a Standalone FTP Server in the Foreground</a></p>
<p class="toc level3 tocsp"><a href="wuftp-203.html">Shutting Down the FTP Server</a></p>
<p class="toc level4"><a href="wuftp-203.html#wuftp-204">How to Shut Down the FTP Server</a></p>
<p class="toc level3 tocsp"><a href="wuftp-210.html">Debugging the FTP Server</a></p>
<p class="toc level4"><a href="wuftp-210.html#wuftp-proc-221">How to Check <tt>syslogd</tt> for FTP Server Messages</a></p>
<p class="toc level4"><a href="wuftp-210.html#wuftp-proc-211">How to Use <tt>greeting text</tt> to Verify <tt>ftpaccess</tt></a></p>
<p class="toc level4"><a href="wuftp-210.html#wuftp-proc-217">How to Check the Commands Executed by FTP Users</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Configuration Help for Busy Sites</a></p>
</div>
<p class="toc level2 tocsp"><a href="remotehowtoaccess-99941.html">29.&nbsp;&nbsp;Accessing Remote Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="netmonitortm-1.html">Part&nbsp;VII&nbsp;Monitoring Network Services Topics</a></p>
<p class="toc level2"><a href="netmonitor-1.html">30.&nbsp;&nbsp;Monitoring Network Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="egcom"></a><h3>Configuration Help for Busy Sites</h3>
<p>The following list includes some suggestions to improve performance on busy FTP sites.</p>
<ol><li><p>Sites which typically support many simultaneous connections should run the FTP server in standalone mode, see <a href="wuftp-189.html">Starting the FTP Server Automatically</a>.</p></li>
<li><p>Use <tt>vmstat</tt> and other system utilities to monitor the system hosting the FTP server. If the system runs low on resources place a limit on the number of simultaneous connections, see <a href="wuftp-43.html#wuftp-162">How to Set User Login Limits</a>. For more information on system monitoring, see <a href="http://docs.sun.com/doc/819-2380/spmonitor-24844?a=view">Chapter 20, Monitoring System Performance (Tasks), in <i>System Administration Guide: Advanced Administration</i></a>.</p></li>
<li><p>If you impose a connection limit, consider using the <tt>limit-time</tt> and <tt>timeout idle</tt> capabilities in the <tt>ftpaccess</tt> file to stop users from hogging connections. If you don't impose a connection limit, specify the <tt>-Q</tt> option to <tt>in.ftpd</tt>.</p></li>
<li><p>If you don't need ftp login and logout records in <tt>/var/adm/wtmpx</tt>, specify the <tt>-W</tt> option to <tt>in.ftpd</tt>.</p></li>
<li><p>To reduce the load on the system hosting the FTP server, increase the transfer buffer sizes using the <tt>recvbuf</tt> and <tt>sendbuf</tt> capabilities in the <tt>ftpaccess</tt> file. If large buffer sizes are selected it may be necessary to increase the data activity timeout using the <tt>timeout data</tt> capability in the <tt>ftpaccess</tt> file.</p></li>
<li><p>The FTP server reads from various databases including the hosts, passwd, group and services. Slow lookups may cause a significant delay logging into the FTP server, configuring the <tt>files</tt> source first in <tt>nsswitch.conf</tt> minimizes the lookup times. For more information, see the <a href="http://docs.sun.com/doc/819-2251/nsswitch.conf-4?a=view"><tt>nsswitch.conf</tt>(4)</a> man page.</p></li>
<li><p>By default the FTP server attempts to lookup the remote host's name, which can be slow causing a significant delay logging in. The <tt>rhostlookup</tt> capability in the <tt>ftpaccess</tt> file can be used to stop this lookup. However be aware that if the remote host's name is not looked up, only its IP address is matched when using other capabilities in the <tt>ftpaccess</tt> file and when matching entries in the <tt>ftphosts</tt> file. Also the remote host's IP address will be used in messages and in place of the %R magic cookie. See the description of the <tt>rhostlookup</tt> capability in the <a href="http://docs.sun.com/doc/819-2251/ftpaccess-4?a=view"><tt>ftpaccess</tt>(4)</a> man page for more details.</p></li>
<li><p>Retrieving quota information may also cause a significant delay when logging into the FTP server, so only use the <tt>quota-info</tt> capability in the <tt>ftpaccess</tt> file if you make use of the quota magic cookies. See the <a href="http://docs.sun.com/doc/819-2251/ftpaccess-4?a=view"><tt>ftpaccess</tt>(4)</a> man page for a list of the quota magic cookies.</p></li></ol>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="wuftp-210.html">Previous</a>
             </td>
             <td align="right">
                 <a href="remotehowtoaccess-99941.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

