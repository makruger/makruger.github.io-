<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Administering Mail Alias Files - System Administration Guide: Network Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Network Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="mailadmin-260.html">Previous</a>
             </td>
             <td align="right">
                 <a href="mailadmin-262.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="netservices-1.html">Part&nbsp;I&nbsp;Network Services Topics</a></p>
<p class="toc level2"><a href="nsov-1.html">1.&nbsp;&nbsp;Network Service (Overview)</a></p>
<p class="toc level2"><a href="nca-1.html">2.&nbsp;&nbsp;Managing Web Cache Servers</a></p>
<p class="toc level2"><a href="time-1.html">3.&nbsp;&nbsp;Time-Related Services</a></p>
<p class="toc level1 tocsp"><a href="rfstm-1.html">Part&nbsp;II&nbsp;Accessing Network File Systems Topics</a></p>
<p class="toc level2"><a href="rfsintro-2.html">4.&nbsp;&nbsp;Managing Network File Systems (Overview)</a></p>
<p class="toc level2"><a href="rfsadmin-8.html">5.&nbsp;&nbsp;Network File System Administration (Tasks)</a></p>
<p class="toc level2"><a href="rfsrefer-1.html">6.&nbsp;&nbsp;Accessing Network File Systems (Reference)</a></p>
<p class="toc level1 tocsp"><a href="slptm.html">Part&nbsp;III&nbsp;SLP Topics</a></p>
<p class="toc level2"><a href="slparch-16.html">7.&nbsp;&nbsp;SLP (Overview)</a></p>
<p class="toc level2"><a href="slp.setup-10.html">8.&nbsp;&nbsp;Planning and Enabling SLP (Tasks)</a></p>
<p class="toc level2"><a href="ch.configuration-6.html">9.&nbsp;&nbsp;Administering SLP (Tasks)</a></p>
<p class="toc level2"><a href="legacy-7.html">10.&nbsp;&nbsp;Incorporating Legacy Services</a></p>
<p class="toc level2"><a href="slpreference.html">11.&nbsp;&nbsp;SLP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="mailtm-1.html">Part&nbsp;IV&nbsp;Mail Services Topics</a></p>
<p class="toc level2"><a href="mailintro-1.html">12.&nbsp;&nbsp;Mail Services (Overview)</a></p>
<p class="toc level2"><a href="mailadmin-1.html">13.&nbsp;&nbsp;Mail Services (Tasks)</a></p>
<p class="toc level3"><a href="mailadmin-270.html">Task Map for Mail Services</a></p>
<p class="toc level3"><a href="mailadmin-2.html">Planning Your Mail System</a></p>
<p class="toc level3"><a href="mailadmin-263.html">Setting Up Mail Services (Task Map)</a></p>
<p class="toc level3"><a href="mailadmin-13.html">Setting Up Mail Services</a></p>
<p class="toc level4"><a href="mailadmin-13.html#mailadmin-15">How to Set Up a Mail Server</a></p>
<p class="toc level4"><a href="mailadmin-13.html#mailadmin-20">How to Set Up a Mail Client</a></p>
<p class="toc level4"><a href="mailadmin-13.html#mailadmin-29">How to Set Up a Mail Host</a></p>
<p class="toc level4"><a href="mailadmin-13.html#mailadmin-37">How to Set Up a Mail Gateway</a></p>
<p class="toc level4"><a href="mailadmin-13.html#mailadmin-122">How to Use DNS With <tt>sendmail</tt></a></p>
<p class="toc level3 tocsp"><a href="mailadmin-43.html">Building the <tt>sendmail.cf</tt> Configuration File</a></p>
<p class="toc level4"><a href="mailadmin-43.html#mailadmin-44">How to Build a New <tt>sendmail.cf</tt> File</a></p>
<p class="toc level3 tocsp"><a href="ganav.html">Setting SMTP to Use TLS</a></p>
<p class="toc level4"><a href="ganav.html#fxcty">How to Set SMTP to Use TLS</a></p>
<p class="toc level3 tocsp"><a href="mailadmin-377.html">Managing Mail Delivery by Using an Alternate Configuration</a></p>
<p class="toc level4"><a href="mailadmin-377.html#mailadmin-378">How to Manage Mail Delivery by Using an Alternate Configuration of <tt>sendmail.cf</tt></a></p>
<p class="toc level3 tocsp"><a href="mailadmin-260.html">Administering Mail Alias Files (Task Map)</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Administering Mail Alias Files</a></p>
<p class="toc level4"><a href="#mailadmin-345">How to Initiate an NIS+ <tt>mail_aliases</tt> Table</a></p>
<p class="toc level4"><a href="#mailadmin-327">How to List the Contents of the NIS+ <tt>mail_aliases</tt> Table</a></p>
<p class="toc level4"><a href="#mailadmin-330">How to Add Aliases to the NIS+ <tt>mail_aliases</tt> Table From the Command Line</a></p>
<p class="toc level4"><a href="#mailadmin-331">How to Add Entries by Editing an NIS+ <tt>mail_aliases</tt> Table</a></p>
<p class="toc level4"><a href="#mailadmin-332">How to Edit Entries in an NIS+ <tt>mail_aliases</tt> Table</a></p>
<p class="toc level4"><a href="#mailadmin-93">How to Set Up an NIS <tt>mail.aliases</tt> Map</a></p>
<p class="toc level4"><a href="#mailadmin-106">How to Set Up a Local Mail Alias File</a></p>
<p class="toc level4"><a href="#mailadmin-118">How to Create a Keyed Map File</a></p>
</div>
<p class="toc level3 tocsp"><a href="mailadmin-262.html">Administering the Queue Directories (Task Map)</a></p>
<p class="toc level3"><a href="mailadmin-138.html">Administering the Queue Directories</a></p>
<p class="toc level4"><a href="mailadmin-138.html#eyhyo">How to Display the Contents of the Mail Queue, <tt>/var/spool/mqueue</tt></a></p>
<p class="toc level4"><a href="mailadmin-138.html#mailadmin-142">How to Force Mail Queue Processing in the Mail Queue, <tt>/var/spool/mqueue</tt></a></p>
<p class="toc level4"><a href="mailadmin-138.html#mailadmin-145">How to Run a Subset of the Mail Queue, <tt>/var/spool/mqueue</tt></a></p>
<p class="toc level4"><a href="mailadmin-138.html#mailadmin-148">How to Move the Mail Queue, <tt>/var/spool/mqueue</tt></a></p>
<p class="toc level4"><a href="mailadmin-138.html#mailadmin-156">How to Run the Old Mail Queue, <tt>/var/spool/omqueue</tt></a></p>
<p class="toc level3 tocsp"><a href="mailadmin-264.html">Administering <tt>.forward</tt> Files (Task Map)</a></p>
<p class="toc level3"><a href="mailadmin-160.html">Administering <tt>.forward</tt> Files</a></p>
<p class="toc level4"><a href="mailadmin-160.html#mailadmin-161">How to Disable <tt>.forward</tt> Files</a></p>
<p class="toc level4"><a href="mailadmin-160.html#mailadmin-167">How to Change the <tt>.forward</tt>-File Search Path</a></p>
<p class="toc level4"><a href="mailadmin-160.html#mailadmin-173">How to Create and Populate <tt>/etc/shells</tt></a></p>
<p class="toc level3 tocsp"><a href="mailadmin-265.html">Troubleshooting Procedures and Tips for Mail Services (Task Map)</a></p>
<p class="toc level3"><a href="mailadmin-180.html">Troubleshooting Procedures and Tips for Mail Services</a></p>
<p class="toc level4"><a href="mailadmin-180.html#mailadmin-181">How to Test the Mail Configuration</a></p>
<p class="toc level4"><a href="mailadmin-180.html#mailadmin-195">How to Test the <tt>sendmail</tt> Rule Sets</a></p>
<p class="toc level3 tocsp"><a href="mailadmin-219.html">Resolving Error Messages</a></p>
<p class="toc level2 tocsp"><a href="mailrefer-1.html">14.&nbsp;&nbsp;Mail Services (Reference)</a></p>
<p class="toc level1 tocsp"><a href="modemtm-1.html">Part&nbsp;V&nbsp;Serial Networking Topics</a></p>
<p class="toc level2"><a href="pppsvrconfig.intro-1.html">15.&nbsp;&nbsp;Solaris PPP 4.0 (Overview)</a></p>
<p class="toc level2"><a href="pppsvrconfig.p2plink-1.html">16.&nbsp;&nbsp;Planning for the PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.dialin-1.html">17.&nbsp;&nbsp;Setting Up a Dial-up PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.leased-1.html">18.&nbsp;&nbsp;Setting Up a Leased-Line PPP Link (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.auth-1.html">19.&nbsp;&nbsp;Setting Up PPP Authentication (Tasks)</a></p>
<p class="toc level2"><a href="ppp.pppoe-1.html">20.&nbsp;&nbsp;Setting Up a PPPoE Tunnel (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.troubleshoot-1.html">21.&nbsp;&nbsp;Fixing Common PPP Problems (Tasks)</a></p>
<p class="toc level2"><a href="pppsvrconfig.reference-1.html">22.&nbsp;&nbsp;Solaris PPP 4.0 (Reference)</a></p>
<p class="toc level2"><a href="pppsvrconfig.convert.app-1.html">23.&nbsp;&nbsp;Migrating From Asynchronous Solaris PPP to Solaris PPP 4.0 (Tasks)</a></p>
<p class="toc level2"><a href="uucpov-1.html">24.&nbsp;&nbsp;UUCP (Overview)</a></p>
<p class="toc level2"><a href="uucptasks-1.html">25.&nbsp;&nbsp;Administering UUCP (Tasks)</a></p>
<p class="toc level2"><a href="uucpref-1.html">26.&nbsp;&nbsp;UUCP (Reference)</a></p>
<p class="toc level1 tocsp"><a href="wwrstm.html">Part&nbsp;VI&nbsp;Working With Remote Systems Topics</a></p>
<p class="toc level2"><a href="wwrsov.html">27.&nbsp;&nbsp;Working With Remote Systems (Overview)</a></p>
<p class="toc level2"><a href="wuftp-17.html">28.&nbsp;&nbsp;Administering the FTP Server (Tasks)</a></p>
<p class="toc level2"><a href="remotehowtoaccess-99941.html">29.&nbsp;&nbsp;Accessing Remote Systems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="netmonitortm-1.html">Part&nbsp;VII&nbsp;Monitoring Network Services Topics</a></p>
<p class="toc level2"><a href="netmonitor-1.html">30.&nbsp;&nbsp;Monitoring Network Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="mailadmin-52"></a><h3>Administering Mail Alias Files</h3>
<p>Mail aliases must be unique within the domain. This section provides the procedures for
administering mail alias files. Alternately, you can use the Mailing List feature in the Solaris
Management Console to perform these tasks on the aliases database.</p><p>In addition, you can create database files for the local mail host by using
<tt>makemap</tt>. Refer to the <a href="http://docs.sun.com/doc/819-2240/makemap-1m?a=view"><tt>makemap</tt>(1M)</a> man page. The use of these database files does not
provide all of the advantages of using a name service such as NIS or
NIS+. However, you should be able to retrieve the data from these local database
files faster because no network lookups are involved. For more information, refer to <a href="mailrefer-24.html">Interactions of <tt>sendmail</tt> With Name Services</a>
and <a href="mailrefer-45.html#mailrefer-33">Mail Alias Files</a> in <a href="mailrefer-1.html">Chapter&nbsp;14, Mail Services (Reference)</a>.</p><p>Choose from the following procedures:</p>
<ul><li><p><a href="#mailadmin-345">How to Initiate an NIS+ <tt>mail_aliases</tt> Table</a></p></li>
<li><p><a href="#mailadmin-327">How to List the Contents of the NIS+ <tt>mail_aliases</tt> Table</a></p></li>
<li><p><a href="#mailadmin-330">How to Add Aliases to the NIS+ <tt>mail_aliases</tt> Table From the Command Line</a></p></li>
<li><p><a href="#mailadmin-331">How to Add Entries by Editing an NIS+ <tt>mail_aliases</tt> Table</a></p></li>
<li><p><a href="#mailadmin-332">How to Edit Entries in an NIS+ <tt>mail_aliases</tt> Table</a></p></li>
<li><p><a href="#mailadmin-93">How to Set Up an NIS <tt>mail.aliases</tt> Map</a></p></li>
<li><p><a href="#mailadmin-106">How to Set Up a Local Mail Alias File</a></p></li>
<li><p><a href="#mailadmin-118">How to Create a Keyed Map File</a></p></li></ul>


<a name="mailadmin-345"></a><h4>How to Initiate an NIS+ <tt>mail_aliases</tt> Table</h4><p><a name="indexterm-1168"></a>You can use the <tt>aliasadm</tt> command to manage entries in an NIS+ table.
To create a table, follow these instructions. For more information, refer to the <a href="http://docs.sun.com/doc/819-2240/aliasadm-1m?a=view"><tt>aliasadm</tt>(1M)</a>
man page.</p><ol>
<li><a name="mailadmin-step-228"></a><b>Either be a member of the NIS+ group that owns the table, or become
<tt>root</tt> on the mail server, or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure
a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="mailadmin-step-347"></a><b>Initiate an NIS+ table.</b><pre># <tt><b>aliasadm -I</b></tt></pre></li>
<li><a name="mailadmin-step-348"></a><b>Add entries to the table.</b>
<ul><li><p>To add two or three aliases, refer to <a href="#mailadmin-330">How to Add Aliases to the NIS+ <tt>mail_aliases</tt> Table From the Command Line</a>.</p></li>
<li><p>To add more than two or three aliases, refer to <a href="#mailadmin-331">How to Add Entries by Editing an NIS+ <tt>mail_aliases</tt> Table</a>.</p></li></ul>
</li></ol>

<a name="mailadmin-327"></a><h4>How to List the Contents of the NIS+ <tt>mail_aliases</tt> Table</h4><p><a name="indexterm-1169"></a>To see a complete list of the contents of the table, follow these instructions.</p><ol>
<li><a name="mailadmin-step-343"></a><b>Either be a member of the NIS+ group that owns the table, or become
<tt>root</tt> on the mail server, or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure
a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="mailadmin-step-344"></a><b>List all of the entries in alphabetical order by alias.</b><pre># <tt><b>aliasadm -1</b></tt></pre><p>For more information, refer to the <a href="http://docs.sun.com/doc/819-2240/aliasadm-1m?a=view"><tt>aliasadm</tt>(1M)</a> man page.</p></li></ol><a name="exlzg"></a>Example&nbsp;13-2 Listing an Individual Entry From the NIS+ <tt>mail_aliases</tt> Table<p><a name="indexterm-1170"></a>Alternately, you can use the <tt>aliasadm</tt> command to list individual entries. After you complete the
first step in this procedure, type the following:</p><pre># <tt><b>aliasadm -m ignatz</b></tt>
ignatz: ignatz@saturn # Alias for Iggy Ignatz</pre><p>The command matches only the complete alias name, not partial strings. You cannot use
metacharacters, such as <tt>*</tt> and <tt>?</tt>, with <tt>aliasadm</tt> <tt>-m</tt>.</p><a name="exlyy"></a>Example&nbsp;13-3 Listing Partial Matches From the NIS+ <tt>mail_aliases</tt> Table<p><a name="indexterm-1171"></a>Also, you can use the <tt>aliasadm</tt> command to list partial matches. After you
complete the first step in this procedure, type the following:</p><pre># <tt><b>aliasadm -l | grep</b></tt> <i>partial-string</i></pre><p>Replace <i>partial-string</i> with the desired string for your search.</p>

<a name="mailadmin-330"></a><h4>How to Add Aliases to the NIS+ <tt>mail_aliases</tt> Table From the Command Line</h4><p><a name="indexterm-1172"></a>To add two or three aliases to the table, follow the following instructions. If
you are adding more than two or three aliases, see <a href="#mailadmin-331">How to Add Entries by Editing an NIS+ <tt>mail_aliases</tt> Table</a>.</p><ol>
<li><a name="mailadmin-step-308"></a><b>Compile a list of each of your mail clients, the locations of their mailboxes, and
the names of the mail server systems.</b></li>
<li><a name="mailadmin-step-223"></a><b>Either be a member of the NIS+ group that owns the table, or become
<tt>root</tt> on the mail server, or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure
a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="mailadmin-step-63"></a>(Optional) <b>If necessary, initiate an NIS+ table.</b><p>If you are creating a completely new NIS+ <tt>mail_aliases</tt> table, you must first initiate the
table. To complete this task, refer to <a href="#mailadmin-345">How to Initiate an NIS+ <tt>mail_aliases</tt> Table</a>.</p></li>
<li><a name="mailadmin-step-68"></a><b>Add aliases to the table.</b><p>See this example of a typical entry.</p><pre># <tt><b>aliasadm -a iggy iggy.ignatz@saturn "Iggy Ignatz"</b></tt></pre><p>The following list describes the input from the preceding example.</p><dl><dt><tt>-a</tt></dt>
<dd><p>The option for adding an alias</p></dd>
<dt><tt>iggy</tt></dt>
<dd><p>The short form of the alias name</p></dd>
<dt><tt>iggy.ignatz@saturn</tt></dt>
<dd><p>The expanded alias name</p></dd>
<dt><tt>"Iggy Ignatz"</tt></dt>
<dd><p>The name for the alias in quotation marks</p></dd>
</dl>
</li>
<li><a name="mailadmin-step-69"></a><b>Display the entry that you created and ensure that the entry is correct.</b><pre># <tt><b>aliasadm -m </tt><i>alias</i><tt></b></tt></pre><dl><dt><i>alias</i></dt>
<dd><p>The entry that you created</p></dd>
</dl>
<p>For more information, refer to the <a href="http://docs.sun.com/doc/819-2240/aliasadm-1m?a=view"><tt>aliasadm</tt>(1M)</a> man page.</p></li></ol>

<a name="mailadmin-331"></a><h4>How to Add Entries by Editing an NIS+ <tt>mail_aliases</tt> Table</h4><p><a name="indexterm-1173"></a>You can use the <tt>aliasadm</tt> command to manage entries in an NIS+ table.
To add more than two or three aliases to the table, follow these instructions.</p><ol>
<li><a name="mailadmin-step-310"></a><b>Compile a list of each of your mail clients, the locations of their mailboxes, and
the names of the mail server systems.</b></li>
<li><a name="mailadmin-step-224"></a><b>Either be a member of the NIS+ group that owns the table, or become
<tt>root</tt> on the mail server, or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure
a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="mailadmin-step-311"></a><b>Display and edit the aliases table.</b><pre># <tt><b>aliasadm -e</b></tt></pre><p>This command displays the table and enables you to edit the table. The editor
that  you use has been set with the <tt>$EDITOR</tt> environment variable. If this
variable is not set, <tt>vi</tt> is the default editor.</p></li>
<li><a name="mailadmin-step-312"></a><b>Use the following format to type each alias on a separate line.</b><pre><i>alias</i>: <i>expanded-alias</i> # ["<i>option</i>" # "<i>comments</i>"]</pre><dl><dt><i>alias</i></dt>
<dd><p>This column is for the short form of the alias name.</p></dd>
<dt><i>expanded-alias</i></dt>
<dd><p>This column is for the expanded alias name.</p></dd>
<dt><i>option</i></dt>
<dd><p>This column is reserved for future use.</p></dd>
<dt><i>comments</i></dt>
<dd><p>This column is used for comments about the individual alias, such as a name for the alias.</p></dd>
</dl>
<p>If you leave the option column blank, type an empty pair of quotation marks
<tt>("")</tt> and add the comments.</p><p>The order of the entries is not important to the NIS+ <tt>mail_aliases</tt> table. The <tt>aliasadm -l</tt>
command sorts the list and displays the entries in alphabetical order.</p><p>For more information, refer to <a href="mailrefer-45.html#mailrefer-33">Mail Alias Files</a> and the <a href="http://docs.sun.com/doc/819-2240/aliasadm-1m?a=view"><tt>aliasadm</tt>(1M)</a> man page.</p></li></ol>

<a name="mailadmin-332"></a><h4>How to Edit Entries in an NIS+ <tt>mail_aliases</tt> Table</h4><p><a name="indexterm-1174"></a>To edit entries in the table, follow these instructions.</p><ol>
<li><a name="mailadmin-step-225"></a><b>Either be a member of the NIS+ group that owns the table, or become
<tt>root</tt> on the mail server, or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure
a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="mailadmin-step-85"></a><b>Display the alias entry.</b><pre># <tt><b>aliasadm -m </tt><i>alias</i><tt></b></tt></pre><p>Replace <i>alias</i> with the assigned alias name.</p></li>
<li><a name="mailadmin-step-86"></a><b>Edit the alias entry, as necessary.</b><pre># aliasadm -c <i>alias</i> <i>expanded-alias</i> [<i>options</i> <i>comments</i>]</pre><dl><dt><i>alias</i></dt>
<dd><p>If necessary, edit the alias name.</p></dd>
<dt><i>expanded-alias</i></dt>
<dd><p>If necessary, edit the expanded alias name.</p></dd>
<dt><i>options</i></dt>
<dd><p>If necessary, edit the option.</p></dd>
<dt><i>comments</i></dt>
<dd><p>If necessary, edit the comment for this entry.</p></dd>
</dl>
<p>For more information, refer to the <a href="http://docs.sun.com/doc/819-2240/aliasadm-1m?a=view"><tt>aliasadm</tt>(1M)</a> man page, as well as <a href="mailrefer-45.html#mailrefer-33">Mail Alias Files</a>.</p></li>
<li><a name="mailadmin-step-87"></a><b>Display the entry that you have edited and ensure that the entry is correct.</b><pre># <tt><b>aliasadm -m </tt><i>alias</i><tt></b></tt></pre><p>For more information, refer to the <a href="http://docs.sun.com/doc/819-2240/aliasadm-1m?a=view"><tt>aliasadm</tt>(1M)</a> man page.</p></li></ol><a name="exlyv"></a>Example&nbsp;13-4 Deleting Entries From an NIS+ <tt>mail_aliases</tt> Table<p><a name="indexterm-1175"></a>To delete entries from the table, use the following syntax after you complete the
first step in this procedure:</p><pre># <tt><b>aliasadm -d </tt><i>alias</i><tt></b></tt></pre><p>Replace <i>alias</i> with the alias name for the entry that you are deleting.</p>

<a name="mailadmin-93"></a><h4>How to Set Up an NIS <tt>mail.aliases</tt> Map</h4><p><a name="indexterm-1176"></a><a name="indexterm-1177"></a>Use the following procedure to facilitate aliasing with an NIS <tt>mail.aliases</tt> map.</p><ol>
<li><a name="mailadmin-step-96"></a><b>Compile a list of each of your mail clients, the locations of their mailboxes, and
the names of the mail server systems.</b></li>
<li><a name="mailadmin-step-97"></a><b>Become <tt>root</tt> on the NIS master server or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure
a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="mailadmin-step-98"></a><b>Edit the <tt>/etc/mail/aliases</tt> file, and make the following entries.</b><ol style="list-style-type: lower-alpha">
				 
<li><a name="mailadmin-step-99"></a><b>Add an entry for each mail client.</b><pre># <tt><b>cat /etc/mail/aliases</b></tt>
..
<i>alias</i>:<i>expanded-alias</i></pre><dl><dt><i>alias</i></dt>
<dd><p>Use the short alias name.</p></dd>
<dt><i>expanded-alias</i></dt>
<dd><p>Use the expanded alias name (<tt>user@host.domain.com</tt>).</p></dd>
</dl>
</li>
<li><a name="mailadmin-step-349"></a><b>Ensure that you have a <tt>Postmaster: root</tt> entry.</b><pre># <tt><b>cat /etc/mail/aliases</b></tt>
..
<tt><b>Postmaster: root</b></tt></pre></li>
<li><a name="mailadmin-step-100"></a><b>Add an alias for <tt>root</tt>. Use the mail address of the person who is designated
as the postmaster.</b><pre># <tt><b>cat /etc/mail/aliases</b></tt>
..
root: <i>user@host.domain.com</i></pre><dl><dt><i>user@host.domain.com</i></dt>
<dd><p>Use the assigned address of the designated postmaster.</p></dd>
</dl>
</li></ol></li>
<li><a name="mailadmin-step-103"></a><b>Ensure that the NIS master server is running a name service to resolve the
host names on each mail server.</b></li>
<li><a name="mailadmin-step-104"></a><b>Change to the <tt>/var/yp</tt> directory.</b><pre># <tt><b>cd /var/yp</b></tt></pre></li>
<li><a name="mailadmin-step-105"></a><b>Apply the <tt>make</tt> command.</b><pre># <tt><b>make</b></tt></pre><p>The changes in the <tt>/etc/hosts</tt> and <tt>/etc/mail/aliases</tt> files are propagated to NIS slave
systems. The changes are active in only a few minutes, at most.</p></li></ol>

<a name="mailadmin-106"></a><h4>How to Set Up a Local Mail Alias File</h4><p><a name="indexterm-1178"></a><a name="indexterm-1179"></a>Use the following procedure to resolve aliases with a local mail alias file.</p><ol>
<li><a name="mailadmin-step-109"></a><b>Compile a list of each of your users and the locations of their mailboxes.</b></li>
<li><a name="mailadmin-step-110"></a><b>Become <tt>root</tt> on the mail server or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure
a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="mailadmin-step-111"></a><b>Edit the <tt>/etc/mail/aliases</tt> file and make the following entries.</b><ol style="list-style-type: lower-alpha">
				 
<li><a name="mailadmin-step-112"></a><b>Add an entry for each user.</b><pre><i>user1</i>: <i>user2@host.domain</i></pre><dl><dt><i>user1</i></dt>
<dd><p>Use the new alias name.</p></dd>
<dt><i>user2@host.domain</i></dt>
<dd><p>Use the actual address for the new alias.</p></dd>
</dl>
</li>
<li><a name="mailadmin-step-113"></a><b>Ensure that you have a <tt>Postmaster: root</tt> entry.</b><pre># <tt><b>cat /etc/mail/aliases</b></tt>
..
<tt><b>Postmaster: root</b></tt></pre></li>
<li><a name="mailadmin-step-114"></a><b>Add an alias for <tt>root</tt>. Use the mail address of the person who is designated
as the postmaster.</b><pre># <tt><b>cat /etc/mail/aliases</b></tt>
..
root: <i>user@host.domain.com</i></pre><dl><dt><i>user@host.domain.com</i></dt>
<dd><p>Use the assigned address of the designated postmaster.</p></dd>
</dl>
</li></ol></li>
<li><a name="mailadmin-step-116"></a><b>Rebuild the alias database.</b><pre># <tt><b>newaliases</b></tt></pre><p>The configuration of the <tt>AliasFile</tt> option in <tt>/etc/mail/sendmail.cf</tt> determines whether  this command 
generates in binary form either the single file, <tt>/etc/mail/aliases.db</tt>, or the pair of files,
<tt>/etc/mail/aliases.dir</tt> and <tt>/etc/mail/aliases.pag</tt>.</p></li>
<li><a name="mailadmin-step-117"></a><b>Perform one of the following steps to copy the file or files that were
generated.</b><ol style="list-style-type: lower-alpha">
				 
<li><a name="mailadmin-step-229"></a>(Optional) <b><a name="indexterm-1180"></a><a name="indexterm-1181"></a><a name="indexterm-1182"></a><a name="indexterm-1183"></a>Copy the <tt>/etc/mail/aliases</tt>, the <tt>/etc/mail/aliases.dir</tt>, and the<tt>/etc/mail/aliases.pag</tt> files to each of the
other systems.</b><p>You can copy the three files by using the <tt>rcp</tt> or <tt>rdist</tt> commands. Refer
to the <a href="http://docs.sun.com/doc/819-2239/rcp-1?a=view"><tt>rcp</tt>(1)</a> man page or the <a href="http://docs.sun.com/doc/819-2239/rdist-1?a=view"><tt>rdist</tt>(1)</a> man page for more information. Alternately, you
can create a script for this purpose.</p><p>When you copy these files, you do not need to run the <tt>newaliases</tt>
command on each of the other systems. However, remember that you must update all
the <tt>/etc/mail/aliases</tt> files each time you add or remove a mail client.</p></li>
<li><a name="mailadmin-step-361"></a>(Optional) <b><a name="indexterm-1184"></a><a name="indexterm-1185"></a>Copy the <tt>/etc/mail/aliases</tt> and the <tt>/etc/mail/aliases.db</tt> files to each of the other systems.</b><p>You can copy these files by using the <tt>rcp</tt> or <tt>rdist</tt> commands. Refer
to the <a href="http://docs.sun.com/doc/819-2239/rcp-1?a=view"><tt>rcp</tt>(1)</a> man page or the <a href="http://docs.sun.com/doc/819-2239/rdist-1?a=view"><tt>rdist</tt>(1)</a> man page for more information. Alternately, you can
create a script for this purpose.</p><p>When you copy these files, you do not need to run the <tt>newaliases</tt>
command on each of the other systems. However, remember that you must update all
the <tt>/etc/mail/aliases</tt> files each time you add or remove a mail client.</p></li></ol></li></ol>

<a name="mailadmin-118"></a><h4>How to Create a Keyed Map File</h4><p>To create a keyed map file, follow these instructions.</p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="mailadmin-step-120"></a><b><a name="indexterm-1186"></a><a name="indexterm-1187"></a>Create an input file.</b><p>Entries can have the following syntax.</p><pre><i>old-name@newdomain.com</i>   <i>new-name@newdomain.com</i>
<i>old-name@olddomain.com</i>    error:nouser No such user here
@<i>olddomain.com</i>          %1@<i>newdomain.com</i></pre><dl><dt><i>old_name@newdomain.com</i></dt>
<dd><p>Use the user name that was previously assigned with the domain that is newly assigned.</p></dd>
<dt><i>new_name@newdomain.com</i></dt>
<dd><p>Use the address that is newly assigned.</p></dd>
<dt><i>old_name@olddomain.com</i></dt>
<dd><p>Use the user name that was previously assigned with the domain that was previously assigned.</p></dd>
<dt><i>olddomain.com</i></dt>
<dd><p>Use the domain that was previously assigned.</p></dd>
<dt><i>newdomain.com</i></dt>
<dd><p>Use the domain that is newly assigned.</p></dd>
</dl>
<p>The first entry redirects mail to a new alias. The next entry creates a
message when an incorrect alias is used. The last entry redirects all incoming mail
from <tt>olddomain</tt> to <tt>newdomain</tt>.</p></li>
<li><a name="mailadmin-step-121"></a><b>Create the database file.</b><pre># /usr/sbin/makemap <i>maptype</i> <i>newmap</i> &lt; <i>newmap</i></pre><dl><dt><i>maptype</i></dt>
<dd><p>Select a database type, such as <tt>dbm</tt>, <tt>btree</tt>, or <tt>hash</tt>.</p></dd>
<dt><i>newmap</i></dt>
<dd><p>Use the name of the input file and the first part of the name of the database file. If the <tt>dbm</tt> database type is selected, then the database files are created by using a <tt>.pag</tt> and a <tt>.dir</tt> suffix. For the other two database types, the file name is followed by <tt>.db</tt>.</p></dd>
</dl>
</li></ol>

<a name="mailadmin-127"></a><h4>Managing the <tt>postmaster</tt> Alias</h4>
<p><a name="indexterm-1188"></a><a name="indexterm-1189"></a>Every system must be able to send mail to a <tt>postmaster</tt> mailbox. You can
create an NIS or NIS+ alias for <tt>postmaster</tt>, or you can create the alias
in each local <tt>/etc/mail/aliases</tt> file. Refer to these procedures.</p>
<ul><li><p><a href="#mailadmin-proc-320">How to Create a <tt>postmaster</tt> Alias in Each Local <tt>/etc/mail/aliases</tt> File</a></p></li>
<li><p><a href="#mailadmin-proc-323">How to Create a Separate Mailbox for <tt>postmaster</tt></a></p></li>
<li><p><a href="#mailadmin-proc-324">How to Add the <tt>postmaster</tt> Mailbox to the Aliases in the <tt>/etc/mail/aliases</tt> File</a></p></li></ul>


<a name="mailadmin-proc-320"></a><h5>How to Create a <tt>postmaster</tt> Alias in Each Local <tt>/etc/mail/aliases</tt> File</h5>
<p>If you are creating the <tt>postmaster</tt> alias in each local <tt>/etc/mail/aliases</tt> file, follow
these instructions.</p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="mailadmin-step-227"></a><b>View the <tt>/etc/mail/aliases</tt> entry.</b><pre># <tt><b>cat /etc/mail/aliases</b></tt>
# Following alias is required by the mail protocol, RFC 2821
# Set it to the address of a HUMAN who deals with this system's
# mail problems.
Postmaster: root</pre></li>
<li><a name="mailadmin-step-321"></a><b>Edit each system's <tt>/etc/mail/aliases</tt> file.</b><p>Change <tt>root</tt> to the mail address of the person who is designated as the
postmaster.</p><pre>Postmaster: <i>mail-address</i></pre><dl><dt><i>mail-address</i></dt>
<dd><p>Use the assigned address for the person who is designated as the postmaster.</p></dd>
</dl>
</li>
<li><a name="mailadmin-step-322"></a>(Optional) <b>Create a separate mailbox for the postmaster.</b><p>You can create a separate mailbox for the postmaster to keep postmaster mail separate
from personal mail. If you create a separate mailbox, use the mailbox address instead
of the postmaster's personal mail address when you edit the <tt>/etc/mail/aliases</tt> files. For details,
refer to <a href="#mailadmin-proc-323">How to Create a Separate Mailbox for <tt>postmaster</tt></a>.</p></li></ol>

<a name="mailadmin-proc-323"></a><h5>How to Create a Separate Mailbox for <tt>postmaster</tt></h5>
<p><a name="indexterm-1190"></a><a name="indexterm-1191"></a>If you are creating a separate mailbox for <tt>postmaster</tt>, follow these instructions.</p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="mailadmin-step-130"></a><b>Create a user account for the person who is designated as <tt>postmaster</tt>. Put an asterisk
(<tt>*</tt>) in the password field.</b><p>For details about adding a user account, refer to <a href="http://docs.sun.com/doc/819-2379/usersetup-92366?a=view">Chapter 5, Managing User Accounts and Groups (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="mailadmin-step-131"></a><b>After mail has been delivered, enable the <tt>mail</tt> program to read and write to
the mailbox name.</b><pre># <tt><b>mail -f </tt><i>postmaster</i><tt></b></tt></pre><dl><dt><i>postmaster</i></dt>
<dd><p>Use the assigned address.</p></dd>
</dl>
</li></ol>

<a name="mailadmin-proc-324"></a><h5>How to Add the <tt>postmaster</tt> Mailbox to the Aliases in the <tt>/etc/mail/aliases</tt> File</h5>
<p>If you are adding a <tt>postmaster</tt> mailbox to the aliases in the <tt>/etc/mail/aliases</tt>
file, follow these instructions.</p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.
To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="mailadmin-step-134"></a><b>Add an alias for <tt>root</tt>. Use the mail address of the person who is designated
as the postmaster.</b><pre># <tt><b>cat /etc/mail/aliases</b></tt>
..
root: <i>user@host.domain.com</i></pre><dl><dt><i>user@host.domain.com</i></dt>
<dd><p>Use the assigned address of the person who is designated as postmaster.</p></dd>
</dl>
</li>
<li><a name="mailadmin-step-136"></a><b>On the postmaster's local system, create an entry in the <tt>/etc/mail/aliases</tt> file that defines
the name of the alias. <tt>sysadmin</tt> is an example. Also, include the path to the
local mailbox.</b><pre># <tt><b>cat /etc/mail/aliases</b></tt>
..
<i>sysadmin</i>: <i>/usr/somewhere/somefile</i></pre><dl><dt><i>sysadmin</i></dt>
<dd><p>Create a name for a new alias.</p></dd>
<dt><i>/usr/somewhere/somefile</i></dt>
<dd><p>Use the path to the local mailbox.</p></dd>
</dl>
</li>
<li><a name="mailadmin-step-137"></a><b>Rebuild the alias database.</b><pre># <tt><b>newaliases</b></tt></pre></li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="mailadmin-260.html">Previous</a>
             </td>
             <td align="right">
                 <a href="mailadmin-262.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

