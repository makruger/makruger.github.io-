<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Setting Up Resource Management (Task Map) - System Administration Guide:  Virtualization Using the Solaris Operating System</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-04-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide:  Virtualization Using the Solaris Operating System</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="rmintro-2.html">Previous</a>
             </td>
             <td align="right">
                 <a href="rmtaskproj-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="preface-3.html">Solaris Virtualization Product Overview</a></p>
<p class="toc level1 tocsp"><a href="resource.html">Part&nbsp;I&nbsp;Resource Management</a></p>
<p class="toc level2"><a href="rmintro-1.html">1.&nbsp;&nbsp;Introduction to Solaris Resource Management</a></p>
<p class="toc level3"><a href="rmintro-21.html">Resource Management Overview</a></p>
<p class="toc level3"><a href="rmintro-2.html">When to Use Resource Management</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Setting Up Resource Management (Task Map)</a></p>
</div>
<p class="toc level2 tocsp"><a href="rmtaskproj-1.html">2.&nbsp;&nbsp;Projects and Tasks (Overview)</a></p>
<p class="toc level2"><a href="rmtaskproj.task-37.html">3.&nbsp;&nbsp;Administering Projects and Tasks</a></p>
<p class="toc level2"><a href="rmacct-1.html">4.&nbsp;&nbsp;Extended Accounting (Overview)</a></p>
<p class="toc level2"><a href="rmacct.task.sgm.html">5.&nbsp;&nbsp;Administering Extended Accounting (Tasks)</a></p>
<p class="toc level2"><a href="rmctrls-1.html">6.&nbsp;&nbsp;Resource Controls (Overview)</a></p>
<p class="toc level2"><a href="rmctrls.task-1.html">7.&nbsp;&nbsp;Administering Resource Controls (Tasks)</a></p>
<p class="toc level2"><a href="rmfss-1.html">8.&nbsp;&nbsp;Fair Share Scheduler (Overview)</a></p>
<p class="toc level2"><a href="rmfss.task-1.html">9.&nbsp;&nbsp;Administering the Fair Share Scheduler (Tasks)</a></p>
<p class="toc level2"><a href="rm.rcapd-1.html">10.&nbsp;&nbsp;Physical Memory Control Using the Resource Capping Daemon (Overview)</a></p>
<p class="toc level2"><a href="rm.rcapd.task-1.html">11.&nbsp;&nbsp;Administering the Resource Capping Daemon (Tasks)</a></p>
<p class="toc level2"><a href="rmpool-1.html">12.&nbsp;&nbsp;Resource Pools (Overview)</a></p>
<p class="toc level2"><a href="rmpool.task-1.html">13.&nbsp;&nbsp;Creating and Administering Resource Pools (Tasks)</a></p>
<p class="toc level2"><a href="rmconfig-1.html">14.&nbsp;&nbsp;Resource Management Configuration Example</a></p>
<p class="toc level2"><a href="rmconsole-1.html">15.&nbsp;&nbsp;Resource Control Functionality in the Solaris Management Console</a></p>
<p class="toc level1 tocsp"><a href="zone.html">Part&nbsp;II&nbsp;Zones</a></p>
<p class="toc level2"><a href="zones.intro-1.html">16.&nbsp;&nbsp;Introduction to Solaris Zones</a></p>
<p class="toc level2"><a href="z.config.ov-1.html">17.&nbsp;&nbsp;Non-Global Zone Configuration (Overview)</a></p>
<p class="toc level2"><a href="z.conf.start-1.html">18.&nbsp;&nbsp;Planning and Configuring Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="z.inst.ov-1.html">19.&nbsp;&nbsp;About Installing, Halting, Cloning, and Uninstalling Non-Global Zones (Overview)</a></p>
<p class="toc level2"><a href="z.inst.task-1.html">20.&nbsp;&nbsp;Installing, Booting, Halting, Uninstalling,  and Cloning Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="z.login.ov-1.html">21.&nbsp;&nbsp;Non-Global Zone Login (Overview)</a></p>
<p class="toc level2"><a href="z.login.task-1.html">22.&nbsp;&nbsp;Logging In to Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="gcgnc.html">23.&nbsp;&nbsp;Moving and Migrating Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="z.pkginst.ov-1.html">24.&nbsp;&nbsp;About Packages and Patches on a Solaris System With Zones Installed (Overview)</a></p>
<p class="toc level2"><a href="z.pkginst.task-1.html">25.&nbsp;&nbsp;Adding and Removing Packages and Patches on a Solaris System With Zones Installed (Tasks)</a></p>
<p class="toc level2"><a href="z.admin.ov-1.html">26.&nbsp;&nbsp;Solaris Zones Administration (Overview)</a></p>
<p class="toc level2"><a href="z.admin.task-1.html">27.&nbsp;&nbsp;Administering Solaris Zones (Tasks)</a></p>
<p class="toc level2"><a href="gclkx.html">28.&nbsp;&nbsp;Troubleshooting Miscellaneous Solaris Zones Problems</a></p>
<p class="toc level1 tocsp"><a href="gchhk.html">Part&nbsp;III&nbsp;Branded Zones</a></p>
<p class="toc level2"><a href="gchhy.html">29.&nbsp;&nbsp;About Branded Zones and the Linux Branded Zone</a></p>
<p class="toc level2"><a href="gcwwm.html">30.&nbsp;&nbsp;Planning the <tt>lx</tt> Branded Zone Configuration (Overview)</a></p>
<p class="toc level2"><a href="gdajn.html">31.&nbsp;&nbsp;Configuring the <tt>lx</tt> Branded Zone (Tasks)</a></p>
<p class="toc level2"><a href="gdbki.html">32.&nbsp;&nbsp;About Installing, Booting, Halting, Cloning, and Uninstalling <tt>lx</tt> Branded Zones (Overview)</a></p>
<p class="toc level2"><a href="gdduh.html">33.&nbsp;&nbsp;Installing, Booting, Halting, Uninstalling and Cloning <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level2"><a href="gdgck.html">34.&nbsp;&nbsp;Logging In to <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level2"><a href="gdqnv.html">35.&nbsp;&nbsp;Moving and Migrating <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level2"><a href="gdgif.html">36.&nbsp;&nbsp;Administering and Running Applications in <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gefwp.html">Part&nbsp;IV&nbsp;Sun xVM</a></p>
<p class="toc level2"><a href="gfwrc.html">37.&nbsp;&nbsp;Sun xVM Hypervisor System Requirements</a></p>
<p class="toc level2"><a href="gefwo.html">38.&nbsp;&nbsp;Booting and Running the Sun xVM Hypervisor</a></p>
<p class="toc level2"><a href="gfwcu.html">39.&nbsp;&nbsp;Xvnc</a></p>
<p class="toc level2"><a href="gfqke.html">40.&nbsp;&nbsp;Using <tt>virt-install</tt> to Install a Domain</a></p>
<p class="toc level2"><a href="gfwlm.html">41.&nbsp;&nbsp;xVM System Administration</a></p>
<p class="toc level2"><a href="gefzh.html">42.&nbsp;&nbsp;Troubleshooting Miscellaneous Sun xVM Problems</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="rmintro-29"></a><h3>Setting Up Resource Management (Task Map)</h3>
<p>The following task map provides a high-level overview of the steps that are
involved in setting up resource management on your system.</p><table><col width="33*"><col width="33*"><col width="33*"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Identify the workloads
on your system and categorize each workload by project.</p></td>
<td align="left" valign="top" scope="row"><p>Create project entries in either
the <tt>/etc/project</tt> file, in the NIS map, or in the LDAP directory service.</p></td>
<td align="left" valign="top" scope="row"><p><a href="rmtaskproj-6.html#rmtaskproj-9"><tt>project</tt> Database</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Prioritize
the workloads on your system.</p></td>
<td align="left" valign="top" scope="row"><p>Determine which applications are critical. These workloads might
require preferential access to resources.</p></td>
<td align="left" valign="top" scope="row"><p>Refer to your business service goals.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Monitor real-time activity on
your system.</p></td>
<td align="left" valign="top" scope="row"><p>Use performance tools to view the current resource consumption of workloads that
are running on your system. You can then evaluate whether you must
restrict access to a given resource or isolate particular workloads from other workloads.</p></td>
<td align="left" valign="top" scope="row"><p><a href="rmconsole-8.html#rmconsole-5">Monitoring by System</a>
and <a href="http://docs.sun.com/doc/819-2240/cpustat-1m?a=view"><tt>cpustat</tt>(1M)</a>, <a href="http://docs.sun.com/doc/819-2240/iostat-1m?a=view"><tt>iostat</tt>(1M)</a>, <a href="http://docs.sun.com/doc/819-2240/mpstat-1m?a=view"><tt>mpstat</tt>(1M)</a>, <a href="http://docs.sun.com/doc/819-2240/prstat-1m?a=view"><tt>prstat</tt>(1M)</a>, <a href="http://docs.sun.com/doc/819-2239/sar-1?a=view"><tt>sar</tt>(1)</a>, and <a href="http://docs.sun.com/doc/819-2240/vmstat-1m?a=view"><tt>vmstat</tt>(1M)</a> man pages</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Make temporary modifications
to the workloads that are running on your system.</p></td>
<td align="left" valign="top" scope="row"><p>To determine which values can
be altered, refer to the resource controls that are available in the Solaris
system. You can update the values from the command line while the task
or process is running.</p></td>
<td align="left" valign="top" scope="row"><p><a href="rmctrls-3.html#rmctrls-4">Available Resource Controls</a>, <a href="rmctrls-3.html#rmctrls-7">Global and Local Actions on Resource Control Values</a>, <a href="rmctrls-13.html">Temporarily Updating Resource Control Values on a Running System</a> and <a href="http://docs.sun.com/doc/819-2240/rctladm-1m?a=view"><tt>rctladm</tt>(1M)</a> and <a href="http://docs.sun.com/doc/819-2239/prctl-1?a=view"><tt>prctl</tt>(1)</a> man pages.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Set
resource controls and project attributes for every project entry in the <tt>project</tt> database
or naming service project database.</p></td>
<td align="left" valign="top" scope="row"><p>Each project entry in the <tt>/etc/project</tt> file or the
naming service project database can contain one or more resource controls or attributes.
Resource controls constrain tasks and processes attached to that project. For each threshold
value that is placed on a resource control, you can associate one or
more actions to be taken when that value is reached.</p><p>You can set
resource controls by using the command-line interface. Certain configuration parameters can also be
set by using the Solaris Management Console.</p></td>
<td align="left" valign="top" scope="row"><p><a href="rmtaskproj-6.html#rmtaskproj-9"><tt>project</tt> Database</a>, <a href="rmtaskproj-6.html#rmtaskproj-12">Local <tt>/etc/project</tt> File Format</a>, <a href="rmctrls-3.html#rmctrls-4">Available Resource Controls</a>, <a href="rmctrls-3.html#rmctrls-7">Global and Local Actions on Resource Control Values</a>, and <a href="rmfss-1.html">Chapter&nbsp;8, Fair Share Scheduler (Overview)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Place an
upper bound on the resource consumption of physical memory by collections of processes
attached to a project.</p></td>
<td align="left" valign="top" scope="row"><p>The resource cap enforcement daemon will enforce the physical
memory resource cap defined for the project's <tt>rcap.max-rss</tt> attribute in the <tt>/etc/project</tt> file.</p></td>
<td align="left" valign="top" scope="row"><p><a href="rmtaskproj-6.html#rmtaskproj-9"><tt>project</tt> Database</a> and
<a href="rm.rcapd-1.html">Chapter&nbsp;10, Physical Memory Control Using the Resource Capping Daemon (Overview)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Create resource pool configurations.</p></td>
<td align="left" valign="top" scope="row"><p>Resource pools provide a way to partition system resources,
such as processors, and maintain those partitions across reboots. You can add one
<tt>project.pool</tt> attribute to each entry in the <tt>/etc/project</tt> file.</p></td>
<td align="left" valign="top" scope="row"><p><a href="rmtaskproj-6.html#rmtaskproj-9"><tt>project</tt> Database</a> and <a href="rmpool-1.html">Chapter&nbsp;12, Resource Pools (Overview)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Make the
fair share scheduler (FSS) your default system scheduler.</p></td>
<td align="left" valign="top" scope="row"><p>Ensure that all user processes
in either a single CPU system or a processor set belong to the
same scheduling class.</p></td>
<td align="left" valign="top" scope="row"><p><a href="rmfss.task-5.html">Configuring the FSS</a> and <a href="http://docs.sun.com/doc/819-2240/dispadmin-1m?a=view"><tt>dispadmin</tt>(1M)</a> man page</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Activate the extended accounting facility to
monitor and record resource consumption on a task or process basis.</p></td>
<td align="left" valign="top" scope="row"><p>Use extended accounting
data to assess current resource controls and to plan capacity requirements for future
workloads. Aggregate usage on a system-wide basis can be tracked. To obtain complete
usage statistics for related workloads that span more than one system, the project
name can be shared across several machines.</p></td>
<td align="left" valign="top" scope="row"><p><a href="rmacct.task-3.html#rmacct.task-2">How to Activate Extended Accounting for Processes, Tasks, and Flows</a> and <a href="http://docs.sun.com/doc/819-2240/acctadm-1m?a=view"><tt>acctadm</tt>(1M)</a> man page</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>(Optional) If you
need to make additional adjustments to your configuration, you can continue to alter
the values from the command line. You can alter the values while the
task or process is running.</p></td>
<td align="left" valign="top" scope="row"><p>Modifications to existing tasks can be applied on
a temporary basis without restarting the project. Tune the values until you are
satisfied with the performance. Then, update the current values in the <tt>/etc/project</tt> file or
in the naming service project database.</p></td>
<td align="left" valign="top" scope="row"><p><a href="rmctrls-13.html">Temporarily Updating Resource Control Values on a Running System</a> and <a href="http://docs.sun.com/doc/819-2240/rctladm-1m?a=view"><tt>rctladm</tt>(1M)</a> and <a href="http://docs.sun.com/doc/819-2239/prctl-1?a=view"><tt>prctl</tt>(1)</a> man pages</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>(Optional)
Capture extended accounting data.</p></td>
<td align="left" valign="top" scope="row"><p>Write extended accounting records for active processes and active
tasks. The files that are produced can be used for planning, chargeback, and
billing purposes. There is also a Practical Extraction and Report Language (Perl) interface to
<tt>libexacct</tt> that enables you to develop customized reporting and extraction scripts.</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-2240/wracct-1m?a=view"><tt>wracct</tt>(1M)</a> man page and
<a href="rmacct-7.html">Perl Interface to <tt>libexacct</tt></a></p></td>
</tr>
</table>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="rmintro-2.html">Previous</a>
             </td>
             <td align="right">
                 <a href="rmtaskproj-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

