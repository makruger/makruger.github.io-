<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>About Halting, Rebooting, and Uninstalling Zones - System Administration Guide:  Virtualization Using the Solaris Operating System</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-04-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide:  Virtualization Using the Solaris Operating System</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="z.inst.ov-4.html">Previous</a>
             </td>
             <td align="right">
                 <a href="gcrsy.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="preface-3.html">Solaris Virtualization Product Overview</a></p>
<p class="toc level1 tocsp"><a href="resource.html">Part&nbsp;I&nbsp;Resource Management</a></p>
<p class="toc level2"><a href="rmintro-1.html">1.&nbsp;&nbsp;Introduction to Solaris Resource Management</a></p>
<p class="toc level2"><a href="rmtaskproj-1.html">2.&nbsp;&nbsp;Projects and Tasks (Overview)</a></p>
<p class="toc level2"><a href="rmtaskproj.task-37.html">3.&nbsp;&nbsp;Administering Projects and Tasks</a></p>
<p class="toc level2"><a href="rmacct-1.html">4.&nbsp;&nbsp;Extended Accounting (Overview)</a></p>
<p class="toc level2"><a href="rmacct.task.sgm.html">5.&nbsp;&nbsp;Administering Extended Accounting (Tasks)</a></p>
<p class="toc level2"><a href="rmctrls-1.html">6.&nbsp;&nbsp;Resource Controls (Overview)</a></p>
<p class="toc level2"><a href="rmctrls.task-1.html">7.&nbsp;&nbsp;Administering Resource Controls (Tasks)</a></p>
<p class="toc level2"><a href="rmfss-1.html">8.&nbsp;&nbsp;Fair Share Scheduler (Overview)</a></p>
<p class="toc level2"><a href="rmfss.task-1.html">9.&nbsp;&nbsp;Administering the Fair Share Scheduler (Tasks)</a></p>
<p class="toc level2"><a href="rm.rcapd-1.html">10.&nbsp;&nbsp;Physical Memory Control Using the Resource Capping Daemon (Overview)</a></p>
<p class="toc level2"><a href="rm.rcapd.task-1.html">11.&nbsp;&nbsp;Administering the Resource Capping Daemon (Tasks)</a></p>
<p class="toc level2"><a href="rmpool-1.html">12.&nbsp;&nbsp;Resource Pools (Overview)</a></p>
<p class="toc level2"><a href="rmpool.task-1.html">13.&nbsp;&nbsp;Creating and Administering Resource Pools (Tasks)</a></p>
<p class="toc level2"><a href="rmconfig-1.html">14.&nbsp;&nbsp;Resource Management Configuration Example</a></p>
<p class="toc level2"><a href="rmconsole-1.html">15.&nbsp;&nbsp;Resource Control Functionality in the Solaris Management Console</a></p>
<p class="toc level1 tocsp"><a href="zone.html">Part&nbsp;II&nbsp;Zones</a></p>
<p class="toc level2"><a href="zones.intro-1.html">16.&nbsp;&nbsp;Introduction to Solaris Zones</a></p>
<p class="toc level2"><a href="z.config.ov-1.html">17.&nbsp;&nbsp;Non-Global Zone Configuration (Overview)</a></p>
<p class="toc level2"><a href="z.conf.start-1.html">18.&nbsp;&nbsp;Planning and Configuring Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="z.inst.ov-1.html">19.&nbsp;&nbsp;About Installing, Halting, Cloning, and Uninstalling Non-Global Zones (Overview)</a></p>
<p class="toc level3"><a href="z.inst.ov-2.html">Zone Installation and Administration Concepts</a></p>
<p class="toc level3"><a href="z.inst.ov-3.html">Zone Construction</a></p>
<p class="toc level3"><a href="z.inst.ov-12.html">The <tt>zoneadmd</tt> Daemon</a></p>
<p class="toc level3"><a href="z.inst.ov-13.html">The <tt>zsched</tt> Zone Scheduler</a></p>
<p class="toc level3"><a href="z.inst.ov-4.html">Zone Application Environment</a></p>
<div class="onpage">
<p class="toc level3"><a href="">About Halting, Rebooting, and Uninstalling Zones</a></p>
</div>
<p class="toc level3"><a href="gcrsy.html">About Cloning Non-Global Zones</a></p>
<p class="toc level2 tocsp"><a href="z.inst.task-1.html">20.&nbsp;&nbsp;Installing, Booting, Halting, Uninstalling,  and Cloning Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="z.login.ov-1.html">21.&nbsp;&nbsp;Non-Global Zone Login (Overview)</a></p>
<p class="toc level2"><a href="z.login.task-1.html">22.&nbsp;&nbsp;Logging In to Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="gcgnc.html">23.&nbsp;&nbsp;Moving and Migrating Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="z.pkginst.ov-1.html">24.&nbsp;&nbsp;About Packages and Patches on a Solaris System With Zones Installed (Overview)</a></p>
<p class="toc level2"><a href="z.pkginst.task-1.html">25.&nbsp;&nbsp;Adding and Removing Packages and Patches on a Solaris System With Zones Installed (Tasks)</a></p>
<p class="toc level2"><a href="z.admin.ov-1.html">26.&nbsp;&nbsp;Solaris Zones Administration (Overview)</a></p>
<p class="toc level2"><a href="z.admin.task-1.html">27.&nbsp;&nbsp;Administering Solaris Zones (Tasks)</a></p>
<p class="toc level2"><a href="gclkx.html">28.&nbsp;&nbsp;Troubleshooting Miscellaneous Solaris Zones Problems</a></p>
<p class="toc level1 tocsp"><a href="gchhk.html">Part&nbsp;III&nbsp;Branded Zones</a></p>
<p class="toc level2"><a href="gchhy.html">29.&nbsp;&nbsp;About Branded Zones and the Linux Branded Zone</a></p>
<p class="toc level2"><a href="gcwwm.html">30.&nbsp;&nbsp;Planning the <tt>lx</tt> Branded Zone Configuration (Overview)</a></p>
<p class="toc level2"><a href="gdajn.html">31.&nbsp;&nbsp;Configuring the <tt>lx</tt> Branded Zone (Tasks)</a></p>
<p class="toc level2"><a href="gdbki.html">32.&nbsp;&nbsp;About Installing, Booting, Halting, Cloning, and Uninstalling <tt>lx</tt> Branded Zones (Overview)</a></p>
<p class="toc level2"><a href="gdduh.html">33.&nbsp;&nbsp;Installing, Booting, Halting, Uninstalling and Cloning <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level2"><a href="gdgck.html">34.&nbsp;&nbsp;Logging In to <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level2"><a href="gdqnv.html">35.&nbsp;&nbsp;Moving and Migrating <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level2"><a href="gdgif.html">36.&nbsp;&nbsp;Administering and Running Applications in <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gefwp.html">Part&nbsp;IV&nbsp;Sun xVM</a></p>
<p class="toc level2"><a href="gfwrc.html">37.&nbsp;&nbsp;Sun xVM Hypervisor System Requirements</a></p>
<p class="toc level2"><a href="gefwo.html">38.&nbsp;&nbsp;Booting and Running the Sun xVM Hypervisor</a></p>
<p class="toc level2"><a href="gfwcu.html">39.&nbsp;&nbsp;Xvnc</a></p>
<p class="toc level2"><a href="gfqke.html">40.&nbsp;&nbsp;Using <tt>virt-install</tt> to Install a Domain</a></p>
<p class="toc level2"><a href="gfwlm.html">41.&nbsp;&nbsp;xVM System Administration</a></p>
<p class="toc level2"><a href="gefzh.html">42.&nbsp;&nbsp;Troubleshooting Miscellaneous Sun xVM Problems</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="z.inst.ov-6"></a><h3>About Halting, Rebooting, and Uninstalling Zones</h3>
<p>This section provides an overview of the procedures for halting, rebooting, uninstalling, and
cloning zones.</p>

<a name="z.inst.ov-7"></a><h4>Halting a Zone</h4>
<p><a name="indexterm-243"></a><a name="indexterm-244"></a><a name="indexterm-245"></a>The <tt>zoneadm</tt> <tt>halt</tt> command is used to remove both the application environment and
the virtual platform for a zone. The zone is then brought back to
the installed state. All processes are killed, devices are unconfigured, network interfaces are
destroyed, file systems are unmounted, and the kernel data structures are destroyed.</p><p>The <tt>halt</tt> command does <b>not</b> run any shutdown scripts within the zone. To
shut down a zone, see <a href="z.login.task-2.html#z.login.task-25">How to Use <tt>zlogin</tt> to Shut Down a Zone</a>.</p><p>If the halt operation fails, see <a href="gcrsr.html">Zone Does Not Halt</a>.</p>

<a name="z.inst.ov-8"></a><h4>Rebooting a Zone</h4>
<p><a name="indexterm-246"></a><a name="indexterm-247"></a>The <tt>zoneadm</tt> <tt>reboot</tt> command is used to reboot a zone. The zone is
halted and then booted again. The zone ID will change when the
zone is rebooted.</p>

<a name="gdepq"></a><h4>Zone Boot Arguments</h4>
<p><a name="indexterm-248"></a>Zones support the following boot arguments used with the <tt>zoneadm</tt> <tt>boot</tt> and
<tt>reboot</tt> commands:</p>
<ul><li><p><tt>-i</tt> <i>altinit</i></p></li>
<li><p><tt>-m</tt> <i>smf_options</i></p></li>
<li><p><tt>-s</tt></p></li></ul>
<p>The following definitions apply:</p><dl><dt><tt>-i</tt> <i>altinit</i></dt>
<dd><p>Selects an alternative executable to be the first process. <i>altinit</i> must be a valid path to an executable. The default first process is described in <a href="http://docs.sun.com/doc/819-2240/init-1m?a=view"><tt>init</tt>(1M)</a>.</p></dd>
<dt><tt>-m</tt> <i>smf_options</i></dt>
<dd><p>Controls the boot behavior of SMF. There are two categories of options, recovery options and messages options. Message options determine the type and number of messages that displays during boot. Service options determine the services that are used to boot the system.</p><p>Recovery options include the following:</p><dl><dt>debug</dt>
<dd><p>Prints standard per-service output and all <tt>svc.startd</tt> messages to log.</p></dd>
<dt><tt>milestone=</tt><i>milestone</i></dt>
<dd><p>Boot to the subgraph defined by the given milestone. Legitimate  milestones are <tt>none</tt>, <tt>single-user</tt>, <tt>multi-user</tt>, <tt>multi-user-server</tt>, and <tt>all</tt>.</p></dd>
</dl>
<p>Message options include the following:</p><dl><dt><tt>quiet</tt></dt>
<dd><p>Prints standard per-service output and error messages requiring administrative intervention</p></dd>
<dt><tt>verbose</tt></dt>
<dd><p>Prints standard per-service output and messages providing more information.</p></dd>
</dl>
</dd>
<dt><tt>-s</tt></dt>
<dd><p>Boots only to milestone <tt>svc:/milestone/single-user:default</tt>. This milestone is equivalent to <tt>init</tt> level <tt>s</tt>.</p></dd>
</dl>
<p>For usage examples, see <a href="z.inst.task-2.html#z.inst.task-13">How to Boot a Zone</a> and <a href="z.inst.task-2.html#fnjyv">How to Boot a Zone in Single-User Mode</a>. </p><p>For information on the Solaris service management facility (SMF) and <tt>init</tt> ,
see <a href="http://docs.sun.com/doc/819-2379/hbrunlevels-25516?a=view">Chapter 15, Managing Services (Overview), in <i>System Administration Guide: Basic Administration</i></a>, <a href="http://docs.sun.com/doc/819-2240/svc.startd-1m?a=view"><tt>svc.startd</tt>(1M)</a> and <a href="http://docs.sun.com/doc/819-2240/init-1m?a=view"><tt>init</tt>(1M)</a>.</p>

<a name="z.inst.ov-9"></a><h4>Zone <tt>autoboot</tt></h4>
<p>If you set the <tt>autoboot</tt> resource property in a zone's configuration to <tt>true</tt>,
that zone is automatically booted when the global zone is booted. The default
setting is <tt>false</tt>.</p><p>Note that for zones to autoboot, the zones service <tt>svc:/system/zones:default</tt> must also
be enabled.</p>

<a name="z.inst.ov-10"></a><h4>Uninstalling a Zone</h4>
<p>The <tt>zoneadm</tt> <tt>uninstall</tt> command is used to uninstall all of the files under
the zone's root file system. Before proceeding, the command prompts you to confirm
the action, unless the <tt>-F</tt> (force) option is also used. Use the <tt>uninstall</tt>
command with caution, because the action is irreversible.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="z.inst.ov-4.html">Previous</a>
             </td>
             <td align="right">
                 <a href="gcrsy.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

