<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title><tt>zonecfg</tt> Modes - System Administration Guide:  Virtualization Using the Solaris Operating System</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-04-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide:  Virtualization Using the Solaris Operating System</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="z.config.ov-5.html">Previous</a>
             </td>
             <td align="right">
                 <a href="z.config.ov-12.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="preface-3.html">Solaris Virtualization Product Overview</a></p>
<p class="toc level1 tocsp"><a href="resource.html">Part&nbsp;I&nbsp;Resource Management</a></p>
<p class="toc level2"><a href="rmintro-1.html">1.&nbsp;&nbsp;Introduction to Solaris Resource Management</a></p>
<p class="toc level2"><a href="rmtaskproj-1.html">2.&nbsp;&nbsp;Projects and Tasks (Overview)</a></p>
<p class="toc level2"><a href="rmtaskproj.task-37.html">3.&nbsp;&nbsp;Administering Projects and Tasks</a></p>
<p class="toc level2"><a href="rmacct-1.html">4.&nbsp;&nbsp;Extended Accounting (Overview)</a></p>
<p class="toc level2"><a href="rmacct.task.sgm.html">5.&nbsp;&nbsp;Administering Extended Accounting (Tasks)</a></p>
<p class="toc level2"><a href="rmctrls-1.html">6.&nbsp;&nbsp;Resource Controls (Overview)</a></p>
<p class="toc level2"><a href="rmctrls.task-1.html">7.&nbsp;&nbsp;Administering Resource Controls (Tasks)</a></p>
<p class="toc level2"><a href="rmfss-1.html">8.&nbsp;&nbsp;Fair Share Scheduler (Overview)</a></p>
<p class="toc level2"><a href="rmfss.task-1.html">9.&nbsp;&nbsp;Administering the Fair Share Scheduler (Tasks)</a></p>
<p class="toc level2"><a href="rm.rcapd-1.html">10.&nbsp;&nbsp;Physical Memory Control Using the Resource Capping Daemon (Overview)</a></p>
<p class="toc level2"><a href="rm.rcapd.task-1.html">11.&nbsp;&nbsp;Administering the Resource Capping Daemon (Tasks)</a></p>
<p class="toc level2"><a href="rmpool-1.html">12.&nbsp;&nbsp;Resource Pools (Overview)</a></p>
<p class="toc level2"><a href="rmpool.task-1.html">13.&nbsp;&nbsp;Creating and Administering Resource Pools (Tasks)</a></p>
<p class="toc level2"><a href="rmconfig-1.html">14.&nbsp;&nbsp;Resource Management Configuration Example</a></p>
<p class="toc level2"><a href="rmconsole-1.html">15.&nbsp;&nbsp;Resource Control Functionality in the Solaris Management Console</a></p>
<p class="toc level1 tocsp"><a href="zone.html">Part&nbsp;II&nbsp;Zones</a></p>
<p class="toc level2"><a href="zones.intro-1.html">16.&nbsp;&nbsp;Introduction to Solaris Zones</a></p>
<p class="toc level2"><a href="z.config.ov-1.html">17.&nbsp;&nbsp;Non-Global Zone Configuration (Overview)</a></p>
<p class="toc level3"><a href="gejut.html">About Resources in Zones</a></p>
<p class="toc level3"><a href="z.config.ov-2.html">Pre-Installation Configuration Process</a></p>
<p class="toc level3"><a href="z.config.ov-3.html">Zone Components</a></p>
<p class="toc level3"><a href="z.config.ov-5.html">Using the <tt>zonecfg</tt> Command</a></p>
<div class="onpage">
<p class="toc level3"><a href=""><tt>zonecfg</tt> Modes</a></p>
</div>
<p class="toc level3"><a href="z.config.ov-12.html">Zone Configuration Data</a></p>
<p class="toc level3"><a href="z.config.ov-18.html">Tecla Command-Line Editing Library</a></p>
<p class="toc level2 tocsp"><a href="z.conf.start-1.html">18.&nbsp;&nbsp;Planning and Configuring Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="z.inst.ov-1.html">19.&nbsp;&nbsp;About Installing, Halting, Cloning, and Uninstalling Non-Global Zones (Overview)</a></p>
<p class="toc level2"><a href="z.inst.task-1.html">20.&nbsp;&nbsp;Installing, Booting, Halting, Uninstalling,  and Cloning Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="z.login.ov-1.html">21.&nbsp;&nbsp;Non-Global Zone Login (Overview)</a></p>
<p class="toc level2"><a href="z.login.task-1.html">22.&nbsp;&nbsp;Logging In to Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="gcgnc.html">23.&nbsp;&nbsp;Moving and Migrating Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="z.pkginst.ov-1.html">24.&nbsp;&nbsp;About Packages and Patches on a Solaris System With Zones Installed (Overview)</a></p>
<p class="toc level2"><a href="z.pkginst.task-1.html">25.&nbsp;&nbsp;Adding and Removing Packages and Patches on a Solaris System With Zones Installed (Tasks)</a></p>
<p class="toc level2"><a href="z.admin.ov-1.html">26.&nbsp;&nbsp;Solaris Zones Administration (Overview)</a></p>
<p class="toc level2"><a href="z.admin.task-1.html">27.&nbsp;&nbsp;Administering Solaris Zones (Tasks)</a></p>
<p class="toc level2"><a href="gclkx.html">28.&nbsp;&nbsp;Troubleshooting Miscellaneous Solaris Zones Problems</a></p>
<p class="toc level1 tocsp"><a href="gchhk.html">Part&nbsp;III&nbsp;Branded Zones</a></p>
<p class="toc level2"><a href="gchhy.html">29.&nbsp;&nbsp;About Branded Zones and the Linux Branded Zone</a></p>
<p class="toc level2"><a href="gcwwm.html">30.&nbsp;&nbsp;Planning the <tt>lx</tt> Branded Zone Configuration (Overview)</a></p>
<p class="toc level2"><a href="gdajn.html">31.&nbsp;&nbsp;Configuring the <tt>lx</tt> Branded Zone (Tasks)</a></p>
<p class="toc level2"><a href="gdbki.html">32.&nbsp;&nbsp;About Installing, Booting, Halting, Cloning, and Uninstalling <tt>lx</tt> Branded Zones (Overview)</a></p>
<p class="toc level2"><a href="gdduh.html">33.&nbsp;&nbsp;Installing, Booting, Halting, Uninstalling and Cloning <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level2"><a href="gdgck.html">34.&nbsp;&nbsp;Logging In to <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level2"><a href="gdqnv.html">35.&nbsp;&nbsp;Moving and Migrating <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level2"><a href="gdgif.html">36.&nbsp;&nbsp;Administering and Running Applications in <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gefwp.html">Part&nbsp;IV&nbsp;Sun xVM</a></p>
<p class="toc level2"><a href="gfwrc.html">37.&nbsp;&nbsp;Sun xVM Hypervisor System Requirements</a></p>
<p class="toc level2"><a href="gefwo.html">38.&nbsp;&nbsp;Booting and Running the Sun xVM Hypervisor</a></p>
<p class="toc level2"><a href="gfwcu.html">39.&nbsp;&nbsp;Xvnc</a></p>
<p class="toc level2"><a href="gfqke.html">40.&nbsp;&nbsp;Using <tt>virt-install</tt> to Install a Domain</a></p>
<p class="toc level2"><a href="gfwlm.html">41.&nbsp;&nbsp;xVM System Administration</a></p>
<p class="toc level2"><a href="gefzh.html">42.&nbsp;&nbsp;Troubleshooting Miscellaneous Sun xVM Problems</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="z.config.ov-10"></a><h3><tt>zonecfg</tt> Modes</h3>
<p><a name="indexterm-193"></a><a name="indexterm-194"></a>The concept of  a <b>scope</b> is used for the user interface. The
scope can be either <b>global</b> or <b>resource specific</b>. The default scope is global.</p><p><a name="indexterm-195"></a><a name="indexterm-196"></a>In the global scope, the <tt>add</tt> subcommand and the <tt>select</tt> subcommand are used to
select a specific resource. The scope then changes to that resource type.</p>
<ul><li><p>For the <tt>add</tt> subcommand, the <tt>end</tt> or <tt>cancel</tt> subcommands are used to complete the resource specification.</p></li>
<li><p>For the <tt>select</tt> subcommand, the <tt>end</tt> or <tt>cancel</tt> subcommands are used to complete the resource modification.</p></li></ul>
<p>The scope then reverts back to global.</p><p>Certain subcommands, such as <tt>add</tt>, <tt>remove</tt>, and <tt>set</tt>,  have  different semantics
in each scope.</p>

<a name="z.config.ov-4"></a><h4><tt>zonecfg</tt> Interactive Mode</h4>
<p><a name="indexterm-197"></a>In interactive mode, the following subcommands are supported. For detailed information about semantics
and options used with the subcommands, see the <tt>zonecfg</tt>(1M) man page for options.
For any subcommand that could result in destructive actions or  loss of
work, the system requests user confirmation before proceeding. You can use the <tt>-F</tt>
(force) option to bypass this confirmation.</p><dl><dt><tt>help</tt></dt>
<dd><p>Print general help, or display help about a given resource.</p><pre>zonecfg:my-zone:inherit-pkg-dir> <tt><b>help</b></tt></pre></dd>
<dt><tt>create</tt></dt>
<dd><p>Begin configuring an in-memory configuration for the specified new zone for one of these purposes:</p>
<ul><li><p>To apply the Sun default settings to a new configuration. This method is the default.</p></li>
<li><p>With the <tt>-t</tt> <i>template</i> option, to create a configuration that is identical to the specified template. The zone name is changed from the template name to the new zone name.</p></li>
<li><p>With the <tt>-F</tt> option, to overwrite an existing configuration.</p></li>
<li><p>With the <tt>-b</tt> option, to create a blank configuration in which nothing is set.</p></li></ul>
</dd>
<dt><tt>export</tt></dt>
<dd><p>Print the configuration to standard output, or to the output file specified, in a form that can be used in a command file.</p></dd>
<dt><tt>add</tt></dt>
<dd><p>In the global scope, add the specified resource type to the configuration.</p><p>In the resource scope, add a property of the given name with the given value.</p><p>See <a href="z.conf.start-85.html#z.conf.start-29">How to Configure the Zone</a> and the <tt>zonecfg</tt>(1M) man page for more information.</p></dd>
<dt><tt>set</tt></dt>
<dd><p>Set a given property name to the given property value. Note that some properties, such as <tt>zonepath</tt>, are global, while others are resource specific. Thus, this command is applicable in both the global and resource scopes.</p></dd>
<dt><tt>select</tt></dt>
<dd><p>Applicable only in the global scope. Select the resource of the given type that matches the given property name-property value pair criteria for modification. The scope is changed to that resource type. You must specify a sufficient number of property name-value pairs for the resource to be uniquely identified.</p></dd>
<dt><tt>clear</tt></dt>
<dd><p>Clear the value for optional settings. Required settings cannot be cleared. However, some required settings can be changed by assigning a new value.</p></dd>
<dt><tt>remove</tt></dt>
<dd><p>In the global scope, remove the specified resource type. You must specify a sufficient number of property name-value pairs for the resource type to be uniquely identified. If no property name-value pairs are specified, all instances will be removed. If more than one exists, a confirmation is required unless the <tt>-F</tt> option is used.</p><p>In the resource scope, remove the specified property name-property value from the current resource.</p></dd>
<dt><tt>end</tt></dt>
<dd><p>Applicable only in the resource scope. End the resource specification.</p><p>The <tt>zonecfg</tt> command then verifies that the current resource is fully specified.</p>
<ul><li><p>If the resource is fully specified, it is added to the in-memory configuration and the scope will revert back to global.</p></li>
<li><p>If the specification is incomplete, the system displays an error message that describes what needs to be done.</p></li></ul>
</dd>
<dt><tt>cancel</tt></dt>
<dd><p>Applicable only in the resource scope. End the resource specification and reset the scope to global. Any partially specified resources are not retained.</p></dd>
<dt><tt>delete</tt></dt>
<dd><p>Destroy the specified configuration. Delete the configuration both from memory and from stable storage. You must use the <tt>-F</tt> (force) option with <tt>delete</tt>.</p>
<hr><p><b>Caution - </b>This action is instantaneous. No commit is required, and a deleted zone cannot be reverted.</p>
<hr>
</dd>
<dt><tt>info</tt></dt>
<dd><p>Display information about the current configuration or the global resource properties <tt>zonepath</tt>, <tt>autoboot</tt>, and <tt>pool</tt>. If a resource type is specified, display information only about resources of that type. In the resource scope, this subcommand applies only to the resource being added or modified.</p></dd>
<dt><tt>verify</tt></dt>
<dd><p>Verify current configuration for correctness. Ensure that all resources have all of their required properties specified.</p></dd>
<dt><tt>commit</tt></dt>
<dd><p>Commit current configuration from memory to stable storage. Until the in-memory configuration is committed, changes can be removed with the <tt>revert</tt> subcommand. A configuration must be committed to be used by <tt>zoneadm</tt>. This operation is attempted automatically when you complete a <tt>zonecfg</tt> session. Because only a correct configuration can be committed, the commit operation automatically does a verify.</p></dd>
<dt><tt>revert</tt></dt>
<dd><p>Revert configuration back to the last committed state.</p></dd>
<dt><tt>exit</tt></dt>
<dd><p>Exit the <tt>zonecfg</tt> session. You can use the <tt>-F</tt> (force) option with <tt>exit</tt>.</p><p>A <tt>commit</tt> is automatically attempted if needed. Note that an EOF character can also be used to exit the session.</p></dd>
</dl>


<a name="z.config.ov-15"></a><h4><tt>zonecfg</tt> Command-File Mode</h4>
<p>In command-file mode, input is taken from a file. The <tt>export</tt> subcommand described
in <a href="#z.config.ov-4"><tt>zonecfg</tt> Interactive Mode</a> is used to produce this file. The configuration can be printed
to standard output, or the <tt>-f</tt> option can be used to specify an
output file.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="z.config.ov-5.html">Previous</a>
             </td>
             <td align="right">
                 <a href="z.config.ov-12.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

