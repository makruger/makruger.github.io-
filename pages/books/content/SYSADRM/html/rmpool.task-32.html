<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Activating and Removing Pool Configurations - System Administration Guide:  Virtualization Using the Solaris Operating System</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-04-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide:  Virtualization Using the Solaris Operating System</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="rmpool.task-80.html">Previous</a>
             </td>
             <td align="right">
                 <a href="rmpool.task-41.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="preface-3.html">Solaris Virtualization Product Overview</a></p>
<p class="toc level1 tocsp"><a href="resource.html">Part&nbsp;I&nbsp;Resource Management</a></p>
<p class="toc level2"><a href="rmintro-1.html">1.&nbsp;&nbsp;Introduction to Solaris Resource Management</a></p>
<p class="toc level2"><a href="rmtaskproj-1.html">2.&nbsp;&nbsp;Projects and Tasks (Overview)</a></p>
<p class="toc level2"><a href="rmtaskproj.task-37.html">3.&nbsp;&nbsp;Administering Projects and Tasks</a></p>
<p class="toc level2"><a href="rmacct-1.html">4.&nbsp;&nbsp;Extended Accounting (Overview)</a></p>
<p class="toc level2"><a href="rmacct.task.sgm.html">5.&nbsp;&nbsp;Administering Extended Accounting (Tasks)</a></p>
<p class="toc level2"><a href="rmctrls-1.html">6.&nbsp;&nbsp;Resource Controls (Overview)</a></p>
<p class="toc level2"><a href="rmctrls.task-1.html">7.&nbsp;&nbsp;Administering Resource Controls (Tasks)</a></p>
<p class="toc level2"><a href="rmfss-1.html">8.&nbsp;&nbsp;Fair Share Scheduler (Overview)</a></p>
<p class="toc level2"><a href="rmfss.task-1.html">9.&nbsp;&nbsp;Administering the Fair Share Scheduler (Tasks)</a></p>
<p class="toc level2"><a href="rm.rcapd-1.html">10.&nbsp;&nbsp;Physical Memory Control Using the Resource Capping Daemon (Overview)</a></p>
<p class="toc level2"><a href="rm.rcapd.task-1.html">11.&nbsp;&nbsp;Administering the Resource Capping Daemon (Tasks)</a></p>
<p class="toc level2"><a href="rmpool-1.html">12.&nbsp;&nbsp;Resource Pools (Overview)</a></p>
<p class="toc level2"><a href="rmpool.task-1.html">13.&nbsp;&nbsp;Creating and Administering Resource Pools (Tasks)</a></p>
<p class="toc level3"><a href="gentextid-6182.html">Administering Resource Pools (Task Map)</a></p>
<p class="toc level3"><a href="rmpool.task-57.html">Enabling and Disabling the Pools Facility</a></p>
<p class="toc level4"><a href="rmpool.task-57.html#gbvca">How to Enable the Resource Pools Service Using <tt>svcadm</tt></a></p>
<p class="toc level4"><a href="rmpool.task-57.html#gbvbg">How to Disable the Resource Pools Service Using <tt>svcadm</tt></a></p>
<p class="toc level4"><a href="rmpool.task-57.html#gbvdw">How to Enable the Dynamic Resource Pools Service Using <tt>svcadm</tt></a></p>
<p class="toc level4"><a href="rmpool.task-57.html#gbvda">How to Disable the Dynamic Resource Pools Service Using <tt>svcadm</tt></a></p>
<p class="toc level4"><a href="rmpool.task-57.html#rmpool.task-58">How to Enable Resource Pools Using <tt>pooladm</tt></a></p>
<p class="toc level4"><a href="rmpool.task-57.html#rmpool.task-62">How to Disable Resource Pools Using <tt>pooladm</tt></a></p>
<p class="toc level3 tocsp"><a href="rmpool.task-2.html">Configuring Pools</a></p>
<p class="toc level4"><a href="rmpool.task-2.html#rmpool.task-84">How to Create a Static Configuration</a></p>
<p class="toc level4"><a href="rmpool.task-2.html#rmpool.task-15">How to Modify a Configuration</a></p>
<p class="toc level4"><a href="rmpool.task-2.html#rmpool.task-22">How to Associate a Pool With a Scheduling Class</a></p>
<p class="toc level4"><a href="rmpool.task-2.html#gcvwh">How to Set Configuration Constraints</a></p>
<p class="toc level4"><a href="rmpool.task-2.html#rmpool.task-108">How to Define Configuration Objectives</a></p>
<p class="toc level4"><a href="rmpool.task-2.html#rmpool.task-117">How to Set the <tt>poold</tt> Logging Level</a></p>
<p class="toc level4"><a href="rmpool.task-2.html#rmpool.task-27">How to Use Command Files With <tt>poolcfg</tt></a></p>
<p class="toc level3 tocsp"><a href="rmpool.task-80.html">Transferring Resources</a></p>
<p class="toc level4"><a href="rmpool.task-80.html#gentextid-6737">How to Move CPUs Between Processor Sets</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Activating and Removing Pool Configurations</a></p>
<p class="toc level4"><a href="#rmpool.task-33">How to Activate a Pools Configuration</a></p>
<p class="toc level4"><a href="#rmpool.task-66">How to Validate a Configuration Before Committing the Configuration</a></p>
<p class="toc level4"><a href="#rmpool.task-37">How to Remove a Pools Configuration</a></p>
</div>
<p class="toc level3 tocsp"><a href="rmpool.task-41.html">Setting Pool Attributes and Binding to a Pool</a></p>
<p class="toc level4"><a href="rmpool.task-41.html#rmpool.task-42">How to Bind Processes to a Pool</a></p>
<p class="toc level4"><a href="rmpool.task-41.html#rmpool.task-46">How to Bind Tasks or Projects to a Pool</a></p>
<p class="toc level4"><a href="rmpool.task-41.html#rmpool.task-50">How to Set the <tt>project.pool</tt> Attribute for a Project</a></p>
<p class="toc level4"><a href="rmpool.task-41.html#rmpool.task-51">How to Use <tt>project</tt> Attributes to Bind a Process to a Different Pool</a></p>
<p class="toc level3 tocsp"><a href="rmpool.task-104.html">Using <tt>poolstat</tt> to Report Statistics for Pool-Related Resources</a></p>
<p class="toc level2 tocsp"><a href="rmconfig-1.html">14.&nbsp;&nbsp;Resource Management Configuration Example</a></p>
<p class="toc level2"><a href="rmconsole-1.html">15.&nbsp;&nbsp;Resource Control Functionality in the Solaris Management Console</a></p>
<p class="toc level1 tocsp"><a href="zone.html">Part&nbsp;II&nbsp;Zones</a></p>
<p class="toc level2"><a href="zones.intro-1.html">16.&nbsp;&nbsp;Introduction to Solaris Zones</a></p>
<p class="toc level2"><a href="z.config.ov-1.html">17.&nbsp;&nbsp;Non-Global Zone Configuration (Overview)</a></p>
<p class="toc level2"><a href="z.conf.start-1.html">18.&nbsp;&nbsp;Planning and Configuring Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="z.inst.ov-1.html">19.&nbsp;&nbsp;About Installing, Halting, Cloning, and Uninstalling Non-Global Zones (Overview)</a></p>
<p class="toc level2"><a href="z.inst.task-1.html">20.&nbsp;&nbsp;Installing, Booting, Halting, Uninstalling,  and Cloning Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="z.login.ov-1.html">21.&nbsp;&nbsp;Non-Global Zone Login (Overview)</a></p>
<p class="toc level2"><a href="z.login.task-1.html">22.&nbsp;&nbsp;Logging In to Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="gcgnc.html">23.&nbsp;&nbsp;Moving and Migrating Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="z.pkginst.ov-1.html">24.&nbsp;&nbsp;About Packages and Patches on a Solaris System With Zones Installed (Overview)</a></p>
<p class="toc level2"><a href="z.pkginst.task-1.html">25.&nbsp;&nbsp;Adding and Removing Packages and Patches on a Solaris System With Zones Installed (Tasks)</a></p>
<p class="toc level2"><a href="z.admin.ov-1.html">26.&nbsp;&nbsp;Solaris Zones Administration (Overview)</a></p>
<p class="toc level2"><a href="z.admin.task-1.html">27.&nbsp;&nbsp;Administering Solaris Zones (Tasks)</a></p>
<p class="toc level2"><a href="gclkx.html">28.&nbsp;&nbsp;Troubleshooting Miscellaneous Solaris Zones Problems</a></p>
<p class="toc level1 tocsp"><a href="gchhk.html">Part&nbsp;III&nbsp;Branded Zones</a></p>
<p class="toc level2"><a href="gchhy.html">29.&nbsp;&nbsp;About Branded Zones and the Linux Branded Zone</a></p>
<p class="toc level2"><a href="gcwwm.html">30.&nbsp;&nbsp;Planning the <tt>lx</tt> Branded Zone Configuration (Overview)</a></p>
<p class="toc level2"><a href="gdajn.html">31.&nbsp;&nbsp;Configuring the <tt>lx</tt> Branded Zone (Tasks)</a></p>
<p class="toc level2"><a href="gdbki.html">32.&nbsp;&nbsp;About Installing, Booting, Halting, Cloning, and Uninstalling <tt>lx</tt> Branded Zones (Overview)</a></p>
<p class="toc level2"><a href="gdduh.html">33.&nbsp;&nbsp;Installing, Booting, Halting, Uninstalling and Cloning <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level2"><a href="gdgck.html">34.&nbsp;&nbsp;Logging In to <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level2"><a href="gdqnv.html">35.&nbsp;&nbsp;Moving and Migrating <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level2"><a href="gdgif.html">36.&nbsp;&nbsp;Administering and Running Applications in <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gefwp.html">Part&nbsp;IV&nbsp;Sun xVM</a></p>
<p class="toc level2"><a href="gfwrc.html">37.&nbsp;&nbsp;Sun xVM Hypervisor System Requirements</a></p>
<p class="toc level2"><a href="gefwo.html">38.&nbsp;&nbsp;Booting and Running the Sun xVM Hypervisor</a></p>
<p class="toc level2"><a href="gfwcu.html">39.&nbsp;&nbsp;Xvnc</a></p>
<p class="toc level2"><a href="gfqke.html">40.&nbsp;&nbsp;Using <tt>virt-install</tt> to Install a Domain</a></p>
<p class="toc level2"><a href="gfwlm.html">41.&nbsp;&nbsp;xVM System Administration</a></p>
<p class="toc level2"><a href="gefzh.html">42.&nbsp;&nbsp;Troubleshooting Miscellaneous Sun xVM Problems</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="rmpool.task-32"></a><h3>Activating and Removing Pool Configurations</h3>
<p>Use the <tt>pooladm</tt> command to make a particular pool configuration active or to
remove the currently active pool configuration. See the <a href="http://docs.sun.com/doc/819-2240/pooladm-1m?a=view"><tt>pooladm</tt>(1M)</a> man page for more information
about this command.</p>

<a name="rmpool.task-33"></a><h4>How to Activate a Pools Configuration</h4><p><a name="indexterm-127"></a>To activate the configuration in the default configuration file, <tt>/etc/pooladm.conf</tt>, invoke <tt>pooladm</tt> with the
<tt>-c</tt> option, &ldquo;commit configuration.&rdquo;</p><ol>
<li><a name="rmpool.task-step-35"></a><b>Become superuser, or assume a role that includes the Process Management profile.</b><p>The System Administrator role includes the Process Management profile. For more information about
roles, see <a href="http://docs.sun.com/doc/819-2379/smcover-95?a=view">Using the Solaris Management Tools With RBAC (Task Map) in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="rmpool.task-step-74"></a><b>Commit the configuration at <tt>/etc/pooladm.conf</tt>.</b><pre># <tt><b>pooladm -c</b></tt></pre></li>
<li><a name="rmpool.task-step-94"></a><b>(Optional) Copy the dynamic configuration to a static configuration file, for example, <tt>/tmp/backup</tt>.</b><pre># <tt><b>pooladm -s /tmp/backup</b></tt></pre></li></ol>

<a name="rmpool.task-66"></a><h4>How to Validate a Configuration Before Committing the Configuration</h4><p>You can use the <tt>-n</tt> option with the <tt>-c</tt> option to test what
will happen when the validation occurs. The configuration will not actually be committed.</p><p>The following command attempts to validate the configuration contained at <tt>/home/admin/newconfig</tt>. Any error
conditions encountered are displayed, but the configuration itself is not modified.</p><ol>
<li><a name="rmpool.task-step-68"></a><b>Become superuser, or assume a role that includes the Process Management profile.</b><p>The System Administrator role includes the Process Management profile. For more information about
roles, see <a href="http://docs.sun.com/doc/819-2379/smcover-95?a=view">Using the Solaris Management Tools With RBAC (Task Map) in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="rmpool.task-step-69"></a><b>Test the validity of the configuration before committing it.</b><pre># <tt><b>pooladm -n -c /home/admin/newconfig</b></tt></pre></li></ol>

<a name="rmpool.task-37"></a><h4>How to Remove a Pools Configuration</h4><p><a name="indexterm-128"></a>To remove the current active configuration and return all associated resources, such as
processor sets, to their default status, use the <tt>-x</tt> option for &ldquo;remove configuration.&rdquo;</p><ol>
<li><a name="rmpool.task-step-39"></a><b>Become superuser, or assume a role that includes the Process Management profile.</b><p>The System Administrator role includes the Process Management profile. For more information about
roles, see <a href="http://docs.sun.com/doc/819-2379/smcover-95?a=view">Using the Solaris Management Tools With RBAC (Task Map) in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><a name="rmpool.task-step-40"></a><b>Remove the current active configuration.</b><pre># <tt><b>pooladm -x</b></tt></pre><p><a name="indexterm-129"></a><a name="indexterm-130"></a>The <tt>-x</tt> option to <tt>pooladm</tt> removes all user-defined elements from the dynamic configuration.
All resources revert to their default states, and all pool bindings are replaced
with a binding to the default pool.</p></li></ol><h6><h6>More Information</h6>Mixing Scheduling Classes Within a Processor Set<p>You can safely mix processes in the TS and IA classes in
the same processor set. Mixing other scheduling classes within one processor set can
lead to unpredictable results. If the use of <tt>pooladm</tt> <tt>-x</tt> results in mixed scheduling
classes within one processor set, use the <tt>priocntl</tt> command to move running processes
into a different scheduling class. See <a href="rmfss.task-5.html#rmfss.task-7">How to Manually Move Processes From the TS Class Into the FSS Class</a>. Also see the <a href="http://docs.sun.com/doc/819-2239/priocntl-1?a=view"><tt>priocntl</tt>(1)</a> man
page.</p></h6>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="rmpool.task-80.html">Previous</a>
             </td>
             <td align="right">
                 <a href="rmpool.task-41.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

