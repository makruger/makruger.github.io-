<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Resource Management Overview - System Administration Guide:  Virtualization Using the Solaris Operating System</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-04-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide:  Virtualization Using the Solaris Operating System</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="rmintro-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="rmintro-2.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="preface-3.html">Solaris Virtualization Product Overview</a></p>
<p class="toc level1 tocsp"><a href="resource.html">Part&nbsp;I&nbsp;Resource Management</a></p>
<p class="toc level2"><a href="rmintro-1.html">1.&nbsp;&nbsp;Introduction to Solaris Resource Management</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Resource Management Overview</a></p>
</div>
<p class="toc level3"><a href="rmintro-2.html">When to Use Resource Management</a></p>
<p class="toc level3"><a href="rmintro-29.html">Setting Up Resource Management (Task Map)</a></p>
<p class="toc level2 tocsp"><a href="rmtaskproj-1.html">2.&nbsp;&nbsp;Projects and Tasks (Overview)</a></p>
<p class="toc level2"><a href="rmtaskproj.task-37.html">3.&nbsp;&nbsp;Administering Projects and Tasks</a></p>
<p class="toc level2"><a href="rmacct-1.html">4.&nbsp;&nbsp;Extended Accounting (Overview)</a></p>
<p class="toc level2"><a href="rmacct.task.sgm.html">5.&nbsp;&nbsp;Administering Extended Accounting (Tasks)</a></p>
<p class="toc level2"><a href="rmctrls-1.html">6.&nbsp;&nbsp;Resource Controls (Overview)</a></p>
<p class="toc level2"><a href="rmctrls.task-1.html">7.&nbsp;&nbsp;Administering Resource Controls (Tasks)</a></p>
<p class="toc level2"><a href="rmfss-1.html">8.&nbsp;&nbsp;Fair Share Scheduler (Overview)</a></p>
<p class="toc level2"><a href="rmfss.task-1.html">9.&nbsp;&nbsp;Administering the Fair Share Scheduler (Tasks)</a></p>
<p class="toc level2"><a href="rm.rcapd-1.html">10.&nbsp;&nbsp;Physical Memory Control Using the Resource Capping Daemon (Overview)</a></p>
<p class="toc level2"><a href="rm.rcapd.task-1.html">11.&nbsp;&nbsp;Administering the Resource Capping Daemon (Tasks)</a></p>
<p class="toc level2"><a href="rmpool-1.html">12.&nbsp;&nbsp;Resource Pools (Overview)</a></p>
<p class="toc level2"><a href="rmpool.task-1.html">13.&nbsp;&nbsp;Creating and Administering Resource Pools (Tasks)</a></p>
<p class="toc level2"><a href="rmconfig-1.html">14.&nbsp;&nbsp;Resource Management Configuration Example</a></p>
<p class="toc level2"><a href="rmconsole-1.html">15.&nbsp;&nbsp;Resource Control Functionality in the Solaris Management Console</a></p>
<p class="toc level1 tocsp"><a href="zone.html">Part&nbsp;II&nbsp;Zones</a></p>
<p class="toc level2"><a href="zones.intro-1.html">16.&nbsp;&nbsp;Introduction to Solaris Zones</a></p>
<p class="toc level2"><a href="z.config.ov-1.html">17.&nbsp;&nbsp;Non-Global Zone Configuration (Overview)</a></p>
<p class="toc level2"><a href="z.conf.start-1.html">18.&nbsp;&nbsp;Planning and Configuring Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="z.inst.ov-1.html">19.&nbsp;&nbsp;About Installing, Halting, Cloning, and Uninstalling Non-Global Zones (Overview)</a></p>
<p class="toc level2"><a href="z.inst.task-1.html">20.&nbsp;&nbsp;Installing, Booting, Halting, Uninstalling,  and Cloning Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="z.login.ov-1.html">21.&nbsp;&nbsp;Non-Global Zone Login (Overview)</a></p>
<p class="toc level2"><a href="z.login.task-1.html">22.&nbsp;&nbsp;Logging In to Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="gcgnc.html">23.&nbsp;&nbsp;Moving and Migrating Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="z.pkginst.ov-1.html">24.&nbsp;&nbsp;About Packages and Patches on a Solaris System With Zones Installed (Overview)</a></p>
<p class="toc level2"><a href="z.pkginst.task-1.html">25.&nbsp;&nbsp;Adding and Removing Packages and Patches on a Solaris System With Zones Installed (Tasks)</a></p>
<p class="toc level2"><a href="z.admin.ov-1.html">26.&nbsp;&nbsp;Solaris Zones Administration (Overview)</a></p>
<p class="toc level2"><a href="z.admin.task-1.html">27.&nbsp;&nbsp;Administering Solaris Zones (Tasks)</a></p>
<p class="toc level2"><a href="gclkx.html">28.&nbsp;&nbsp;Troubleshooting Miscellaneous Solaris Zones Problems</a></p>
<p class="toc level1 tocsp"><a href="gchhk.html">Part&nbsp;III&nbsp;Branded Zones</a></p>
<p class="toc level2"><a href="gchhy.html">29.&nbsp;&nbsp;About Branded Zones and the Linux Branded Zone</a></p>
<p class="toc level2"><a href="gcwwm.html">30.&nbsp;&nbsp;Planning the <tt>lx</tt> Branded Zone Configuration (Overview)</a></p>
<p class="toc level2"><a href="gdajn.html">31.&nbsp;&nbsp;Configuring the <tt>lx</tt> Branded Zone (Tasks)</a></p>
<p class="toc level2"><a href="gdbki.html">32.&nbsp;&nbsp;About Installing, Booting, Halting, Cloning, and Uninstalling <tt>lx</tt> Branded Zones (Overview)</a></p>
<p class="toc level2"><a href="gdduh.html">33.&nbsp;&nbsp;Installing, Booting, Halting, Uninstalling and Cloning <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level2"><a href="gdgck.html">34.&nbsp;&nbsp;Logging In to <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level2"><a href="gdqnv.html">35.&nbsp;&nbsp;Moving and Migrating <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level2"><a href="gdgif.html">36.&nbsp;&nbsp;Administering and Running Applications in <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gefwp.html">Part&nbsp;IV&nbsp;Sun xVM</a></p>
<p class="toc level2"><a href="gfwrc.html">37.&nbsp;&nbsp;Sun xVM Hypervisor System Requirements</a></p>
<p class="toc level2"><a href="gefwo.html">38.&nbsp;&nbsp;Booting and Running the Sun xVM Hypervisor</a></p>
<p class="toc level2"><a href="gfwcu.html">39.&nbsp;&nbsp;Xvnc</a></p>
<p class="toc level2"><a href="gfqke.html">40.&nbsp;&nbsp;Using <tt>virt-install</tt> to Install a Domain</a></p>
<p class="toc level2"><a href="gfwlm.html">41.&nbsp;&nbsp;xVM System Administration</a></p>
<p class="toc level2"><a href="gefzh.html">42.&nbsp;&nbsp;Troubleshooting Miscellaneous Sun xVM Problems</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="rmintro-21"></a><h3>Resource Management Overview</h3>
<p>Modern computing environments have to provide a flexible response to the varying workloads
that are generated by different applications on a system. A <b>workload</b> is an
aggregation of all processes of an application or group of applications. If resource
management features are not used, the Solaris Operating System responds to workload demands
by adapting to new application requests dynamically. This default response generally means that
all activity on the system is given equal access to resources. Solaris resource
management features enable you to treat workloads individually. You can do the following:</p>
<ul><li><p>Restrict access to a specific resource</p></li>
<li><p>Offer resources to workloads on a preferential basis</p></li>
<li><p>Isolate workloads from each another</p></li></ul>
<p><a name="indexterm-1"></a>The ability to minimize cross-workload performance compromises, along with the facilities that monitor
resource usage and utilization, is referred to as <b>resource management</b>. Resource management is implemented through
a collection of algorithms. The algorithms handle the series of capability requests that
an application presents in the course of its execution.</p><p>Resource management facilities permit you to modify the default behavior of the operating
system with respect to different workloads. <b>Behavior</b> primarily refers to the set of
decisions that are made by operating system algorithms when an application presents one
or more resource requests to the system. You can use resource management facilities
to do the following:</p>
<ul><li><p>Deny resources or prefer one application over another for a larger set of allocations than otherwise permitted</p></li>
<li><p>Treat certain allocations collectively instead of through isolated mechanisms</p></li></ul>
<p>The implementation of a system configuration that uses the resource management facilities can
serve several purposes. You can do the following:</p>
<ul><li><p>Prevent an application from consuming resources indiscriminately</p></li>
<li><p>Change an application's priority based on external events</p></li>
<li><p>Balance resource guarantees to a set of applications against the goal of maximizing system utilization</p></li></ul>
<p>When planning a resource-managed configuration, key requirements include the following:</p>
<ul><li><p>Identifying the competing workloads on the system</p></li>
<li><p>Distinguishing those workloads that are not in conflict from those workloads with performance requirements that compromise the primary workloads</p></li></ul>
<p>After you identify cooperating and conflicting workloads, you can create a resource configuration
that presents the least compromise to the service goals of the business, within
the limitations of the system's capabilities.</p><p>Effective resource management is enabled in the Solaris system by offering control mechanisms,
notification mechanisms, and monitoring mechanisms. Many of these capabilities are provided through enhancements
to existing mechanisms such as the <a href="http://docs.sun.com/doc/819-2251/proc-4?a=view"><tt>proc</tt>(4)</a> file system, processor sets, and scheduling classes.
Other capabilities are specific to resource management. These capabilities are described in subsequent
chapters.</p>

<a name="rmintro-27"></a><h4>Resource Classifications</h4>
<p>A resource is any aspect of the computing system that can be
manipulated with the intent to change application behavior. Thus, a resource is a
capability that an application implicitly or explicitly requests. If the capability is denied or
constrained, the execution of a robustly written application proceeds more slowly.</p><p>Classification of resources, as opposed to identification of resources, can be made along
a number of axes. The axes could be implicitly requested as opposed to
explicitly requested, time-based, such as CPU time, compared to time-independent, such as assigned
CPU shares, and so forth.</p><p>Generally, scheduler-based resource management is applied to resources that the application can implicitly
request. For example, to continue execution, an application implicitly requests additional CPU time.
To write data to a network socket, an application implicitly requests bandwidth. Constraints can
be placed on the aggregate total use of an implicitly requested resource.</p><p>Additional interfaces can be presented so that bandwidth or CPU service levels can
be explicitly negotiated. Resources that are explicitly requested, such as a request for
an additional thread, can be managed by constraint.</p>

<a name="rmintro-23"></a><h4>Resource Management Control Mechanisms</h4>
<p>The three types of control mechanisms that are available in the Solaris Operating
System are constraints, scheduling, and partitioning.</p>

<a name="rmintro-24"></a><h5>Constraint Mechanisms</h5>
<p>Constraints allow the administrator or application developer to set bounds on the consumption
of specific resources for a workload. With known bounds, modeling resource consumption scenarios
becomes a simpler process. Bounds can also be used to control ill-behaved applications
that would otherwise compromise system performance or availability through unregulated resource requests.</p><p><a name="indexterm-2"></a>Constraints do present complications for the application. The relationship between the application and
the system can be modified to the point that the application is no
longer able to function. One approach that can mitigate this risk is to
gradually narrow the constraints on applications with unknown resource behavior. The resource controls
feature discussed in <a href="rmctrls-1.html">Chapter&nbsp;6, Resource Controls (Overview)</a> provides a constraint mechanism. Newer applications can be written
to be aware of their resource constraints, but not all application writers will
choose to do this.</p>

<a name="rmintro-25"></a><h5>Scheduling Mechanisms</h5>
<p><a name="indexterm-3"></a>Scheduling refers to making a sequence of allocation decisions at specific intervals. The
decision that is made is based on a predictable algorithm. An application that
does not need its current allocation leaves the resource available for another application's
use. Scheduling-based resource management enables full utilization of an undercommitted configuration, while providing controlled
allocations in a critically committed or overcommitted scenario. The underlying algorithm defines how
the term &ldquo;controlled&rdquo; is interpreted. In some instances, the scheduling algorithm might guarantee that
all applications have some access to the resource. The fair share scheduler (FSS)
described in <a href="rmfss-1.html">Chapter&nbsp;8, Fair Share Scheduler (Overview)</a> manages application access to CPU resources in a controlled way.</p>

<a name="rmintro-26"></a><h5>Partitioning Mechanisms</h5>
<p><a name="indexterm-4"></a>Partitioning is used to bind a workload to a subset of the
system's available resources. This binding guarantees that a known amount of resources is always
available to the workload. The resource pools functionality that is described in <a href="rmpool-1.html">Chapter&nbsp;12, Resource Pools (Overview)</a>
enables you to limit workloads to specific subsets of the machine.</p><p>Configurations that use partitioning can avoid system-wide overcommitment. However, in avoiding this overcommitment,
the ability to achieve high utilizations can be reduced. A reserved group of
resources, such as processors, is not available for use by another workload when
the workload bound to them is idle.</p>

<a name="rmintro-28"></a><h4>Resource Management Configuration</h4>
<p>Portions of the resource management configuration can be placed in a network name
service. This feature allows the administrator to apply resource management constraints across a
collection of machines, rather than on an exclusively per-machine basis. Related work can
share a common identifier, and the aggregate usage of that work can be
tabulated from accounting data.</p><p>Resource management configuration and workload-oriented identifiers are described more fully in <a href="rmtaskproj-1.html">Chapter&nbsp;2, Projects and Tasks (Overview)</a>. The
extended accounting facility that links these identifiers with application resource usage is described
in <a href="rmacct-1.html">Chapter&nbsp;4, Extended Accounting (Overview)</a>. </p>

<a name="rmintro-38"></a><h4>Interaction With Non-Global Zones</h4>
<p>Resource management features can be used with zones to further refine the application
environment. Interactions between these features and zones are described in applicable sections in
this guide.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="rmintro-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="rmintro-2.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

