<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Planning and Configuring a Non-Global Zone (Task Map) - System Administration Guide:  Virtualization Using the Solaris Operating System</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-04-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide:  Virtualization Using the Solaris Operating System</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="z.conf.start-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="z.conf.start-3.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="preface-3.html">Solaris Virtualization Product Overview</a></p>
<p class="toc level1 tocsp"><a href="resource.html">Part&nbsp;I&nbsp;Resource Management</a></p>
<p class="toc level2"><a href="rmintro-1.html">1.&nbsp;&nbsp;Introduction to Solaris Resource Management</a></p>
<p class="toc level2"><a href="rmtaskproj-1.html">2.&nbsp;&nbsp;Projects and Tasks (Overview)</a></p>
<p class="toc level2"><a href="rmtaskproj.task-37.html">3.&nbsp;&nbsp;Administering Projects and Tasks</a></p>
<p class="toc level2"><a href="rmacct-1.html">4.&nbsp;&nbsp;Extended Accounting (Overview)</a></p>
<p class="toc level2"><a href="rmacct.task.sgm.html">5.&nbsp;&nbsp;Administering Extended Accounting (Tasks)</a></p>
<p class="toc level2"><a href="rmctrls-1.html">6.&nbsp;&nbsp;Resource Controls (Overview)</a></p>
<p class="toc level2"><a href="rmctrls.task-1.html">7.&nbsp;&nbsp;Administering Resource Controls (Tasks)</a></p>
<p class="toc level2"><a href="rmfss-1.html">8.&nbsp;&nbsp;Fair Share Scheduler (Overview)</a></p>
<p class="toc level2"><a href="rmfss.task-1.html">9.&nbsp;&nbsp;Administering the Fair Share Scheduler (Tasks)</a></p>
<p class="toc level2"><a href="rm.rcapd-1.html">10.&nbsp;&nbsp;Physical Memory Control Using the Resource Capping Daemon (Overview)</a></p>
<p class="toc level2"><a href="rm.rcapd.task-1.html">11.&nbsp;&nbsp;Administering the Resource Capping Daemon (Tasks)</a></p>
<p class="toc level2"><a href="rmpool-1.html">12.&nbsp;&nbsp;Resource Pools (Overview)</a></p>
<p class="toc level2"><a href="rmpool.task-1.html">13.&nbsp;&nbsp;Creating and Administering Resource Pools (Tasks)</a></p>
<p class="toc level2"><a href="rmconfig-1.html">14.&nbsp;&nbsp;Resource Management Configuration Example</a></p>
<p class="toc level2"><a href="rmconsole-1.html">15.&nbsp;&nbsp;Resource Control Functionality in the Solaris Management Console</a></p>
<p class="toc level1 tocsp"><a href="zone.html">Part&nbsp;II&nbsp;Zones</a></p>
<p class="toc level2"><a href="zones.intro-1.html">16.&nbsp;&nbsp;Introduction to Solaris Zones</a></p>
<p class="toc level2"><a href="z.config.ov-1.html">17.&nbsp;&nbsp;Non-Global Zone Configuration (Overview)</a></p>
<p class="toc level2"><a href="z.conf.start-1.html">18.&nbsp;&nbsp;Planning and Configuring Non-Global Zones (Tasks)</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Planning and Configuring a Non-Global Zone (Task Map)</a></p>
</div>
<p class="toc level3"><a href="z.conf.start-3.html">Evaluating the Current System Setup</a></p>
<p class="toc level3"><a href="z.conf.start-4.html">Determine the Zone Host Name and Obtain the Network Address</a></p>
<p class="toc level3"><a href="z.conf.start-12.html">File System Configuration</a></p>
<p class="toc level3"><a href="z.conf.start-116.html">Creating, Revising, and Deleting Non-Global Zone Configurations (Task Map)</a></p>
<p class="toc level3"><a href="z.conf.start-85.html">Configuring, Verifying, and Committing a Zone</a></p>
<p class="toc level4"><a href="z.conf.start-85.html#z.conf.start-29">How to Configure the Zone</a></p>
<p class="toc level4"><a href="z.conf.start-85.html#fnzbc">How to Display the Configuration of a Non-Global Zone</a></p>
<p class="toc level3 tocsp"><a href="z.conf.start-115.html">Using the <tt>zonecfg</tt> Command to Modify a Zone Configuration</a></p>
<p class="toc level4"><a href="z.conf.start-115.html#z.conf.start-63">How to Modify a Resource Type in a Zone Configuration</a></p>
<p class="toc level4"><a href="z.conf.start-115.html#fpjpi">How to Clear a Property Type  in a Zone Configuration</a></p>
<p class="toc level4"><a href="z.conf.start-115.html#gbrfh">How to Rename a Zone</a></p>
<p class="toc level4"><a href="z.conf.start-115.html#z.conf.start-73">How to Add a Dedicated Device to a Zone</a></p>
<p class="toc level4"><a href="z.conf.start-115.html#gejpu">How to Set <tt>zone.cpu-shares</tt> in the Global Zone</a></p>
<p class="toc level3 tocsp"><a href="z.conf.start-81.html">Using the <tt>zonecfg</tt> Command to Revert or Remove a Zone Configuration</a></p>
<p class="toc level4"><a href="z.conf.start-81.html#z.conf.start-30">How to Revert a Zone Configuration</a></p>
<p class="toc level4"><a href="z.conf.start-81.html#z.conf.start-82">How to Delete a Zone Configuration</a></p>
<p class="toc level2 tocsp"><a href="z.inst.ov-1.html">19.&nbsp;&nbsp;About Installing, Halting, Cloning, and Uninstalling Non-Global Zones (Overview)</a></p>
<p class="toc level2"><a href="z.inst.task-1.html">20.&nbsp;&nbsp;Installing, Booting, Halting, Uninstalling,  and Cloning Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="z.login.ov-1.html">21.&nbsp;&nbsp;Non-Global Zone Login (Overview)</a></p>
<p class="toc level2"><a href="z.login.task-1.html">22.&nbsp;&nbsp;Logging In to Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="gcgnc.html">23.&nbsp;&nbsp;Moving and Migrating Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="z.pkginst.ov-1.html">24.&nbsp;&nbsp;About Packages and Patches on a Solaris System With Zones Installed (Overview)</a></p>
<p class="toc level2"><a href="z.pkginst.task-1.html">25.&nbsp;&nbsp;Adding and Removing Packages and Patches on a Solaris System With Zones Installed (Tasks)</a></p>
<p class="toc level2"><a href="z.admin.ov-1.html">26.&nbsp;&nbsp;Solaris Zones Administration (Overview)</a></p>
<p class="toc level2"><a href="z.admin.task-1.html">27.&nbsp;&nbsp;Administering Solaris Zones (Tasks)</a></p>
<p class="toc level2"><a href="gclkx.html">28.&nbsp;&nbsp;Troubleshooting Miscellaneous Solaris Zones Problems</a></p>
<p class="toc level1 tocsp"><a href="gchhk.html">Part&nbsp;III&nbsp;Branded Zones</a></p>
<p class="toc level2"><a href="gchhy.html">29.&nbsp;&nbsp;About Branded Zones and the Linux Branded Zone</a></p>
<p class="toc level2"><a href="gcwwm.html">30.&nbsp;&nbsp;Planning the <tt>lx</tt> Branded Zone Configuration (Overview)</a></p>
<p class="toc level2"><a href="gdajn.html">31.&nbsp;&nbsp;Configuring the <tt>lx</tt> Branded Zone (Tasks)</a></p>
<p class="toc level2"><a href="gdbki.html">32.&nbsp;&nbsp;About Installing, Booting, Halting, Cloning, and Uninstalling <tt>lx</tt> Branded Zones (Overview)</a></p>
<p class="toc level2"><a href="gdduh.html">33.&nbsp;&nbsp;Installing, Booting, Halting, Uninstalling and Cloning <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level2"><a href="gdgck.html">34.&nbsp;&nbsp;Logging In to <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level2"><a href="gdqnv.html">35.&nbsp;&nbsp;Moving and Migrating <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level2"><a href="gdgif.html">36.&nbsp;&nbsp;Administering and Running Applications in <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gefwp.html">Part&nbsp;IV&nbsp;Sun xVM</a></p>
<p class="toc level2"><a href="gfwrc.html">37.&nbsp;&nbsp;Sun xVM Hypervisor System Requirements</a></p>
<p class="toc level2"><a href="gefwo.html">38.&nbsp;&nbsp;Booting and Running the Sun xVM Hypervisor</a></p>
<p class="toc level2"><a href="gfwcu.html">39.&nbsp;&nbsp;Xvnc</a></p>
<p class="toc level2"><a href="gfqke.html">40.&nbsp;&nbsp;Using <tt>virt-install</tt> to Install a Domain</a></p>
<p class="toc level2"><a href="gfwlm.html">41.&nbsp;&nbsp;xVM System Administration</a></p>
<p class="toc level2"><a href="gefzh.html">42.&nbsp;&nbsp;Troubleshooting Miscellaneous Sun xVM Problems</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="z.conf.start-2"></a><h3>Planning and Configuring a Non-Global Zone (Task Map)</h3>
<p><a name="indexterm-224"></a><a name="indexterm-225"></a>Before you set up your system to use zones, you must first
collect information and make decisions about how to configure the zones. The following task
map summarizes how to plan and configure a zone.</p><table><col width="33*"><col width="33*"><col width="33*"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Plan your zone
strategy.</p></td>
<td align="left" valign="top" scope="row">
<ul><li><p>Evaluate the applications running on your system to determine which applications you want to run in a zone.</p></li>
<li><p>Assess the availability of disk space to hold the files that are unique in the zone.</p></li>
<li><p>If you are also using resource management features, determine how to align the zone with the resource management boundaries.</p></li>
<li><p>If you are using resource pools, configure the pools if necessary.</p></li></ul>
</td>
<td align="left" valign="top" scope="row"><p>Refer to historical usage. Also see <a href="z.conf.start-3.html#z.conf.start-9">Disk Space Requirements</a> and <a href="rmpool-114.html">Resource Pools Used in Zones</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Determine the name for
the zone.</p></td>
<td align="left" valign="top" scope="row"><p>Decide what to call the zone based on the naming conventions.</p></td>
<td align="left" valign="top" scope="row"><p>See
<a href="z.config.ov-12.html">Zone Configuration Data</a> and <a href="z.conf.start-4.html#z.conf.start-5">Zone Host Name</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Determine the zone path.</p></td>
<td align="left" valign="top" scope="row"><p>Each zone has a path to its
root directory that is relative to the global zone's root directory.</p></td>
<td align="left" valign="top" scope="row"><p>See <a href="z.config.ov-12.html">Zone Configuration Data</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Evaluate the
need for CPU restriction if you are not configuring resource pools. Note that
with specification in <tt>zonecfg</tt>, pool settings propagate during migrations.</p></td>
<td align="left" valign="top" scope="row"><p>Review your application requirements.</p></td>
<td align="left" valign="top" scope="row"><p>See <a href="z.config.ov-3.html#gejlw"><tt>dedicated-cpu</tt> Resource</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Evaluate
the need for memory allocation if you plan to cap memory for the
zone by using <tt>rcapd</tt> from the global zone.</p></td>
<td align="left" valign="top" scope="row"><p>Review your application requirements.</p></td>
<td align="left" valign="top" scope="row"><p>See <a href="rm.rcapd-1.html">Chapter&nbsp;10, Physical Memory Control Using the Resource Capping Daemon (Overview)</a>,
<a href="rm.rcapd.task-1.html">Chapter&nbsp;11, Administering the Resource Capping Daemon (Tasks)</a>, and <a href="z.config.ov-3.html#gejkz">Physical Memory Control and the <tt>capped-memory</tt> Resource</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Make the FSS the default scheduler on the system.</p></td>
<td align="left" valign="top" scope="row"><p>Give each
zone CPU shares to control the zone's entitlement to CPU resources. The FSS
guarantees a fair dispersion of CPU resources among zones that is based on
allocated shares.</p></td>
<td align="left" valign="top" scope="row"><p><a href="rmfss-1.html">Chapter&nbsp;8, Fair Share Scheduler (Overview)</a>, <a href="z.config.ov-3.html#gejen">Scheduling Class</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Determine whether the zone will be a shared-IP zone or
an exclusive-IP zone.</p></td>
<td align="left" valign="top" scope="row"><p>For a shared-IP zone, which is the default, obtain or configure
IP addresses for the zone. Depending on your configuration, you must obtain at
least one IP address for each non-global zone that you want to have
network access.</p><p>For an exclusive-IP zone, determine the data-link that will be assigned to
the zone. The zone requires exclusive access to one or more network
interfaces. The interface could be a separate LAN such as <tt>bge1</tt>, or a separate
VLAN such as <tt>bge2000</tt>. <b>Prior to OpenSolaris<sup>TM</sup> build snv_83</b>, the data-link must be GLDv3. </p></td>
<td align="left" valign="top" scope="row"><p>See <a href="z.conf.start-4.html">Determine the Zone Host Name and Obtain the Network Address</a>,
<a href="z.conf.start-85.html#z.conf.start-29">How to Configure the Zone</a>, and <a href="http://docs.sun.com/doc/819-3000"><i>System Administration Guide: IP Services</i></a>.</p><p>For more information on GLDv3 interfaces, see <a href="http://docs.sun.com/doc/819-3000/gaugz?a=view">Solaris OS Interface Types in <i>System Administration Guide: IP Services</i></a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Determine which file
systems you want to mount in the zone.</p></td>
<td align="left" valign="top" scope="row"><p>Review your application requirements.</p></td>
<td align="left" valign="top" scope="row"><p>See <a href="z.config.ov-3.html#z.config.ov-7">File Systems Mounted in Zones</a>
for more information.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Determine which network interfaces should be made available in the zone.</p></td>
<td align="left" valign="top" scope="row"><p>Review
your application requirements.</p></td>
<td align="left" valign="top" scope="row"><p>See <a href="z.admin.ov-9.html#z.admin.ov-12">Shared-IP Network Interfaces</a> for more information.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Determine whether you must alter the default
set of non-global zone permissions.</p></td>
<td align="left" valign="top" scope="row"><p>Check the set of privileges: default, privileges that can
be added and removed, and privileges that cannot be used at this time.</p></td>
<td align="left" valign="top" scope="row"><p>See
<a href="z.admin.ov-18.html">Privileges in a Non-Global Zone</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Determine which devices should be configured in each zone.</p></td>
<td align="left" valign="top" scope="row"><p>Review your application requirements.</p></td>
<td align="left" valign="top" scope="row"><p>Refer
to the documentation for your application.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Configure the zone.</p></td>
<td align="left" valign="top" scope="row"><p> Use <tt>zonecfg</tt> to create
a configuration for the zone.</p></td>
<td align="left" valign="top" scope="row"><p>See <a href="z.conf.start-85.html">Configuring, Verifying, and Committing a Zone</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Verify and commit the configured zone.</p></td>
<td align="left" valign="top" scope="row"><p>Determine whether
the resources and properties specified are valid on a hypothetical system.</p></td>
<td align="left" valign="top" scope="row"><p>See <a href="z.conf.start-85.html">Configuring, Verifying, and Committing a Zone</a>.</p></td>
</tr>
</table>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="z.conf.start-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="z.conf.start-3.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

