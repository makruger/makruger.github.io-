<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Determine the Zone Host Name and Obtain the Network Address - System Administration Guide:  Virtualization Using the Solaris Operating System</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-04-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide:  Virtualization Using the Solaris Operating System</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="z.conf.start-3.html">Previous</a>
             </td>
             <td align="right">
                 <a href="z.conf.start-12.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="preface-3.html">Solaris Virtualization Product Overview</a></p>
<p class="toc level1 tocsp"><a href="resource.html">Part&nbsp;I&nbsp;Resource Management</a></p>
<p class="toc level2"><a href="rmintro-1.html">1.&nbsp;&nbsp;Introduction to Solaris Resource Management</a></p>
<p class="toc level2"><a href="rmtaskproj-1.html">2.&nbsp;&nbsp;Projects and Tasks (Overview)</a></p>
<p class="toc level2"><a href="rmtaskproj.task-37.html">3.&nbsp;&nbsp;Administering Projects and Tasks</a></p>
<p class="toc level2"><a href="rmacct-1.html">4.&nbsp;&nbsp;Extended Accounting (Overview)</a></p>
<p class="toc level2"><a href="rmacct.task.sgm.html">5.&nbsp;&nbsp;Administering Extended Accounting (Tasks)</a></p>
<p class="toc level2"><a href="rmctrls-1.html">6.&nbsp;&nbsp;Resource Controls (Overview)</a></p>
<p class="toc level2"><a href="rmctrls.task-1.html">7.&nbsp;&nbsp;Administering Resource Controls (Tasks)</a></p>
<p class="toc level2"><a href="rmfss-1.html">8.&nbsp;&nbsp;Fair Share Scheduler (Overview)</a></p>
<p class="toc level2"><a href="rmfss.task-1.html">9.&nbsp;&nbsp;Administering the Fair Share Scheduler (Tasks)</a></p>
<p class="toc level2"><a href="rm.rcapd-1.html">10.&nbsp;&nbsp;Physical Memory Control Using the Resource Capping Daemon (Overview)</a></p>
<p class="toc level2"><a href="rm.rcapd.task-1.html">11.&nbsp;&nbsp;Administering the Resource Capping Daemon (Tasks)</a></p>
<p class="toc level2"><a href="rmpool-1.html">12.&nbsp;&nbsp;Resource Pools (Overview)</a></p>
<p class="toc level2"><a href="rmpool.task-1.html">13.&nbsp;&nbsp;Creating and Administering Resource Pools (Tasks)</a></p>
<p class="toc level2"><a href="rmconfig-1.html">14.&nbsp;&nbsp;Resource Management Configuration Example</a></p>
<p class="toc level2"><a href="rmconsole-1.html">15.&nbsp;&nbsp;Resource Control Functionality in the Solaris Management Console</a></p>
<p class="toc level1 tocsp"><a href="zone.html">Part&nbsp;II&nbsp;Zones</a></p>
<p class="toc level2"><a href="zones.intro-1.html">16.&nbsp;&nbsp;Introduction to Solaris Zones</a></p>
<p class="toc level2"><a href="z.config.ov-1.html">17.&nbsp;&nbsp;Non-Global Zone Configuration (Overview)</a></p>
<p class="toc level2"><a href="z.conf.start-1.html">18.&nbsp;&nbsp;Planning and Configuring Non-Global Zones (Tasks)</a></p>
<p class="toc level3"><a href="z.conf.start-2.html">Planning and Configuring a Non-Global Zone (Task Map)</a></p>
<p class="toc level3"><a href="z.conf.start-3.html">Evaluating the Current System Setup</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Determine the Zone Host Name and Obtain the Network Address</a></p>
</div>
<p class="toc level3"><a href="z.conf.start-12.html">File System Configuration</a></p>
<p class="toc level3"><a href="z.conf.start-116.html">Creating, Revising, and Deleting Non-Global Zone Configurations (Task Map)</a></p>
<p class="toc level3"><a href="z.conf.start-85.html">Configuring, Verifying, and Committing a Zone</a></p>
<p class="toc level4"><a href="z.conf.start-85.html#z.conf.start-29">How to Configure the Zone</a></p>
<p class="toc level4"><a href="z.conf.start-85.html#fnzbc">How to Display the Configuration of a Non-Global Zone</a></p>
<p class="toc level3 tocsp"><a href="z.conf.start-115.html">Using the <tt>zonecfg</tt> Command to Modify a Zone Configuration</a></p>
<p class="toc level4"><a href="z.conf.start-115.html#z.conf.start-63">How to Modify a Resource Type in a Zone Configuration</a></p>
<p class="toc level4"><a href="z.conf.start-115.html#fpjpi">How to Clear a Property Type  in a Zone Configuration</a></p>
<p class="toc level4"><a href="z.conf.start-115.html#gbrfh">How to Rename a Zone</a></p>
<p class="toc level4"><a href="z.conf.start-115.html#z.conf.start-73">How to Add a Dedicated Device to a Zone</a></p>
<p class="toc level4"><a href="z.conf.start-115.html#gejpu">How to Set <tt>zone.cpu-shares</tt> in the Global Zone</a></p>
<p class="toc level3 tocsp"><a href="z.conf.start-81.html">Using the <tt>zonecfg</tt> Command to Revert or Remove a Zone Configuration</a></p>
<p class="toc level4"><a href="z.conf.start-81.html#z.conf.start-30">How to Revert a Zone Configuration</a></p>
<p class="toc level4"><a href="z.conf.start-81.html#z.conf.start-82">How to Delete a Zone Configuration</a></p>
<p class="toc level2 tocsp"><a href="z.inst.ov-1.html">19.&nbsp;&nbsp;About Installing, Halting, Cloning, and Uninstalling Non-Global Zones (Overview)</a></p>
<p class="toc level2"><a href="z.inst.task-1.html">20.&nbsp;&nbsp;Installing, Booting, Halting, Uninstalling,  and Cloning Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="z.login.ov-1.html">21.&nbsp;&nbsp;Non-Global Zone Login (Overview)</a></p>
<p class="toc level2"><a href="z.login.task-1.html">22.&nbsp;&nbsp;Logging In to Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="gcgnc.html">23.&nbsp;&nbsp;Moving and Migrating Non-Global Zones (Tasks)</a></p>
<p class="toc level2"><a href="z.pkginst.ov-1.html">24.&nbsp;&nbsp;About Packages and Patches on a Solaris System With Zones Installed (Overview)</a></p>
<p class="toc level2"><a href="z.pkginst.task-1.html">25.&nbsp;&nbsp;Adding and Removing Packages and Patches on a Solaris System With Zones Installed (Tasks)</a></p>
<p class="toc level2"><a href="z.admin.ov-1.html">26.&nbsp;&nbsp;Solaris Zones Administration (Overview)</a></p>
<p class="toc level2"><a href="z.admin.task-1.html">27.&nbsp;&nbsp;Administering Solaris Zones (Tasks)</a></p>
<p class="toc level2"><a href="gclkx.html">28.&nbsp;&nbsp;Troubleshooting Miscellaneous Solaris Zones Problems</a></p>
<p class="toc level1 tocsp"><a href="gchhk.html">Part&nbsp;III&nbsp;Branded Zones</a></p>
<p class="toc level2"><a href="gchhy.html">29.&nbsp;&nbsp;About Branded Zones and the Linux Branded Zone</a></p>
<p class="toc level2"><a href="gcwwm.html">30.&nbsp;&nbsp;Planning the <tt>lx</tt> Branded Zone Configuration (Overview)</a></p>
<p class="toc level2"><a href="gdajn.html">31.&nbsp;&nbsp;Configuring the <tt>lx</tt> Branded Zone (Tasks)</a></p>
<p class="toc level2"><a href="gdbki.html">32.&nbsp;&nbsp;About Installing, Booting, Halting, Cloning, and Uninstalling <tt>lx</tt> Branded Zones (Overview)</a></p>
<p class="toc level2"><a href="gdduh.html">33.&nbsp;&nbsp;Installing, Booting, Halting, Uninstalling and Cloning <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level2"><a href="gdgck.html">34.&nbsp;&nbsp;Logging In to <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level2"><a href="gdqnv.html">35.&nbsp;&nbsp;Moving and Migrating <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level2"><a href="gdgif.html">36.&nbsp;&nbsp;Administering and Running Applications in <tt>lx</tt> Branded Zones (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="gefwp.html">Part&nbsp;IV&nbsp;Sun xVM</a></p>
<p class="toc level2"><a href="gfwrc.html">37.&nbsp;&nbsp;Sun xVM Hypervisor System Requirements</a></p>
<p class="toc level2"><a href="gefwo.html">38.&nbsp;&nbsp;Booting and Running the Sun xVM Hypervisor</a></p>
<p class="toc level2"><a href="gfwcu.html">39.&nbsp;&nbsp;Xvnc</a></p>
<p class="toc level2"><a href="gfqke.html">40.&nbsp;&nbsp;Using <tt>virt-install</tt> to Install a Domain</a></p>
<p class="toc level2"><a href="gfwlm.html">41.&nbsp;&nbsp;xVM System Administration</a></p>
<p class="toc level2"><a href="gefzh.html">42.&nbsp;&nbsp;Troubleshooting Miscellaneous Sun xVM Problems</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="z.conf.start-4"></a><h3>Determine the Zone Host Name and Obtain the Network Address</h3>
<p>You must determine the host name for the zone. Then, you must
assign an IPv4 address or manually configure and assign an IPv6 address for
the zone if you want it to have network connectivity.</p>

<a name="z.conf.start-5"></a><h4>Zone Host Name</h4>
<p><a name="indexterm-228"></a>The host name you select for the zone must be defined either in
the <tt>hosts</tt> database or in the <tt>/etc/inet/hosts</tt> database, as specified by the <tt>/etc/nsswitch.conf</tt>
file in the global zone. The network databases are files that provide network
configuration information. The <tt>nsswitch.conf</tt> file specifies which naming service to use.</p><p>If you use local files for the naming service, the <tt>hosts</tt> database is
maintained in the <tt>/etc/inet/hosts</tt> file. The host names for zone network interfaces are
resolved from the local <tt>hosts</tt> database in <tt>/etc/inet/hosts</tt>. Alternatively, the IP address itself can
be specified directly when configuring a zone so that no host name
resolution is required.</p><p>For more information, see <a href="http://docs.sun.com/doc/819-3000/ipconfig-12?a=view">TCP/IP Configuration Files in <i>System Administration Guide: IP Services</i></a> and <a href="http://docs.sun.com/doc/819-3000/ipconfig-42?a=view">Network Databases and the nsswitch.conf File in <i>System Administration Guide: IP Services</i></a>.</p>

<a name="z.conf.start-6"></a><h4>Shared-IP Zone Network Address</h4>
<p><a name="indexterm-229"></a>Each shared-IP zone that requires network connectivity has one or more unique IP
addresses. Both IPv4 and IPv6 addresses are supported.</p>

<a name="z.conf.start-94"></a><h5>IPv4 Zone Network Address</h5>
<p>If you are using IPv4, obtain an address and assign the address
to the zone.</p><p>A prefix length can also be specified with the IP address. The
format of this prefix is <i>address</i>/<i>prefix-length</i>, for example, <tt>192.168.1.1/24</tt>. Thus, the address to use
is <tt>192.168.1.1</tt> and the netmask to use is <tt>255.255.255.0</tt>, or the mask where
the first 24 bits are 1-bits.</p>

<a name="z.conf.start-95"></a><h5>IPv6 Zone Network Address</h5>
<p>If you are using IPv6, you must manually configure the address. Typically, at
least the following two types of addresses must be configured:</p><dl><dt>Link-local address</dt>
<dd><p>A link-local address is of the form <tt>fe80::</tt><i>64-bit interface ID</i><tt>/10</tt>. The <tt>/10</tt> indicates a prefix length of 10 bits.</p></dd>
<dt>Address formed from a global prefix configured on the subnet</dt>
<dd><p>A global unicast address is based off a 64&ndash;bit prefix that the administrator configures for each subnet, and a 64-bit interface ID. The prefix can also be obtained by running the <tt>ifconfig</tt> command with the <tt>-a6</tt> option on any system on the same subnet that has been configured to use IPv6.</p><p>The 64&ndash;bit interface ID is typically derived from a system's MAC address. For zones use, an alternate address that is unique can be derived from the global zone's IPv4 address as follows:</p><p><tt>16 bits of zero:upper 16 bits of IPv4 address:lower 16 bits of IPv4 address:a zone-unique number</tt></p><p>For example, if the global zone's IPv4 address is 192.168.200.10, a suitable link-local address for a non-global zone using a zone-unique number of <tt>1</tt> is <tt>fe80::c0a8:c80a:1/10</tt>. If the global prefix in use on that subnet is <tt>2001:0db8:aabb:ccdd/64</tt>, a unique global unicast address for the same non-global zone is <tt>2001:0db8:aabb:ccdd::c0a8:c80a:1/64</tt>. Note that you must specify a prefix length when configuring an IPv6 address.</p></dd>
</dl>
<p>For more information about link-local and global unicast addresses, see the <a href="http://docs.sun.com/doc/819-2254/inet6-7p?a=view"><tt>inet6</tt>(7P)</a> ma page.</p>

<a name="gekzd"></a><h4>Exclusive-IP Zone Network Address</h4>
<p>Inside an exclusive-IP zone, configure addresses as you do for the global zone.
Note that DHCP and IPv6 stateless address autoconfiguration can be used to configure
addresses.</p><p> See <a href="http://docs.sun.com/doc/819-2251/sysidcfg-4?a=view"><tt>sysidcfg</tt>(4)</a> for more information.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="z.conf.start-3.html">Previous</a>
             </td>
             <td align="right">
                 <a href="z.conf.start-12.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

