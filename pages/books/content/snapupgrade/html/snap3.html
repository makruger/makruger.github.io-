<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">

<!--   The contents of this Documentation are subject to the Public Documentation
License Version 1.01 (the "License"); you may only use this Documentation if
you comply with the terms of this License. A copy of the License is
available at http://www.opensolaris.org/os/community/documentation/license.
  -->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Why Use Multiple Boot Environments? - OpenSolaris Managing Boot Environments</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-06-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/opensol.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.com"><img border="0" src="graphics/opensolaris_logo_trans.png"></img></a>
   </div>
   <div class="Title">OpenSolaris Managing Boot Environments</div>
</div>
<div class="headerbar"></div>


<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="index.html">Previous</a>
             </td>
             <td align="right">
                 <a href="packagemgr.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="index.html">1.&nbsp;&nbsp;Introduction to Boot Environments</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Why Use Multiple Boot Environments?</a></p>
</div>
<p class="toc level2"><a href="packagemgr.html">Package Manager GUI</a></p>
<p class="toc level2"><a href="features.html">Features of <tt>beadm</tt> Utility</a></p>
<p class="toc level2"><a href="sysreq.html"><tt>beadm</tt> Utility Requirements</a></p>
<p class="toc level2"><a href="limits.html">Limitations in Current Release</a></p>
<p class="toc level1 tocsp"><a href="tasks.html">2.&nbsp;&nbsp;Using <tt>beadm</tt> Utility (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="zones.html">3.&nbsp;&nbsp;<tt>beadm</tt> Zones Support</a></p>
<p class="toc level1 tocsp"><a href="reference.html">4.&nbsp;&nbsp;Appendix: <tt>beadm</tt> Reference</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="snap3"></a><h3>Why Use Multiple Boot Environments?</h3>
<p>With multiple boot environments, the process of updating software becomes a low risk
operation because system administrators can create backup boot environments before making any software
updates to your system.  If needed, they have the option of booting
a backup boot environment.</p><p>Here are some specific examples where having more than one OpenSolaris boot environment,
and managing them with the <tt>beadm</tt> utility, is useful:</p>
<ul><li><p>When you use either the Package Manager tool or the <tt>pkg image-update</tt> command to update all the packages in your active OpenSolaris boot environment, this process automatically creates a clone of that boot environment. The packages are updated in the clone rather than in the original boot environment. After successfully completing the updates, the new clone is activated. Then, the clone will become the new default boot environment on the next reboot. The original boot environment remains on the GRUB menu for x86 systems, or the boot menu for SPARC systems, as an alternate selection.</p><p>For more information, see &ldquo;Upgrading an Image&rdquo; in <a href="http://dlc.sun.com/osol/docs/content/2009.06/getstart/">Getting Started With OpenSolaris</a>.</p><p>You can use the <tt>beadm list</tt> command to see a list of all the boot environments on the system, including the backup boot environment that still has its original, unchanged software. If you are not satisfied with the updates made to the environment, you can use the <tt>beadm activate</tt> command to specify that the backup will become the default boot environment on the next reboot.</p></li>
<li><p>If you are modifying a boot environment, you can take a snapshot of that environment at any stage during modifications by using the <tt>beadm create</tt> command. A snapshot is a read-only image of a dataset or boot environment at a given point in time.</p><p>You can create custom names for each snapshot that identify when or why the snapshot was created. For example, if you are doing monthly upgrades to your boot environment, you can capture snapshots for each monthly upgrade. You can use the <tt>beadm list <tt>-s</tt></tt> command to view the available snapshots for a boot environment.</p><p>A snapshot is not bootable. But, you can create a boot environment, based on that snapshot, by using the <tt>-e</tt> option for the <tt>beadm create</tt> command. Then you can use the <tt>beadm activate</tt>command to specify that this boot environment will become the default boot environment on the next reboot.</p></li>
<li><p>You can maintain more than one boot environment on your system, and perform various upgrades on each of them as needed. For example, you can clone a boot environment by using the <tt>beadm create</tt> command. A clone is a bootable copy of a boot environment. Then, you can install, test, and update different software packages on the original boot environment and on its clone.</p><p>Although only one boot environment can be active at a time, you can mount an inactive boot environment by using the <tt>beadm mount</tt> command. Then you can use the <tt>pkg image-update</tt> command with the <tt>-R</tt> option to update all the packages in that inactive, mounted environment. Or, use the <tt>pkg install <i>packagename</i></tt> with the <tt>-R</tt> option to update specific packages on that environment.</p></li></ul>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="index.html">Previous</a>
             </td>
             <td align="right">
                 <a href="packagemgr.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

