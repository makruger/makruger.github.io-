<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Checking the Size of Files - System Administration Guide: Advanced Administration</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Advanced Administration</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="sysresdiskuse-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="sysresdiskuse-13.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol2preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="modconcepts-20809.html">1.&nbsp;&nbsp;Managing Terminals and Modems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="modsetup-43877.html">2.&nbsp;&nbsp;Setting Up Terminals and Modems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="modsafapp-84569.html">3.&nbsp;&nbsp;Managing Serial Ports With the Service Access Facility (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresconcepts-23051.html">4.&nbsp;&nbsp;Managing System Resources (Overview)</a></p>
<p class="toc level1 tocsp"><a href="sysressysinfo-75169.html">5.&nbsp;&nbsp;Displaying and Changing System Information (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresdiskuse-61891.html">6.&nbsp;&nbsp;Managing Disk Use (Tasks)</a></p>
<p class="toc level2"><a href="enfmy.html">Managing Disk Use (Task Map)</a></p>
<p class="toc level2"><a href="sysresdiskuse-1.html">Displaying Information About Files and Disk Space</a></p>
<p class="toc level3"><a href="sysresdiskuse-1.html#enfnc">How to Display Information About Files and Disk Space</a></p>
<div class="onpage">
<p class="toc level2 tocsp"><a href="">Checking the Size of Files</a></p>
<p class="toc level3"><a href="#sysresdiskuse-40204">How to Display the Size of Files</a></p>
<p class="toc level3"><a href="#sysresdiskuse-24569">How to Find Large Files</a></p>
<p class="toc level3"><a href="#enmwy">How to Find Files That Exceed a Specified Size Limit</a></p>
</div>
<p class="toc level2 tocsp"><a href="sysresdiskuse-13.html">Checking the Size of Directories</a></p>
<p class="toc level3"><a href="sysresdiskuse-13.html#enmwv">How to Display the Size of Directories, Subdirectories, and Files</a></p>
<p class="toc level3"><a href="sysresdiskuse-13.html#sysresdiskuse-87953">How to Display the User Ownership of Local UFS File Systems</a></p>
<p class="toc level2 tocsp"><a href="sysresdiskuse-19.html">Finding and Removing Old or Inactive Files</a></p>
<p class="toc level3"><a href="sysresdiskuse-19.html#enmxb">How to List the Newest Files</a></p>
<p class="toc level3"><a href="sysresdiskuse-19.html#sysresdiskuse-10372">How to Find and Remove Old or Inactive Files</a></p>
<p class="toc level3"><a href="sysresdiskuse-19.html#sysresdiskuse-83518">How to Clear Out Temporary Directories</a></p>
<p class="toc level3"><a href="sysresdiskuse-19.html#sysresdiskuse-85712">How to Find and Delete <tt>core</tt> Files</a></p>
<p class="toc level3"><a href="sysresdiskuse-19.html#sysresdiskuse-45392">How to Delete Crash Dump Files</a></p>
<p class="toc level1 tocsp"><a href="sysresquotas-97946.html">7.&nbsp;&nbsp;Managing Quotas (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysrescron-18108.html">8.&nbsp;&nbsp;Scheduling System Tasks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresacctsetup-78801.html">9.&nbsp;&nbsp;Managing System Accounting (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresacctref-14910.html">10.&nbsp;&nbsp;System Accounting (Reference)</a></p>
<p class="toc level1 tocsp"><a href="spconcepts-21354.html">11.&nbsp;&nbsp;Managing System Performance (Overview)</a></p>
<p class="toc level1 tocsp"><a href="spprocess-59633.html">12.&nbsp;&nbsp;Managing System Processes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="spmonitor-24844.html">13.&nbsp;&nbsp;Monitoring System Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsoverview-10750.html">14.&nbsp;&nbsp;Troubleshooting Software Problems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="eekee.html">15.&nbsp;&nbsp;Managing System Messages</a></p>
<p class="toc level1 tocsp"><a href="tscore-7.html">16.&nbsp;&nbsp;Managing Core Files (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tscrashdumps-40145.html">17.&nbsp;&nbsp;Managing System Crash Information (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsgeneral-32935.html">18.&nbsp;&nbsp;Troubleshooting Miscellaneous Software Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsfileaccess-28392.html">19.&nbsp;&nbsp;Troubleshooting File Access Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsfsck-26279.html">20.&nbsp;&nbsp;Resolving UFS File System Inconsistencies (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsswmgr-40462.html">21.&nbsp;&nbsp;Troubleshooting Software Package Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="sysresdiskuse-3"></a><h3>Checking the Size of Files</h3>
<p><a name="sysresdiskuse-ix2197"></a><a name="sysresdiskuse-ix2198"></a><a name="sysresdiskuse-ix2199"></a><a name="sysresdiskuse-ix2200"></a><a name="sysresdiskuse-ix2201"></a><a name="sysresdiskuse-ix2202"></a><a name="sysresdiskuse-ix2203"></a><a name="sysresdiskuse-ix2204"></a><a name="sysresdiskuse-ix2205"></a><a name="sysresdiskuse-ix2206"></a>You can check the size of files and sort them by using
the <tt>ls</tt> command. You can find files that exceed a size limit
by using the <tt>find</tt> command. For more information, see the <a href="http://docs.sun.com/doc/819-2239/ls-1?a=view"><tt>ls</tt>(1)</a> and
<a href="http://docs.sun.com/doc/819-2239/find-1?a=view"><tt>find</tt>(1)</a> man pages.</p>
<hr><p><b>Note - </b>If you run out of space in the <tt>/var</tt> directory, do not symbolically
link the <tt>/var</tt> directory to a directory on a file system with more
disk space.  Doing so, even as a temporary measure, might cause problems
for certain Solaris daemon processes and utilities.</p>
<hr>


<a name="sysresdiskuse-40204"></a><h4>How to Display the Size of Files</h4><a name="indexterm-29"></a><a name="indexterm-30"></a><ol>
<li><a name="sysresdiskuse-step-5"></a><b><a name="sysresdiskuse-ix2207"></a>Change to the directory where the files you want to check are located.
</b></li>
<li><a name="sysresdiskuse-step-6"></a><b>Display the size of the files.</b><pre>$ <tt><b>ls</b></tt> [<tt><b>-lh</b></tt>] [<tt><b>-s</b></tt>]</pre><dl><dt><tt>-l</tt></dt>
<dd><p>Displays a list of files and directories in long format, showing the sizes in bytes. (See the example that follows.)</p></dd>
<dt><tt>-h</tt></dt>
<dd><p>Scales file sizes and directory sizes into Kbytes, Mbytes, Gbytes, or Tbytes when the file or directory size is larger than 1024 bytes. This option also modifies the output displayed by the <tt>-o</tt>, <tt>-n</tt>, <tt>-@</tt>, and <tt>-g</tt> options to display file or directory sizes in the new format. For more information, see the<a href="http://docs.sun.com/doc/819-2239/ls-1?a=view"><tt>ls</tt>(1)</a> man page.</p></dd>
<dt><tt>-s</tt></dt>
<dd><p>Displays a list of the files and directories, showing the sizes in blocks.</p></dd>
</dl>
</li></ol><a name="emjel"></a>Example&nbsp;6-4 Displaying the Size of Files<p>The following example shows that the <tt>lastlog</tt> and <tt>messages</tt> files are larger
than the other files in the <tt>/var/adm</tt> directory. </p><pre>$ <tt><b>cd /var/adm</b></tt>
$ <tt><b>ls -lh</b></tt>
total 148
drwxrwxr-x   5 adm      adm          512 Nov 26 09:39 acct/
-rw-------   1 uucp     bin            0 Nov 26 09:25 aculog
drwxr-xr-x   2 adm      adm          512 Nov 26 09:25 exacct/
-r--r--r--   1 root     other       342K Nov 26 13:56 lastlog
drwxr-xr-x   2 adm      adm          512 Nov 26 09:25 log/
-rw-r--r--   1 root     root         20K Nov 26 13:55 messages
drwxr-xr-x   2 adm      adm          512 Nov 26 09:25 passwd/
drwxrwxr-x   2 adm      sys          512 Nov 26 09:39 sa/
drwxr-xr-x   2 root     sys          512 Nov 26 09:49 sm.bin/
-rw-rw-rw-   1 root     bin            0 Nov 26 09:25 spellhist
drwxr-xr-x   2 root     sys          512 Nov 26 09:25 streams/
-rw-r--r--   1 root     bin         3.3K Nov 26 13:56 utmpx
-rw-r--r--   1 root     root           0 Nov 26 10:17 vold.log
-rw-r--r--   1 adm      adm          19K Nov 26 13:56 wtmpx</pre><p><a name="sysresdiskuse-ix2210"></a><a name="sysresdiskuse-ix2211"></a><a name="sysresdiskuse-ix2212"></a><a name="sysresdiskuse-ix2214"></a><a name="sysresdiskuse-ix2215"></a><a name="sysresdiskuse-ix2216"></a><a name="sysresdiskuse-ix2217"></a><a name="sysresdiskuse-ix2218"></a><a name="sysresdiskuse-ix2219"></a><a name="sysresdiskuse-ix2220"></a>The following example shows that the <tt>lpsched.1</tt> file uses two blocks.  
       </p><pre>$ <tt><b>cd /var/lp/logs</b></tt>
$ <tt><b>ls -s</b></tt>
total 2            0 lpsched       2 lpsched.1</pre>

<a name="sysresdiskuse-24569"></a><h4>How to Find Large Files</h4><ol>
<li><a name="sysresdiskuse-step-9"></a><b><a name="sysresdiskuse-ix2222"></a><a name="sysresdiskuse-ix2223"></a><a name="indexterm-31"></a>Change to the directory that you want to search.  </b></li>
<li><a name="sysresdiskuse-step-10"></a><b><a name="sysresdiskuse-ix2224"></a>Display the size of files in blocks from largest to smallest.  </b>
<ul><li><p>If the characters or columns for the files are <b>different</b>, use the following command to sort a list of files by block size, from largest to smallest.</p><pre>$ <tt><b>ls -l | sort +4rn | more</b></tt></pre><p>Note that this command sorts files in a list by the character that is in the fourth field, starting from the left.</p></li>
<li><p>If the characters or columns for the files are the <b>same</b>, use the following command to sort a list of files by block size, from largest to smallest.</p><pre>$ <tt><b>ls -s | sort -nr | more</b></tt></pre><p>Note that this command sorts files in a list, starting with the left most character.</p></li></ul>
</li></ol><a name="gbebt"></a>Example&nbsp;6-5 Finding Large Files (Sorting by the Fifth Field's Character)<pre>$ <tt><b>cd /var/adm</b></tt>
$ <tt><b>ls -l | sort +4rn | more</b></tt>
-r--r--r--   1 root     root     4568368 Oct 17 08:36 lastlog
-rw-r--r--   1 adm      adm       697040 Oct 17 12:30 pacct.9
-rw-r--r--   1 adm      adm       280520 Oct 17 13:05 pacct.2
-rw-r--r--   1 adm      adm       277360 Oct 17 12:55 pacct.4
-rw-r--r--   1 adm      adm       264080 Oct 17 12:45 pacct.6
-rw-r--r--   1 adm      adm       255840 Oct 17 12:40 pacct.7
-rw-r--r--   1 adm      adm       254120 Oct 17 13:10 pacct.1
-rw-r--r--   1 adm      adm       250360 Oct 17 12:25 pacct.10
-rw-r--r--   1 adm      adm       248880 Oct 17 13:00 pacct.3
-rw-r--r--   1 adm      adm       247200 Oct 17 12:35 pacct.8
-rw-r--r--   1 adm      adm       246720 Oct 17 13:15 pacct.0
-rw-r--r--   1 adm      adm       245920 Oct 17 12:50 pacct.5
-rw-r--r--   1 root     root      190229 Oct  5 03:02 messages.1
-rw-r--r--   1 adm      adm       156800 Oct 17 13:17 pacct
-rw-r--r--   1 adm      adm       129084 Oct 17 08:36 wtmpx</pre><a name="emjem"></a>Example&nbsp;6-6 Finding Large Files (Sorting by the Left Most Character)<p><a name="sysresdiskuse-ix2226"></a><a name="sysresdiskuse-ix2227"></a><a name="sysresdiskuse-ix2225"></a>In the following example, the <tt>lastlog</tt> and <tt>messages</tt> files are the largest
files in the <tt>/var/adm</tt> directory.   </p><pre>$ <tt><b>cd /var/adm</b></tt>
$ <tt><b>ls -s | sort -nr | more</b></tt>
  48 lastlog
  30 messages
  24 wtmpx
  18 pacct
   8 utmpx
   2 vold.log
   2 sulog
   2 sm.bin/
   2 sa/
   2 passwd/
   2 pacct1
   2 log/
   2 acct/
   0 spellhist
   0 aculog
total 144</pre>

<a name="enmwy"></a><h4>How to Find Files That Exceed a Specified Size Limit</h4><ul>
<li><b>To locate and display the names of files that exceed a specified size,
use the <tt>find</tt> command.</b><pre>$ <tt><b>find</b></tt> <i>directory</i> <tt><b>-size</b></tt> <tt><b>+</b></tt><i>nnn</i> </pre><dl><dt><i>directory</i></dt>
<dd><p>Identifies the directory that you want to search.</p></dd>
<dt><tt>-size</tt> <tt>+</tt><i>nnn</i></dt>
<dd><p>Is a number of 512-byte blocks. Files that exceed this size are listed.</p></dd>
</dl>
</li></ul><a name="sysresdiskuse-12"></a>Example&nbsp;6-7 Finding Files That Exceed a Specified Size Limit<p><a name="sysresdiskuse-ix2233"></a><a name="sysresdiskuse-ix2234"></a><a name="sysresdiskuse-ix2235"></a><a name="sysresdiskuse-ix2236"></a><a name="sysresdiskuse-ix2237"></a>The following example shows how to find files larger than 400 blocks in
the current working directory. The <tt>-print</tt> option displays the output of the <tt>find</tt>
command.</p><pre>$ <tt><b>find . -size +400 -print</b></tt>
./Howto/howto.doc
./Howto/howto.doc.backup
./Howto/howtotest.doc
./Routine/routineBackupconcepts.doc
./Routine/routineIntro.doc
./Routine/routineTroublefsck.doc
./.record
./Mail/pagination
./Config/configPrintadmin.doc
./Config/configPrintsetup.doc
./Config/configMailappx.doc
./Config/configMailconcepts.doc
./snapshot.rs</pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="sysresdiskuse-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="sysresdiskuse-13.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

