<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Troubleshooting Common Agent Container Problems in the Solaris OS - System Administration Guide: Advanced Administration</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Advanced Administration</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="tsgeneral-12.html">Previous</a>
             </td>
             <td align="right">
                 <a href="tsfileaccess-28392.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol2preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="modconcepts-20809.html">1.&nbsp;&nbsp;Managing Terminals and Modems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="modsetup-43877.html">2.&nbsp;&nbsp;Setting Up Terminals and Modems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="modsafapp-84569.html">3.&nbsp;&nbsp;Managing Serial Ports With the Service Access Facility (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresconcepts-23051.html">4.&nbsp;&nbsp;Managing System Resources (Overview)</a></p>
<p class="toc level1 tocsp"><a href="sysressysinfo-75169.html">5.&nbsp;&nbsp;Displaying and Changing System Information (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresdiskuse-61891.html">6.&nbsp;&nbsp;Managing Disk Use (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresquotas-97946.html">7.&nbsp;&nbsp;Managing Quotas (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysrescron-18108.html">8.&nbsp;&nbsp;Scheduling System Tasks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresacctsetup-78801.html">9.&nbsp;&nbsp;Managing System Accounting (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresacctref-14910.html">10.&nbsp;&nbsp;System Accounting (Reference)</a></p>
<p class="toc level1 tocsp"><a href="spconcepts-21354.html">11.&nbsp;&nbsp;Managing System Performance (Overview)</a></p>
<p class="toc level1 tocsp"><a href="spprocess-59633.html">12.&nbsp;&nbsp;Managing System Processes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="spmonitor-24844.html">13.&nbsp;&nbsp;Monitoring System Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsoverview-10750.html">14.&nbsp;&nbsp;Troubleshooting Software Problems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="eekee.html">15.&nbsp;&nbsp;Managing System Messages</a></p>
<p class="toc level1 tocsp"><a href="tscore-7.html">16.&nbsp;&nbsp;Managing Core Files (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tscrashdumps-40145.html">17.&nbsp;&nbsp;Managing System Crash Information (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsgeneral-32935.html">18.&nbsp;&nbsp;Troubleshooting Miscellaneous Software Problems (Tasks)</a></p>
<p class="toc level2"><a href="gewwy.html">x86: What to Do if the Multiboot Module From Previous GRUB Implementation Is Loaded at Boot Time</a></p>
<p class="toc level2"><a href="tsgeneral-8.html">What to Do if Rebooting Fails</a></p>
<p class="toc level2"><a href="tsgeneral-18.html">What to Do if You Forgot Root Password</a></p>
<p class="toc level2"><a href="fxcmh.html">x86: What to Do if the SMF Boot Archive Service Fails During a System Reboot</a></p>
<p class="toc level2"><a href="tsgeneral-9.html">What to Do if a System Hangs</a></p>
<p class="toc level2"><a href="tsgeneral-10.html">What to Do if a File System Fills Up</a></p>
<p class="toc level2"><a href="tsgeneral-4.html">What to Do if File ACLs Are Lost After Copy or Restore</a></p>
<p class="toc level2"><a href="tsgeneral-12.html">Troubleshooting Backup Problems</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Troubleshooting Common Agent Container Problems in the Solaris OS</a></p>
<p class="toc level3"><a href="#gcbwu">How to Check Port Numbers</a></p>
<p class="toc level3"><a href="#gcbwc">How to Generate Security Keys for the Solaris OS</a></p>
</div>
<p class="toc level1 tocsp"><a href="tsfileaccess-28392.html">19.&nbsp;&nbsp;Troubleshooting File Access Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsfsck-26279.html">20.&nbsp;&nbsp;Resolving UFS File System Inconsistencies (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsswmgr-40462.html">21.&nbsp;&nbsp;Troubleshooting Software Package Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="gcbwx"></a><h3>Troubleshooting Common Agent Container Problems in the Solaris OS</h3>
<a name="indexterm-173"></a><a name="indexterm-174"></a><a name="indexterm-175"></a><a name="indexterm-176"></a><a name="indexterm-177"></a><a name="indexterm-178"></a><a name="indexterm-179"></a><a name="indexterm-180"></a><p>This section addresses problems that you might encounter with the common agent container
shared component. In this Solaris release, he common agent container Java program is
included in the Solaris OS. The program implements a container for Java management
applications.  Typically, the container is not visible. </p><p>The following are potential problems:</p>
<ul><li><p>Port number conflicts</p></li>
<li><p>Compromised security for the superuser password</p></li></ul>


<a name="gcbwe"></a><h4>Port Number Conflicts</h4>
<p>The common agent container occupies the following port numbers by default:</p>
<ul><li><p>JMX port (TCP) = <tt>11162</tt></p></li>
<li><p>SNMPAdaptor port (UDP) = <tt>11161</tt></p></li>
<li><p>SNMPAdaptor port for traps (UDP) = <tt>11162</tt></p></li>
<li><p>Commandstream Adaptor port (TCP) = <tt>11163</tt></p></li>
<li><p>RMI connector port (TCP) = <tt>11164</tt></p></li></ul>

<hr><p><b>Note - </b>If you are troubleshooting an installation of Sun Cluster, the port assignments are
different. </p>
<hr>
<p>If your installation already reserves any of these port numbers, change the port
numbers that are occupied by the common agent container, as described in the
following procedure.</p>

<a name="gcbwu"></a><h4>How to Check Port Numbers</h4><a name="indexterm-181"></a><a name="indexterm-182"></a><p>This procedure shows you how to verify the Solaris port.</p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><b>Stop the common agent container management daemon.</b><pre># <tt><b>/usr/sbin/cacaoadm stop</b></tt></pre></li>
<li><b>Change the port numbs by using the following syntax:</b><pre># <tt><b>/usr/sbin/cacaoadm set-param </tt><i>param=value</i><tt></b></tt></pre><p>For example, to change the port occupied by the <tt>SNMPAdaptor</tt> from the default
of 11161 to 11165, type:</p><pre># <tt><b>/usr/sbin/cacaoadm set-param snmp-adaptor-port=11165</b></tt> </pre></li>
<li><b>Restart the common agent container management daemon.</b><pre># <tt><b>/usr/sbin/cacaoadm start</b></tt></pre></li></ol>

<a name="gcbws"></a><h4>Compromised Security for Superuser Password</h4>
<p>It might be necessary to regenerate security keys on a host that
is running the Java ES. For example, if there is a risk that
a superuser password has been exposed or compromised, you should regenerate the security
keys. The keys that are used by the common agent container services are
stored in <tt>/etc/cacao/instances/</tt><i>instance-name</i><tt>/security</tt> directory. The following task shows you how to generate security
keys for the Solaris OS.</p>

<a name="gcbwc"></a><h4>How to Generate Security Keys for the Solaris OS</h4><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><b>Stop the common agent container management daemon. </b><pre># <tt><b>/usr/sbin/cacaoadm stop</b></tt></pre></li>
<li><b>Regenerate the security keys.</b><pre># <tt><b>/usr/sbin/cacaoadm create-keys --force</b></tt></pre></li>
<li><b>Restart the common agent container management daemon.</b><pre># <tt><b>/usr/sbin/cacaoadm start</b></tt></pre>
<hr><p><b>Note - </b>For the Sun Cluster software, you must propagate this change across all nodes
in the cluster. </p>
<hr>
</li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="tsgeneral-12.html">Previous</a>
             </td>
             <td align="right">
                 <a href="tsfileaccess-28392.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

