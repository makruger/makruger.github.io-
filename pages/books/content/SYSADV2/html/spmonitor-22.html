<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Displaying Virtual Memory Statistics (<tt>vmstat</tt>) - System Administration Guide: Advanced Administration</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Advanced Administration</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="enudl.html">Previous</a>
             </td>
             <td align="right">
                 <a href="spmonitor-4.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol2preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="modconcepts-20809.html">1.&nbsp;&nbsp;Managing Terminals and Modems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="modsetup-43877.html">2.&nbsp;&nbsp;Setting Up Terminals and Modems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="modsafapp-84569.html">3.&nbsp;&nbsp;Managing Serial Ports With the Service Access Facility (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresconcepts-23051.html">4.&nbsp;&nbsp;Managing System Resources (Overview)</a></p>
<p class="toc level1 tocsp"><a href="sysressysinfo-75169.html">5.&nbsp;&nbsp;Displaying and Changing System Information (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresdiskuse-61891.html">6.&nbsp;&nbsp;Managing Disk Use (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresquotas-97946.html">7.&nbsp;&nbsp;Managing Quotas (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysrescron-18108.html">8.&nbsp;&nbsp;Scheduling System Tasks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresacctsetup-78801.html">9.&nbsp;&nbsp;Managing System Accounting (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresacctref-14910.html">10.&nbsp;&nbsp;System Accounting (Reference)</a></p>
<p class="toc level1 tocsp"><a href="spconcepts-21354.html">11.&nbsp;&nbsp;Managing System Performance (Overview)</a></p>
<p class="toc level1 tocsp"><a href="spprocess-59633.html">12.&nbsp;&nbsp;Managing System Processes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="spmonitor-24844.html">13.&nbsp;&nbsp;Monitoring System Performance (Tasks)</a></p>
<p class="toc level2"><a href="enudl.html">Displaying System Performance Information (Task Map)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Displaying Virtual Memory Statistics (<tt>vmstat</tt>)</a></p>
<p class="toc level3"><a href="#enudr">How to Display Virtual Memory Statistics (<tt>vmstat</tt>)</a></p>
<p class="toc level3"><a href="#enudw">How to Display System Event Information (<tt>vmstat -s</tt>)</a></p>
<p class="toc level3"><a href="#enudm">How to Display Swapping Statistics (<tt>vmstat -S</tt>)</a></p>
<p class="toc level3"><a href="#enudt">How to Display Interrupts Per Device (<tt>vmstat -i</tt>)</a></p>
</div>
<p class="toc level2 tocsp"><a href="spmonitor-4.html">Displaying Disk Utilization Information (<tt>iostat</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-4.html#enudv">How to Display Disk Utilization Information (<tt>iostat</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-4.html#enueb">How to Display Extended Disk Statistics (<tt>iostat -xtc</tt>)</a></p>
<p class="toc level2 tocsp"><a href="spmonitor-6.html">Displaying Disk Space Statistics (<tt>df</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-6.html#enudy">How to Display Disk Space Information (<tt>df -k</tt>)</a></p>
<p class="toc level2 tocsp"><a href="enudq.html">Monitoring System Activities (Task Map)</a></p>
<p class="toc level2"><a href="spmonitor-8.html">Monitoring System Activities (<tt>sar</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-8.html#enueh">How to Check File Access (<tt>sar -a</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-8.html#enuef">How to Check Buffer Activity (<tt>sar -b</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-8.html#enuel">How to Check System Call Statistics (<tt>sar -c</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-8.html#enuen">How to Check Disk Activity (<tt>sar -d</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-8.html#enueo">How to Check Page-Out and Memory (<tt>sar -g</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-8.html#enuep">How to Check Kernel Memory Allocation (<tt>sar -k</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-8.html#enuev">How to Check Interprocess Communication (<tt>sar -m</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-8.html#enuew">How to Check Page-In Activity (<tt>sar -p</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-8.html#enuet">How to Check Queue Activity (<tt>sar -q</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-8.html#enuex">How to Check Unused Memory (<tt>sar -r</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-8.html#enueu">How to Check CPU Utilization (<tt>sar -u</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-8.html#enuey">How to Check System Table Status (<tt>sar -v</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-8.html#enuez">How to Check Swapping Activity (<tt>sar -w</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-8.html#enufb">How to Check Terminal Activity (<tt>sar -y</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-8.html#enufe">How to Check Overall System Performance (<tt>sar -A</tt>)</a></p>
<p class="toc level2 tocsp"><a href="spconcepts-60676.html">Collecting System Activity Data Automatically (<tt>sar</tt>)</a></p>
<p class="toc level3"><a href="spconcepts-60676.html#spmonitor-96096">How to Set Up Automatic Data Collection</a></p>
<p class="toc level1 tocsp"><a href="tsoverview-10750.html">14.&nbsp;&nbsp;Troubleshooting Software Problems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="eekee.html">15.&nbsp;&nbsp;Managing System Messages</a></p>
<p class="toc level1 tocsp"><a href="tscore-7.html">16.&nbsp;&nbsp;Managing Core Files (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tscrashdumps-40145.html">17.&nbsp;&nbsp;Managing System Crash Information (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsgeneral-32935.html">18.&nbsp;&nbsp;Troubleshooting Miscellaneous Software Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsfileaccess-28392.html">19.&nbsp;&nbsp;Troubleshooting File Access Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsfsck-26279.html">20.&nbsp;&nbsp;Resolving UFS File System Inconsistencies (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsswmgr-40462.html">21.&nbsp;&nbsp;Troubleshooting Software Package Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="spmonitor-22"></a><h3>Displaying Virtual Memory Statistics (<tt>vmstat</tt>)</h3>
<p><a name="spmonitor-ix4301"></a>You can use the <tt>vmstat</tt> command to report virtual memory statistics and
information about system events such as CPU load, paging, number of context switches,
device interrupts, and system calls. The <tt>vmstat</tt> command can also display statistics on swapping,
cache flushing, and interrupts.</p><p><a name="spmonitor-ix4308"></a>The following table describes the fields in the <tt>vmstat</tt> command output.  </p><a name="spmonitor-57160"></a><h6>Table&nbsp;13-1 Output From the <tt>vmstat</tt> Command</h6><table><col width="71*"><col width="72*"><col width="216*"><tr><th align="left" valign="top" scope="column"><p>Category</p></th>
<th align="left" valign="top" scope="column"><p>Field Name</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>procs</tt></p></td>
<td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p>Reports
on the following:</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>r</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The number of kernel threads in the dispatch queue</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>b</tt></p></td>
<td align="left" valign="top" scope="row"><p>The
number of blocked kernel threads that are waiting for resources</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>w</tt></p></td>
<td align="left" valign="top" scope="row"><p>The number of
swapped out LWPs that are waiting for processing resources to finish </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>memory</tt></p></td>
<td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p>Reports on
usage of real memory and virtual memory:</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>swap</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Available swap space</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>free</tt>  </p></td>
<td align="left" valign="top" scope="row"><p>Size
of the free list</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>page</tt></p></td>
<td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p>Reports on page faults and paging activity, in units
per second:</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>re</tt></p></td>
<td align="left" valign="top" scope="row"><p>Pages reclaimed</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>mf</tt></p></td>
<td align="left" valign="top" scope="row"><p>Minor faults and major faults</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>pi</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Kbytes paged in</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>po</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Kbytes paged
out</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>fr</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Kbytes freed</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>de</tt></p></td>
<td align="left" valign="top" scope="row"><p>Anticipated memory that is needed by recently swapped-in processes</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>sr</tt></p></td>
<td align="left" valign="top" scope="row"><p>Pages scanned
by the <tt>page</tt> daemon not currently in use. If <tt>sr</tt> does not equal
zero, the <tt>page</tt> daemon has been running.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>disk</tt> </p></td>
<td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p>Reports the number of disk operations
per second, showing data on up to four disks</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>faults</tt> </p></td>
<td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p>Reports the trap/interrupt rates
per second:</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>in</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Interrupts per second</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>sy</tt></p></td>
<td align="left" valign="top" scope="row"><p>System calls per second</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>cs</tt> </p></td>
<td align="left" valign="top" scope="row"><p>CPU context switch rate</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>cpu</tt>
</p></td>
<td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p>Reports on the use of CPU time:</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>us</tt>  </p></td>
<td align="left" valign="top" scope="row"><p>User time</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>sy</tt>  </p></td>
<td align="left" valign="top" scope="row"><p>System
time</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>id</tt>  </p></td>
<td align="left" valign="top" scope="row"><p>Idle time </p></td>
</tr>
</table><p>For a more detailed description of this command, see the <a href="http://docs.sun.com/doc/819-2240/vmstat-1m?a=view"><tt>vmstat</tt>(1M)</a> man
page.</p>

<a name="enudr"></a><h4>How to Display Virtual Memory Statistics (<tt>vmstat</tt>)</h4><ul>
<li><b>Collect virtual memory statistics by using the <tt>vmstat</tt> command with a time interval
in seconds.</b><pre>$ <tt><b>vmstat</b></tt> <i>n</i></pre><p>where <i>n</i> is the interval in seconds between reports.</p></li></ul><a name="spmonitor-2"></a>Example&nbsp;13-1 Displaying Virtual Memory Statistics<p>The following example shows the <tt>vmstat</tt> display of statistics that were gathered at
five-second intervals.</p><pre>$ <tt><b>vmstat 5</b></tt>
kthr      memory            page            disk          faults      cpu
 r b w   swap  free  re  mf pi po fr de sr dd f0 s1 --   in   sy   cs us sy id
 0 0 0 863160 365680  0   3  1  0  0  0  0  0  0  0  0  406  378  209  1  0 99
 0 0 0 765640 208568  0  36  0  0  0  0  0  0  0  0  0  479 4445 1378  3  3 94
 0 0 0 765640 208568  0   0  0  0  0  0  0  0  0  0  0  423  214  235  0  0 100
 0 0 0 765712 208640  0   0  0  0  0  0  0  3  0  0  0  412  158  181  0  0 100
 0 0 0 765832 208760  0   0  0  0  0  0  0  0  0  0  0  402  157  179  0  0 100
 0 0 0 765832 208760  0   0  0  0  0  0  0  0  0  0  0  403  153  182  0  0 100
 0 0 0 765832 208760  0   0  0  0  0  0  0  0  0  0  0  402  168  177  0  0 100
 0 0 0 765832 208760  0   0  0  0  0  0  0  0  0  0  0  402  153  178  0  0 100
 0 0 0 765832 208760  0  18  0  0  0  0  0  0  0  0  0  407  165  186  0  0 100</pre>

<a name="enudw"></a><h4>How to Display System Event Information (<tt>vmstat -s</tt>)</h4><ul>
<li><b>Run the <tt>vmstat -s</tt> command to show how many system events have taken place
since the last time the system was booted. </b><pre>$ <tt><b>vmstat -s</b></tt>
        0 swap ins
        0 swap outs
        0 pages swapped in
        0 pages swapped out
   522586 total address trans. faults taken
    17006 page ins
       25 page outs
    23361 pages paged in
       28 pages paged out
    45594 total reclaims
    45592 reclaims from free list
        0 micro (hat) faults
   522586 minor (as) faults
    16189 major faults
    98241 copy-on-write faults
   137280 zero fill page faults
    45052 pages examined by the clock daemon
        0 revolutions of the clock hand
       26 pages freed by the clock daemon
     2857 forks
       78 vforks
     1647 execs
 34673885 cpu context switches
 65943468 device interrupts
   711250 traps
 63957605 system calls
  3523925 total name lookups (cache hits 99%)
    92590 user   cpu
    65952 system cpu
 16085832 idle   cpu
     7450 wait   cpu</pre></li></ul>

<a name="enudm"></a><h4>How to Display Swapping Statistics (<tt>vmstat -S</tt>)</h4><ul>
<li><b>Run <tt>vmstat -S</tt> to show swapping statistics.</b><pre>$ <tt><b>vmstat -S</b></tt>
kthr      memory            page            disk          faults      cpu
 r b w   swap  free  si  so pi po fr de sr dd f0 s1 --   in   sy   cs us sy id
 0 0 0 862608 364792  0   0  1  0  0  0  0  0  0  0  0  406  394  213  1  0 99</pre><p>The swapping statistics fields are described in the following list. For a description
of the other fields, see <a href="#spmonitor-57160">Table&nbsp;13-1</a>.</p><dl><dt><tt>si</tt></dt>
<dd><p>Average number of LWPs that are swapped in per second</p></dd>
<dt><tt>so</tt></dt>
<dd><p>Number of whole processes that are swapped out</p></dd>
</dl>

<hr><p><b>Note - </b>The <tt>vmstat</tt> command truncates the output of <tt>si</tt> and <tt>so</tt> fields. Use
the <tt>sar</tt> command to display a more accurate accounting of swap statistics.</p>
<hr>
</li></ul>

<a name="enudt"></a><h4>How to Display Interrupts Per Device (<tt>vmstat -i</tt>)</h4><ul>
<li><b>Run the <tt>vmstat -i</tt> command to show the number of interrupts per device.</b></li></ul><a name="spmonitor-3"></a>Example&nbsp;13-2 Displaying Interrupts Per Device<p>The following example shows output from the <tt>vmstat -i</tt> command. </p><pre>$ <tt><b>vmstat -i</b></tt>
interrupt         total     rate
--------------------------------
clock          52163269      100
esp0            2600077        4
zsc0              25341        0
zsc1              48917        0
cgsixc0             459        0
lec0             400882        0
fdc0                 14        0
bppc0                 0        0
audiocs0              0        0
--------------------------------
Total          55238959      105</pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="enudl.html">Previous</a>
             </td>
             <td align="right">
                 <a href="spmonitor-4.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

