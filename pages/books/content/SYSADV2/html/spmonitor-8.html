<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Monitoring System Activities (<tt>sar</tt>) - System Administration Guide: Advanced Administration</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Advanced Administration</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="enudq.html">Previous</a>
             </td>
             <td align="right">
                 <a href="spconcepts-60676.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol2preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="modconcepts-20809.html">1.&nbsp;&nbsp;Managing Terminals and Modems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="modsetup-43877.html">2.&nbsp;&nbsp;Setting Up Terminals and Modems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="modsafapp-84569.html">3.&nbsp;&nbsp;Managing Serial Ports With the Service Access Facility (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresconcepts-23051.html">4.&nbsp;&nbsp;Managing System Resources (Overview)</a></p>
<p class="toc level1 tocsp"><a href="sysressysinfo-75169.html">5.&nbsp;&nbsp;Displaying and Changing System Information (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresdiskuse-61891.html">6.&nbsp;&nbsp;Managing Disk Use (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresquotas-97946.html">7.&nbsp;&nbsp;Managing Quotas (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysrescron-18108.html">8.&nbsp;&nbsp;Scheduling System Tasks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresacctsetup-78801.html">9.&nbsp;&nbsp;Managing System Accounting (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresacctref-14910.html">10.&nbsp;&nbsp;System Accounting (Reference)</a></p>
<p class="toc level1 tocsp"><a href="spconcepts-21354.html">11.&nbsp;&nbsp;Managing System Performance (Overview)</a></p>
<p class="toc level1 tocsp"><a href="spprocess-59633.html">12.&nbsp;&nbsp;Managing System Processes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="spmonitor-24844.html">13.&nbsp;&nbsp;Monitoring System Performance (Tasks)</a></p>
<p class="toc level2"><a href="enudl.html">Displaying System Performance Information (Task Map)</a></p>
<p class="toc level2"><a href="spmonitor-22.html">Displaying Virtual Memory Statistics (<tt>vmstat</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-22.html#enudr">How to Display Virtual Memory Statistics (<tt>vmstat</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-22.html#enudw">How to Display System Event Information (<tt>vmstat -s</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-22.html#enudm">How to Display Swapping Statistics (<tt>vmstat -S</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-22.html#enudt">How to Display Interrupts Per Device (<tt>vmstat -i</tt>)</a></p>
<p class="toc level2 tocsp"><a href="spmonitor-4.html">Displaying Disk Utilization Information (<tt>iostat</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-4.html#enudv">How to Display Disk Utilization Information (<tt>iostat</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-4.html#enueb">How to Display Extended Disk Statistics (<tt>iostat -xtc</tt>)</a></p>
<p class="toc level2 tocsp"><a href="spmonitor-6.html">Displaying Disk Space Statistics (<tt>df</tt>)</a></p>
<p class="toc level3"><a href="spmonitor-6.html#enudy">How to Display Disk Space Information (<tt>df -k</tt>)</a></p>
<p class="toc level2 tocsp"><a href="enudq.html">Monitoring System Activities (Task Map)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Monitoring System Activities (<tt>sar</tt>)</a></p>
<p class="toc level3"><a href="#enueh">How to Check File Access (<tt>sar -a</tt>)</a></p>
<p class="toc level3"><a href="#enuef">How to Check Buffer Activity (<tt>sar -b</tt>)</a></p>
<p class="toc level3"><a href="#enuel">How to Check System Call Statistics (<tt>sar -c</tt>)</a></p>
<p class="toc level3"><a href="#enuen">How to Check Disk Activity (<tt>sar -d</tt>)</a></p>
<p class="toc level3"><a href="#enueo">How to Check Page-Out and Memory (<tt>sar -g</tt>)</a></p>
<p class="toc level3"><a href="#enuep">How to Check Kernel Memory Allocation (<tt>sar -k</tt>)</a></p>
<p class="toc level3"><a href="#enuev">How to Check Interprocess Communication (<tt>sar -m</tt>)</a></p>
<p class="toc level3"><a href="#enuew">How to Check Page-In Activity (<tt>sar -p</tt>)</a></p>
<p class="toc level3"><a href="#enuet">How to Check Queue Activity (<tt>sar -q</tt>)</a></p>
<p class="toc level3"><a href="#enuex">How to Check Unused Memory (<tt>sar -r</tt>)</a></p>
<p class="toc level3"><a href="#enueu">How to Check CPU Utilization (<tt>sar -u</tt>)</a></p>
<p class="toc level3"><a href="#enuey">How to Check System Table Status (<tt>sar -v</tt>)</a></p>
<p class="toc level3"><a href="#enuez">How to Check Swapping Activity (<tt>sar -w</tt>)</a></p>
<p class="toc level3"><a href="#enufb">How to Check Terminal Activity (<tt>sar -y</tt>)</a></p>
<p class="toc level3"><a href="#enufe">How to Check Overall System Performance (<tt>sar -A</tt>)</a></p>
</div>
<p class="toc level2 tocsp"><a href="spconcepts-60676.html">Collecting System Activity Data Automatically (<tt>sar</tt>)</a></p>
<p class="toc level3"><a href="spconcepts-60676.html#spmonitor-96096">How to Set Up Automatic Data Collection</a></p>
<p class="toc level1 tocsp"><a href="tsoverview-10750.html">14.&nbsp;&nbsp;Troubleshooting Software Problems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="eekee.html">15.&nbsp;&nbsp;Managing System Messages</a></p>
<p class="toc level1 tocsp"><a href="tscore-7.html">16.&nbsp;&nbsp;Managing Core Files (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tscrashdumps-40145.html">17.&nbsp;&nbsp;Managing System Crash Information (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsgeneral-32935.html">18.&nbsp;&nbsp;Troubleshooting Miscellaneous Software Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsfileaccess-28392.html">19.&nbsp;&nbsp;Troubleshooting File Access Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsfsck-26279.html">20.&nbsp;&nbsp;Resolving UFS File System Inconsistencies (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsswmgr-40462.html">21.&nbsp;&nbsp;Troubleshooting Software Package Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="spmonitor-8"></a><h3>Monitoring System Activities (<tt>sar</tt>)</h3>
<p><a name="spconcepts-ix3821"></a><a name="spconcepts-ix3822"></a><a name="spconcepts-ix3823"></a>Use the <tt>sar</tt> command to perform the following tasks:</p>
<ul><li><p>Organize and view data about system activity.</p></li>
<li><p>Access system activity data on a special request basis.</p></li>
<li><p>Generate automatic reports to measure and monitor system performance, as well as special request reports to pinpoint specific performance problems. For information on how to set up the <tt>sar</tt> command to run on your system, as well as a description of these tools, see <a href="spconcepts-60676.html">Collecting System Activity Data Automatically (<tt>sar</tt>)</a>.</p></li></ul>
<p>For a detailed description of this command, see the <a href="http://docs.sun.com/doc/819-2239/sar-1?a=view"><tt>sar</tt>(1)</a> man page.</p>

<a name="enueh"></a><h4>How to Check File Access (<tt>sar -a</tt>)</h4><ul>
<li><b>Display file access operation statistics with the <tt>sar -a</tt> command.<a name="spmonitor-ix4514"></a><a name="spmonitor-ix4515"></a><a name="spmonitor-ix4516"></a><a name="spmonitor-ix4517"></a><a name="spmonitor-ix4518"></a><a name="spmonitor-ix4520"></a></b><pre>$ <tt><b>sar -a</b></tt>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:00  iget/s namei/s dirbk/s
01:00:00       0       3       0
02:00:00       0       3       0
03:00:00       0       3       0
04:00:00       0       3       0
05:00:00       0       3       0
06:00:00       0       3       0
07:00:00       0       3       0
08:00:00       0       3       0
08:20:01       0       3       0
08:40:00       0       3       0
09:00:00       0       3       0
09:20:01       0      10       0
09:40:01       0       1       0
10:00:02       0       5       0

Average        0       4       0</pre><p>The following list describes the field names and description of operating system routines
that are reported by the <tt>sar -a</tt> command.</p><dl><dt><tt>iget/s</tt></dt>
<dd><p>The number of requests made for inodes that were not in the directory name look-up cache (DNLC).</p></dd>
<dt><tt>namei/s</tt></dt>
<dd><p>The number of file system path searches per second. If <tt>namei</tt> does not find a directory name in the DNLC, it calls <tt>iget</tt> to get the inode for either a file or directory. Hence, most <tt>igets</tt> are the result of DNLC misses.</p></dd>
<dt><tt>dirbk/s</tt></dt>
<dd><p>The number of directory block reads issued per second.</p></dd>
</dl>
<p><a name="spmonitor-ix4528"></a><a name="spmonitor-ix4529"></a><a name="spmonitor-ix4530"></a><a name="spmonitor-ix4531"></a>The larger the reported values for these operating system routines, the more time
the kernel is spending to access user files. The amount of time reflects
how heavily programs and applications are using the file systems. The <tt>-a</tt> option
is helpful for viewing how  disk-dependent an application is.</p></li></ul>

<a name="enuef"></a><h4>How to Check Buffer Activity (<tt>sar -b</tt>)</h4><ul>
<li><b>Display buffer activity statistics with the <tt>sar -b</tt> command. </b><p>The buffer is used to cache metadata. Metadata includes inodes, cylinder group blocks,
and indirect blocks. </p><pre>$ <tt><b>sar -b</b></tt>
00:00:00 bread/s lread/s %rcache bwrit/s lwrit/s %wcache pread/s pwrit/s
01:00:00       0       0     100       0       0      55       0       0</pre></li></ul><a name="spmonitor-9"></a>Example&nbsp;13-5 Checking Buffer Activity (<tt>sar <tt>-b</tt></tt>)<p><a name="spmonitor-ix4551"></a>The following example of <tt>sar -b</tt> command output shows that the <tt>%rcache</tt> and <tt>%wcache</tt>
buffers are not causing any slowdowns. All the data is within acceptable limits.</p><pre>$ <tt><b>sar -b</b></tt>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:04 bread/s lread/s %rcache bwrit/s lwrit/s %wcache pread/s pwrit/s
01:00:00       0       0     100       0       0      94       0       0
02:00:01       0       0     100       0       0      94       0       0
03:00:00       0       0     100       0       0      92       0       0
04:00:00       0       1     100       0       1      94       0       0
05:00:00       0       0     100       0       0      93       0       0
06:00:00       0       0     100       0       0      93       0       0
07:00:00       0       0     100       0       0      93       0       0
08:00:00       0       0     100       0       0      93       0       0
08:20:00       0       1     100       0       1      94       0       0
08:40:01       0       1     100       0       1      93       0       0
09:00:00       0       1     100       0       1      93       0       0
09:20:00       0       1     100       0       1      93       0       0
09:40:00       0       2     100       0       1      89       0       0
10:00:00       0       9     100       0       5      92       0       0
10:20:00       0       0     100       0       0      68       0       0
10:40:00       0       1      98       0       1      70       0       0
11:00:00       0       1     100       0       1      75       0       0

Average        0       1     100       0       1      91       0       0</pre><p>The following table describes the buffer activities that are displayed by the <tt>-b</tt>
option.</p><table><col width="50*"><col width="50*"><tr><th align="left" valign="top" scope="column"><p>Field Name</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>bread/s</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Average number of reads per second that are submitted to
the buffer cache from the disk</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>lread/s</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Average number of logical reads per second
from the buffer cache</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>%rcache</tt></p></td>
<td align="left" valign="top" scope="row"><p>Fraction of logical reads that are found in the
buffer cache (100 % minus the ratio of <tt>bread/s</tt> to <tt>lread/s</tt>)</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>bwrit/s</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Average number
of physical blocks (512 blocks) that are written from the buffer cache to
disk, per second</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>lwrit/s</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Average number of logical writes to the buffer cache,
per second</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>%wcache</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Fraction of logical writes that are found in the buffer
cache (100 % minus the ratio of <tt>bwrit/s</tt> to <tt>lwrit/s</tt>)</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>pread/s</tt></p></td>
<td align="left" valign="top" scope="row"><p>Average number of physical
reads, per second, that use character device interfaces</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>pwrit/s</tt></p></td>
<td align="left" valign="top" scope="row"><p>Average number of physical write requests,
per second, that use character device interfaces</p></td>
</tr>
</table><p>The most important entries are the cache hit ratios <tt>%rcache</tt> and <tt>%wcache</tt>.
These entries measure the effectiveness of system buffering. If <tt>%rcache</tt> falls below 90
percent, or if <tt>%wcache</tt> falls below 65 percent, it might be possible to
improve performance by increasing the buffer space.</p>

<a name="enuel"></a><h4>How to Check System Call Statistics (<tt>sar -c</tt>)</h4><ul>
<li><b>Display system call statistics by using the <tt>sar -c</tt> command.</b><pre>$ <tt><b>sar -c</b></tt>
00:00:00 scall/s sread/s swrit/s  fork/s  exec/s rchar/s wchar/s
01:00:00      38       2       2    0.00    0.00     149     120</pre></li></ul><a name="spmonitor-10"></a>Example&nbsp;13-6 Checking System Call Statistics (<tt>sar <tt>-c</tt></tt>)<p>The following example shows output from the <tt>sar -c</tt> command.</p><pre>$ <tt><b>sar -c</b></tt>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:04 scall/s sread/s swrit/s  fork/s  exec/s rchar/s wchar/s
01:00:00      89      14       9    0.01    0.00    2906    2394
02:00:01      89      14       9    0.01    0.00    2905    2393
03:00:00      89      14       9    0.01    0.00    2908    2393
04:00:00      90      14       9    0.01    0.00    2912    2393
05:00:00      89      14       9    0.01    0.00    2905    2393
06:00:00      89      14       9    0.01    0.00    2905    2393
07:00:00      89      14       9    0.01    0.00    2905    2393
08:00:00      89      14       9    0.01    0.00    2906    2393
08:20:00      90      14       9    0.01    0.01    2914    2395
08:40:01      90      14       9    0.01    0.00    2914    2396
09:00:00      90      14       9    0.01    0.01    2915    2396
09:20:00      90      14       9    0.01    0.01    2915    2396
09:40:00     880     207     156    0.08    0.08   26671    9290
10:00:00    2020     530     322    0.14    0.13   57675   36393
10:20:00     853     129      75    0.02    0.01   10500    8594
10:40:00    2061     524     450    0.08    0.08  579217  567072
11:00:00    1658     404     350    0.07    0.06 1152916 1144203

Average      302      66      49    0.02    0.01   57842   55544</pre><p><a name="spmonitor-ix4563"></a>The following table describes the system call categories that are reported by the
<tt>-c</tt> option. Typically, reads and writes account for about half of the total
system calls. However, the percentage varies greatly with the activities that are being
performed by the system.</p><table><col width="50*"><col width="50*"><tr><th align="left" valign="top" scope="column"><p>Field Name</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>scall/s</tt></p></td>
<td align="left" valign="top" scope="row"><p>The number of all types of system calls per
second, which is generally about 30 per second on a system with 4
to 6 users.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>sread/s</tt></p></td>
<td align="left" valign="top" scope="row"><p>The number of <tt>read</tt> system calls per second.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>swrit/s</tt></p></td>
<td align="left" valign="top" scope="row"><p>The number of
<tt>write</tt> system calls per second.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>fork/s</tt></p></td>
<td align="left" valign="top" scope="row"><p>The number of <tt>fork</tt> system calls per second,
which is about 0.5 per second on a system with 4 to 6
users. This number increases if shell scripts are running.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>exec/s</tt></p></td>
<td align="left" valign="top" scope="row"><p>The number of <tt>exec</tt> system
calls per second. If <tt>exec/s</tt> divided by <tt>fork/s</tt> is greater than 3,
look for inefficient <tt>PATH</tt> variables.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>rchar/s</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The number of characters (bytes) transferred by <tt>read</tt>
system calls per second.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>wchar/s</tt></p></td>
<td align="left" valign="top" scope="row"><p>The number of characters (bytes) transferred by <tt>write</tt> system calls per
second.</p></td>
</tr>
</table>

<a name="enuen"></a><h4>How to Check Disk Activity (<tt>sar -d</tt>)</h4><ul>
<li><b>Display disk activity statistics with the <tt>sar -d</tt> command.</b><pre>$ <tt><b>sar -d</b></tt>

00:00:00   device        %busy   avque   r+w/s  blks/s  avwait  avserv</pre></li></ul><a name="spmonitor-11"></a>Example&nbsp;13-7 Checking Disk Activity<p>This abbreviated example illustrates the output from the <tt>sar -d</tt> command.</p><pre>$ <tt><b>sar -d</b></tt>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

12:36:32   device        %busy   avque   r+w/s  blks/s  avwait  avserv

12:40:01   dad1             15     0.7      26     399    18.1    10.0
           dad1,a           15     0.7      26     398    18.1    10.0
           dad1,b            0     0.0       0       1     1.0     3.0
           dad1,c            0     0.0       0       0     0.0     0.0
           dad1,h            0     0.0       0       0     0.0     6.0
           fd0               0     0.0       0       0     0.0     0.0
           nfs1              0     0.0       0       0     0.0     0.0
           nfs2              1     0.0       1      12     0.0    13.2
           nfs3              0     0.0       0       2     0.0     1.9
           nfs4              0     0.0       0       0     0.0     7.0
           nfs5              0     0.0       0       0     0.0    57.1
           nfs6              1     0.0       6     125     4.3     3.2
           nfs7              0     0.0       0       0     0.0     6.0
           sd1               0     0.0       0       0     0.0     5.4
           ohci0,bu          0     0.0       0       0     0.0     0.0
           ohci0,ct          0     0.0       0       0     0.0     0.0
           ohci0,in          0     0.0       7       0     0.0     0.0
           ohci0,is          0     0.0       0       0     0.0     0.0
           ohci0,to          0     0.0       7       0     0.0     0.0</pre><p>The following table describes the disk device activities that are reported by the
<tt>-d</tt> option.</p><table><col width="50*"><col width="50*"><tr><th align="left" valign="top" scope="column"><p>Field Name</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>device</tt></p></td>
<td align="left" valign="top" scope="row"><p>Name of the disk device that is being monitored.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>%busy</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Portion
of time the device was busy servicing a transfer request.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>avque</tt></p></td>
<td align="left" valign="top" scope="row"><p>Average number of
requests during the time the device was busy servicing a transfer request.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>r+w/s</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of
read-and-write transfers to the device, per second.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>blks/s</tt></p></td>
<td align="left" valign="top" scope="row"><p>Number of 512-byte blocks that are
transferred to the device, per second.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>avwait</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Average time, in milliseconds, that transfer
requests wait idly in the queue. This time is measured only when the
queue is occupied.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>avserv</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Average time, in milliseconds, for a transfer request to
be completed by the device. For disks, this value includes seek times, rotational
latency times, and data transfer times.</p></td>
</tr>
</table><p>Note that queue lengths and wait times are measured when something is in
the queue. If <tt>%busy</tt> is small, large queues and service times probably represent
the periodic efforts by the system to ensure that altered blocks are promptly
written to the disk.</p>

<a name="enueo"></a><h4>How to Check Page-Out and Memory (<tt>sar -g</tt>)</h4><ul>
<li><b>Use the <tt>sar -g</tt> command to display page-out and memory freeing activities in averages.
</b><pre>$ <tt><b>sar -g</b></tt>
00:00:00  pgout/s ppgout/s pgfree/s pgscan/s %ufs_ipf
01:00:00     0.00     0.00     0.00     0.00     0.00</pre><p>The output displayed by the <tt>sar -g</tt> command is a good indicator of whether
more memory might be needed. Use the <tt>ps -elf</tt> command to show the number
of cycles that are used by the <tt>page</tt> daemon. A high number of
cycles, combined with high values for the <tt>pgfree/s</tt> and <tt>pgscan/s</tt> fields, indicates
a memory shortage. </p><p>The <tt>sar -g</tt> command also shows whether inodes are being recycled too quickly and
causing a loss of reusable pages. </p></li></ul><a name="spmonitor-12"></a>Example&nbsp;13-8 Checking Page-Out and Memory (<tt>sar -g</tt>)<p>The following example shows output from the <tt>sar -g</tt> command.</p><pre>$ <tt><b>sar -g</b></tt>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:00  pgout/s ppgout/s pgfree/s pgscan/s %ufs_ipf
01:00:00     0.00     0.00     0.00     0.00     0.00
02:00:00     0.01     0.01     0.01     0.00     0.00
03:00:00     0.00     0.00     0.00     0.00     0.00
04:00:00     0.00     0.00     0.00     0.00     0.00
05:00:00     0.00     0.00     0.00     0.00     0.00
06:00:00     0.00     0.00     0.00     0.00     0.00
07:00:00     0.00     0.00     0.00     0.00     0.00
08:00:00     0.00     0.00     0.00     0.00     0.00
08:20:01     0.00     0.00     0.00     0.00     0.00
08:40:00     0.00     0.00     0.00     0.00     0.00
09:00:00     0.00     0.00     0.00     0.00     0.00
09:20:01     0.05     0.52     1.62    10.16     0.00
09:40:01     0.03     0.44     1.47     4.77     0.00
10:00:02     0.13     2.00     4.38    12.28     0.00
10:20:03     0.37     4.68    12.26    33.80     0.00

Average      0.02     0.25     0.64     1.97     0.00</pre><p>The following table describes the output from the <tt>-g</tt> option.</p><table><col width="50*"><col width="50*"><tr><th align="left" valign="top" scope="column"><p>Field Name</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>pgout/s</tt></p></td>
<td align="left" valign="top" scope="row"><p>The number
of page-out requests per second.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ppgout/s</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The actual number of pages that are
paged-out, per second. A single page-out request might involve paging-out multiple pages.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>pgfree/s</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The
number of pages, per second, that are placed on the free list.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>pgscan/s</tt>
</p></td>
<td align="left" valign="top" scope="row"><p>The number of pages, per second, that are scanned by the <tt>page</tt>
daemon. If this value is high, the <tt>page</tt> daemon is spending a lot of
time checking for free memory. This situation implies that more memory might be
needed. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>%ufs_ipf</tt></p></td>
<td align="left" valign="top" scope="row"><p>The percentage of <tt>ufs</tt> inodes taken off the free list by <tt>iget</tt>
that had reusable pages associated with them. These pages are flushed and cannot
be reclaimed by processes. Thus, this field represents the percentage of <tt>igets</tt> with
page flushes. A high value indicates that the free list of inodes is
page-bound, and that the number of <tt>ufs</tt> inodes might need to be increased.
</p></td>
</tr>
</table>

<a name="enueq"></a><h4>Checking Kernel Memory Allocation</h4>
<p>The KMA allows a kernel subsystem to allocate and free memory, as
needed. </p><p>Rather than statically allocating the maximum amount of memory it is expected to
require under peak load, the KMA divides requests for memory into three categories:</p>
<ul><li><p>Small (less than 256 bytes)</p></li>
<li><p>Large (512 bytes to 4 Kbytes)</p></li>
<li><p>Oversized (greater than 4 Kbytes)</p></li></ul>
<p>The KMA keeps two pools of memory to satisfy small requests and
large requests. The oversized requests are satisfied by allocating memory from the system page
allocator. </p><p>If you are checking a system that is being used to write
drivers or STREAMS that use KMA resources, then the <tt>sar -k</tt> command will likely prove
useful. Otherwise, you will probably not need the information it provides. Any driver
or module that uses KMA resources, but does not specifically return the resources
before it exits, can create a memory leak. A memory leak causes the
amount of memory that is allocated by KMA to increase over time. Thus,
if the <tt>alloc</tt> fields of the <tt>sar -k</tt> command increase steadily over time, there
might be a memory leak. Another indication of a memory leak is failed
requests. If this problem occurs, a memory leak has probably caused KMA to
be unable to reserve and allocate memory. </p><p>If it appears that a memory leak has occurred, you should check
any drivers or STREAMS that might have requested memory from KMA and not
returned it. </p>

<a name="enuep"></a><h4>How to Check Kernel Memory Allocation (<tt>sar -k</tt>)</h4><ul>
<li><b>Use the <tt>sar -k</tt> command to report on the following activities of the Kernel
Memory Allocator (KMA). </b><pre>$ <tt><b>sar -k</b></tt>
00:00:00 sml_mem   alloc  fail  lg_mem   alloc   fail  ovsz_alloc  fail
01:00:00 2523136 1866512     0 18939904 14762364    0      360448     0
02:00:02 2523136 1861724     0 18939904 14778748    0      360448     0</pre></li></ul><a name="spmonitor-13"></a>Example&nbsp;13-9 Checking Kernel Memory Allocation (<tt>sar <tt>-k</tt></tt>)<p>The following is an abbreviated example of <tt>sar -k</tt> output.  </p><pre>$ <tt><b>sar -k</b></tt>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:04 sml_mem   alloc  fail  lg_mem   alloc  fail  ovsz_alloc  fail
01:00:00 6119744 4852865     0 60243968 54334808   156     9666560     0
02:00:01 6119744 4853057     0 60243968 54336088   156     9666560     0
03:00:00 6119744 4853297     0 60243968 54335760   156     9666560     0
04:00:00 6119744 4857673     0 60252160 54375280   156     9666560     0
05:00:00 6119744 4858097     0 60252160 54376240   156     9666560     0
06:00:00 6119744 4858289     0 60252160 54375608   156     9666560     0
07:00:00 6119744 4858793     0 60252160 54442424   156     9666560     0
08:00:00 6119744 4858985     0 60252160 54474552   156     9666560     0
08:20:00 6119744 4858169     0 60252160 54377400   156     9666560     0
08:40:01 6119744 4857345     0 60252160 54376880   156     9666560     0
09:00:00 6119744 4859433     0 60252160 54539752   156     9666560     0
09:20:00 6119744 4858633     0 60252160 54410920   156     9666560     0
09:40:00 6127936 5262064     0 60530688 55619816   156     9666560     0
10:00:00 6545728 5823137     0 62996480 58391136   156     9666560     0
10:20:00 6545728 5758997     0 62996480 57907400   156     9666560     0
10:40:00 6734144 6035759     0 64389120 59743064   156    10493952     0
11:00:00 6996288 6394872     0 65437696 60935936   156    10493952     0

Average  6258044 5150556     0 61138340 55609004   156     9763900     0</pre><p>The following table describes the output from the <tt>-k</tt> option.</p><table><col width="50*"><col width="50*"><tr><th align="left" valign="top" scope="column"><p>Field Name</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>sml_mem</tt></p></td>
<td align="left" valign="top" scope="row"><p>The amount
of memory, in bytes, that the KMA has available in the small memory
request pool. In this pool, here a small request is less than
256 bytes.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>alloc</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The amount of memory, in bytes, that the KMA has
allocated from its small memory request pool to small memory requests.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>fail</tt></p></td>
<td align="left" valign="top" scope="row"><p>The number of
requests for small amounts of memory that failed.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>lg_mem</tt></p></td>
<td align="left" valign="top" scope="row"><p>The amount of memory, in
bytes, that the KMA has available in the large memory request pool. In
this pool, a large request is from 512 bytes to 4 Kbytes.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>alloc</tt></p></td>
<td align="left" valign="top" scope="row"><p>The amount
of memory, in bytes, that the KMA has allocated from its large memory
request pool to large memory requests.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>fail</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The number of failed requests for
large amounts of memory.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ovsz_alloc</tt></p></td>
<td align="left" valign="top" scope="row"><p>The amount of memory that is allocated for oversized
requests, which are requests that are greater than 4 Kbytes. These requests are
satisfied by the page allocator. Thus, there is no pool.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>fail</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The number of
failed requests for oversized amounts of memory.</p></td>
</tr>
</table>

<a name="enuev"></a><h4>How to Check Interprocess Communication (<tt>sar -m</tt>)</h4><ul>
<li><b><a name="spmonitor-ix4652"></a>Use the <tt>sar -m</tt> command to report interprocess communication activities.  </b><pre>$ <tt><b>sar -m</b></tt>
00:00:00   msg/s  sema/s
01:00:00    0.00    0.00</pre><p>These figures are usually zero (0.00), unless you are running applications that use
messages or semaphores. </p><p>The following list describes the output from the <tt>-m</tt> option.</p><dl><dt><tt>msg/s</tt></dt>
<dd><p>The number of message operations (sends and receives) per second</p></dd>
<dt><tt>sema/s</tt></dt>
<dd><p>The number of semaphore operations per second</p></dd>
</dl>
</li></ul><a name="spmonitor-14"></a>Example&nbsp;13-10 Checking Interprocess Communication (<tt>sar -m</tt>)<p>The following abbreviated example shows output from the <tt>sar -m</tt> command.</p><pre>$ <tt><b>sar -m</b></tt>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:00   msg/s  sema/s
01:00:00    0.00    0.00
02:00:02    0.00    0.00
03:00:00    0.00    0.00
04:00:00    0.00    0.00
05:00:01    0.00    0.00
06:00:00    0.00    0.00

Average     0.00    0.00</pre>

<a name="enuew"></a><h4>How to Check Page-In Activity (<tt>sar -p</tt>)</h4><ul>
<li><b><a name="spmonitor-ix4664"></a>Use the <tt>sar -p</tt> command to report page-in activity, which includes protection and translation
faults.</b><pre>$ <tt><b>sar -p</b></tt>
00:00:00  atch/s  pgin/s ppgin/s  pflt/s  vflt/s slock/s
01:00:00    0.07    0.00    0.00    0.21    0.39    0.00</pre></li></ul><a name="spmonitor-15"></a>Example&nbsp;13-11 Checking Page-In Activity (<tt>sar <tt>-p</tt></tt>)<p>The following example shows output from the <tt>sar <tt>-p</tt></tt> command. </p><pre>$ <tt><b>sar -p</b></tt>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:04  atch/s  pgin/s ppgin/s  pflt/s  vflt/s slock/s
01:00:00    0.09    0.00    0.00    0.78    2.02    0.00
02:00:01    0.08    0.00    0.00    0.78    2.02    0.00
03:00:00    0.09    0.00    0.00    0.81    2.07    0.00
04:00:00    0.11    0.01    0.01    0.86    2.18    0.00
05:00:00    0.08    0.00    0.00    0.78    2.02    0.00
06:00:00    0.09    0.00    0.00    0.78    2.02    0.00
07:00:00    0.08    0.00    0.00    0.78    2.02    0.00
08:00:00    0.09    0.00    0.00    0.78    2.02    0.00
08:20:00    0.11    0.00    0.00    0.87    2.24    0.00
08:40:01    0.13    0.00    0.00    0.90    2.29    0.00
09:00:00    0.11    0.00    0.00    0.88    2.24    0.00
09:20:00    0.10    0.00    0.00    0.88    2.24    0.00
09:40:00    2.91    1.80    2.38    4.61   17.62    0.00
10:00:00    2.74    2.03    3.08    8.17   21.76    0.00
10:20:00    0.16    0.04    0.04    1.92    2.96    0.00
10:40:00    2.10    2.50    3.42    6.62   16.51    0.00
11:00:00    3.36    0.87    1.35    3.92   15.12    0.00

Average     0.42    0.22    0.31    1.45    4.00    0.00</pre><p>The following table describes the reported statistics from the <tt>-p</tt> option.</p><table><col width="50*"><col width="50*"><tr><th align="left" valign="top" scope="column"><p>Field Name</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>atch/s</tt>
</p></td>
<td align="left" valign="top" scope="row"><p>The number of page faults, per second, that are satisfied by reclaiming a
page currently in memory (attaches per second). Instances include reclaiming an invalid page
from the free list and sharing a page of text that is
currently being used by another process. An example is two or more processes
that are accessing the same program text.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>pgin/s</tt></p></td>
<td align="left" valign="top" scope="row"><p>The number of times, per second, that
file systems receive page-in requests.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ppgin/s</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The number of pages paged in, per
second. A single page-in request, such as a soft-lock request (see <tt>slock/s</tt>) or
a large block size, might involve paging-in multiple pages.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>pflt/s</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The number of page
faults from protection errors. Instances of protection faults indicate illegal access to a
page and &ldquo;copy-on-writes.&rdquo; Generally, this number consists primarily of &ldquo;copy-on-writes.&rdquo;</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>vflt/s</tt>  </p></td>
<td align="left" valign="top" scope="row"><p>The number
of address translation page faults, per second. These faults are known as validity
faults. Validity faults occur when a valid process table entry does not exist
for a given virtual address.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>slock/s</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The number of faults, per second, caused
by software lock requests that require physical I/O. An example of the occurrence
of a soft-lock request is the transfer of data from a disk to
memory. The system locks the page that is to receive the data so
that the page cannot be claimed and used by another process. </p></td>
</tr>
</table>

<a name="enuet"></a><h4>How to Check Queue Activity (<tt>sar -q</tt>)</h4><ul>
<li><b><a name="spmonitor-ix4687"></a>Use the <tt>sar <tt>-q</tt></tt> command to report the following information: </b>
<ul><li><p>The Average queue length while the queue is occupied.</p></li>
<li><p>The percentage of time that the queue is occupied.</p></li></ul>
<pre>$ <tt><b>sar -q</b></tt>
00:00:00 runq-sz %runocc swpq-sz %swpocc</pre><p>The following list describes the output from the <tt>-q</tt> option.</p><dl><dt><tt>runq-sz</tt></dt>
<dd><p>The number of kernel threads in memory that are waiting for a CPU to run. Typically, this value should be less than 2. Consistently higher values mean that the system might be CPU-bound.</p></dd>
<dt><tt>%runocc</tt></dt>
<dd><p>The percentage of time that the dispatch queues are occupied.</p></dd>
<dt><tt>swpq-sz</tt></dt>
<dd><p>No longer reported by the <tt>sar</tt> command.</p></dd>
<dt><tt>%swpocc</tt></dt>
<dd><p>No longer reported by the <tt>sar</tt> command.</p></dd>
</dl>
</li></ul><a name="spmonitor-16"></a>Example&nbsp;13-12 Checking Queue Activity<p><a name="spmonitor-ix4714"></a>The following example shows output from the <tt>sar -q</tt> command. If the <tt>%runocc</tt> value
is high (greater than 90 percent) and the <tt>runq-sz</tt> value is greater than
2, the CPU is heavily loaded and response is degraded. In this case,
additional CPU capacity might be required to obtain acceptable system response.  
</p><pre>$ <tt><b>sar -q</b></tt>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:04 runq-sz %runocc swpq-sz %swpocc
01:00:00     1.0       0     0.0       0
02:00:01     1.3       0     0.0       0
03:00:00     1.0       0     0.0       0
04:00:00     1.0       0     0.0       0
05:00:00     1.0       0     0.0       0
06:00:00     2.0       0     0.0       0
07:00:00     0.0       0     0.0       0
08:00:00     1.0       0     0.0       0
08:20:00     1.0       0     0.0       0
08:40:01     2.0       0     0.0       0
09:00:00     0.0       0     0.0       0
09:20:00     1.0       0     0.0       0
09:40:00     1.2       2     0.0       0
10:00:00     1.2       2     0.0       0
10:20:00     1.0       1     0.0       0
10:40:00     1.3       9     0.0       0
11:00:00     1.2       7     0.0       0

Average      1.2       1     0.0       0</pre>

<a name="enuex"></a><h4>How to Check Unused Memory (<tt>sar -r</tt>)</h4><ul>
<li><b><a name="spmonitor-ix4722"></a>Use the <tt>sar -r</tt> command to report the number of memory pages and swap-file
disk blocks that are currently unused.  </b><pre>$ <tt><b>sar -r</b></tt>
00:00:00 freemem freeswap
01:00:00    2135   401922</pre><p>The following list describes the output from the <tt>-r</tt> option.</p><dl><dt><tt>freemem</tt></dt>
<dd><p>The average number of memory pages that are available to user processes over the intervals sampled by the command. Page size is machine-dependent.</p></dd>
<dt><tt>freeswap</tt></dt>
<dd><p>The number of 512-byte disk blocks that are available for page swapping.</p></dd>
</dl>
</li></ul><a name="spmonitor-17"></a>Example&nbsp;13-13 Checking Unused Memory (<tt>sar <tt>-r</tt></tt>)<p>The following example shows output from the <tt>sar -r</tt> command.</p><pre>$ <tt><b>sar -r</b></tt>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:04 freemem freeswap
01:00:00   44717  1715062
02:00:01   44733  1715496
03:00:00   44715  1714746
04:00:00   44751  1715403
05:00:00   44784  1714743
06:00:00   44794  1715186
07:00:00   44793  1715159
08:00:00   44786  1714914
08:20:00   44805  1715576
08:40:01   44797  1715347
09:00:00   44761  1713948
09:20:00   44802  1715478
09:40:00   41770  1682239
10:00:00   35401  1610833
10:20:00   34295  1599141
10:40:00   33943  1598425
11:00:00   30500  1561959

Average    43312  1699242</pre>

<a name="enueu"></a><h4>How to Check CPU Utilization (<tt>sar -u</tt>)</h4><ul>
<li><b><a name="spmonitor-ix4742"></a>Use the <tt>sar -u</tt> command to display CPU utilization statistics.  </b><pre>$ <tt><b>sar -u</b></tt>
00:00:00    %usr    %sys    %wio   %idle
01:00:00       0       0       0     100</pre><p>The <tt>sar</tt> command without any options is equivalent to the <tt>sar -u</tt> command. At
any given moment, the processor is either busy or idle. When busy, the
processor is in either user mode or system mode. When idle, the processor
is either waiting for I/O completion or &ldquo;sitting still&rdquo; with no work to
do. </p><p>The following list describes output from the <tt>-u</tt> option.</p><dl><dt><tt>%usr</tt></dt>
<dd><p>Lists the percentage of time that the processor is in user mode</p></dd>
<dt><tt>%sys</tt></dt>
<dd><p>Lists the percentage of time that the processor is in system mode</p></dd>
<dt><tt>%wio</tt></dt>
<dd><p>Lists the percentage of time that the processor is idle and waiting for I/O completion</p></dd>
<dt><tt>%idle</tt></dt>
<dd><p>Lists the percentage of time that the processor is idle and not waiting for I/O</p></dd>
</dl>
<p>A high <tt>%wio</tt> value generally means that a disk slowdown has occurred. </p></li></ul><a name="spmonitor-18"></a>Example&nbsp;13-14 Checking CPU Utilization (<tt>sar -u</tt>)<p>The following example shows output from the <tt>sar -u</tt> command. </p><pre>$ <tt><b>sar -u</b></tt>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:04    %usr    %sys    %wio   %idle
01:00:00       0       0       0     100
02:00:01       0       0       0     100
03:00:00       0       0       0     100
04:00:00       0       0       0     100
05:00:00       0       0       0     100
06:00:00       0       0       0     100
07:00:00       0       0       0     100
08:00:00       0       0       0     100
08:20:00       0       0       0      99
08:40:01       0       0       0      99
09:00:00       0       0       0      99
09:20:00       0       0       0      99
09:40:00       4       1       0      95
10:00:00       4       2       0      94
10:20:00       1       1       0      98
10:40:00      18       3       0      79
11:00:00      25       3       0      72

Average        2       0       0      98</pre>

<a name="enuey"></a><h4>How to Check System Table Status (<tt>sar -v</tt>)</h4><ul>
<li><b><a name="spmonitor-ix4762"></a>Use the <tt>sar -v</tt> command to report the status of the process table, inode
table, file table, and shared memory record table.  </b><pre>$ <tt><b>sar -v</b></tt>
00:00:00  proc-sz    ov  inod-sz    ov  file-sz    ov   lock-sz
01:00:00   43/922     0 2984/4236    0  322/322     0    0/0   </pre></li></ul><a name="spmonitor-19"></a>Example&nbsp;13-15 Checking System Table Status (<tt>sar <tt>-v</tt></tt>)<p>The following abbreviated example shows output from the <tt>sar -v</tt> command. This example
shows that all tables are large enough to have no overflows. These tables
are all dynamically allocated based on the amount of physical memory.</p><pre>$ <tt><b>sar -v</b></tt>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:04  proc-sz    ov  inod-sz    ov  file-sz    ov   lock-sz
01:00:00   69/8010    0 3476/34703    0    0/0       0    0/0   
02:00:01   69/8010    0 3476/34703    0    0/0       0    0/0   
03:00:00   69/8010    0 3476/34703    0    0/0       0    0/0   
04:00:00   69/8010    0 3494/34703    0    0/0       0    0/0   
05:00:00   69/8010    0 3494/34703    0    0/0       0    0/0   
06:00:00   69/8010    0 3494/34703    0    0/0       0    0/0   
07:00:00   69/8010    0 3494/34703    0    0/0       0    0/0   
08:00:00   69/8010    0 3494/34703    0    0/0       0    0/0   
08:20:00   69/8010    0 3494/34703    0    0/0       0    0/0   
08:40:01   69/8010    0 3494/34703    0    0/0       0    0/0   
09:00:00   69/8010    0 3494/34703    0    0/0       0    0/0   
09:20:00   69/8010    0 3494/34703    0    0/0       0    0/0   
09:40:00   74/8010    0 3494/34703    0    0/0       0    0/0   
10:00:00   75/8010    0 4918/34703    0    0/0       0    0/0   
10:20:00   72/8010    0 4918/34703    0    0/0       0    0/0   
10:40:00   71/8010    0 5018/34703    0    0/0       0    0/0   
11:00:00   77/8010    0 5018/34703    0    0/0       0    0/0  </pre><p>Output from the <tt>-v</tt> option is described in the following table.</p><table><col width="50*"><col width="50*"><tr><th align="left" valign="top" scope="column"><p>Field Name</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>proc-sz</tt></p></td>
<td align="left" valign="top" scope="row"><p>The number
of process entries (<tt>proc</tt> structures) that are currently being used, or allocated, in
the kernel.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>inod-sz</tt></p></td>
<td align="left" valign="top" scope="row"><p>The total number of inodes in memory compared to the maximum
number of inodes that are allocated in the kernel.  This number is
not a strict high watermark. The number can overflow.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>file-sz</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The size of the
open system file table. The <tt>sz</tt> is given as <tt>0</tt>, because space is
allocated dynamically for the file table.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ov</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The overflows that occur between sampling points
for each table. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>lock-sz</tt></p></td>
<td align="left" valign="top" scope="row"><p>The number of shared memory record table entries that
are currently being used, or allocated, in the kernel. The <tt>sz</tt> is given as
<tt>0</tt> because space is allocated dynamically for the shared memory record table.</p></td>
</tr>
</table>

<a name="enuez"></a><h4>How to Check Swapping Activity (<tt>sar -w</tt>)</h4><ul>
<li><b>Use the <tt>sar -w</tt> command to report swapping and switching activity.</b><pre>$ <tt><b>sar -w</b></tt>
00:00:00 swpin/s bswin/s swpot/s bswot/s pswch/s
01:00:00    0.00     0.0    0.00     0.0      22</pre><p>The following list describes target values and observations related to the <tt>sar <tt>-w</tt></tt> command
output.</p><dl><dt><tt>swpin/s</tt></dt>
<dd><p>The number of LWP transfers into memory per second.</p></dd>
<dt><tt>bswin/s</tt></dt>
<dd><p>The number of blocks transferred for swap-ins per second. <tt>/* (float)PGTOBLK(xx->cvmi.pgswapin) / sec_diff */</tt></p></dd>
<dt><tt>swpot/s</tt></dt>
<dd><p>The average number of processes that are swapped out of memory per second. If the number is greater than 1, you might need to increase memory.</p></dd>
<dt><tt>bswot/s</tt></dt>
<dd><p>The number of blocks that are transferred for swap-outs per second.</p></dd>
<dt><tt>pswch/s</tt></dt>
<dd><p>The number of kernel thread switches, per second.</p></dd>
</dl>

<hr><p><b>Note - </b>All process swap-ins include process initialization.</p>
<hr>
</li></ul><a name="spmonitor-20"></a>Example&nbsp;13-16 Checking Swap Activity (<tt>sar <tt>-w</tt></tt>)<p>The following example shows output from the <tt>sar -w</tt> command. </p><pre>$ <tt><b>sar -w</b></tt>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:04 swpin/s bswin/s swpot/s bswot/s pswch/s
01:00:00    0.00     0.0    0.00     0.0     132
02:00:01    0.00     0.0    0.00     0.0     133
03:00:00    0.00     0.0    0.00     0.0     133
04:00:00    0.00     0.0    0.00     0.0     134
05:00:00    0.00     0.0    0.00     0.0     133
06:00:00    0.00     0.0    0.00     0.0     133
07:00:00    0.00     0.0    0.00     0.0     132
08:00:00    0.00     0.0    0.00     0.0     131
08:20:00    0.00     0.0    0.00     0.0     133
08:40:01    0.00     0.0    0.00     0.0     132
09:00:00    0.00     0.0    0.00     0.0     132
09:20:00    0.00     0.0    0.00     0.0     132
09:40:00    0.00     0.0    0.00     0.0     335
10:00:00    0.00     0.0    0.00     0.0     601
10:20:00    0.00     0.0    0.00     0.0     353
10:40:00    0.00     0.0    0.00     0.0     747
11:00:00    0.00     0.0    0.00     0.0     804

Average     0.00     0.0    0.00     0.0     198</pre>

<a name="enufb"></a><h4>How to Check Terminal Activity (<tt>sar -y</tt>)</h4><ul>
<li><b><a name="indexterm-105"></a>Use the <tt>sar -y</tt> command to monitor terminal device activities. </b><pre>$ <tt><b>sar -y</b></tt>
00:00:00 rawch/s canch/s outch/s rcvin/s xmtin/s mdmin/s
01:00:00       0       0       0       0       0       0</pre><p>If you have a lot of terminal I/O, you can use this
report to determine if any bad lines exist. The activities recorded are defined
in the following list.</p><dl><dt><tt>rawch/s</tt></dt>
<dd><p>Input characters (raw queue) per second</p></dd>
<dt><tt>canch/s</tt></dt>
<dd><p>Input characters that are processed by canon (canonical queue) per second</p></dd>
<dt><tt>outch/s</tt></dt>
<dd><p>Output characters (output queue) per second</p></dd>
<dt><tt>rcvin/s</tt></dt>
<dd><p>Receiver hardware interrupts per second</p></dd>
<dt><tt>xmtin/s</tt></dt>
<dd><p>Transmitter hardware interrupts per second</p></dd>
<dt><tt>mdmin/s</tt></dt>
<dd><p>Modem interrupts per second</p></dd>
</dl>
<p>The number of modem interrupts per second (<tt>mdmin/s</tt>) should be close to zero.
The receive and transmit interrupts per second (<tt>xmtin/s</tt> and <tt>rcvin/s</tt>) should be
less than or equal to the number of incoming or outgoing characters, respectively.
If  not, check for bad lines. </p></li></ul><a name="spmonitor-21"></a>Example&nbsp;13-17 Checking Terminal Activity (<tt>sar -y</tt>)<p>The following example shows output from the <tt>sar -y</tt> command.</p><pre>$ <tt><b>sar -y</b></tt>

SunOS balmyday 5.10 s10_51 sun4u    03/18/2004

00:00:04 rawch/s canch/s outch/s rcvin/s xmtin/s mdmin/s
01:00:00       0       0       0       0       0       0
02:00:01       0       0       0       0       0       0
03:00:00       0       0       0       0       0       0
04:00:00       0       0       0       0       0       0
05:00:00       0       0       0       0       0       0
06:00:00       0       0       0       0       0       0
07:00:00       0       0       0       0       0       0
08:00:00       0       0       0       0       0       0
08:20:00       0       0       0       0       0       0
08:40:01       0       0       0       0       0       0
09:00:00       0       0       0       0       0       0
09:20:00       0       0       0       0       0       0
09:40:00       0       0       1       0       0       0
10:00:00       0       0      37       0       0       0
10:20:00       0       0       0       0       0       0
10:40:00       0       0       3       0       0       0
11:00:00       0       0       3       0       0       0

Average        0       0       1       0       0       0</pre>

<a name="enufe"></a><h4>How to Check Overall System Performance (<tt>sar -A</tt>)</h4><ul>
<li><b><a name="spmonitor-ix4835"></a>Use the <tt>sar -A</tt> command to display statistics from all options to provide a
view of overall system performance.</b><p>This command provides a more global perspective. If data from more than a
single time segment is shown, the report includes averages.</p></li></ul>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="enudq.html">Previous</a>
             </td>
             <td align="right">
                 <a href="spconcepts-60676.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

