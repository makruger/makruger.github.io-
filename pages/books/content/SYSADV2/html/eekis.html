<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Customizing System Message Logging - System Administration Guide: Advanced Administration</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Advanced Administration</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="emcby.html">Previous</a>
             </td>
             <td align="right">
                 <a href="eekgt.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol2preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="modconcepts-20809.html">1.&nbsp;&nbsp;Managing Terminals and Modems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="modsetup-43877.html">2.&nbsp;&nbsp;Setting Up Terminals and Modems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="modsafapp-84569.html">3.&nbsp;&nbsp;Managing Serial Ports With the Service Access Facility (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresconcepts-23051.html">4.&nbsp;&nbsp;Managing System Resources (Overview)</a></p>
<p class="toc level1 tocsp"><a href="sysressysinfo-75169.html">5.&nbsp;&nbsp;Displaying and Changing System Information (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresdiskuse-61891.html">6.&nbsp;&nbsp;Managing Disk Use (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresquotas-97946.html">7.&nbsp;&nbsp;Managing Quotas (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysrescron-18108.html">8.&nbsp;&nbsp;Scheduling System Tasks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresacctsetup-78801.html">9.&nbsp;&nbsp;Managing System Accounting (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresacctref-14910.html">10.&nbsp;&nbsp;System Accounting (Reference)</a></p>
<p class="toc level1 tocsp"><a href="spconcepts-21354.html">11.&nbsp;&nbsp;Managing System Performance (Overview)</a></p>
<p class="toc level1 tocsp"><a href="spprocess-59633.html">12.&nbsp;&nbsp;Managing System Processes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="spmonitor-24844.html">13.&nbsp;&nbsp;Monitoring System Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsoverview-10750.html">14.&nbsp;&nbsp;Troubleshooting Software Problems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="eekee.html">15.&nbsp;&nbsp;Managing System Messages</a></p>
<p class="toc level2"><a href="eekec.html">Viewing System Messages</a></p>
<p class="toc level3"><a href="eekec.html#eeklc">How to View System Messages</a></p>
<p class="toc level2 tocsp"><a href="emcby.html">System Log Rotation</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Customizing System Message Logging</a></p>
<p class="toc level3"><a href="#eekii">How to Customize System Message Logging</a></p>
</div>
<p class="toc level2 tocsp"><a href="eekgt.html">Enabling Remote Console Messaging</a></p>
<p class="toc level3"><a href="eekgt.html#eekdy">How to Enable an Auxiliary (Remote) Console</a></p>
<p class="toc level3"><a href="eekgt.html#eekip">How to Display a List of Auxiliary Consoles</a></p>
<p class="toc level3"><a href="eekgt.html#eekjg">How to Enable an Auxiliary (Remote) Console Across System Reboots</a></p>
<p class="toc level3"><a href="eekgt.html#eekep">How to Disable an Auxiliary (Remote) Console</a></p>
<p class="toc level1 tocsp"><a href="tscore-7.html">16.&nbsp;&nbsp;Managing Core Files (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tscrashdumps-40145.html">17.&nbsp;&nbsp;Managing System Crash Information (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsgeneral-32935.html">18.&nbsp;&nbsp;Troubleshooting Miscellaneous Software Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsfileaccess-28392.html">19.&nbsp;&nbsp;Troubleshooting File Access Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsfsck-26279.html">20.&nbsp;&nbsp;Resolving UFS File System Inconsistencies (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsswmgr-40462.html">21.&nbsp;&nbsp;Troubleshooting Software Package Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="eekis"></a><h3>Customizing System Message Logging</h3>
<p><a name="eekeh"></a><a name="eeklu"></a><a name="eekkw"></a><a name="eekmv"></a><a name="eekhk"></a><a name="eekmj"></a><a name="eekjw"></a><a name="eekji"></a><a name="eekfd"></a><a name="eeket"></a><a name="eekmb"></a><a name="eekgv"></a><a name="eekhd"></a><a name="eekfc"></a>You can capture additional error messages that are generated by various system processes by
modifying the <tt>/etc/syslog.conf</tt> file. By default, the <tt>/etc/syslog.conf</tt> file directs many system process messages
to the <tt>/var/adm/messages</tt> files. Crash and boot messages are stored here as well.
To view <tt>/var/adm</tt> messages, see <a href="eekec.html#eeklc">How to View System Messages</a>.</p><p>The <tt>/etc/syslog.conf</tt> file has two columns separated by tabs:</p><pre><i>facility.level ...</i> <i>action</i></pre><dl><dt><i>facility.level</i></dt>
<dd><p>A <i>facility</i> or system source of the message or condition. May be a comma-separated listed of facilities. Facility values are listed in <a href="#eekgi">Table&nbsp;15-1</a>. A <i>level</i>, indicates the severity or priority of the condition being logged. Priority levels are listed in <a href="#eekgu">Table&nbsp;15-2</a>.</p><p>Do not put two entries for the same facility on the same line, if the entries are for different priorities. Putting a priority in the syslog file indicates that all messages of that all messages of that priority or higher are logged, with the last message taking precedence. For a given facility and level, <tt>syslogd</tt> matches all messages for that level and all higher levels.</p></dd>
<dt><i>action</i></dt>
<dd><p>The action field indicates where the messages are forwarded.</p></dd>
</dl>
<p><a name="eekmg"></a><a name="eekfh"></a>The following example shows sample lines from a default <tt>/etc/syslog.conf</tt> file.  </p><pre>user.err                                        /dev/sysmsg
user.err                                        /var/adm/messages
user.alert                                      `root, operator'
user.emerg                                      *</pre><p>This means the following user messages are automatically logged:</p>
<ul><li><p>User errors are printed to the console and also are logged to the <tt>/var/adm/messages</tt> file.</p></li>
<li><p>User messages requiring immediate action (<tt>alert</tt>) are sent to the root and operator users.</p></li>
<li><p>User emergency messages are sent to individual users.</p></li></ul>

<hr><p><b>Note - </b>Placing entries on separate lines might cause messages to be logged out of
order if a log target is specified more than once in the
<tt>/etc/syslog.conf</tt> file. Note that you can specify multiple selectors in a single line
entry, each separated by a semi-colon.</p>
<hr>
<p>The most common error condition sources are shown in the following table. The
most common priorities are shown in <a href="#eekgu">Table&nbsp;15-2</a> in order of severity.</p><a name="eekgi"></a><h6>Table&nbsp;15-1 Source Facilities for <tt>syslog.conf</tt> Messages</h6><table><col width="157*"><col width="202*"><tr><th align="left" valign="top" scope="column"><p>Source</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>kern</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The
kernel</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>auth</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Authentication</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>daemon</tt> </p></td>
<td align="left" valign="top" scope="row"><p>All daemons</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>mail</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Mail system</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>lp</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Spooling system</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>user</tt> </p></td>
<td align="left" valign="top" scope="row"><p>User processes</p></td>
</tr>
</table>
<hr><p><b>Note - </b><a name="eekkv"></a><a name="eekgc"></a><a name="eekhc"></a>The number of <tt>syslog</tt> facilities that can be activated in the <tt>/etc/syslog.conf</tt> file
is unlimited. </p>
<hr>
<a name="eekgu"></a><h6>Table&nbsp;15-2 Priority Levels for <tt>syslog.conf</tt> Messages</h6><table><col width="180*"><col width="179*"><tr><th align="left" valign="top" scope="column"><p>Priority</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>emerg</tt></p></td>
<td align="left" valign="top" scope="row"><p>System emergencies</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>alert</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Errors requiring immediate correction</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>crit</tt></p></td>
<td align="left" valign="top" scope="row"><p>Critical errors</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>err</tt></p></td>
<td align="left" valign="top" scope="row"><p>Other errors</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>info</tt></p></td>
<td align="left" valign="top" scope="row"><p>Informational messages</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>debug</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Output
used for debugging</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>none</tt> </p></td>
<td align="left" valign="top" scope="row"><p>This setting doesn't log output </p></td>
</tr>
</table>

<a name="eekii"></a><h4>How to Customize System Message Logging</h4><a name="indexterm-117"></a><a name="indexterm-118"></a><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><a name="eekjz"></a><b>Edit the <tt>/etc/syslog.conf</tt> file, adding or changing message sources, priorities, and message locations
according to the syntax described in <a href="http://docs.sun.com/doc/819-2251/syslog.conf-4?a=view"><tt>syslog.conf</tt>(4)</a>.</b></li>
<li><a name="eeklo"></a><b>Exit the file, saving the changes.</b></li></ol><a name="emcca"></a>Example&nbsp;15-2 Customizing System Message Logging<p>This sample <tt>/etc/syslog.conf</tt> <tt>user.emerg</tt> facility sends user emergency messages to root <b>and</b> individual users.</p><pre>user.emerg                                      `root, *'</pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="emcby.html">Previous</a>
             </td>
             <td align="right">
                 <a href="eekgt.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

