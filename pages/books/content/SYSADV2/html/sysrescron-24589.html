<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Creating and Editing <tt>crontab</tt> Files - System Administration Guide: Advanced Administration</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Advanced Administration</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="sysrescron-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="sysrescron-12.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol2preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="modconcepts-20809.html">1.&nbsp;&nbsp;Managing Terminals and Modems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="modsetup-43877.html">2.&nbsp;&nbsp;Setting Up Terminals and Modems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="modsafapp-84569.html">3.&nbsp;&nbsp;Managing Serial Ports With the Service Access Facility (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresconcepts-23051.html">4.&nbsp;&nbsp;Managing System Resources (Overview)</a></p>
<p class="toc level1 tocsp"><a href="sysressysinfo-75169.html">5.&nbsp;&nbsp;Displaying and Changing System Information (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresdiskuse-61891.html">6.&nbsp;&nbsp;Managing Disk Use (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresquotas-97946.html">7.&nbsp;&nbsp;Managing Quotas (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysrescron-18108.html">8.&nbsp;&nbsp;Scheduling System Tasks (Tasks)</a></p>
<p class="toc level2"><a href="enmwx.html">Creating and Editing <tt>crontab</tt> Files (Task Map)</a></p>
<p class="toc level2"><a href="sysrescron-68.html">Ways to Automatically Execute System Tasks</a></p>
<p class="toc level2"><a href="sysrescron-1.html">Scheduling a Repetitive System Task (<tt>cron</tt>)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Creating and Editing <tt>crontab</tt> Files</a></p>
<p class="toc level3"><a href="#sysrescron-72169">How to Create or Edit a <tt>crontab</tt> File</a></p>
<p class="toc level3"><a href="#enmxc">How to Verify That a <tt>crontab</tt> File Exists</a></p>
</div>
<p class="toc level2 tocsp"><a href="sysrescron-12.html">Displaying <tt>crontab</tt> Files</a></p>
<p class="toc level3"><a href="sysrescron-12.html#sysrescron-60540">How to Display a <tt>crontab</tt> File</a></p>
<p class="toc level2 tocsp"><a href="sysrescron-17.html">Removing <tt>crontab</tt> Files</a></p>
<p class="toc level3"><a href="sysrescron-17.html#sysrescron-31048">How to Remove a <tt>crontab</tt> File</a></p>
<p class="toc level2 tocsp"><a href="sysrescron-23.html">Controlling Access to the <tt>crontab</tt> Command</a></p>
<p class="toc level3"><a href="sysrescron-23.html#sysrescron-88294">How to Deny <tt>crontab</tt> Command Access</a></p>
<p class="toc level3"><a href="sysrescron-23.html#sysrescron-36206">How to Limit <tt>crontab</tt> Command Access to Specified Users</a></p>
<p class="toc level2 tocsp"><a href="enmww.html">Using the <tt>at</tt> Command (Task Map)</a></p>
<p class="toc level2"><a href="sysrescron-35.html">Scheduling a Single System Task (<tt>at</tt>)</a></p>
<p class="toc level3"><a href="sysrescron-35.html#sysrescron-26337">How to Create an <tt>at</tt> Job</a></p>
<p class="toc level3"><a href="sysrescron-35.html#enmxg">How to Display the <tt>at</tt> Queue</a></p>
<p class="toc level3"><a href="sysrescron-35.html#enmxi">How to Verify an <tt>at</tt> Job</a></p>
<p class="toc level3"><a href="sysrescron-35.html#enmxh">How to Display <tt>at</tt> Jobs</a></p>
<p class="toc level3"><a href="sysrescron-35.html#sysrescron-62698">How to Remove <tt>at</tt> Jobs</a></p>
<p class="toc level3"><a href="sysrescron-35.html#sysrescron-94711">How to Deny Access to the <tt>at</tt> Command</a></p>
<p class="toc level3"><a href="sysrescron-35.html#enmxk">How to Verify That <tt>at</tt> Command Access Is Denied</a></p>
<p class="toc level1 tocsp"><a href="sysresacctsetup-78801.html">9.&nbsp;&nbsp;Managing System Accounting (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresacctref-14910.html">10.&nbsp;&nbsp;System Accounting (Reference)</a></p>
<p class="toc level1 tocsp"><a href="spconcepts-21354.html">11.&nbsp;&nbsp;Managing System Performance (Overview)</a></p>
<p class="toc level1 tocsp"><a href="spprocess-59633.html">12.&nbsp;&nbsp;Managing System Processes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="spmonitor-24844.html">13.&nbsp;&nbsp;Monitoring System Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsoverview-10750.html">14.&nbsp;&nbsp;Troubleshooting Software Problems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="eekee.html">15.&nbsp;&nbsp;Managing System Messages</a></p>
<p class="toc level1 tocsp"><a href="tscore-7.html">16.&nbsp;&nbsp;Managing Core Files (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tscrashdumps-40145.html">17.&nbsp;&nbsp;Managing System Crash Information (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsgeneral-32935.html">18.&nbsp;&nbsp;Troubleshooting Miscellaneous Software Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsfileaccess-28392.html">19.&nbsp;&nbsp;Troubleshooting File Access Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsfsck-26279.html">20.&nbsp;&nbsp;Resolving UFS File System Inconsistencies (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsswmgr-40462.html">21.&nbsp;&nbsp;Troubleshooting Software Package Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="sysrescron-24589"></a><h3>Creating and Editing <tt>crontab</tt> Files</h3>
<p>The simplest way to create a <tt>crontab</tt> file is to use the <tt>crontab -e</tt>
command. This command invokes the text editor that has been set for your
system environment. The default editor for your system environment is defined in the
<tt>EDITOR</tt> environment variable. If this variable has not been set, the <tt>crontab</tt> command uses
the default editor, <tt>ed</tt>. Preferably, you should choose an editor that you know
well.</p><p><a name="sysrescron-ix2529"></a><a name="sysrescron-ix2530"></a><a name="sysrescron-ix2531"></a><a name="sysrescron-ix2532"></a><a name="sysrescron-ix2533"></a><a name="sysrescron-ix2534"></a>The following example shows how to determine if an editor has been defined,
and how to set up <tt>vi</tt> as the default. </p><pre>$ <tt><b>which $EDITOR</b></tt>
$ 
$ <tt><b>EDITOR=vi</b></tt>
$ <tt><b>export EDITOR</b></tt></pre><p>When you create a <tt>crontab</tt> file, it is automatically placed in the <tt>/var/spool/cron/crontabs</tt>
directory and is given your user name. You can create or edit a
<tt>crontab</tt> file for another user, or <tt>root</tt>, if you have superuser privileges. </p>

<a name="sysrescron-72169"></a><h4>How to Create or Edit a <tt>crontab</tt> File</h4><a name="indexterm-61"></a><a name="indexterm-62"></a><a name="indexterm-63"></a><a name="indexterm-64"></a><h6>Before You Begin</h6><p>If you are creating or editing a <tt>crontab</tt> file that belongs to <tt>root</tt>
or another user you must become superuser or assume an equivalent role. Roles
contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a></p><p>You do not need to become superuser to edit your own <tt>crontab</tt>file.</p><ol>
<li><a name="sysrescron-step-7"></a><b>Create a new <tt>crontab</tt> file, or edit an existing file. </b><pre>$ <tt><b>crontab -e</b></tt> [<i>username</i>]</pre><p>where <i>username</i> specifies the name of the user's account for which you want
to create or edit a <tt>crontab</tt> file. You can create your own <tt>crontab</tt>
file without superuser privileges, but you must have superuser privileges to creating or
edit a <tt>crontab</tt> file for <tt>root</tt> or another user.</p>
<hr><p><b>Caution - </b><a name="sysrescron-ix2537"></a><a name="sysrescron-ix2538"></a>If you accidentally type the <tt>crontab</tt> command with no option, press the interrupt
character for your editor. This character allows you to quit without saving changes.
If you instead saved changes and exited the file, the existing <tt>crontab</tt> file
would be overwritten with an empty file.   </p>
<hr>
</li>
<li><a name="sysrescron-step-8"></a><b>Add command lines to the <tt>crontab</tt> file.</b><p>Follow the syntax described in <a href="sysrescron-1.html#sysrescron-62861">Syntax of <tt>crontab</tt> File Entries</a>. The <tt>crontab</tt> file will be placed in
the <tt>/var/spool/cron/crontabs</tt> directory.</p></li>
<li><a name="sysrescron-step-57"></a><b>Verify your <tt>crontab</tt> file changes.</b><pre># <tt><b>crontab -l</b></tt> [<i>username</i>]</pre></li></ol><a name="emjfd"></a>Example&nbsp;8-1 Creating a <tt>crontab</tt> File<p>The following example shows how to create a <tt>crontab</tt> file for another user.
</p><pre># <tt><b>crontab -e jones</b></tt></pre><p><a name="sysrescron-ix2542"></a><a name="sysrescron-ix2544"></a><a name="sysrescron-ix2547"></a><a name="sysrescron-ix2549"></a><a name="sysrescron-ix2550"></a><a name="sysrescron-ix2551"></a><a name="sysrescron-ix2552"></a>The following command entry added to a new <tt>crontab</tt> file automatically removes any
log files from the user's home directory at 1:00 a.m. every Sunday morning.
Because the command entry does not redirect output, redirect characters are added to
the command line after <tt>*.log</tt>. Doing so ensures that the command executes properly.</p><pre># This command helps clean up user accounts.
1 0 * * 0 rm /home/jones/*.log > /dev/null 2>&amp;1</pre>

<a name="enmxc"></a><h4>How to Verify That a <tt>crontab</tt> File Exists</h4><ul>
<li><b>To verify that a <tt>crontab</tt> file exists for a user, use the <tt>ls -l</tt>
command in the <tt>/var/spool/cron/crontabs</tt> directory. For example, the following output shows that
<tt>crontab</tt> files exist for users <tt>jones</tt> and <tt>smith</tt>.   </b><pre>$ <tt><b>ls -l /var/spool/cron/crontabs</b></tt>
-rw-r--r--  1 root     sys          190 Feb 26 16:23 adm
-rw-------  1 root     staff        225 Mar  1  9:19 jones
-rw-r--r--  1 root     root        1063 Feb 26 16:23 lp
-rw-r--r--  1 root     sys          441 Feb 26 16:25 root
-rw-------  1 root     staff         60 Mar  1  9:15 smith
-rw-r--r--  1 root     sys          308 Feb 26 16:23 sys</pre><p>Verify the contents of user's <tt>crontab</tt> file by using the <tt>crontab -l</tt> command as
described in <a href="sysrescron-12.html#sysrescron-60540">How to Display a <tt>crontab</tt> File</a>.</p></li></ul>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="sysrescron-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="sysrescron-12.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

