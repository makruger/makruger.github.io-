<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Checking Quotas - System Administration Guide: Advanced Administration</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Advanced Administration</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="enmuy.html">Previous</a>
             </td>
             <td align="right">
                 <a href="sysresquotas-10332.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol2preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="modconcepts-20809.html">1.&nbsp;&nbsp;Managing Terminals and Modems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="modsetup-43877.html">2.&nbsp;&nbsp;Setting Up Terminals and Modems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="modsafapp-84569.html">3.&nbsp;&nbsp;Managing Serial Ports With the Service Access Facility (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresconcepts-23051.html">4.&nbsp;&nbsp;Managing System Resources (Overview)</a></p>
<p class="toc level1 tocsp"><a href="sysressysinfo-75169.html">5.&nbsp;&nbsp;Displaying and Changing System Information (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresdiskuse-61891.html">6.&nbsp;&nbsp;Managing Disk Use (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresquotas-97946.html">7.&nbsp;&nbsp;Managing Quotas (Tasks)</a></p>
<p class="toc level2"><a href="sysresquotas-4.html">What Are Quotas?</a></p>
<p class="toc level2"><a href="sysresquotas-11993.html">Using Quotas</a></p>
<p class="toc level2"><a href="sysresquotas-26007.html">Setting Up Quotas</a></p>
<p class="toc level2"><a href="sysresquotas-67.html">Setting Up Quotas (Task Map)</a></p>
<p class="toc level3"><a href="sysresquotas-67.html#sysresquotas-61340">How to Configure File Systems for Quotas</a></p>
<p class="toc level3"><a href="sysresquotas-67.html#sysresquotas-28657">How to Set Up Quotas for a User</a></p>
<p class="toc level3"><a href="sysresquotas-67.html#sysresquotas-63864">How to Set Up Quotas for Multiple Users</a></p>
<p class="toc level3"><a href="sysresquotas-67.html#sysresquotas-82495">How to Check Quota Consistency</a></p>
<p class="toc level3"><a href="sysresquotas-67.html#sysresquotas-89063">How to Turn On Quotas</a></p>
<p class="toc level2 tocsp"><a href="enmuy.html">Maintaining Quotas (Task Map)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Checking Quotas</a></p>
<p class="toc level3"><a href="#sysresquotas-81117">How to Check for Exceeded Quotas</a></p>
<p class="toc level3"><a href="#sysresquotas-13508">How to Check Quotas on a File System</a></p>
</div>
<p class="toc level2 tocsp"><a href="sysresquotas-10332.html">Changing and Removing Quotas</a></p>
<p class="toc level3"><a href="sysresquotas-10332.html#sysresquotas-53952">How to Change the Soft Limit Default</a></p>
<p class="toc level3"><a href="sysresquotas-10332.html#sysresquotas-85417">How to Change Quotas for a User</a></p>
<p class="toc level3"><a href="sysresquotas-10332.html#sysresquotas-22999">How to Disable Quotas for a User</a></p>
<p class="toc level3"><a href="sysresquotas-10332.html#sysresquotas-45549">How to Turn Off Quotas</a></p>
<p class="toc level1 tocsp"><a href="sysrescron-18108.html">8.&nbsp;&nbsp;Scheduling System Tasks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresacctsetup-78801.html">9.&nbsp;&nbsp;Managing System Accounting (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresacctref-14910.html">10.&nbsp;&nbsp;System Accounting (Reference)</a></p>
<p class="toc level1 tocsp"><a href="spconcepts-21354.html">11.&nbsp;&nbsp;Managing System Performance (Overview)</a></p>
<p class="toc level1 tocsp"><a href="spprocess-59633.html">12.&nbsp;&nbsp;Managing System Processes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="spmonitor-24844.html">13.&nbsp;&nbsp;Monitoring System Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsoverview-10750.html">14.&nbsp;&nbsp;Troubleshooting Software Problems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="eekee.html">15.&nbsp;&nbsp;Managing System Messages</a></p>
<p class="toc level1 tocsp"><a href="tscore-7.html">16.&nbsp;&nbsp;Managing Core Files (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tscrashdumps-40145.html">17.&nbsp;&nbsp;Managing System Crash Information (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsgeneral-32935.html">18.&nbsp;&nbsp;Troubleshooting Miscellaneous Software Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsfileaccess-28392.html">19.&nbsp;&nbsp;Troubleshooting File Access Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsfsck-26279.html">20.&nbsp;&nbsp;Resolving UFS File System Inconsistencies (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsswmgr-40462.html">21.&nbsp;&nbsp;Troubleshooting Software Package Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="sysresquotas-36102"></a><h3>Checking Quotas</h3>
<p><a name="sysresquotas-ix2390"></a><a name="sysresquotas-ix2391"></a>After you have set up and turned on disk quotas and inode quotas,
you can check for users who exceed their quotas. In addition, you can
check quota information for entire file systems. </p><p><a name="sysresquotas-ix2392"></a><a name="sysresquotas-ix2393"></a><a name="sysresquotas-ix2395"></a><a name="sysresquotas-ix2396"></a>The following table describes the commands that you use to check quotas. 
  </p><a name="sysresquotas-39727"></a><h6>Table&nbsp;7-2 Commands for Checking Quotas</h6><table><col width="132*"><col width="230*"><tr><th align="left" valign="top" scope="column"><p>Command</p></th>
<th align="left" valign="top" scope="column"><p>Task</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-42"></a><a href="http://docs.sun.com/doc/819-2240/quota-1m?a=view"><tt>quota</tt>(1M)</a> </p></td>
<td align="left" valign="top" scope="row"><p>Displays user quotas and current disk use, and information
about users who are exceeding their quotas</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-2240/repquota-1m?a=view"><tt>repquota</tt>(1M)</a> </p></td>
<td align="left" valign="top" scope="row"><p>Displays quotas, files, and the amount
of space that is owned for specified file systems</p></td>
</tr>
</table>

<a name="sysresquotas-81117"></a><h4>How to Check for Exceeded Quotas</h4><a name="indexterm-43"></a><a name="indexterm-44"></a><a name="indexterm-45"></a><a name="indexterm-46"></a><p>You can display the quotas and disk use for individual users on
file systems on which quotas have been activated by using the <tt>quota</tt> command.
</p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><a name="sysresquotas-step-35"></a><b>Display user quotas for mounted file systems where quotas are enabled.</b><pre># <tt><b>quota</b></tt> [<tt><b>-v</b></tt>] <i>username</i></pre><dl><dt><tt>-v</tt></dt>
<dd><p>Displays one or more users' quotas on all mounted file systems that have quotas.</p></dd>
<dt><i>username</i></dt>
<dd><p>Is the login name or UID of a user's account.</p></dd>
</dl>
</li></ol><a name="emjey"></a>Example&nbsp;7-6 Checking for Exceeded Quotas<p><a name="sysresquotas-ix2403"></a><a name="sysresquotas-ix2405"></a><a name="sysresquotas-ix2407"></a>The following example shows that the user account identified by UID 301 has
one 1&ndash;Kbyte quota but has not used any disk space.   
  </p><pre># <tt><b>quota -v 301</b></tt>
Disk quotas for bob (uid 301):
Filesystem  usage  quota limit timeleft files quota  limit timeleft
/export/home   0      1     2             0      2      3</pre><dl><dt><tt>Filesystem</tt></dt>
<dd><p>Is the mount point for the file system.</p></dd>
<dt><tt>usage</tt></dt>
<dd><p>Is the current block usage.</p></dd>
<dt><tt>quota</tt></dt>
<dd><p>Is the soft-block limit.</p></dd>
<dt><tt>limit</tt></dt>
<dd><p>Is the hard-block limit.</p></dd>
<dt><tt>timeleft</tt></dt>
<dd><p>Is the amount of time, in days, left on the quota timer.</p></dd>
<dt><tt>files</tt></dt>
<dd><p>Is the current inode usage.</p></dd>
<dt><tt>quota</tt></dt>
<dd><p>Is the soft-inode limit.</p></dd>
<dt><tt>limit</tt></dt>
<dd><p>Is the hard-inode limit.</p></dd>
<dt><tt>timeleft</tt></dt>
<dd><p>Is the amount of time, in days, left on the quota timer.</p></dd>
</dl>


<a name="sysresquotas-13508"></a><h4>How to Check Quotas on a File System</h4><a name="indexterm-47"></a><a name="indexterm-48"></a><p>Display the quotas and disk use for all users on one or
more file systems by using the <tt>repquota</tt> command.  </p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><a name="sysresquotas-step-39"></a><b>Display all quotas for one or more file systems, even if there is
no usage.</b><pre># <tt><b>repquota</b></tt> [<tt><b>-v</b></tt>]  <tt><b>-a</b></tt> <i>filesystem</i></pre><dl><dt><tt>-v</tt></dt>
<dd><p>Reports on quotas for all users, even those users who do not consume resources.</p></dd>
<dt><tt>-a</tt></dt>
<dd><p>Reports on all file systems.</p></dd>
<dt><i>filesystem</i></dt>
<dd><p>Reports on the specified file system.</p></dd>
</dl>
</li></ol><a name="emjez"></a>Example&nbsp;7-7 Checking Quotas on a File System<a name="sysresquotas-ix2411"></a><a name="sysresquotas-ix2414"></a><a name="sysresquotas-ix2415"></a><p>The following example shows output from the <tt>repquota</tt> command on a system that
has quotas enabled on only one file system (<tt>/export/home</tt>).</p><pre># <tt><b>repquota -va</b></tt>
/dev/dsk/c0t3d0s7 (/export/home):
                  Block limits              File limits
User      used   soft   hard  timeleft  used  soft   hard  timeleft
#301  --            0      1   2.0 days         0      2      3  
#341  --    57     50     60   7.0 days  2      90    100  </pre><dl><dt><tt>Block limits</tt></dt>
<dd><p>Definition</p></dd>
<dt><tt>used</tt></dt>
<dd><p>Is the current block usage.</p></dd>
<dt><tt>soft</tt></dt>
<dd><p>Is the soft-block limit.</p></dd>
<dt><tt>hard</tt></dt>
<dd><p>Is the hard-block limit.</p></dd>
<dt><tt>timeleft</tt></dt>
<dd><p>Is the amount of time, in days, left on the quota timer.</p></dd>
<dt><tt>File limits</tt></dt>
<dd><p>Definition</p></dd>
<dt><tt>used</tt></dt>
<dd><p>Is the current inode usage.</p></dd>
<dt><tt>soft</tt></dt>
<dd><p>Is the soft-inode limit.</p></dd>
<dt><tt>hard</tt></dt>
<dd><p>Is the hard-inode limit.</p></dd>
<dt><tt>timeleft</tt></dt>
<dd><p>Is the amount of time, in days, left on the quota timer.</p></dd>
</dl>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="enmuy.html">Previous</a>
             </td>
             <td align="right">
                 <a href="sysresquotas-10332.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

