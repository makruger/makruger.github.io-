<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Scheduling a Repetitive System Task (<tt>cron</tt>) - System Administration Guide: Advanced Administration</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Advanced Administration</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="sysrescron-68.html">Previous</a>
             </td>
             <td align="right">
                 <a href="sysrescron-24589.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol2preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="modconcepts-20809.html">1.&nbsp;&nbsp;Managing Terminals and Modems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="modsetup-43877.html">2.&nbsp;&nbsp;Setting Up Terminals and Modems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="modsafapp-84569.html">3.&nbsp;&nbsp;Managing Serial Ports With the Service Access Facility (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresconcepts-23051.html">4.&nbsp;&nbsp;Managing System Resources (Overview)</a></p>
<p class="toc level1 tocsp"><a href="sysressysinfo-75169.html">5.&nbsp;&nbsp;Displaying and Changing System Information (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresdiskuse-61891.html">6.&nbsp;&nbsp;Managing Disk Use (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresquotas-97946.html">7.&nbsp;&nbsp;Managing Quotas (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysrescron-18108.html">8.&nbsp;&nbsp;Scheduling System Tasks (Tasks)</a></p>
<p class="toc level2"><a href="enmwx.html">Creating and Editing <tt>crontab</tt> Files (Task Map)</a></p>
<p class="toc level2"><a href="sysrescron-68.html">Ways to Automatically Execute System Tasks</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Scheduling a Repetitive System Task (<tt>cron</tt>)</a></p>
</div>
<p class="toc level2"><a href="sysrescron-24589.html">Creating and Editing <tt>crontab</tt> Files</a></p>
<p class="toc level3"><a href="sysrescron-24589.html#sysrescron-72169">How to Create or Edit a <tt>crontab</tt> File</a></p>
<p class="toc level3"><a href="sysrescron-24589.html#enmxc">How to Verify That a <tt>crontab</tt> File Exists</a></p>
<p class="toc level2 tocsp"><a href="sysrescron-12.html">Displaying <tt>crontab</tt> Files</a></p>
<p class="toc level3"><a href="sysrescron-12.html#sysrescron-60540">How to Display a <tt>crontab</tt> File</a></p>
<p class="toc level2 tocsp"><a href="sysrescron-17.html">Removing <tt>crontab</tt> Files</a></p>
<p class="toc level3"><a href="sysrescron-17.html#sysrescron-31048">How to Remove a <tt>crontab</tt> File</a></p>
<p class="toc level2 tocsp"><a href="sysrescron-23.html">Controlling Access to the <tt>crontab</tt> Command</a></p>
<p class="toc level3"><a href="sysrescron-23.html#sysrescron-88294">How to Deny <tt>crontab</tt> Command Access</a></p>
<p class="toc level3"><a href="sysrescron-23.html#sysrescron-36206">How to Limit <tt>crontab</tt> Command Access to Specified Users</a></p>
<p class="toc level2 tocsp"><a href="enmww.html">Using the <tt>at</tt> Command (Task Map)</a></p>
<p class="toc level2"><a href="sysrescron-35.html">Scheduling a Single System Task (<tt>at</tt>)</a></p>
<p class="toc level3"><a href="sysrescron-35.html#sysrescron-26337">How to Create an <tt>at</tt> Job</a></p>
<p class="toc level3"><a href="sysrescron-35.html#enmxg">How to Display the <tt>at</tt> Queue</a></p>
<p class="toc level3"><a href="sysrescron-35.html#enmxi">How to Verify an <tt>at</tt> Job</a></p>
<p class="toc level3"><a href="sysrescron-35.html#enmxh">How to Display <tt>at</tt> Jobs</a></p>
<p class="toc level3"><a href="sysrescron-35.html#sysrescron-62698">How to Remove <tt>at</tt> Jobs</a></p>
<p class="toc level3"><a href="sysrescron-35.html#sysrescron-94711">How to Deny Access to the <tt>at</tt> Command</a></p>
<p class="toc level3"><a href="sysrescron-35.html#enmxk">How to Verify That <tt>at</tt> Command Access Is Denied</a></p>
<p class="toc level1 tocsp"><a href="sysresacctsetup-78801.html">9.&nbsp;&nbsp;Managing System Accounting (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresacctref-14910.html">10.&nbsp;&nbsp;System Accounting (Reference)</a></p>
<p class="toc level1 tocsp"><a href="spconcepts-21354.html">11.&nbsp;&nbsp;Managing System Performance (Overview)</a></p>
<p class="toc level1 tocsp"><a href="spprocess-59633.html">12.&nbsp;&nbsp;Managing System Processes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="spmonitor-24844.html">13.&nbsp;&nbsp;Monitoring System Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsoverview-10750.html">14.&nbsp;&nbsp;Troubleshooting Software Problems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="eekee.html">15.&nbsp;&nbsp;Managing System Messages</a></p>
<p class="toc level1 tocsp"><a href="tscore-7.html">16.&nbsp;&nbsp;Managing Core Files (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tscrashdumps-40145.html">17.&nbsp;&nbsp;Managing System Crash Information (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsgeneral-32935.html">18.&nbsp;&nbsp;Troubleshooting Miscellaneous Software Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsfileaccess-28392.html">19.&nbsp;&nbsp;Troubleshooting File Access Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsfsck-26279.html">20.&nbsp;&nbsp;Resolving UFS File System Inconsistencies (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsswmgr-40462.html">21.&nbsp;&nbsp;Troubleshooting Software Package Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="sysrescron-1"></a><h3>Scheduling a Repetitive System Task (<tt>cron</tt>)</h3>
<p><a name="indexterm-59"></a><a name="indexterm-60"></a>The following sections describe how to create, edit, display, and remove <tt>crontab</tt> files,
as well as how to control access to them.</p>

<a name="sysrescron-2"></a><h4>Inside a <tt>crontab</tt> File</h4>
<p>The <tt>cron</tt> daemon schedules system tasks according to commands found within each <tt>crontab</tt>
file. A <tt>crontab</tt> file consists of commands, one command per line, that
will be executed at regular intervals. The beginning of each line contains date
and time information that tells the <tt>cron</tt> daemon when to execute the command.</p><p><a name="sysrescron-ix2484"></a>For example, a <tt>crontab</tt> file named <tt>root</tt> is supplied during SunOS software installation. The
file's contents include these command lines: </p><pre>10 3 * * * /usr/sbin/logadm (1)
15 3 * * 0 /usr/lib/fs/nfs/nfsfind (2)
1 2 * * * [ -x /usr/sbin/rtc ] &amp;&amp; /usr/sbin/rtc -c > /dev/null 2>&amp;1 (3)
30 3 * * * [ -x /usr/lib/gss/gsscred_clean ] &amp;&amp; /usr/lib/gss/gsscred_clean (4)</pre><p>The following describes the output for each of these command lines:</p>
<ul><li><p>The first line runs the <tt>logadm</tt> command at 3:10 a.m. every day. </p></li>
<li><p>The second line executes the <tt>nfsfind</tt> script every Sunday at 3:15 a.m.</p></li>
<li><p>The third line runs a script that checks for daylight savings time (and make corrections, if necessary) at 2:10 a.m. daily.</p><p>If there is no RTC time zone, nor an <tt>/etc/rtc_config</tt> file, this entry does nothing. </p>
<hr><p><b>x86 only - </b>The <tt>/usr/sbin/rtc</tt> script can only be run on an x86 based system.</p>
<hr>
</li>
<li><p>The fourth line checks for (and removes) duplicate entries in the Generic Security Service table, <tt>/etc/gss/gsscred_db</tt>, at 3:30 a.m. daily.</p></li></ul>
<p>For more information about the syntax of lines within a <tt>crontab</tt> file, see
<a href="#sysrescron-62861">Syntax of <tt>crontab</tt> File Entries</a>.</p><p><a name="sysrescron-ix2486"></a><a name="sysrescron-ix2488"></a><a name="sysrescron-ix2489"></a>The <tt>crontab</tt> files are stored in the <tt>/var/spool/cron/crontabs</tt> directory. Several <tt>crontab</tt> files besides <tt>root</tt>
are provided during SunOS software installation. See the following table.</p><a name="sysrescron-tbl-3"></a><h6>Table&nbsp;8-2 Default <tt>crontab</tt> Files</h6><table><col width="162*"><col width="195*"><tr><th align="left" valign="top" scope="column"><p><tt>crontab</tt> File</p></th>
<th align="left" valign="top" scope="column"><p>Function</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>adm</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Accounting</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>lp</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Printing</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>root</tt>
</p></td>
<td align="left" valign="top" scope="row"><p>General system functions and file system cleanup</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>sys</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Performance data collection</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>uucp</tt> </p></td>
<td align="left" valign="top" scope="row"><p>General <tt>uucp</tt>
cleanup</p></td>
</tr>
</table><p>Besides the default <tt>crontab</tt> files, users can create <tt>crontab</tt> files to schedule
their own system tasks. Other <tt>crontab</tt> files are named after the user
accounts in which they are created, such as <tt>bob</tt>, <tt>mary</tt>, <tt>smith</tt>, or <tt>jones</tt>.</p><p>To access <tt>crontab</tt> files that belong to <tt>root</tt> or other users, superuser privileges
are required.</p><p><a name="sysrescron-ix2498"></a><a name="sysrescron-ix2499"></a>Procedures explaining how to create, edit, display, and remove <tt>crontab</tt> files are described in
subsequent sections.</p>

<a name="sysrescron-26552"></a><h4>How the <tt>cron</tt> Daemon Handles Scheduling</h4>
<p><a name="sysrescron-ix2500"></a><a name="sysrescron-ix2501"></a><a name="sysrescron-ix2502"></a><a name="sysrescron-ix2503"></a><a name="sysrescron-ix2506"></a>The <tt>cron</tt> daemon manages the automatic scheduling of <tt>crontab</tt> commands. The role of the
<tt>cron</tt> daemon is to check the <tt>/var/spool/cron/crontab</tt> directory for the presence of
<tt>crontab</tt> files. </p><p>The <tt>cron</tt> daemon performs the following tasks at startup:</p>
<ul><li><p>Checks for new <tt>crontab</tt> files.</p></li>
<li><p>Reads the execution times that are listed within the files.</p></li>
<li><p>Submits the commands for execution at the proper times.</p></li>
<li><p>Listens for notifications from the <tt>crontab</tt> commands regarding updated <tt>crontab</tt> files.</p></li></ul>
<p><a name="sysrescron-ix2507"></a><a name="sysrescron-ix2508"></a><a name="sysrescron-ix2509"></a><a name="sysrescron-ix2510"></a>In much the same way, the <tt>cron</tt> daemon controls the scheduling of <tt>at</tt> files.
These files are stored in the <tt>/var/spool/cron/atjobs</tt> directory. The <tt>cron</tt> daemon also
listens for notifications from the <tt>crontab</tt> commands regarding submitted <tt>at</tt> jobs.</p>

<a name="sysrescron-62861"></a><h4>Syntax of <tt>crontab</tt> File Entries</h4>
<p><a name="sysrescron-ix2513"></a><a name="sysrescron-ix2514"></a>A <tt>crontab</tt> file consists of commands, one command per line, that execute automatically
at the time specified by the first five fields of each command line.
These five fields, described in the following table, are separated by spaces.</p><a name="sysrescron-68345"></a><h6>Table&nbsp;8-3 Acceptable Values for <tt>crontab</tt> Time Fields</h6><table><col width="180*"><col width="180*"><tr><th align="left" valign="top" scope="column"><p>Time Field</p></th>
<th align="left" valign="top" scope="column"><p>Values</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Minute
</p></td>
<td align="left" valign="top" scope="row"><p>0-59</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Hour</p></td>
<td align="left" valign="top" scope="row"><p>0-23</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Day of month</p></td>
<td align="left" valign="top" scope="row"><p>1-31</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Month</p></td>
<td align="left" valign="top" scope="row"><p>1-12</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Day of week</p></td>
<td align="left" valign="top" scope="row"><p>0-6 (0 = Sunday)</p></td>
</tr>
</table><p>Follow these guidelines for using special characters in <tt>crontab</tt> time fields:</p>
<ul><li><p>Use a space to separate each field.</p></li>
<li><p>Use a comma to separate multiple values.</p></li>
<li><p>Use a hyphen to designate a range of values.</p></li>
<li><p>Use an asterisk as a wildcard to include all possible values. </p></li>
<li><p>Use a comment mark (#) at the beginning of a line to indicate a comment or a blank line. </p></li></ul>
<p>For example, the following <tt>crontab</tt> command entry displays a reminder in the user's
console window at 4 p.m. on the first and fifteenth days of every
month.  </p><pre>0 16 1,15 * * echo Timesheets Due > /dev/console</pre><p><a name="sysrescron-ix2527"></a>Each command within a <tt>crontab</tt> file must consist of one line, even
if that line is very long. The <tt>crontab</tt> file does not recognize extra
carriage returns. For more detailed information about <tt>crontab</tt> entries and command options, refer to
the <a href="http://docs.sun.com/doc/819-2239/crontab-1?a=view"><tt>crontab</tt>(1)</a> man page.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="sysrescron-68.html">Previous</a>
             </td>
             <td align="right">
                 <a href="sysrescron-24589.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

