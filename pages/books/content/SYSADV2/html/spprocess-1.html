<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Commands for Managing System Processes - System Administration Guide: Advanced Administration</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Advanced Administration</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ennba.html">Previous</a>
             </td>
             <td align="right">
                 <a href="enudn.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol2preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="modconcepts-20809.html">1.&nbsp;&nbsp;Managing Terminals and Modems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="modsetup-43877.html">2.&nbsp;&nbsp;Setting Up Terminals and Modems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="modsafapp-84569.html">3.&nbsp;&nbsp;Managing Serial Ports With the Service Access Facility (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresconcepts-23051.html">4.&nbsp;&nbsp;Managing System Resources (Overview)</a></p>
<p class="toc level1 tocsp"><a href="sysressysinfo-75169.html">5.&nbsp;&nbsp;Displaying and Changing System Information (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresdiskuse-61891.html">6.&nbsp;&nbsp;Managing Disk Use (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresquotas-97946.html">7.&nbsp;&nbsp;Managing Quotas (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysrescron-18108.html">8.&nbsp;&nbsp;Scheduling System Tasks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresacctsetup-78801.html">9.&nbsp;&nbsp;Managing System Accounting (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresacctref-14910.html">10.&nbsp;&nbsp;System Accounting (Reference)</a></p>
<p class="toc level1 tocsp"><a href="spconcepts-21354.html">11.&nbsp;&nbsp;Managing System Performance (Overview)</a></p>
<p class="toc level1 tocsp"><a href="spprocess-59633.html">12.&nbsp;&nbsp;Managing System Processes (Tasks)</a></p>
<p class="toc level2"><a href="ennba.html">Managing System Processes (Task Map)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Commands for Managing System Processes</a></p>
<p class="toc level3"><a href="#eobor">How to List Processes</a></p>
<p class="toc level3"><a href="#spprocess-29852">How to Display Information About Processes</a></p>
<p class="toc level3"><a href="#spprocess-94781">How to Control Processes</a></p>
<p class="toc level3"><a href="#spprocess-95930">How to Terminate a Process (<tt>pkill</tt>)</a></p>
<p class="toc level3"><a href="#eoizf">How to Terminate a Process (<tt>kill</tt>)</a></p>
</div>
<p class="toc level2 tocsp"><a href="enudn.html">Managing Process Class Information (Task Map)</a></p>
<p class="toc level2"><a href="spprocess-18.html">Managing Process Class Information</a></p>
<p class="toc level3"><a href="spprocess-18.html#eobpu">How to Display Basic Information About Process Classes (<tt>priocntl</tt>)</a></p>
<p class="toc level3"><a href="spprocess-18.html#eobpr">How to Display the Global Priority of a Process</a></p>
<p class="toc level3"><a href="spprocess-18.html#spprocess-92593">How to Designate a Process Priority (<tt>priocntl</tt>)</a></p>
<p class="toc level3"><a href="spprocess-18.html#spprocess-89655">How to Change Scheduling Parameters of a Timesharing Process (<tt>priocntl</tt>)</a></p>
<p class="toc level3"><a href="spprocess-18.html#spprocess-18033">How to Change the Class of a Process (<tt>priocntl</tt>)</a></p>
<p class="toc level3"><a href="spprocess-18.html#spprocess-52112">How to Change the Priority of a Process (<tt>nice</tt>)</a></p>
<p class="toc level2 tocsp"><a href="spconcepts-6.html">Troubleshooting Problems With System Processes</a></p>
<p class="toc level1 tocsp"><a href="spmonitor-24844.html">13.&nbsp;&nbsp;Monitoring System Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsoverview-10750.html">14.&nbsp;&nbsp;Troubleshooting Software Problems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="eekee.html">15.&nbsp;&nbsp;Managing System Messages</a></p>
<p class="toc level1 tocsp"><a href="tscore-7.html">16.&nbsp;&nbsp;Managing Core Files (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tscrashdumps-40145.html">17.&nbsp;&nbsp;Managing System Crash Information (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsgeneral-32935.html">18.&nbsp;&nbsp;Troubleshooting Miscellaneous Software Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsfileaccess-28392.html">19.&nbsp;&nbsp;Troubleshooting File Access Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsfsck-26279.html">20.&nbsp;&nbsp;Resolving UFS File System Inconsistencies (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsswmgr-40462.html">21.&nbsp;&nbsp;Troubleshooting Software Package Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="spprocess-1"></a><h3>Commands for Managing System Processes</h3>
<p>The following table describes the commands for managing system processes.</p><a name="spconcepts-tbl-26"></a><h6>Table&nbsp;12-1 Commands for Managing Processes</h6><table><col width="143.73*"><col width="146.75*"><col width="146.75*"><tr><th align="left" valign="top" scope="column"><p>Command </p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>Man Page</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ps</tt>,
<tt>pgrep</tt>, <tt>prstat</tt>, <tt>pkill</tt></p></td>
<td align="left" valign="top" scope="row"><p>Checks the status of active processes on a system, as
well as displays detailed information about the processes</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-2239/ps-1?a=view"><tt>ps</tt>(1)</a>, <a href="http://docs.sun.com/doc/819-2239/pgrep-1?a=view"><tt>pgrep</tt>(1)</a>, and<a href="http://docs.sun.com/doc/819-2240/prstat-1m?a=view"><tt>prstat</tt>(1M)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>pkill</tt></p></td>
<td align="left" valign="top" scope="row"><p>Functions identically to <tt>pgrep</tt>
but finds or signals processes by  name or other attribute and terminates
the process. Each matching process is signaled as if by the <tt>kill</tt> command,
instead of having its process ID printed.</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-2239/pgrep-1?a=view"><tt>pgrep</tt>(1)</a>, and <a href="http://docs.sun.com/doc/819-2239/pkill-1?a=view"><tt>pkill</tt>(1)</a></p><p><a href="http://docs.sun.com/doc/819-2239/kill-1?a=view"><tt>kill</tt>(1)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>pargs, preap</tt></p></td>
<td align="left" valign="top" scope="row"><p>Assists with processes debugging</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-2239/pargs-1?a=view"><tt>pargs</tt>(1)</a>, and <a href="http://docs.sun.com/doc/819-2239/preap-1?a=view"><tt>preap</tt>(1)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>dispadmin</tt></p></td>
<td align="left" valign="top" scope="row"><p>Lists default
process scheduling policies</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-2240/dispadmin-1m?a=view"><tt>dispadmin</tt>(1M)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>priocntl</tt></p></td>
<td align="left" valign="top" scope="row"><p>Assigns processes to a priority class and manages process priortities</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-2239/priocntl-1?a=view"><tt>priocntl</tt>(1)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>nice</tt></p></td>
<td align="left" valign="top" scope="row"><p>Changes
the priority of a timesharing process</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-2239/nice-1?a=view"><tt>nice</tt>(1)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>psrset</tt></p></td>
<td align="left" valign="top" scope="row"><p>Binds specific process groups to a group
of processors rather than to just a single processor</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-2240/psrset-1m?a=view"><tt>psrset</tt>(1M)</a></p></td>
</tr>
</table><p>The Solaris Management Console's Processes tool enables you to manage processes with a
user-friendly interface. For information on using and starting the Solaris Management Console, see
<a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p>

<a name="spprocess-47"></a><h4>Using the <tt>ps</tt> Command</h4>
<p>The <tt>ps</tt> command enables you to check the status of active processes on
a system, as well as display technical information about the processes. This data
is useful for administrative tasks such as determining how to set process priorities.</p><p><a name="spprocess-ix4046"></a><a name="spprocess-ix4047"></a><a name="spprocess-ix4048"></a><a name="spprocess-ix4049"></a>Depending on which options you use, the <tt>ps</tt> command reports the following information:</p>
<ul><li><p>Current status of the process</p></li>
<li><p>Process ID </p></li>
<li><p>Parent process ID</p></li>
<li><p>User ID</p></li>
<li><p>Scheduling class</p></li>
<li><p>Priority</p></li>
<li><p>Address of the process</p></li>
<li><p>Memory used</p></li>
<li><p>CPU time used</p></li></ul>
<p><a name="spprocess-ix4054"></a><a name="spprocess-ix4056"></a><a name="spprocess-ix4057"></a><a name="spprocess-ix4058"></a><a name="spprocess-ix4059"></a><a name="spprocess-ix4061"></a><a name="spprocess-ix4062"></a><a name="spprocess-ix4064"></a><a name="spprocess-ix4065"></a><a name="spprocess-ix4066"></a><a name="spprocess-ix4067"></a><a name="spprocess-ix4070"></a><a name="spprocess-ix4071"></a><a name="spprocess-ix4072"></a><a name="spprocess-ix4077"></a><a name="spprocess-ix4080"></a><a name="spprocess-ix4081"></a>The following table describes some fields that are reported by the <tt>ps</tt> command.
Which fields are displayed depend on which option you choose. For a description
of all available options, see the <a href="http://docs.sun.com/doc/819-2239/ps-1?a=view"><tt>ps</tt>(1)</a> man page.</p><a name="spprocess-37245"></a><h6>Table&nbsp;12-2 Summary of Fields in <tt>ps</tt> Reports</h6><table><col width="108*"><col width="252*"><tr><th align="left" valign="top" scope="column"><p>Field</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>UID</tt> </p></td>
<td align="left" valign="top" scope="row"><p><a name="indexterm-100"></a>The effective user ID of
the process's owner.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>PID</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The process ID.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>PPID</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The parent process ID.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>C</tt>  </p></td>
<td align="left" valign="top" scope="row"><p>The
processor xutilization for scheduling. This field is not displayed when the <tt>-c</tt> option
is used.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>CLS</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The scheduling class to which the process belongs such as
real-time, system, or timesharing. This field is included only with the <tt>-c</tt> option.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>PRI</tt>
</p></td>
<td align="left" valign="top" scope="row"><p>The kernel thread's scheduling priority. Higher numbers indicate a higher priority.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>NI</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The process's
<tt>nice</tt> number, which contributes to its scheduling priority. Making a process &ldquo;nicer&rdquo; means
lowering its priority.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ADDR</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The address of the <tt>proc</tt> structure.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>SZ</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The virtual address size
of the process.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>WCHAN</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The address of an event or lock for which
the process is sleeping. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>STIME</tt></p></td>
<td align="left" valign="top" scope="row"><p>The starting time of the process in hours,
minutes, and seconds.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>TTY</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The terminal from which the process, or its parent,
was started. A question mark indicates that there is no controlling terminal.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>TIME</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The
total amount of CPU time used by the process since it began.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>CMD</tt></p></td>
<td align="left" valign="top" scope="row"><p>The
command that generated the process. </p></td>
</tr>
</table>

<a name="spprocess-48"></a><h4>Using the <tt>/proc</tt> File System and Commands</h4>
<p><a name="spconcepts-ix3552"></a><a name="spconcepts-ix3553"></a><a name="spconcepts-ix3554"></a><a name="spconcepts-ix3555"></a><a name="spconcepts-ix3556"></a><a name="spconcepts-ix3557"></a><a name="spconcepts-ix3559"></a>You can display detailed information about the processes that are listed in the
<tt>/proc</tt> directory by using process commands. The following table lists the <tt>/proc</tt> process commands.
The <tt>/proc</tt> directory is also known as the process file system (PROCFS). Images
of active processes are stored here by their process ID number.</p><a name="spprocess-84452"></a><h6>Table&nbsp;12-3 Process Commands (<tt>/proc</tt>)</h6><table><col width="144*"><col width="215*"><tr><th align="left" valign="top" scope="column"><p>Process Command</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>pcred</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Displays
process credential information</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>pfiles</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Reports <tt>fstat</tt> and <tt>fcntl</tt> information for open files in a
process</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>pflags</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Prints <tt>/proc</tt> tracing flags, pending signals and held signals, and other status
information</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>pldd</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Lists the dynamic libraries that are linked into a process</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>pmap</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Prints
the address space map of each process</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>psig</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Lists the signal actions and
handlers of each process</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>prun</tt></p></td>
<td align="left" valign="top" scope="row"><p>Starts each process</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>pstack</tt>  </p></td>
<td align="left" valign="top" scope="row"><p>Prints a hex+symbolic stack trace
for each lwp in each process</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>pstop</tt></p></td>
<td align="left" valign="top" scope="row"><p>Stops each process</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ptime</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Times a process by
using microstate accounting</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ptree</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Displays the process trees that contain the process</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>pwait</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Displays
status information after a process terminates</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>pwdx</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Displays the current working directory for
a process</p></td>
</tr>
</table><p>For more information, see <a href="http://docs.sun.com/doc/819-2239/proc-1?a=view"><tt>proc</tt>(1)</a>.</p><p>The process tools are similar to some options of the <tt>ps</tt> command, except
that the output that is provided by these commands is more detailed.
</p><p>In general, the process commands do the following:</p>
<ul><li><p><a name="spconcepts-ix3561"></a><a name="spconcepts-ix3562"></a><a name="spconcepts-ix3563"></a><a name="spconcepts-ix3564"></a>Display more information about processes, such as <tt>fstat</tt> and <tt>fcntl</tt>, working directories, and trees of parent and child processes</p></li>
<li><p><a name="spconcepts-ix3565"></a><a name="spconcepts-ix3566"></a><a name="spconcepts-ix3567"></a><a name="spconcepts-ix3568"></a><a name="spconcepts-ix3569"></a><a name="spconcepts-ix3570"></a><a name="spconcepts-ix3571"></a><a name="spconcepts-ix3572"></a><a name="spconcepts-ix3573"></a><a name="spconcepts-ix3574"></a><a name="spconcepts-ix3575"></a><a name="spconcepts-ix3577"></a><a name="spconcepts-ix3579"></a><a name="spconcepts-ix3580"></a><a name="spconcepts-ix3582"></a><a name="spconcepts-ix3583"></a><a name="spconcepts-ix3586"></a><a name="spconcepts-ix3587"></a><a name="spconcepts-ix3588"></a><a name="spconcepts-ix3589"></a><a name="spconcepts-ix3591"></a><a name="spconcepts-ix3594"></a><a name="spconcepts-ix3598"></a><a name="spconcepts-ix3599"></a><a name="spconcepts-ix3600"></a><a name="spconcepts-ix3601"></a><a name="spconcepts-ix3602"></a>Provide control over processes by allowing users to stop or resume them</p></li></ul>


<a name="spprocess-30645"></a><h4>Managing Processes With Process Commands (<tt>/proc</tt>)</h4>
<p><a name="spprocess-ix4092"></a><a name="spprocess-ix4093"></a><a name="spprocess-ix4094"></a><a name="spprocess-ix4097"></a><a name="spprocess-ix4101"></a><a name="spprocess-ix4102"></a><a name="spprocess-ix4103"></a><a name="spprocess-ix4104"></a><a name="spprocess-ix4105"></a><a name="spprocess-ix4106"></a><a name="spprocess-ix4107"></a><a name="spprocess-ix4108"></a><a name="spprocess-ix4112"></a><a name="spprocess-ix4113"></a><a name="spprocess-ix4116"></a><a name="spprocess-ix4117"></a><a name="spprocess-ix4118"></a><a name="spprocess-ix4119"></a><a name="spprocess-ix4121"></a><a name="spprocess-ix4122"></a><a name="spprocess-ix4124"></a><a name="spprocess-ix4125"></a><a name="spprocess-ix4128"></a><a name="spprocess-ix4131"></a><a name="spprocess-ix4132"></a><a name="spprocess-ix4133"></a><a name="spprocess-ix4134"></a><a name="spprocess-ix4135"></a><a name="spprocess-ix4136"></a>You can display detailed, technical information about processes or control active processes by
using some of the process commands. <a href="#spprocess-84452">Table&nbsp;12-3</a> lists some of the <tt>/proc</tt> commands.</p><p><a name="spconcepts-ix3606"></a><a name="spconcepts-ix3607"></a><a name="spconcepts-ix3608"></a><a name="spconcepts-ix3609"></a>If a process becomes trapped in an endless loop, or if the
process takes too long to execute, you might want to stop (kill) the
process. For more information about stopping processes using the <tt>kill</tt> or the <tt>pkill</tt> command,
see <a href="spprocess-59633.html">Chapter&nbsp;12, Managing System Processes (Tasks)</a>.   </p><p>The <tt>/proc</tt> file system is a directory hierarchy that contains additional subdirectories for
state information and control functions.</p><p>The <tt>/proc</tt> file system also provides an xwatchpoint facility that is used to
remap read-and-write permissions on the individual pages of a process's address space. This
facility has no restrictions and is MT-safe.</p><p>Debugging tools have been modified to use <tt>/proc</tt>'s xwatchpoint facility, which means that
the entire xwatchpoint process is faster.</p><p>The following restrictions have been removed when you set xwatchpoints by using the
<tt>dbx</tt> debugging tool:</p>
<ul><li><p>Setting xwatchpoints on local variables on the stack due to SPARC based system register windows</p></li>
<li><p>Setting xwatchpoints on multithreaded processes</p></li></ul>
<p>For more information, see the <a href="http://docs.sun.com/doc/819-2251/proc-4?a=view"><tt>proc</tt>(4)</a>, and <a href="http://docs.sun.com/doc/819-2239/mdb-1?a=view"><tt>mdb</tt>(1)</a> man pages.</p>

<a name="eobor"></a><h4>How to List Processes</h4><ul>
<li><b><a name="spprocess-ix4084"></a><a name="spprocess-ix4085"></a><a name="spprocess-ix4086"></a>Use the <tt>ps</tt> command to list all the processes on a system. </b><pre>$ <tt><b>ps</b></tt> [-<tt><b>efc</b></tt>]</pre><dl><dt><tt>ps</tt></dt>
<dd><p>Displays only the processes that are associated with your login session.</p></dd>
<dt><tt>-ef</tt></dt>
<dd><p>Displays full information about all the processes that are being executed on the system.</p></dd>
<dt><tt>-c</tt></dt>
<dd><p>Displays process scheduler information.</p></dd>
</dl>
</li></ul><a name="spprocess-2"></a>Example&nbsp;12-1 Listing Processes<p>The following example shows output from the <tt>ps</tt> command when no options are
used. </p><pre>$ <tt><b>ps</b></tt>
   PID TTY      TIME COMD
  1664 pts/4    0:06 csh
  2081 pts/4    0:00 ps</pre><p><a name="spprocess-ix4087"></a><a name="spprocess-ix4088"></a><a name="spprocess-ix4089"></a><a name="spprocess-ix4090"></a><a name="spprocess-ix4091"></a>The following example shows output from the <tt>ps</tt> <tt>-ef</tt> command. This output
shows that the first process that is executed when the system boots is
<tt>sched</tt> (the swapper) followed by the <tt>init</tt> process, <tt>pageout</tt>, and so on.  
 </p><pre>$ <tt><b>ps -ef</b></tt>
     UID   PID  PPID  C    STIME TTY      TIME CMD
    root     0     0  0   Dec 20 ?        0:17 sched
    root     1     0  0   Dec 20 ?        0:00 /etc/init -
    root     2     0  0   Dec 20 ?        0:00 pageout
    root     3     0  0   Dec 20 ?        4:20 fsflush
    root   374   367  0   Dec 20 ?        0:00 /usr/lib/saf/ttymon
    root   367     1  0   Dec 20 ?        0:00 /usr/lib/saf/sac -t 300
    root   126     1  0   Dec 20 ?        0:00 /usr/sbin/rpcbind
    root    54     1  0   Dec 20 ?        0:00 /usr/lib/sysevent/syseventd
    root    59     1  0   Dec 20 ?        0:00 /usr/lib/picl/picld
    root   178     1  0   Dec 20 ?        0:03 /usr/lib/autofs/automountd
    root   129     1  0   Dec 20 ?        0:00 /usr/sbin/keyserv
    root   213     1  0   Dec 20 ?        0:00 /usr/lib/lpsched
    root   154     1  0   Dec 20 ?        0:00 /usr/sbin/inetd -s
    root   139     1  0   Dec 20 ?        0:00 /usr/lib/netsvc/yp/ypbind ...
    root   191     1  0   Dec 20 ?        0:00 /usr/sbin/syslogd
    root   208     1  0   Dec 20 ?        0:02 /usr/sbin/nscd
    root   193     1  0   Dec 20 ?        0:00 /usr/sbin/cron
    root   174     1  0   Dec 20 ?        0:00 /usr/lib/nfs/lockd
  daemon   175     1  0   Dec 20 ?        0:00 /usr/lib/nfs/statd
    root   376     1  0   Dec 20 ?        0:00 /usr/lib/ssh/sshd
    root   226     1  0   Dec 20 ?        0:00 /usr/lib/power/powerd
    root   315     1  0   Dec 20 ?        0:00 /usr/lib/nfs/mountd
    root   237     1  0   Dec 20 ?        0:00 /usr/lib/utmpd
    .
    .
    .    </pre>

<a name="spprocess-29852"></a><h4>How to Display Information About Processes</h4><a name="indexterm-101"></a><a name="indexterm-102"></a><ol>
<li><a name="spprocess-step-4"></a><b>Obtain the process ID of the process that you want to display more
information about. </b><pre># <tt><b>pgrep</b></tt> <i>process</i></pre><p>where <i>process</i> is the name of the process you want to display more
information about.</p><p>The process ID is displayed in the first column of the output. </p></li>
<li><a name="spprocess-step-5"></a><b>Display the process information that you need.  </b><pre># <tt><b>/usr/bin/</b></tt><i>pcommand</i> <i>pid</i></pre><dl><dt><i>pcommand</i></dt>
<dd><p>Is the (<tt>/proc</tt>) command that you want to run. <a href="#spprocess-84452">Table&nbsp;12-3</a> lists and describes these commands.</p></dd>
<dt><i>pid</i></dt>
<dd><p>Identifies the process ID.</p></dd>
</dl>
</li></ol><a name="emjeh"></a>Example&nbsp;12-2 Displaying Information About Processes<p><a name="spprocess-ix4138"></a><a name="spprocess-ix4139"></a><a name="spprocess-ix4141"></a><a name="spprocess-ix4142"></a><a name="spprocess-ix4144"></a><a name="spprocess-ix4145"></a><a name="spprocess-ix4146"></a><a name="spprocess-ix4147"></a><a name="spprocess-ix4148"></a>The following example shows how to use process commands to display more information
about a <tt>cron</tt> process. </p><pre># <tt><b>pgrep cron</b></tt> 1
4780
# <tt><b>pwdx 4780</b></tt> 2
4780:   /var/spool/cron/atjobs
# <tt><b>ptree 4780</b></tt> 3
4780  /usr/sbin/cron
# <tt><b>pfiles 4780</b></tt> 4
4780:   /usr/sbin/cron
  Current rlimit: 256 file descriptors
   0: S_IFCHR mode:0666 dev:290,0 ino:6815752 uid:0 gid:3 rdev:13,2
      O_RDONLY|O_LARGEFILE
      /devices/pseudo/mm@0:null
   1: S_IFREG mode:0600 dev:32,128 ino:42054 uid:0 gid:0 size:9771
      O_WRONLY|O_APPEND|O_CREAT|O_LARGEFILE
      /var/cron/log
   2: S_IFREG mode:0600 dev:32,128 ino:42054 uid:0 gid:0 size:9771
      O_WRONLY|O_APPEND|O_CREAT|O_LARGEFILE
      /var/cron/log
   3: S_IFIFO mode:0600 dev:32,128 ino:42049 uid:0 gid:0 size:0
      O_RDWR|O_LARGEFILE
      /etc/cron.d/FIFO
   4: S_IFIFO mode:0000 dev:293,0 ino:4630 uid:0 gid:0 size:0
      O_RDWR|O_NONBLOCK
   5: S_IFIFO mode:0000 dev:293,0 ino:4630 uid:0 gid:0 size:0
      O_RDWR</pre>
<ol><li><p>Obtains the process ID for the <tt>cron</tt> process</p></li>
<li><p>Displays the current working directory for the <tt>cron</tt> process</p></li>
<li><p>Displays the process tree that contains the <tt>cron</tt> process</p></li>
<li><p>Displays <tt>fstat</tt> and <tt>fcntl</tt> information</p></li></ol>


<a name="spprocess-94781"></a><h4>How to Control Processes</h4><a name="indexterm-103"></a><a name="indexterm-104"></a><ol>
<li><a name="spprocess-step-9"></a><b>Obtain the process ID of the process that you want to control.</b><pre># <tt><b>pgrep</b></tt> <i>process</i></pre><p>where <i>process</i> is the name of the process you want to control.</p><p>The process ID displayed in the first column of the output.</p></li>
<li><a name="spprocess-step-10"></a><b>Use the appropriate process command to control the process.</b><pre># <tt><b>/usr/bin/</b></tt><i>pcommand</i> <i>pid</i></pre><dl><dt><i>pcommand</i></dt>
<dd><p>Is the process (<tt>/proc</tt>) command that you want to run. <a href="#spprocess-84452">Table&nbsp;12-3</a> lists and describes these commands.</p></dd>
<dt><i>pid</i></dt>
<dd><p>Identifies the process ID.</p></dd>
</dl>
</li>
<li><a name="spprocess-step-32"></a><b>Verify the process status.</b><pre># <tt><b>ps -ef | grep</b></tt> <i>pid</i></pre></li></ol><a name="emjed"></a>Example&nbsp;12-3 Controlling Processes<p>The following example shows how to use process command to stop and
restart the <tt>dtpad</tt> process.</p><pre># <tt><b>pgrep dtpad</b></tt> 1
2921
# <tt><b>pstop 2921</b></tt>2 
# <tt><b>prun 2921</b></tt> 3</pre>
<ol><li><p>Obtains the process ID for the <tt>dtpad</tt> process</p></li>
<li><p>Stops the <tt>dtpad</tt> process</p></li>
<li><p>Restarts the <tt>dtpad</tt> process</p></li></ol>


<a name="spprocess-12"></a><h4>Terminating a Process (<tt>pkill, kill</tt>)</h4>
<p><a name="spprocess-ix4187"></a><a name="spprocess-ix4188"></a><a name="spprocess-ix4189"></a>Sometimes, you might need to stop (kill) a process. The process might be
in an endless loop. Or, you might have started a large job that
you want to stop before it is completed. You can kill any process
that you own. Superuser can kill any process in the system except for
those processes with process IDs of <tt>0</tt>, <tt>1</tt>, <tt>2</tt>, <tt>3</tt>, and <tt>4</tt>.
Killing these processes most likely will crash the system. </p><p>For more information, see the <a href="http://docs.sun.com/doc/819-2239/pgrep-1?a=view"><tt>pgrep</tt>(1)</a> and <a href="http://docs.sun.com/doc/819-2239/pkill-1?a=view"><tt>pkill</tt>(1)</a> and <a href="http://docs.sun.com/doc/819-2239/kill-1?a=view"><tt>kill</tt>(1)</a> man pages.</p>

<a name="spprocess-95930"></a><h4>How to Terminate a Process (<tt>pkill</tt>)</h4><ol>
<li>(Optional) <b>Become superuser or assume an equivalent role to terminate the process of another
user.</b></li>
<li><a name="spprocess-step-15"></a><b>Obtain the process ID for the process that you want to terminate.</b><pre>$ <tt><b>pgrep</b></tt> <i>process</i></pre><p>where <i>process</i> is the name of the process that you want to terminate.</p><p>For example:</p><pre>$ <tt><b>pgrep netscape</b></tt>
587
566</pre><p>The process ID is displayed in the output.</p>
<hr><p><b>Note - </b>To obtain process information on a Sun Ray<sup>TM</sup>, use the following commands:</p><pre># <tt><b>ps -fu </tt><i>user</i><tt></b></tt></pre><p>This command lists all user processes.</p><pre># <tt><b>ps -fu </tt><i>user</i><tt> | grep </tt><i>process</i><tt></b></tt></pre><p>This command locates a specific process for a user.</p>
<hr>
</li>
<li><a name="spprocess-step-33"></a><b>Terminate the process.</b><pre>$ <tt><b>pkill</b></tt> [<tt><b></tt><i>signal</i><tt></b></tt>] <i>process</i></pre><dl><dt><i>signal</i></dt>
<dd><p>When no signal is included in the <tt>pkill</tt> command-line syntax, the default signal that is used is &ndash;15 (<tt>SIGTERM</tt>). Using the &ndash;9 signal (<tt>SIGKILL</tt>) with the <tt>pkill</tt> command ensures that the process terminates promptly. However, the &ndash;9 signal should not be used to kill certain processes, such as a database process, or an LDAP server process. The result is that data might be lost.</p></dd>
<dt><i>process</i></dt>
<dd><p>Is the name of the process to stop.</p></dd>
</dl>

<hr><p><b>Tip - </b>When using the <tt>pkill</tt> command to terminate a process, first try using the
command by itself, without including a signal option. Wait a few minutes to
see if the process terminates before using the <tt>pkill</tt> command with the
-9 signal.</p>
<hr>
</li>
<li><a name="spprocess-step-34"></a><b>Verify that the process has been terminated.</b><pre>$ <tt><b>pgrep</b></tt> <i>process</i></pre><p>The process you terminated should no longer be listed in the output of
the <tt>pgrep</tt> command.</p></li></ol>

<a name="eoizf"></a><h4>How to Terminate a Process (<tt>kill</tt>)</h4><ol>
<li>(Optional) <b>Become superuser or assume an equivalent role to terminate the process of another
user.</b></li>
<li><b>Obtain the process ID of the process that you want to terminate.</b><pre>$ <tt><b>ps -fu </tt><i>user</i><tt></b></tt></pre><p>where <i>user</i> is the user that you want to display processes for.</p><p>For example:</p><pre>$ <tt><b>ps -fu </tt><i>userabc</i><tt></b></tt>
userabc   328   323   2   Mar 12 ?         10:18 /usr/openwin/bin/Xsun
:0 -nobanner -auth /var/dt/A:0-WmayOa
userabc   366   349   0   Mar 12 ?         0:00 /usr/openwin/bin/fbconsole
userabc   496   485   0   Mar 12 ?         0:09 /usr/dt/bin/sdtperfmeter
 -f -H -t cpu -t disk -s 1 -name fpperfmeter
userabc   349   332   0   Mar 12 ?         0:00 /bin/ksh /usr/dt/bin/Xsession
userabc   440   438   0   Mar 12 pts/3     0:00 -csh -c unsetenv _ PWD;
unsetenv DT;     setenv DISPLAY :0;      
userabc   372     1   0   Mar 12 ?         0:00 /usr/openwin/bin/speckeysd
userabc   438   349   0   Mar 12 pts/3     0:00 /usr/dt/bin/sdt_shell -c
unset
.
.
.</pre><p>The process ID is displayed in the first column of the output.</p></li>
<li><b>Terminate the process.</b><pre>$ <tt><b>kill</b></tt> [<tt><b></tt><i>signal-number</i><tt></b></tt>] <i>pid</i></pre><dl><dt><i>signal</i></dt>
<dd><p>When no signal is included in the <tt>kill</tt> command-line syntax, the default signal that is used is &ndash;15 (<tt>SIGKILL</tt>). Using the &ndash;9 signal (<tt>SIGTERM</tt>) with the <tt>kill</tt> command ensures that the process terminates promptly. However, the &ndash;9 signal should not be used to kill certain processes, such as a database process, or an LDAP server process. The result is that data might be lost.</p></dd>
<dt><i>pid</i></dt>
<dd><p>Is the process ID of the process that you want to terminate.</p></dd>
</dl>

<hr><p><b>Tip - </b>When using the <tt>kill</tt> command to stop a process, first try using the
command by itself, without including a signal option. Wait a few minutes to
see if the process terminates before using the <tt>kill</tt> command with the
-9 signal.</p>
<hr>
</li>
<li><b>Verify that the process has been terminated.</b><pre>$ <tt><b>pgrep</b></tt> <i>pid</i></pre><p>The process you terminated should no longer be listed in the output of
the <tt>pgrep</tt> command.</p></li></ol>

<a name="eekmk"></a><h4>Debugging a Process (<tt>pargs</tt>, <tt>preap</tt>)</h4>
<p>The <tt>pargs</tt> command and the <tt>preap</tt> command improve process debugging. The <tt>pargs</tt> command
prints the arguments and environment variables associated with a live process or core file.
The <tt>preap</tt> command removes defunct (zombie) processes. A zombie process has not yet
had its exit status claimed by its parent. These processes are generally harmless
but can consume system resources if they are numerous. You can use the
<tt>pargs</tt> and <tt>preap</tt> commands to examine any process that you have the privileges
to examine. As superuser, you can examine any process.</p><p>For information on using the <tt>preap</tt> command, see the <a href="http://docs.sun.com/doc/819-2239/preap-1?a=view"><tt>preap</tt>(1)</a> man page.
For information on the using the <tt>pargs</tt> command, see the <a href="http://docs.sun.com/doc/819-2239/pargs-1?a=view"><tt>pargs</tt>(1)</a> man page.
See also, the <a href="http://docs.sun.com/doc/819-2239/proc-1?a=view"><tt>proc</tt>(1)</a> man page.</p><a name="eeklf"></a>Example&nbsp;12-4 Debugging a Process (<tt>pargs</tt>)<p>The <tt>pargs</tt> command solves a long-standing problem of being unable to display with
the <tt>ps</tt> command all the arguments that are passed to a process. The
following example shows how to use the <tt>pargs</tt> command in combination with the
<tt>pgrep</tt> command to display the arguments that are passed to a process.</p><pre># <tt><b>pargs `pgrep ttymon`</b></tt>
579:    /usr/lib/saf/ttymon -g -h -p <i>system-name</i> console login:  
-T sun -d /dev/console -l 
argv[0]: /usr/lib/saf/ttymon
argv[1]: -g
argv[2]: -h
argv[3]: -p
argv[4]: <i>system-name</i> console login: 
argv[5]: -T
argv[6]: sun
argv[7]: -d
argv[8]: /dev/console
argv[9]: -l
argv[10]: console
argv[11]: -m
argv[12]: ldterm,ttcompat
548:    /usr/lib/saf/ttymon
argv[0]: /usr/lib/saf/ttymon</pre><p>The following example shows how to use the <tt>pargs</tt> <tt>-e</tt> command to
display the environment variables that are associated with a process.</p><pre>$ <tt><b>pargs -e 6763</b></tt>
6763: tcsh
envp[0]: DISPLAY=:0.0</pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ennba.html">Previous</a>
             </td>
             <td align="right">
                 <a href="enudn.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

