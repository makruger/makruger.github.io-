<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Daily Accounting Reports - System Administration Guide: Advanced Administration</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">System Administration Guide: Advanced Administration</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="sysresacctref-41757.html">Previous</a>
             </td>
             <td align="right">
                 <a href="sysresacctref-24103.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol2preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="modconcepts-20809.html">1.&nbsp;&nbsp;Managing Terminals and Modems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="modsetup-43877.html">2.&nbsp;&nbsp;Setting Up Terminals and Modems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="modsafapp-84569.html">3.&nbsp;&nbsp;Managing Serial Ports With the Service Access Facility (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresconcepts-23051.html">4.&nbsp;&nbsp;Managing System Resources (Overview)</a></p>
<p class="toc level1 tocsp"><a href="sysressysinfo-75169.html">5.&nbsp;&nbsp;Displaying and Changing System Information (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresdiskuse-61891.html">6.&nbsp;&nbsp;Managing Disk Use (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresquotas-97946.html">7.&nbsp;&nbsp;Managing Quotas (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysrescron-18108.html">8.&nbsp;&nbsp;Scheduling System Tasks (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresacctsetup-78801.html">9.&nbsp;&nbsp;Managing System Accounting (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="sysresacctref-14910.html">10.&nbsp;&nbsp;System Accounting (Reference)</a></p>
<p class="toc level2"><a href="sysresacctref-41757.html"><tt>runacct</tt> Script</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Daily Accounting Reports</a></p>
</div>
<p class="toc level2"><a href="sysresacctref-24103.html">System Accounting Files</a></p>
<p class="toc level1 tocsp"><a href="spconcepts-21354.html">11.&nbsp;&nbsp;Managing System Performance (Overview)</a></p>
<p class="toc level1 tocsp"><a href="spprocess-59633.html">12.&nbsp;&nbsp;Managing System Processes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="spmonitor-24844.html">13.&nbsp;&nbsp;Monitoring System Performance (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsoverview-10750.html">14.&nbsp;&nbsp;Troubleshooting Software Problems (Overview)</a></p>
<p class="toc level1 tocsp"><a href="eekee.html">15.&nbsp;&nbsp;Managing System Messages</a></p>
<p class="toc level1 tocsp"><a href="tscore-7.html">16.&nbsp;&nbsp;Managing Core Files (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tscrashdumps-40145.html">17.&nbsp;&nbsp;Managing System Crash Information (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsgeneral-32935.html">18.&nbsp;&nbsp;Troubleshooting Miscellaneous Software Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsfileaccess-28392.html">19.&nbsp;&nbsp;Troubleshooting File Access Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsfsck-26279.html">20.&nbsp;&nbsp;Resolving UFS File System Inconsistencies (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tsswmgr-40462.html">21.&nbsp;&nbsp;Troubleshooting Software Package Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="sysresacctref-15489"></a><h3>Daily Accounting Reports</h3>
<p><a name="sysresacctref-ix2892"></a><a name="sysresacctref-ix2893"></a>The <tt>runacct</tt> shell script generates five basic reports upon each invocation. The following
table describes these reports.</p><a name="sysresacctref-37391"></a><h6>Table&nbsp;10-2 Daily Accounting Reports</h6><table><col width="118*"><col width="241*"><tr><th align="left" valign="top" scope="column"><p>Report Type</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a href="#sysresacctref-2">Daily Report</a></p></td>
<td align="left" valign="top" scope="row"><p>Shows terminal line utilization by <tt>tty</tt> number.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a href="#sysresacctref-3">Daily Usage Report</a></p></td>
<td align="left" valign="top" scope="row"><p>Indicates usage
of system resources by users (listed in order of user ID).</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a href="#sysresacctref-78581">Daily Command Summary</a></p></td>
<td align="left" valign="top" scope="row"><p>Indicates usage of
system resources by commands, listed in descending order of memory use. In other
words, the command that used the most memory is listed first. This same
information is reported for the month in the monthly command summary. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a href="#sysresacctref-4">Monthly Command Summary</a></p></td>
<td align="left" valign="top" scope="row"><p>A cumulative
summary that reflects the data accumulated since the last invocation of the <tt>monacct</tt>
program.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a href="#sysresacctref-5">Last Login Report</a></p></td>
<td align="left" valign="top" scope="row"><p>Shows the last time each user logged in (listed in chronological order).</p></td>
</tr>
</table>

<a name="sysresacctref-2"></a><h4>Daily Report</h4>
<p><a name="sysresacctref-ix2899"></a><a name="sysresacctref-ix2900"></a><a name="sysresacctref-ix2901"></a><a name="sysresacctref-ix2903"></a>This report gives information about each terminal line used. The following is a
sample Daily Report.    </p><pre>Jan 16 02:30 2004  DAILY REPORT FOR venus Page 1


from Mon Jan 15 02:30:02 2004
to   Tue Oan 16 02:30:01 2004
1       runacct
1       acctcon

TOTAL DURATION IS 1440 MINUTES
LINE         MINUTES  PERCENT  # SESS  # ON  # OFF
console      868      60       1       1     2
TOTALS       868      --       1       1     2</pre><p><a name="sysresacctref-ix2904"></a><a name="sysresacctref-ix2905"></a><a name="sysresacctref-ix2906"></a><a name="sysresacctref-ix2907"></a><a name="sysresacctref-ix2908"></a>The <tt>from</tt> and <tt>to</tt> lines specify the time period reflected in the report.
This time period covers the time the last Daily Report was generated to
the time the current Daily Report was generated. Then, the report presents a
log of system reboots, shutdowns, power failure recoveries, and any other record written
to the <tt>/var/adm/wtmpx</tt> file by the <tt>acctwtmp</tt> program. For more information, see the
<a href="http://docs.sun.com/doc/819-2240/acct-1m?a=view"><tt>acct</tt>(1M)</a> man page.</p><p>The second part of the report is a breakdown of terminal line
utilization. The <tt>TOTAL</tt> <tt>DURATION</tt> tells how long the system was in multiuser mode (accessible
through the terminal lines). The following table describes the data provided by the
Daily Report.</p><a name="sysresacctref-42173"></a><h6>Table&nbsp;10-3 Daily Report Data</h6><table><col width="87*"><col width="270*"><tr><th align="left" valign="top" scope="column"><p>Column</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>LINE</tt></p></td>
<td align="left" valign="top" scope="row"><p>The terminal line or access port. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>MINUTES</tt></p></td>
<td align="left" valign="top" scope="row"><p>The number of minutes that
the line was in use during the accounting period. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>PERCENT</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The <tt>TOTAL</tt> <tt>DURATION</tt>
divided by the number of <tt>MINUTES</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt># SESS</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The number of times this line or
port was accessed for a login session.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt># ON</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Same as <tt>SESS</tt>. (This column
no longer has meaning. Previously, this column listed the number of times that
a line or port was used to log in a user.)</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt># OFF</tt></p><p>T</p></td>
<td align="left" valign="top" scope="row"><p><a name="sysresacctref-ix2920"></a><a name="sysresacctref-ix2921"></a><a name="sysresacctref-ix2922"></a>The number of times
a user logs out and any interrupts that occur on that line. Generally,
interrupts occur on a port when <tt>ttymon</tt> is first invoked after the system
is brought to multiuser mode. If the <tt># OFF</tt> exceeds the <tt># SESS</tt> by a
large factor,  the multiplexer, modem, or cable is probably going bad. Or,
a bad connection exists somewhere. The most common cause is an unconnected cable
dangling from the multiplexer.   </p></td>
</tr>
</table><p>During real time, you should monitor the <tt>/var/adm/wtmpx</tt> file because it is the
file from which the connect accounting is derived. If the <tt>wtmpx</tt> file
grows rapidly, execute the following command to see which <tt>tty</tt> line is the
noisiest.</p><pre># <tt><b>/usr/lib/acct/acctcon -l</b></tt> <i>file</i> &lt; /var/adm/wtmpx</pre><p><a name="sysresacctref-ix2924"></a><a name="sysresacctref-ix2925"></a><a name="sysresacctref-ix2926"></a><a name="sysresacctref-ix2927"></a><a name="sysresacctref-ix2928"></a><a name="sysresacctref-ix2929"></a><a name="sysresacctref-ix2931"></a><a name="sysresacctref-ix2932"></a>If  interruption is occurring frequently, general system performance will be affected. Additionally,
the <tt>wtmp</tt> file might become corrupted. To correct this problem, see <a href="sysresacctsetup-16.html#sysresacctsetup-90762">How to Fix a Corrupted <tt>wtmpx</tt> File</a>. 
      </p>

<a name="sysresacctref-3"></a><h4>Daily Usage Report</h4>
<p><a name="sysresacctref-ix2933"></a><a name="sysresacctref-ix2935"></a><a name="sysresacctref-ix2936"></a><a name="sysresacctref-ix2937"></a><a name="sysresacctref-ix2938"></a>The Daily Usage Report breaks down system resource utilization by user. A sample
of this report follows.     </p><pre>Jan 16 02:30 2004  DAILY USAGE REPORT FOR skisun Page 1


     LOGIN  CPU  (MINS)  KCORE-   MINS    CONNECT  (MINS) DISK   # OF   # OF  # DISK  FEE
UID  NAME   PRIME NPRIME PRIME    NPRIME  PRIME    NPRIME BLOCKS PROCS  SESS  SAMPLES
0    TOTAL  72    148    11006173 51168   26230634 57792  539    330    0     2150    1
0    root   32    76     11006164 33664   26230616 22784  0      0      0     127     0
4    adm    0     0      22       51      0        0      0      420    0     0       0
101  rimmer 39    72     894385   1766020 539      330    0      1603   1     0       0</pre><p>The following table describes the data provided by the Daily Usage Report.</p><a name="sysresacctref-40931"></a><h6>Table&nbsp;10-4 Daily Usage Report Data</h6><table><col width="99*"><col width="259*"><tr><th align="left" valign="top" scope="column"><p>Column</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>UID</tt>
</p></td>
<td align="left" valign="top" scope="row"><p>User ID number.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>LOGIN NAME</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Login (or user) name of the user. Identifies a
user who has multiple login names. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="sysresacctref-ix2941"></a><a name="sysresacctref-ix2942"></a><a name="sysresacctref-ix2944"></a><tt>CPU (MINS)</tt>   </p></td>
<td align="left" valign="top" scope="row"><p>Amount of time, in
minutes, that the user's process used the central processing unit. Divided into <tt>PRIME</tt>
and <tt>NPRIME</tt> (nonprime) utilization. The accounting system's version of this data is located
in the <tt>/etc/acct/holidays</tt> file. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>KCORE-MINS</tt> </p></td>
<td align="left" valign="top" scope="row"><p>A cumulative measure of the amount of
memory in Kbyte segments per minute that a process uses while running. Divided
into <tt>PRIME</tt> and <tt>NPRIME</tt> utilization.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="sysresacctref-ix2952"></a><a name="sysresacctref-ix2953"></a><tt>CONNECT (MINS)</tt>  </p></td>
<td align="left" valign="top" scope="row"><p>Amount of time, in minutes, that
the a user was logged in to the system, or &ldquo;real time.&rdquo; Divided
into <tt>PRIME</tt> and <tt>NPRIME</tt> utilization. If these numbers are high while the
<tt># OF PROCS</tt> is low, you can conclude that the user logs in first
thing in the morning and hardly touches the terminal the rest of the
day. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="sysresacctref-ix2956"></a><a name="sysresacctref-ix2957"></a><a name="sysresacctref-ix2958"></a><tt>DISK BLOCKS</tt>    </p></td>
<td align="left" valign="top" scope="row"><p><a name="sysresacctref-ix2960"></a>Output from the <tt>acctdusg</tt> program, which runs the
disk accounting programs and merges the accounting records (<tt>daytacct</tt>). For accounting purposes, a
block is 512 bytes.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt># OF PROCS</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Number of processes invoked by the user. If
large numbers appear, a user might have a shell procedure that has run
out of control.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="sysresacctref-ix2966"></a><a name="indexterm-93"></a><tt># OF SESS</tt>  </p></td>
<td align="left" valign="top" scope="row"><p>Number of times that a user logged in
to the system.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt># DISK SAMPLES</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Number of times that disk accounting was run to
obtain the average number of <tt>DISK BLOCKS</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="sysresacctref-ix2976"></a><a name="sysresacctref-ix2978"></a><a name="sysresacctref-ix2979"></a><a name="sysresacctref-ix2981"></a><a name="sysresacctref-ix2982"></a><tt>FEE</tt>     </p></td>
<td align="left" valign="top" scope="row"><p><a name="sysresacctref-ix2983"></a><a name="sysresacctref-ix2984"></a><a name="sysresacctref-ix2985"></a><a name="sysresacctref-ix2986"></a><a name="sysresacctref-ix2988"></a>Often unused field
that represents the total accumulation of units charged against the user by the
<tt>chargefee</tt> script.     </p></td>
</tr>
</table>

<a name="sysresacctref-78581"></a><h4>Daily Command Summary</h4>
<p><a name="sysresacctref-ix2990"></a><a name="sysresacctref-ix2991"></a><a name="sysresacctref-ix2992"></a>The Daily Command Summary report shows the system resource utilization by command. With
this report, you can identify the most heavily used commands. Based on how
those commands use system resources, you can then gain insight on how best
to tune the system.   </p><p>These reports are sorted by <tt>TOTAL</tt> <tt>KCOREMIN</tt>, which is an arbitrary gauge but
often useful for calculating drain on a system.</p><p>A sample Daily Command Summary follows. </p><pre>                                TOTAL COMMAND SUMMARY
COMMAND   NUMBER      TOTAL   TOTAL     TOTAL   MEAN    MEAN     HOG   CHARS   BLOCKS
NAME        CMDS    KCOREMIN CPU-MIN REAL-MIN  SIZE-K  CPU-MIN  FACTOR TRNSFD  READ

TOTALS      2150  1334999.75  219.59 724258.50 6079.48   0.10   0.00   397338982 419448

netscape      43  2456898.50   92.03  54503.12 26695.51  2.14   0.00   947774912 225568
adeptedi       7    88328.22    4.03    404.12 21914.95  0.58   0.01    93155160   8774
dtmail         1    54919.17    5.33  17716.57 10308.94  5.33   0.00   213843968  40192
acroread       8    31218.02    2.67  17744.57 11682.66  0.33   0.00   331454464  11260
dtwm           1    16252.93    2.53  17716.57 6416.05   2.53   0.00   158662656  12848
dtterm         5     4762.71    1.30  76300.29 3658.93   0.26   0.00    33828352  11604
dtaction      23     1389.72    0.33      0.60 4196.43   0.01   0.55    18653184    539
dtsessio       1     1174.87    0.24  17716.57 4932.97   0.24   0.00    23535616   5421
dtcm           1      866.30    0.18  17716.57 4826.21   0.18   0.00     3012096   6490</pre><p>The following table describes the data provided by the Daily Command Summary.</p><a name="sysresacctref-53520"></a><h6>Table&nbsp;10-5 Daily Command Summary Data</h6><table><col width="118*"><col width="241*"><tr><th align="left" valign="top" scope="column"><p>Column</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>COMMAND NAME</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Name
of the command. All shell procedures are lumped together under the name <tt>sh</tt>
because only object modules are reported by the process accounting system. You should
monitor the frequency of programs called <tt>a.out</tt> or <tt>core</tt>, or any other unexpected name.
You can use the <tt>acctcom</tt> program to determine who executed an oddly named
command and if superuser privileges were used. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>NUMBER CMDS</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Total number of times
this command was run. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>TOTAL KCOREMIN</tt>  </p></td>
<td align="left" valign="top" scope="row"><p>Total cumulative measurement of the Kbyte
segments of memory used by a process per minute of run time. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>TOTAL CPU-MIN</tt>
 </p></td>
<td align="left" valign="top" scope="row"><p>Total processing time this program accumulated. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>TOTAL REAL-MIN</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Total real-time (wall-clock) minutes
this program accumulated. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>MEAN SIZE-K</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Mean (average) of the <tt>TOTAL</tt> <tt>KCOREMIN</tt> over the number
of invocations reflected by the <tt>NUMBER</tt> <tt>CMDS</tt>. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>MEAN CPU-MIN</tt></p></td>
<td align="left" valign="top" scope="row"><p>Mean (average) derived from the
<tt>NUMBER</tt> <tt>CMDS</tt> and the <tt>TOTAL CPU-MIN</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>HOG FACTOR</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Total CPU time divided by elapsed time. Shows
the ratio of system availability to system utilization, providing a relative measure of
total available CPU time consumed by the process during its execution. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>CHARS TRNSFD</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Total
number of characters transferred by the read and write system calls. Might be
negative due to overflow.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>BLOCKS READ</tt></p></td>
<td align="left" valign="top" scope="row"><p>Total number of the physical block reads and writes
that a process performed. </p></td>
</tr>
</table>

<a name="sysresacctref-4"></a><h4>Monthly Command Summary</h4>
<p>The format of the Daily Command Summary and the Monthly Command Summary reports
are virtually the same. However, the daily summary reports only on the current
accounting period while the monthly summary reports on the start of the fiscal
period to the current date. In other words, the monthly report is a
cumulative summary that reflects the data accumulated since the last invocation of the
<tt>monacct</tt> program.</p><p><a name="sysresacctref-ix3015"></a><a name="sysresacctref-ix3016"></a><a name="sysresacctref-ix3017"></a><a name="sysresacctref-ix3018"></a>A sample Monthly Command Summary follows.    </p><pre>Jan 16 02:30 2004  MONTHLY TOTAL COMMAND SUMMARY Page 1


                                     TOTAL COMMAND SUMMARY
COMMAND   NUMBER      TOTAL   TOTAL     TOTAL   MEAN     MEAN    HOG      CHARS    BLOCKS
NAME        CMDS    KCOREMIN CPU-MIN  REAL-MIN  SIZE-K   CPU-MIN FACTOR  TRNSFD    READ

TOTALS     42718  4398793.50  361.92  956039.00 12154.09 0.01    0.00  16100942848 825171

netscape     789  3110437.25  121.03   79101.12 25699.58 0.15    0.00   3930527232 302486
adeptedi      84  1214419.00   50.20    4174.65 24193.62 0.60    0.01    890216640 107237
acroread     145   165297.78    7.01   18180.74 23566.84 0.05    0.00   1900504064  26053
dtmail         2    64208.90    6.35   20557.14 10112.43 3.17    0.00    250445824  43280
dtaction     800    47602.28   11.26      15.37  4226.93 0.01    0.73    640057536   8095
soffice.      13    35506.79    0.97       9.23 36510.84 0.07    0.11    134754320   5712
dtwm           2    20350.98    3.17   20557.14  6419.87 1.59    0.00    190636032  14049</pre><p>For a description of the data provided by the Monthly Command Summary, see
<a href="#sysresacctref-78581">Daily Command Summary</a>.</p>

<a name="sysresacctref-5"></a><h4>Last Login Report</h4>
<p><a name="sysresacctref-ix3019"></a><a name="sysresacctref-ix3020"></a><a name="sysresacctref-ix3022"></a><a name="sysresacctref-ix3023"></a>This report gives the date when a particular login was last used. You
can use this information to find unused logins and login directories that can
be archived and deleted. A Last Login Report follows.</p><pre>Jan 16 02:30 2004  LAST LOGIN Page 1


01-06-12  kryten         01-09-08  protoA      01-10-14  ripley
01-07-14  lister         01-09-08  protoB      01-10-15  scutter1
01-08-16  pmorph         01-10-12  rimmer      01-10-16  scutter2</pre>

<a name="sysresacctref-6"></a><h4>Examining the <tt>pacct</tt> File With <tt>acctcom</tt></h4>
<p><a name="sysresacctref-ix3024"></a><a name="sysresacctref-ix3025"></a><a name="sysresacctref-ix3026"></a><a name="sysresacctref-ix3027"></a><a name="sysresacctref-ix3028"></a><a name="sysresacctref-ix3029"></a><a name="sysresacctref-ix3030"></a>At any time, you can examine the contents of the <tt>/var/adm/pacct</tt><i>n</i> files,
or any file with records in the <tt>acct.h</tt> format, by using the <tt>acctcom</tt>
program. If you do not specify any files and do not provide any
standard input when you run this command, the <tt>acctcom</tt> command reads the <tt>pacct</tt>
file. Each record read by the <tt>acctcom</tt> command represents information about a terminated
process. Active processes can be examined by running the <tt>ps</tt> command. </p><p>The default output of the <tt>acctcom</tt> command provides the following information:</p><pre># <tt><b>acctcom</b></tt>
COMMAND                           START    END          REAL     CPU    MEAN
NAME       USER     TTYNAME       TIME     TIME       (SECS)  (SECS) SIZE(K)
#accton    root      ?            02:30:01 02:30:01     0.03    0.01  304.00
turnacct   adm       ?            02:30:01 02:30:01     0.42    0.01  320.00
mv         adm       ?            02:30:01 02:30:01     0.07    0.01  504.00
utmp_upd   adm       ?            02:30:01 02:30:01     0.03    0.01  712.00
utmp_upd   adm       ?            02:30:01 02:30:01     0.01    0.01  824.00
utmp_upd   adm       ?            02:30:01 02:30:01     0.01    0.01  912.00
utmp_upd   adm       ?            02:30:01 02:30:01     0.01    0.01  920.00
utmp_upd   adm       ?            02:30:01 02:30:01     0.01    0.01 1136.00
utmp_upd   adm       ?            02:30:01 02:30:01     0.01    0.01  576.00
closewtm   adm       ?            02:30:01 02:30:01     0.10    0.01  664.00</pre><table><col width="50*"><col width="50*"><tr><th align="left" valign="top" scope="column"><p>Field</p></th>
<th align="left" valign="top" scope="column"><p>Explanation</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>COMMAND NAME</tt></p></td>
<td align="left" valign="top" scope="row"><p>Command name (pound
(#) sign if the command was executed with superuser privileges)</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>USER</tt></p></td>
<td align="left" valign="top" scope="row"><p>User name</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>TTYNAME</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>tty</tt> name (listed
as <tt>?</tt> if unknown)</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>START TIME</tt></p></td>
<td align="left" valign="top" scope="row"><p>Command execution starting time</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>END TIME</tt></p></td>
<td align="left" valign="top" scope="row"><p>Command execution ending time</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>REAL (SECS)</tt></p></td>
<td align="left" valign="top" scope="row"><p>Real time (in
seconds)</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>CPU (SECS)</tt></p></td>
<td align="left" valign="top" scope="row"><p>CPU time (in seconds)</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>MEAN SIZE (K)</tt></p></td>
<td align="left" valign="top" scope="row"><p>Mean size (in Kbytes)</p></td>
</tr>
</table><p>You can obtain the following information by using <tt>acctcom</tt> command options.</p>
<ul><li><p>State of the <tt>fork/exec</tt> flag (1 for <tt>fork</tt> without <tt>exec</tt>)</p></li>
<li><p>System exit status</p></li>
<li><p>Hog factor</p></li>
<li><p>Total <tt>kcore</tt> minutes</p></li>
<li><p>CPU factor</p></li>
<li><p>Characters transferred</p></li>
<li><p>Blocks read</p></li></ul>
<p><a name="sysresacctref-ix3043"></a><a name="sysresacctref-ix3044"></a><a name="sysresacctref-ix3045"></a><a name="sysresacctref-ix3046"></a><a name="sysresacctref-ix3047"></a><a name="sysresacctref-ix3048"></a>The following table describes the <tt>acctcom</tt> command options.</p><a name="sysresacctref-54291"></a><h6>Table&nbsp;10-6 Options for the <tt>acctcom</tt> Command</h6><table><col width="87*"><col width="269*"><tr><th align="left" valign="top" scope="column"><p>Option</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-a</tt></p></td>
<td align="left" valign="top" scope="row"><p>Shows average statistics about the processes
selected. The statistics are printed after the output is recorded.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-b</tt></p></td>
<td align="left" valign="top" scope="row"><p>Reads the files backward,
showing latest commands first. This option has no effect if reading standard input.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-f</tt>
</p></td>
<td align="left" valign="top" scope="row"><p>Prints the <tt>fork/exec</tt> flag and system exit status columns. The output is an
octal number.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-h</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Instead of mean memory size, shows the hog factor, which
is the fraction of total available CPU time consumed by the process during
its execution. Hog factor = <b>total-CPU-time/elapsed-time</b>. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-i</tt></p></td>
<td align="left" valign="top" scope="row"><p>Prints columns that contains the I/O counts
in the output. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-k</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Shows total <tt>kcore</tt> <tt>minutes</tt> instead of memory size. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-m</tt>
</p></td>
<td align="left" valign="top" scope="row"><p>Shows mean core size. This size is the default. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-q</tt></p></td>
<td align="left" valign="top" scope="row"><p>Prints average statistics,
not output records.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-r</tt> </p></td>
<td align="left" valign="top" scope="row"><p>Shows CPU factor: <i>user-time</i>/(<i>system-time + user-time)</i>. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-t</tt></p></td>
<td align="left" valign="top" scope="row"><p>Shows separate system and user
CPU times. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-v</tt></p></td>
<td align="left" valign="top" scope="row"><p>Excludes column headings from the output. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-C</tt> <i>sec</i></p></td>
<td align="left" valign="top" scope="row"><p>Shows only processes
with total CPU time (system plus user) that exceeds <i>sec</i> seconds. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-e</tt>
<i>time</i></p></td>
<td align="left" valign="top" scope="row"><p>Shows processes existing at or before <i>time</i>, given in the format <b>hr[:min[:sec]]</b></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-E</tt> <i>time</i></p></td>
<td align="left" valign="top" scope="row"><p>Shows
processes starting at or before <i>time</i>, given in the format <b>hr[:min[:sec]]</b>. Using the
same time for both <tt>-S</tt> and <tt>-E</tt>, shows processes that existed at the time.
</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-g</tt> <i>group</i></p></td>
<td align="left" valign="top" scope="row"><p>Shows only processes that belong to <i>group</i>. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-H</tt> <i>factor</i></p></td>
<td align="left" valign="top" scope="row"><p>Shows only processes
that exceed <i>factor</i>, where <i>factor</i> is the &ldquo;hog factor&rdquo; (see the <tt>-h</tt> option). </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-I</tt>
<i>chars</i> </p></td>
<td align="left" valign="top" scope="row"><p>Shows only processes that transferred more characters than the cutoff number specified
by <i>chars</i>. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-l</tt> <i>line</i></p></td>
<td align="left" valign="top" scope="row"><p>Show only processes that belong to the terminal <tt>/dev/</tt><i>line</i>.
</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-n</tt> <i>pattern</i></p></td>
<td align="left" valign="top" scope="row"><p>Shows only commands that match <i>pattern</i> (a regular expression except that &ldquo;<tt>+</tt>&rdquo;
means one or more occurrences). </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-o</tt> <i>ofile</i></p></td>
<td align="left" valign="top" scope="row"><p>Instead of printing the records, copies them
in <tt>acct.h</tt> format to <i>ofile</i>. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-O</tt> <i>sec</i> </p></td>
<td align="left" valign="top" scope="row"><p>Shows only processes with CPU system
time that exceeds <i>sec</i> seconds. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-s</tt> <i>time</i></p></td>
<td align="left" valign="top" scope="row"><p>Show processes existing at or after
<i>time</i>, given in the format <i>hr</i>[:<i>min</i>[:<i>sec</i>]]. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-S</tt> <i>time</i></p></td>
<td align="left" valign="top" scope="row"><p>Show processes starting at or after
<i>time</i>, given in the format <i>hr</i>[:<i>min</i>[:<i>sec</i>]]. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-u</tt> <i>user</i></p></td>
<td align="left" valign="top" scope="row"><p>Shows only processes that belong to
<i>user</i>. </p></td>
</tr>
</table>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="sysresacctref-41757.html">Previous</a>
             </td>
             <td align="right">
                 <a href="sysresacctref-24103.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

