<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>IP Tunable Parameters - Solaris Tunable Parameters Reference Manual</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Tunable Parameters Reference Manual</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="chapter4-2.html">Previous</a>
             </td>
             <td align="right">
                 <a href="chapter4-31.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="chapter1-1.html">1.&nbsp;&nbsp;Overview of Solaris System Tuning</a></p>
<p class="toc level1 tocsp"><a href="chapter2-1.html">2.&nbsp;&nbsp;Solaris Kernel Tunable Parameters</a></p>
<p class="toc level1 tocsp"><a href="chapter3-1.html">3.&nbsp;&nbsp;NFS Tunable Parameters</a></p>
<p class="toc level1 tocsp"><a href="chapter4-1.html">4.&nbsp;&nbsp;Internet Protocol Suite Tunable Parameters</a></p>
<p class="toc level2"><a href="chapter4-9.html">Where to Find Tunable Parameter Information</a></p>
<p class="toc level2"><a href="chapter4-2.html">Overview of Tuning IP Suite Parameters</a></p>
<div class="onpage">
<p class="toc level2"><a href="">IP Tunable Parameters</a></p>
</div>
<p class="toc level2"><a href="chapter4-31.html">TCP Tunable Parameters</a></p>
<p class="toc level2"><a href="chapter4-57.html">UDP Tunable Parameters</a></p>
<p class="toc level2"><a href="chapter4-62.html">IPQoS Tunable Parameter</a></p>
<p class="toc level2"><a href="chapter4-98.html">SCTP Tunable Parameters</a></p>
<p class="toc level2"><a href="chapter4-64.html">Per-Route Metrics</a></p>
<p class="toc level1 tocsp"><a href="chapter5-1.html">5.&nbsp;&nbsp;Network Cache and Accelerator Tunable Parameters</a></p>
<p class="toc level1 tocsp"><a href="chapter6-1.html">6.&nbsp;&nbsp;System Facility Parameters</a></p>
<p class="toc level1 tocsp"><a href="appendixa-1.html">A.&nbsp;&nbsp;Tunable Parameters Change History</a></p>
<p class="toc level1 tocsp"><a href="appendixb-1.html">B.&nbsp;&nbsp;Revision History for This Manual</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="chapter4-21"></a><h3>IP Tunable Parameters</h3>


<a name="chapter4-22"></a><h4><tt>ip_icmp_err_interval</tt> and <tt>ip_icmp_err_burst</tt></h4>
<dl><dt>Description</dt>
<dd><p>Controls the rate of IP in generating IPv4 or IPv6 ICMP error messages. IP generates only up to <tt>ip_icmp_err_burst</tt> IPv4 or IPv6 ICMP error messages in any <tt>ip_icmp_err_interval</tt>.</p><p><a name="indexterm-127"></a><a name="indexterm-128"></a>The <tt>ip_icmp_err_interval</tt> parameter protects IP from denial of service attacks. Setting this parameter to 0 disables rate limiting. It does not disable the generation of error messages.</p></dd>
<dt>Default</dt>
<dd><p>100 milliseconds for <tt>ip_icmp_err_interval</tt></p><p>10 error messages for <tt>ip_icmp_err_burst</tt></p></dd>
<dt>Range</dt>
<dd><p>0 &ndash; 99,999 milliseconds for <tt>ip_icmp_err_interval</tt> </p><p>1 &ndash; 99,999 error messages for <tt>ip_icmp_err_burst</tt></p></dd>
<dt>Dynamic?</dt>
<dd><p>Yes</p></dd>
<dt>When to Change</dt>
<dd><p>If you need a higher error message generation rate for diagnostic purposes.</p></dd>
<dt>Commitment Level</dt>
<dd><p>Unstable</p></dd>
</dl>


<a name="chapter4-23"></a><h4><tt>ip_respond_to_echo_broadcast</tt> and <tt>ip6_respond_to_echo_multicast</tt></h4>
<dl><dt>Description</dt>
<dd><p><a name="indexterm-129"></a><a name="indexterm-130"></a>Controls whether IPv4 or IPv6 responds to a broadcast ICMPv4 echo request or a multicast ICMPv6 echo request.</p></dd>
<dt>Default</dt>
<dd><p>1 (enabled)</p></dd>
<dt>Range</dt>
<dd><p>0 (disabled) or 1 (enabled)</p></dd>
<dt>Dynamic?</dt>
<dd><p>Yes</p></dd>
<dt>When to Change</dt>
<dd><p>If you do not want this behavior for security reasons, disable it.</p></dd>
<dt>Commitment Level</dt>
<dd><p>Unstable</p></dd>
</dl>


<a name="chapter4-24"></a><h4><tt>ip_send_redirects</tt> and <tt>ip6_send_redirects</tt></h4>
<dl><dt>Description</dt>
<dd><p><a name="indexterm-131"></a><a name="indexterm-132"></a>Controls whether IPv4 or IPv6 sends out ICMPv4 or ICMPv6 redirect messages.</p></dd>
<dt>Default</dt>
<dd><p>1 (enabled)</p></dd>
<dt>Range</dt>
<dd><p>0 (disabled) or 1 (enabled)</p></dd>
<dt>Dynamic?</dt>
<dd><p>Yes</p></dd>
<dt>When to Change</dt>
<dd><p>If you do not want this behavior for security reasons, disable it.</p></dd>
<dt>Commitment Level</dt>
<dd><p>Unstable</p></dd>
</dl>


<a name="chapter4-25"></a><h4><tt>ip_forward_src_routed</tt> and <tt>ip6_forward_src_routed</tt></h4>
<dl><dt>Description</dt>
<dd><p><a name="indexterm-133"></a><a name="indexterm-134"></a>Controls whether IPv4 or IPv6 forwards packets with source IPv4 routing options or IPv6 routing headers.</p></dd>
<dt>Default</dt>
<dd><p>0 (disabled)</p></dd>
<dt>Range</dt>
<dd><p>0 (disabled) or 1 (enabled)</p></dd>
<dt>Dynamic?</dt>
<dd><p>Yes</p></dd>
<dt>When to Change</dt>
<dd><p>Keep this parameter disabled to prevent denial of service attacks.</p></dd>
<dt>Commitment Level</dt>
<dd><p>Unstable</p></dd>
<dt>Change History</dt>
<dd><p>For information, see <a href="appendixa-28.html#appendixa-44"><tt>ip_forward_src_routed</tt> and <tt>ip6_forward_src_routed</tt> (Solaris 10 Release)</a>.</p></dd>
</dl>


<a name="chapter4-28"></a><h4><tt>ip_addrs_per_if</tt></h4>
<dl><dt>Description</dt>
<dd><p><a name="indexterm-135"></a>Defines the maximum number of logical interfaces associated with a real interface.</p></dd>
<dt>Default</dt>
<dd><p>256</p></dd>
<dt>Range</dt>
<dd><p>1 to 8192</p></dd>
<dt>Dynamic?</dt>
<dd><p>Yes</p></dd>
<dt>When to Change</dt>
<dd><p>Do not change the value. If more logical interfaces are required, you might consider increasing the value. However, recognize that this change might have a negative impact on IP's performance.</p></dd>
<dt>Commitment Level</dt>
<dd><p>Unstable</p></dd>
</dl>


<a name="chapter4-29"></a><h4><tt>ip_strict_dst_multihoming</tt> and <tt>ip6_strict_dst_multihoming</tt></h4>
<dl><dt>Description</dt>
<dd><p><a name="indexterm-136"></a><a name="indexterm-137"></a>Determines whether a packet arriving on a non forwarding interface can be accepted for an IP address that is not explicitly configured on that interface. If <tt>ip_forwarding</tt> is enabled, or <i>xxx</i><tt>:ip_forwarding</tt> for the appropriate interfaces is enabled, then this parameter is ignored, because the packet is actually forwarded.</p><p>Refer to RFC 1122, 3.3.4.2.</p></dd>
<dt>Default</dt>
<dd><p>0 (loose multihoming)</p></dd>
<dt>Range</dt>
<dd><p>0 = Off (loose multihoming)</p><p>1 = On (strict multihoming)</p></dd>
<dt>Dynamic?</dt>
<dd><p>Yes</p></dd>
<dt>When to Change</dt>
<dd><p>If a machine has interfaces that cross strict networking domains (for example, a firewall or a VPN node), set this parameter to 1.</p></dd>
<dt>Commitment Level</dt>
<dd><p>Unstable</p></dd>
</dl>


<a name="gbglv"></a><h4><tt>ip_multidata_outbound</tt></h4>
<dl><dt>Description</dt>
<dd><p>Enables the network stack to send more than one packet at one time to the network device driver during transmission.</p><p>Enabling this parameter reduces the per-packet processing costs by improving host CPU utilization, network throughput, or both.</p><p>This parameter now controls the use of multidata transmit (MDT) for transmitting IP fragments. For example, when sending out a UDP payload larger than the link MTU. When this tunable is enabled, IP fragments of a particular upper-level protocol, such as UDP, are delivered in batches to the network device driver. Disabling this feature results in both TCP and IP fragmentation logic in the network stack to revert back to sending one packet at a time to the driver.<a name="indexterm-138"></a> </p><p>The MDT feature is only effective for device drivers that support this feature.</p><p>See also <a href="chapter4-31.html#fapwd"><tt>tcp_mdt_max_pbufs</tt></a>.</p></dd>
<dt>Default</dt>
<dd><p>1 (Enabled)</p></dd>
<dt>Range</dt>
<dd><p>0 (disabled) or 1 (enabled)</p></dd>
<dt>Dynamic?</dt>
<dd><p>Yes</p></dd>
<dt>When to Change</dt>
<dd><p>If you do not want this parameter enabled for debugging purposes or for any other reasons, disable it.</p></dd>
<dt>Commitment Level</dt>
<dd><p>Unstable</p></dd>
<dt>Change History</dt>
<dd><p>For information, see <a href="appendixa-28.html#appendixa-43"><tt>ip_multidata_outbound</tt> (Solaris 10 Release)</a>.</p></dd>
</dl>


<a name="chapter4-7"></a><h4><tt>ip_squeue_fanout</tt></h4>
<dl><dt>Description</dt>
<dd><p>Determines the mode of associating TCP/IP connections with squeues</p><p><a name="indexterm-139"></a>A value of 0 associates a new TCP/IP connection with the CPU that creates the connection. A value of 1 associates the connection with multiple squeues that belong to different CPUs. The number of squeues that are used to fanout the connection is based upon <a href="#gbsbo"><tt>ip_soft_rings_cnt</tt></a>.</p></dd>
<dt>Default</dt>
<dd><p>0</p></dd>
<dt>Range</dt>
<dd><p>0 or 1</p></dd>
<dt>Dynamic?</dt>
<dd><p>Yes</p></dd>
<dt>When to Change</dt>
<dd><p>Consider setting this parameter to 1 to spread the load across all CPUs in certain situations. For example, when the number of CPUs exceed the number of NICs, and one CPU is not capable of handling the network load of a single NIC, change this parameter to 1.</p></dd>
<dt>Zone Configuration</dt>
<dd><p>This parameter can only be set in the global zone.</p></dd>
<dt>Commitment Level</dt>
<dd><p>Unstable</p></dd>
<dt>Change History</dt>
<dd><p>For information, see <a href="appendixa-28.html#getmg"><tt>ip_squeue_fanout</tt> (Solaris 10 11/06 Release)</a>.</p></dd>
</dl>


<a name="gbsbo"></a><h4><tt>ip_soft_rings_cnt</tt></h4>
<dl><dt>Description</dt>
<dd><p>Determines the number of squeues to be used to fanout the incoming TCP/IP connections.<a name="indexterm-140"></a></p>
<hr><p><b>Note - </b>The incoming traffic is placed on one of the rings. If the ring is overloaded, packets are dropped. For every packet that gets dropped, the kstat dls counter, <tt>dls_soft_ring_pkt_drop</tt>, is incremented.</p>
<hr>
</dd>
<dt>Default</dt>
<dd><p>2</p></dd>
<dt>Range</dt>
<dd><p>0 - nCPUs, where nCPUs is the maximum number of CPUs in the system</p></dd>
<dt>Dynamic?</dt>
<dd><p>No. The interface should be plumbed again when changing this parameter.</p></dd>
<dt>When to Change</dt>
<dd><p>Consider setting this parameter to a value greater than 2 on systems that have 10 Gbps NICs and many CPUs.</p></dd>
<dt>Zone Configuration</dt>
<dd><p>This parameter can only be set in the global zone.</p></dd>
<dt>Commitment Level</dt>
<dd><p>Obsolete</p></dd>
<dt>Change History</dt>
<dd><p>For information, see <a href="appendixa-28.html#getmv"><tt>ip_soft_rings_cnt</tt> (Solaris 10 11/06 Release)</a>.</p></dd>
</dl>


<a name="chapter4-68"></a><h4>IP Tunable Parameters With Additional Cautions</h4>
<p>Changing the following parameters is not recommended.</p>

<a name="chapter4-26"></a><h5><tt>ip_ire_pathmtu_interval</tt></h5>
<dl><dt>Description</dt>
<dd><p><a name="indexterm-141"></a>Specifies the interval in milliseconds when IP flushes the path maximum transfer unit (PMTU) discovery information, and tries to rediscover PMTU.</p><p>Refer to RFC 1191 on PMTU discovery.</p></dd>
<dt>Default</dt>
<dd><p>10 minutes</p></dd>
<dt>Range</dt>
<dd><p>5 seconds to 277 hours</p></dd>
<dt>Dynamic?</dt>
<dd><p>Yes</p></dd>
<dt>When to Change</dt>
<dd><p>Do not change this value.</p></dd>
<dt>Commitment Level</dt>
<dd><p>Unstable</p></dd>
</dl>


<a name="chapter4-27"></a><h5><tt>ip_icmp_return_data_bytes</tt> and <tt>ip6_icmp_return_data_bytes</tt></h5>
<dl><dt>Description</dt>
<dd><p><a name="indexterm-142"></a><a name="indexterm-143"></a>When IPv4 or IPv6 sends an ICMPv4 or ICMPv6 error message, it includes the IP header of the packet that caused the error message. This parameter controls how many extra bytes of the packet beyond the IPv4 or IPv6 header are included in the ICMPv4 or ICMPv6 error message.</p></dd>
<dt>Default</dt>
<dd><p>64 bytes</p></dd>
<dt>Range</dt>
<dd><p>8 to 65,536 bytes</p></dd>
<dt>Dynamic?</dt>
<dd><p>Yes</p></dd>
<dt>When to Change</dt>
<dd><p>Do not change the value. Including more information in an ICMP error message might help in diagnosing network problems. If this feature is needed, increase the value.</p></dd>
<dt>Commitment Level</dt>
<dd><p>Unstable</p></dd>
</dl>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="chapter4-2.html">Previous</a>
             </td>
             <td align="right">
                 <a href="chapter4-31.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

