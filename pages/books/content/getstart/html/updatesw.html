<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">

<!--   The contents of this Documentation are subject to the Public Documentation
License Version 1.01 (the "License"); you may only use this Documentation if
you comply with the terms of this License. A copy of the License is
available at http://www.opensolaris.org/os/community/documentation/license.
  -->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Updating Software on Your System - Getting Started With OpenSolaris</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-06-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/opensol.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.com"><img border="0" src="graphics/opensolaris_logo_trans.png"></img></a>
   </div>
   <div class="Title">Getting Started With OpenSolaris</div>
</div>
<div class="headerbar"></div>


<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="keepupdate.html">Previous</a>
             </td>
             <td align="right">
                 <a href="bootenv.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="index.html">1.&nbsp;&nbsp;Exploring OpenSolaris</a></p>
<p class="toc level1 tocsp"><a href="prepare.html">2.&nbsp;&nbsp;Preparing to Install OpenSolaris</a></p>
<p class="toc level1 tocsp"><a href="install.html">3.&nbsp;&nbsp;Installing OpenSolaris</a></p>
<p class="toc level1 tocsp"><a href="verify.html">4.&nbsp;&nbsp;Verifying and Finalizing Your Installed System</a></p>
<p class="toc level1 tocsp"><a href="roles.html">5.&nbsp;&nbsp;Understanding Users and Roles</a></p>
<p class="toc level1 tocsp"><a href="syssrv.html">6.&nbsp;&nbsp;Managing System Services</a></p>
<p class="toc level1 tocsp"><a href="appdev.html">7.&nbsp;&nbsp;Setting Up Your Application Development Environment</a></p>
<p class="toc level1 tocsp"><a href="keepupdate.html">8.&nbsp;&nbsp;Keeping Your System Updated</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Updating Software on Your System</a></p>
</div>
<p class="toc level2"><a href="bootenv.html">Managing Multiple Boot Environments on Your System</a></p>
<p class="toc level2"><a href="upgrade.html">Upgrading to the Next OpenSolaris Release</a></p>
<p class="toc level1 tocsp"><a href="troubleshooting.html">9.&nbsp;&nbsp;Appendix A: Troubleshooting</a></p>
<p class="toc level1 tocsp"><a href="nwamd.html">10.&nbsp;&nbsp;Appendix B: <tt>nwamd(1M)</tt> Man Page</a></p>
<p class="toc level1 tocsp"><a href="beadm.html">11.&nbsp;&nbsp;Appendix C: <tt>beadm</tt> Command Reference</a></p>
<p class="toc level1 tocsp"><a href="ipscli.html">12.&nbsp;&nbsp;Appendix D: Using IPS Commands</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="updatesw"></a><h3>Updating Software on Your System</h3>
<p>In the OpenSolaris releases, you upgrade an entire image or boot environment by
using the <tt>pkg image-update</tt> command to update all the packages in that image that
have available updates.</p>
<hr><p><b>Note - </b>To upgrade from the OpenSolaris 2008.11 release to the OpenSolaris 2009.06 release, you
must use a particular procedure, which is described at <a href="http://www.opensolaris.org/os/project/indiana/resources/relnotes/200805/image-update/">Updating Your System to OpenSolaris Development Builds</a>.</p>
<hr>
<p>Use one of the following methods to upgrade an image or boot
environment:</p>
<ul><li><p>You can use the Package Manager GUI to update all installed the packages in your image to the latest available version for each package. You accomplish this task by selecting the Update All option in the GUI.</p><p>For information, see <a href="http://dlc.sun.com/osol/docs/content/2008.11/IMGPACKAGESYS/pkg_mgr.html">The Package Manager</a>.</p></li>
<li><p>The OpenSolaris operating system includes an Update Manager tool on the desktop that notifies users when updates are available for the packages that are installed on their system. You can use this tool to update all the packages in your image.</p><p>To manually start the Update Manager, from the Main Menubar, select System &gt; Administration &gt; Update Manager.</p><p>For information, see <a href="http://dlc.sun.com/osol/docs/content/2008.11/IMGPACKAGESYS/update_mgr.html">The Update Manager</a>.</p></li>
<li><p>Alternately, you can use the <tt>pkg image-update</tt> command to perform that same task.</p><pre><tt>pkg image-update [-nv]</tt></pre><p>The <tt>pkg image-update</tt> command updates all packages installed on your image that have available updates. Use the <tt>-n</tt> option to perform a test run of the updates. With the <tt>-n</tt> option, the command executes, but makes no persistent changes to the image.  Or, you can use the <tt>-v</tt> option. With the <tt>-v</tt> option, the update is performed with progress messages displayed during the operation.</p>
<hr><p><b>Note - </b>The <tt>pkg image-update</tt> command does not support zones in boot environments prior to the OpenSolaris 2008.11 release. Delete these zones before you upgrade your image to the OpenSolaris 2009.06 release. If you are using the OpenSolaris developmental builds, the <tt>pkg image-update</tt> command has no support for zones prior to build 98.</p>
<hr>
</li></ul>
<p>Using either the Package Manager or the <tt>pkg image-update</tt> command, the process of
updating all the packages automatically creates a clone: a new, bootable environment (BE).
The process of updating all the packages applies the changes to the clone
instead of to the original boot environment. After the successful completion of the
changes to the clone and reboot of the system, the new clone is
provided as the default, active boot environment in the GRUB menu. The original
boot environment remains on the GRUB menu as an alternate selection.</p><p>A clone of the boot environment includes everything hierarchically under the main root
dataset of the original boot environment.  Shared file systems are not under
the root dataset and are not cloned. Instead, the boot environment accesses the
original shared file systems.</p>
<hr><p><b>Note - </b>The <tt>pkg image-update</tt> process does not upgrade zones. If you have included zones in
your OpenSolaris environment, the <tt>pkg image-update</tt> process clones these existing zones into the
new boot environment, but these zones are not upgraded. You must manually upgrade each
of these zones.</p>
<hr>
<p>After upgrading an image or boot environment, you can use the <tt>beadm list</tt>
command to see a list of the boot environments on the system, including
the new boot environment that was created by the <tt>pkg image-update</tt> command. See
the following example.</p><pre>os# pkg image-update
A clone of opensolaris exists and has been updated and activated. 
On next boot the Boot Environment opensolaris-1 will be mounted on '/'. 
Reboot when ready to switch to this updated BE.

os# beadm list

BE            Active Active on Mountpoint Space
Name                 reboot               Used
----          ------ --------- ---------- -----
opensolaris   yes    no        legacy     57.5K
opensolaris-1 no     yes       -          2.59G </pre><p>In this example, the initial boot environment created by the installer is named
&ldquo;opensolaris.&rdquo; The boot environment created by the <tt>pkg image-update</tt> command is automatically named
&ldquo;opensolaris-1.&rdquo;</p><p>After rebooting to the changed boot environment, any inactive boot environment can be
destroyed to save space by running the <tt>beadm destroy</tt> command.  For instructions,
see <a href="http://dlc.sun.com/osol/docs/content/dev/snapupgrade/snap3.html">Managing Boot Environments.</a>.</p><p>For further information about the <tt>pkg</tt> command, see the <a href="http://dlc.sun.com/osol/docs/content/2008.11/IMGPACKAGESYS/new-user.html">OpenSolaris 2009.06 Image Packaging System Guide</a> or the <a href="http://opensolaris.org/sc/src/pkg/gate/src/man/pkg.1.txt">pkg(1)</a>
man page.</p>

<a name="gentextid-1272"></a><h4>Updating Specific Packages</h4>
<p>As an alternative to upgrading an entire image or boot environment, you can
update specific installed packages or package groups in the image or in the
active boot environment by using either the Package Manager GUI or the <tt>pkg install</tt>
command. Either method automatically checks for newer versions of specific packages or package
groups, and installs them if they are available. Any dependent packages are also
automatically updated.</p><p>For further information about updating specific packages, see <a href="http://dlc.sun.com/osol/docs/content/2008.11/IMGPACKAGESYS/pkg_mgr.html">The Package Manager</a>, the <a href="http://dlc.sun.com/osol/docs/content/2008.11/IMGPACKAGESYS/new-user.html">OpenSolaris 2009.06 Image Packaging System Guide</a>, or
the <a href="http://opensolaris.org/sc/src/pkg/gate/src/man/pkg.1.txt">pkg(1)</a> man page.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="keepupdate.html">Previous</a>
             </td>
             <td align="right">
                 <a href="bootenv.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

