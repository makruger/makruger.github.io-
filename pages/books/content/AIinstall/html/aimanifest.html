<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">

<!--   The contents of this Documentation are subject to the Public Documentation
License Version 1.01 (the "License"); you may only use this Documentation if
you comply with the terms of this License. A copy of the License is
available at http://www.opensolaris.org/os/community/documentation/license.
  -->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>AI Manifest Contents - OpenSolaris Automated Installer Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-06-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/opensol.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.com"><img border="0" src="graphics/opensolaris_logo_trans.png"></img></a>
   </div>
   <div class="Title">OpenSolaris Automated Installer Guide</div>
</div>
<div class="headerbar"></div>


<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="appendix.html">Previous</a>
             </td>
             <td align="right">
                 <a href="installadm.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="index.html">1.&nbsp;&nbsp;Introduction to the Automated Installer</a></p>
<p class="toc level1 tocsp"><a href="tasks.html">2.&nbsp;&nbsp;Automated Installer Task Map</a></p>
<p class="toc level1 tocsp"><a href="setup.html">3.&nbsp;&nbsp;Automated Installer Setup Instructions</a></p>
<p class="toc level1 tocsp"><a href="administer.html">4.&nbsp;&nbsp;How to Administer an Automated Install Server</a></p>
<p class="toc level1 tocsp"><a href="client.html">5.&nbsp;&nbsp;How to Administer a Custom Install Client</a></p>
<p class="toc level1 tocsp"><a href="manifest.html">6.&nbsp;&nbsp;How to Administer the Manifest Files for an Install Service</a></p>
<p class="toc level1 tocsp"><a href="clients.html">7.&nbsp;&nbsp;How to Manage Client Installations</a></p>
<p class="toc level1 tocsp"><a href="trouble.html">8.&nbsp;&nbsp;Troubleshooting and FAQs for the Automated Installer</a></p>
<p class="toc level1 tocsp"><a href="appendix.html">9.&nbsp;&nbsp;Appendix</a></p>
<div class="onpage">
<p class="toc level2"><a href="">AI Manifest Contents</a></p>
</div>
<p class="toc level2"><a href="installadm.html"><tt>installadm(1M)</tt> Man Page</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="aimanifest"></a><h3>AI Manifest Contents</h3>
<p>As described in <a href="manifest.html">Chapter&nbsp;6, How to Administer the Manifest Files for an Install Service</a>, you can replace the default AI manifest for an
install service with a manifest that contains specifications for particular clients. See the
following detailed summaries of AI manifest contents and possible values:</p>
<ul><li><p><a href="#tagtable">AI Manifest Tag Values</a></p></li>
<li><p><a href="#aimanfull">AI Manifest Complete File</a></p></li></ul>


<a name="tagtable"></a><h4>AI Manifest Tag Values</h4>
<p>The following table describes each tag in the AI manifest and elements within
each tag, and the values that can be entered for each tag
and element.</p><a name="tagtbl"></a><h6>Table&nbsp;9-1 AI Manifest Tags and Values</h6><table><col width="21%"><col width="20%"><col width="58%"><tr><th align="left" valign="top" scope="column"><p>Tag</p></th>
<th align="left" valign="top" scope="column"><p>Element Within Tag</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>&lt;ai_target_device&gt;</tt></p></td>
<td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;ai_target_device&gt;</tt> describes the client target to install the OpenSolaris OS.
This parameter is optional. If this information is not provided, the automated installer
finds a target on the client and installs the OpenSolaris OS. For finding
the default target in the case of X86 client, the automated installer looks
for an available fdisk partition of the type, &ldquo;Solaris&rdquo; with a size greater
than the recommended size. In the case of SPARC systems, the installer looks
for a VTOC-labeled disk of the greater than recommended size.</p><p>The <tt>&lt;ai_target_size&gt;</tt> can be
defined either by the device name, such as <tt>c0t0d0</tt>, or by the MPXIO
name, such as <tt>c0t2000002037CD9F72d0</tt>. The <tt>&lt;ai_target_size&gt;</tt> can also be defined by a combination
of <tt>&lt;target_device_type&gt;</tt>, <tt>&lt;target_device_vendor&gt;</tt>, and <tt>&lt;target_device_size&gt;</tt>.</p><p>All elements of <tt>&lt;ai_target_device&gt;</tt> are optional.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;target_device_name&gt;</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;target_device_name&gt;</tt> is the
name of the disk device. The device could be a <tt>cXtXdX</tt> value or
an MPXIO name. If the <tt>&lt;target_device_name&gt;</tt> is specified, all other <tt>&lt;ai_target_device&gt;</tt> specification parameters,
such as <tt>&lt;target_device_type&gt;</tt>, <tt>&lt;target_device_vendor&gt;</tt>, and <tt>&lt;target_device_size&gt;</tt> are ignored. Be cautious while using <tt>cXtXdX</tt>
values, since these values may change across OpenSolaris releases.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;target_device_type&gt;</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;target_device_type&gt;</tt> denotes the type of
the target disk. Possible values are SCSI, SATA, PATA, and USB.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;target_device_vendor&gt;</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;target_device_vendor&gt;</tt> denotes the
name of the manufacturer of the disk drives. Possible values include Sun, EMC,
Seagate, Fujitsu, and others.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;target_device_size&gt;</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;target_device_size&gt;</tt> denotes the disk size of the target device in megabytes
(MB). If the size of a disk is equal to the <tt>&lt;target_device_size&gt;</tt>,
then that specific disk is chosen as the target device.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;target_device_install_slice_number&gt;</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;target_device_install_slice_number&gt;</tt> denotes the slice where
the OpenSolaris OS should be installed. By default, the automated installer installs the
OpenSolaris OS on slice 0. The valid values of <tt>&lt;target_device_install_slice_number&gt;</tt> are 0,
1, 3, 4, 5, 6 and 7. Specifying slice 2 is not allowed,
since slice 2 represents the whole disk.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>&lt;ai_device_partitioning&gt;</tt></p></td>
<td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;ai_device_partitioning&gt;</tt> describes the specification for a partition
action to be performed during the automated installation of the OpenSolaris OS. You
can delete an existing partition or create a new partition during installation. 
<tt>&lt;ai_device_partitioning&gt;</tt> is optional and applicable only for X86 clients.</p><p>All of the following elements
of <tt>&lt;ai_device_partitioning&gt;</tt> are optional.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;partition_action&gt;</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;partition_action&gt;</tt> denotes the type of partition-related operation to be performed
during the client installation. The only allowed actions are <tt>create</tt> and <tt>delete</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;partition_number&gt;</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;partition_number&gt;</tt> denotes
the unique partition identification in the partition table. When this element is combined
with the <tt>&lt;partition_action&gt;</tt> of <tt>delete</tt>, then the automatic installer deletes the partition with the
specified <tt>&lt;partition_number&gt;</tt>. When the <tt>&lt;partition_action&gt;</tt> has the value of <tt>create</tt>, <tt>&lt;partition_number&gt;</tt> is
ignored.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;partition_start_sector&gt;</tt></p></td>
<td align="left" valign="top" scope="row"><p>If the <tt>&lt;partition_action&gt;</tt> is <tt>create</tt>, <tt>&lt;partition_start_sector&gt;</tt> denotes the sector where the partition should
start. If the <tt>&lt;partition_action&gt;</tt> is <tt>delete</tt>, then the automated installer tries to
delete the partition starting at this sector.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;partition_size&gt;</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;partition_size&gt;</tt> denotes the size of the partition to
be created or to be deleted. The value of <tt>&lt;partition_size&gt;</tt> is interpreted
based on the <tt>&lt;partition_size_units&gt;</tt> value. The default size unit is megabytes (MB).
The <tt>&lt;partition_size&gt;</tt> is required for creating a new partition. You can use
the special value, <tt>max_size</tt>, to indicate that you want the automated installer
to use the largest free region, and to create the partition with the
maximum possible space.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;partition_type&gt;</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;partition_type&gt;</tt> denotes the type of the partition to be created or deleted.
If  <tt>&lt;partition_type&gt;</tt> is specified in the <tt>delete</tt> action without any other partition
elements, the automated installer deletes all the partitions of that type. The value of
<tt>&lt;partition_type&gt;</tt> could be any integer representing a valid partition type. The automated installer
recognizes the values SOLARIS, DOS16, and FAT32.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;partition_size_units&gt;</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;partition_size_units&gt;</tt> defines the units for the partition size.
The default size unit is megabytes (MB). The possible values for <tt>&lt;partition_size_units&gt;</tt> include
the following:</p>
<ul><li><p>sectors, secs, sec, s, SECTORS, SECS, SEC, or S</p></li>
<li><p>MB, megabytes, megabyte, mb, m, MEGABYTES, MEGABYTE, M</p></li>
<li><p>GB, gigabytes, gigabyte, gb, g, GIGABYTES, GIGABYTE, G</p></li>
<li><p>TB, terabytes, terabyte, tb, t, TERABYTES, TERABYTE, T</p></li></ul>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>&lt;ai_device_vtoc_slices&gt;</tt></p></td>
<td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;ai_device_vtoc_slices&gt;</tt> specifies VTOC slice-related operations to be performed during automated installation of
the OpenSolaris OS. You can delete an existing slice or create a new
slice during installation. You can also choose to preserve an existing VTOC slice
during installation.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;slice_action&gt;</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;slice_action&gt;</tt> denotes the type of slice-related operation to be performed during installation.
The allowed actions are <tt>create</tt>, <tt>delete</tt>, and <tt>preserve</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;slice_number&gt;</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;slice_number&gt;</tt> denotes the unique slice
identification in the VTOC table. When this element is combined with the <tt>&lt;slice_action&gt;</tt>
set to <tt>delete</tt>, then the automatic installer deletes the slice with the specified
<tt>&lt;slice_number&gt;</tt>. If the <tt>&lt;slice_action&gt;</tt> is <tt>create</tt>, then a new slice is created with
the specified <tt>&lt;slice_number&gt;</tt>. If the <tt>&lt;slice_action&gt;</tt> is <tt>preserve</tt>, then the specified slice is
not touched during installation.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;slice_size&gt;</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;slice_size&gt;</tt> denotes the size of the slice to be created
or deleted or preserved. The value of <tt>&lt;slice_size&gt;</tt> is interpreted based on
the <tt>&lt;slice_size_units&gt;</tt> value. The default size unit is megabytes (MB). The <tt>&lt;slice_size&gt;</tt> is
required for creating a new partition. You can use the special value,
<tt>max_size</tt>, to indicate that you want the automated installer to use the largest
free region and to create the partition with the maximum possible space.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;slice_size_units&gt;</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;slice_size_units&gt;</tt> defines
the units for the slice size. The default size unit is megabytes (MB).
The possible values for <tt>&lt;slice_size_units&gt;</tt> include the following:</p>
<ul><li><p>sectors, secs, sec, s, SECTORS, SECS, SEC, or S</p></li>
<li><p>MB, megabytes, megabyte, mb, m, MEGABYTES, MEGABYTE, M</p></li>
<li><p>GB, gigabytes, gigabyte, gb, g, GIGABYTES, GIGABYTE, G</p></li>
<li><p>TB, terabytes, terabyte, tb, t, TERABYTES, TERABYTE, T</p></li></ul>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>&lt;ai_pkg_repo_default_authority&gt;</tt></p></td>
<td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;ai_pkg_repo_default_authority&gt;</tt> defines the IPS repository from
which OpenSolaris installation should be performed. This element is optional. The default value
is <tt>pkg.opensolaris.org</tt> with an authority value of <tt>opensolaris.org</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;main&gt;</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;main&gt;</tt> defines the primary IPS repository
to be used. <tt>&lt;main&gt;</tt> consists of two attributes, <tt>authname</tt> and <tt>url</tt>. The <tt>authname</tt>
is the authority name for the IPS repository. The <tt>url</tt> attribute points to the
location of the IPS repository.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;mirror&gt;</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;mirror&gt;</tt> defines the location of a backup IPS repository
whose contents are identical to the <tt>&lt;main&gt;</tt> element and uses the same
<tt>authname</tt>. The mirror element consists of one attribute, <tt>url</tt>, that points to the
location of the IPS repository. This element is optional. There can be more
than one mirror.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>&lt;ai_pkg_repo_addl_authority&gt;</tt></p></td>
<td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;ai_pkg_repo_addl_authority&gt;</tt> defines the additional IPS repositories from which  installations can be
performed. This element is optional. This element can be used to install packages
which are not in your default repository.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;main&gt;</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;main&gt;</tt> defines the primary IPS repository to
be used. <tt>&lt;main&gt;</tt> consists of two attributes, <tt>authname</tt> and <tt>url</tt>. The <tt>authname</tt> is
the authority name for the IPS repository. The <tt>url</tt> attribute points to the location
of the IPS repository.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;mirror&gt;</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;mirror&gt;</tt> defines the location of a backup IPS repository whose
contents are identical to the <tt>&lt;main&gt;</tt> element and uses the same <tt>authname</tt>.
The mirror element consists of one attribute, <tt>url</tt>, that points to the location of
the IPS repository. This element is optional. There can be more than
one mirror.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>&lt;ai_install_packages&gt;</tt></p></td>
<td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;ai_install_packages&gt;</tt> defines the list of packages to be installed by automated installer during
installation. <tt>&lt;ai_install_packages&gt;</tt> is mandatory. At least one package must be defined in
this element. This tag consists of a single element called <tt>pkg</tt>. This element,
<tt>pkg</tt>, has an attribute called <tt>name</tt>. The <tt>name</tt> attribute could be a
simple package name, such as <tt>SUNWcs</tt>, or an incorporation, such as <tt>entire</tt>, or
an FMRI, such as <tt>SUNWPython@2.4.4,5.11-0.101:20081119T213939Z</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>&lt;ai_uninstall_packages&gt;</tt></p></td>
<td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>&lt;ai_uninstall_packages&gt;</tt> defines the list of packages to be removed
by automated installer during installation. <tt>&lt;ai_uninstall_packages&gt;</tt> is an optional element. The definition
of <tt>&lt;ai_uninstall_packages&gt;</tt> is similar to that of <tt>&lt;ai_install_packages&gt;</tt>. This tag consists of a
single element called <tt>pkg</tt>. The element, <tt>pkg</tt>, has an attribute called <tt>name</tt>.
The <tt>name</tt> attribute could be a simple package name, such as <tt>SUNWcs</tt>,
or an incorporation, such as <tt>entire</tt>, or an FMRI, such as <tt>SUNWPython@2.4.4,5.11-0.101:20081119T213939Z</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>&lt;ai_http_proxy&gt;</tt></p></td>
<td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p>The client
needs to reach the IPS repository defined in the AI manifest in order
to install the OpenSolaris OS. In a normal configuration, the DHCP server sends
DNS information to the client. This information is used to resolve the IPS
repository name to an IP address. In cases where DNS is not
set up, a HTTP proxy can be used to resolve the IPS repository
name and complete the client installation.</p><p>The element <tt>&lt;ai_http_proxy&gt;</tt> can be used to setup HTTP
proxy that can be used for automated installations. <tt>&lt;ai_http_proxy&gt;</tt> consists of an
attribute, <tt>url</tt>, that points to the HTTP proxy location. This element is optional.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>&lt;ai_auto_reboot&gt;</tt></p></td>
<td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p>By
default, the automated installer doesn't automatically reboot the client after a successful installation
of an OpenSolaris OS. However, if you want the client to reboot automatically
after a successful installation of the OpenSolaris OS, <tt>&lt;ai_auto_reboot&gt;</tt> can be set to
<tt>true</tt>. The possible values of <tt>&lt;ai_auto_reboot&gt;</tt> are <tt>true</tt> and <tt>false</tt>.</p></td>
</tr>
</table>

<a name="aimanfull"></a><h4>AI Manifest Complete File</h4>
<p>The following is a complete AI manifest file with comments.</p><pre>&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!--
CDDL HEADER START

The contents of this file are subject to the terms of the
Common Development and Distribution License (the "License").
You may not use this file except in compliance with the License.

You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
or http://www.opensolaris.org/os/licensing.
See the License for the specific language governing permissions
and limitations under the License.

When distributing Covered Code, include this CDDL HEADER in each
file and include the License file at usr/src/OPENSOLARIS.LICENSE.
If applicable, add the following below this CDDL HEADER, with the
fields enclosed by brackets "[]" replaced with your own identifying
information: Portions Copyright [yyyy] [name of copyright owner]

CDDL HEADER END

Copyright 2009 Sun Microsystems, Inc.  All rights reserved.
Use is subject to license terms.
--&gt;

&lt;!--
===============================================================================
RelaxNG schema for Automatic Installer input manifest specification.

Contains schema rules and content specification for AI manifest.

===============================================================================
--&gt;


&lt;grammar
    xmlns="http://relaxng.org/ns/structure/1.0"
    datatypeLibrary="http://www.w3.org/2001/XMLSchema-datatypes"&gt;

        &lt;start&gt;
                &lt;element name="ai_manifest"&gt;
            &lt;attribute name="name"/&gt;
                        &lt;!-- General automatic Installation parameters --&gt;
                        &lt;ref name="auto_installation_manifest"/&gt;
                &lt;/element&gt;
        &lt;/start&gt;

        &lt;!--
        =======================================================================
        Parameters used for Automatic installation
        =======================================================================
        --&gt;
        &lt;define name="auto_installation_manifest"&gt;
                &lt;interleave&gt;      &lt;!-- Any element order is OK. --&gt;
            &lt;optional&gt;
                        &lt;element name="ai_target_device"&gt;
                    &lt;ref name="ai_target_device_contents"/&gt;
                &lt;/element&gt;
            &lt;/optional&gt;
        
            &lt;zeroOrMore&gt;
                        &lt;element name="ai_device_partitioning"&gt;
                    &lt;ref name="ai_device_partitioning_contents"/&gt;
                &lt;/element&gt;
            &lt;/zeroOrMore&gt;
        
            &lt;zeroOrMore&gt;
                        &lt;element name="ai_device_vtoc_slices"&gt;
                    &lt;ref name="ai_device_vtoc_slices_contents"/&gt;
                &lt;/element&gt;
            &lt;/zeroOrMore&gt;
            
            &lt;optional&gt;
                        &lt;element name="ai_device_zfs_root_pool"&gt;
                    &lt;ref name="ai_zfs_root_pool_contents"/&gt;
                &lt;/element&gt;
            &lt;/optional&gt;
        
            &lt;optional&gt;
                &lt;element name="ai_device_swap"&gt;
                    &lt;ref name="ai_device_swap_contents"/&gt;
                &lt;/element&gt;
            &lt;/optional&gt;

            &lt;optional&gt;
                &lt;element name="ai_pkg_repo_default_authority"&gt;
                    &lt;ref name="ai_pkg_repo_contents"/&gt;
                &lt;/element&gt;
            &lt;/optional&gt;

            &lt;zeroOrMore&gt;
                &lt;element name="ai_pkg_repo_addl_authority"&gt;
                    &lt;ref name="ai_pkg_repo_contents"/&gt;
                &lt;/element&gt;
            &lt;/zeroOrMore&gt;

            &lt;!--
            ========================================================
            Define AI packages
            ========================================================
            --&gt;
            &lt;choice&gt;
                &lt;element name="ai_packages"&gt;
                    &lt;zeroOrMore&gt;
                        &lt;element name="package_name"&gt;
                            &lt;text/&gt;
                        &lt;/element&gt;
                    &lt;/zeroOrMore&gt;
                &lt;/element&gt;

                &lt;element name="ai_install_packages"&gt;
                    &lt;oneOrMore&gt;
                        &lt;element name="pkg"&gt;
                            &lt;attribute name="name"&gt;
                                &lt;text/&gt;
                            &lt;/attribute&gt;
                        &lt;/element&gt;
                    &lt;/oneOrMore&gt;
                &lt;/element&gt; 
            &lt;/choice&gt;

            &lt;optional&gt;
                &lt;element name="ai_uninstall_packages"&gt;
                    &lt;oneOrMore&gt;
                        &lt;element name="pkg"&gt;
                            &lt;attribute name="name"&gt;
                                &lt;text/&gt;
                            &lt;/attribute&gt;
                        &lt;/element&gt;
                    &lt;/oneOrMore&gt;
                &lt;/element&gt;
            &lt;/optional&gt;

            &lt;optional&gt;
                &lt;element name="ai_http_proxy"&gt;
                    &lt;ref name="ai_http_proxy_contents"/&gt;
                &lt;/element&gt;
            &lt;/optional&gt;

            &lt;optional&gt;
                &lt;element name="ai_auto_reboot"&gt;
                    &lt;data type="boolean"/&gt;
                &lt;/element&gt;
            &lt;/optional&gt;        
        &lt;/interleave&gt;
    &lt;/define&gt;

        &lt;!--
        =======================================================================
        Selections for AI target Device specification
        =======================================================================
        --&gt;
        &lt;define name="ai_target_device_contents"&gt;
        &lt;interleave&gt;
            &lt;optional&gt;
                    &lt;!-- device name like c0t0d0 or 
                 MPXIO name like c0t2000002037CD9F72d0 --&gt;
                            &lt;element name="target_device_name"&gt;
                    &lt;text/&gt;
                &lt;/element&gt;
            &lt;/optional&gt;
            &lt;optional&gt;
                               &lt;element name="target_device_type"&gt;
                    &lt;text/&gt;
                &lt;/element&gt;
            &lt;/optional&gt;
            &lt;optional&gt;
                               &lt;element name="target_device_vendor"&gt;
                    &lt;text/&gt;
                &lt;/element&gt;
            &lt;/optional&gt;
            &lt;optional&gt;
                               &lt;element name="target_device_size"&gt;
                    &lt;text/&gt;
                &lt;/element&gt;
            &lt;/optional&gt;
            &lt;optional&gt;
                               &lt;element name="target_device_install_slice_number"&gt;
                    &lt;choice&gt;
                        &lt;value&gt;0&lt;/value&gt;
                        &lt;value&gt;1&lt;/value&gt;
                        &lt;value&gt;2&lt;/value&gt;
                        &lt;value&gt;3&lt;/value&gt;
                        &lt;value&gt;4&lt;/value&gt;
                        &lt;value&gt;5&lt;/value&gt;
                        &lt;value&gt;6&lt;/value&gt;
                        &lt;value&gt;7&lt;/value&gt;
                    &lt;/choice&gt;
                &lt;/element&gt;
            &lt;/optional&gt;
            &lt;optional&gt;
                               &lt;element name="target_device_use_solaris_partition"&gt;
                    &lt;data type="boolean"/&gt;
                &lt;/element&gt;
            &lt;/optional&gt;
            &lt;optional&gt;
                               &lt;element name="target_device_overwrite_root_zfs_pool"&gt;
                    &lt;data type="boolean"/&gt;
                &lt;/element&gt;
            &lt;/optional&gt;
        &lt;/interleave&gt;
    &lt;/define&gt;

        &lt;!--
        =======================================================================
        Selections for AI target device partitions specification
        =======================================================================
        --&gt;
        &lt;define name="ai_device_partitioning_contents"&gt;
        &lt;interleave&gt;
                    &lt;element name="partition_action"&gt;
                &lt;choice&gt;
                    &lt;value&gt;create&lt;/value&gt;
                    &lt;value&gt;delete&lt;/value&gt;
                &lt;/choice&gt;
            &lt;/element&gt;
            &lt;optional&gt;
                &lt;element name="partition_number"&gt;
                    &lt;data type="unsignedByte"/&gt;
                &lt;/element&gt;
            &lt;/optional&gt;
            &lt;optional&gt;
                         &lt;element name="partition_start_sector"&gt;
                    &lt;data type="long"/&gt;
                &lt;/element&gt;
            &lt;/optional&gt;
                    &lt;element name="partition_size"&gt;
                &lt;text/&gt;    &lt;!-- number of "max_size" to use largest free region --&gt;
            &lt;/element&gt;
            &lt;element name="partition_type"&gt;
                &lt;text/&gt;
            &lt;/element&gt;
            &lt;optional&gt;
                &lt;element name="partition_size_units"&gt;
                    &lt;ref name="disk_space_size_units"/&gt;
                &lt;/element&gt;
            &lt;/optional&gt;
        &lt;/interleave&gt;
    &lt;/define&gt;
        &lt;!--
        =======================================================================
        Selections for AI target device vtoc slices specification
        =======================================================================
        --&gt;
        &lt;define name="ai_device_vtoc_slices_contents"&gt;
        &lt;interleave&gt;
                    &lt;element name="slice_action"&gt;
                &lt;choice&gt;
                    &lt;value&gt;create&lt;/value&gt;
                    &lt;value&gt;delete&lt;/value&gt;
                    &lt;value&gt;preserve&lt;/value&gt;
                &lt;/choice&gt;
            &lt;/element&gt;
                    &lt;element name="slice_number"&gt;
                &lt;data type="unsignedByte"/&gt;
            &lt;/element&gt;
                    &lt;element name="slice_size"&gt;
                &lt;text/&gt;    &lt;!-- number of "max_size" to use largest free region --&gt;
            &lt;/element&gt;
            &lt;optional&gt;
                &lt;element name="slice_size_units"&gt;
                    &lt;ref name="disk_space_size_units"/&gt;
                &lt;/element&gt;
            &lt;/optional&gt;
        &lt;/interleave&gt;
    &lt;/define&gt;

        &lt;!--
        =======================================================================
        Selections for AI ZFS Root Pool specification
        =======================================================================
        --&gt;
        &lt;define name="ai_zfs_root_pool_contents"&gt;
        &lt;interleave&gt;
            &lt;optional&gt;
                               &lt;element name="enable_mirrored_root"&gt;
                    &lt;data type="boolean"/&gt;
                &lt;/element&gt;
            &lt;/optional&gt;
            &lt;optional&gt;
                               &lt;element name="zfs_options"&gt;
                    &lt;text/&gt;
                &lt;/element&gt;
            &lt;/optional&gt;
        &lt;/interleave&gt;
    &lt;/define&gt;

        &lt;!--
        =======================================================================
        Selections for AI swap specification
    The target device will be used as swap device
        =======================================================================
        --&gt;
        &lt;define name="ai_device_swap_contents"&gt;
               &lt;element name="ai_swap_size"&gt;
            &lt;data type="unsignedLong"/&gt;
        &lt;/element&gt;
    &lt;/define&gt;

        &lt;!--
        =======================================================================
        Define an authority and its mirror backups.
        =======================================================================
        --&gt;
        &lt;define name="ai_pkg_repo_contents"&gt;
                &lt;element name="main"&gt;
                        &lt;ref name="ai_repo_name"/&gt;
                &lt;/element&gt;
                &lt;zeroOrMore&gt;
                        &lt;element name="mirror"&gt;
                                &lt;ref name="ai_mirror_name"/&gt;
                        &lt;/element&gt;
                &lt;/zeroOrMore&gt;
        &lt;/define&gt;

    &lt;define name="ai_repo_name"&gt;
        &lt;attribute name="authname"&gt;
            &lt;text/&gt;
        &lt;/attribute&gt;
        &lt;attribute name="url"&gt;
            &lt;text/&gt;
        &lt;/attribute&gt;
    &lt;/define&gt;

    &lt;define name="ai_mirror_name"&gt;
        &lt;attribute name="url"&gt;
            &lt;text/&gt;
        &lt;/attribute&gt;
    &lt;/define&gt;    

        &lt;!--
        =======================================================================
        Define AI proxy
        =======================================================================
        --&gt;
    &lt;define name="ai_http_proxy_contents"&gt;
        &lt;attribute name="url"&gt;
            &lt;text/&gt;
        &lt;/attribute&gt;
    &lt;/define&gt;    
        &lt;!--
        =======================================================================
        General definitions
        =======================================================================
        --&gt;
        &lt;!--
        =======================================================================
        Units measuring sizable regions of space on disk drives
        =======================================================================
        --&gt;
        &lt;define name="disk_space_size_units"&gt;
        &lt;choice&gt;
            &lt;value&gt;sectors&lt;/value&gt;
            &lt;value&gt;secs&lt;/value&gt;    &lt;!-- disk space sectors (512 bytes) --&gt;
            &lt;value&gt;sec&lt;/value&gt;    &lt;!-- disk space sectors (512 bytes) --&gt;
            &lt;value&gt;s&lt;/value&gt;
            &lt;value&gt;megabytes&lt;/value&gt;
            &lt;value&gt;megabyte&lt;/value&gt;
            &lt;value&gt;mb&lt;/value&gt;
            &lt;value&gt;m&lt;/value&gt;
            &lt;value&gt;gigabytes&lt;/value&gt;
            &lt;value&gt;gigabyte&lt;/value&gt;
            &lt;value&gt;gb&lt;/value&gt;
            &lt;value&gt;g&lt;/value&gt;
            &lt;value&gt;terabytes&lt;/value&gt;
            &lt;value&gt;terabyte&lt;/value&gt;
            &lt;value&gt;tb&lt;/value&gt;
            &lt;value&gt;t&lt;/value&gt;
            &lt;value&gt;SECTORS&lt;/value&gt;
            &lt;value&gt;SECS&lt;/value&gt;    &lt;!-- disk space sectors (512 bytes) --&gt;
            &lt;value&gt;SEC&lt;/value&gt;    &lt;!-- disk space sectors (512 bytes) --&gt;
            &lt;value&gt;S&lt;/value&gt;
            &lt;value&gt;MEGABYTES&lt;/value&gt;
            &lt;value&gt;MEGABYTE&lt;/value&gt;
            &lt;value&gt;MB&lt;/value&gt;
            &lt;value&gt;M&lt;/value&gt;
            &lt;value&gt;GIGABYTES&lt;/value&gt;
            &lt;value&gt;GIGABYTE&lt;/value&gt;
            &lt;value&gt;GB&lt;/value&gt;
            &lt;value&gt;G&lt;/value&gt;
            &lt;value&gt;TERABYTES&lt;/value&gt;
            &lt;value&gt;TERABYTE&lt;/value&gt;
            &lt;value&gt;TB&lt;/value&gt;
            &lt;value&gt;T&lt;/value&gt;
        &lt;/choice&gt;
    &lt;/define&gt;
&lt;/grammar&gt;</pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="appendix.html">Previous</a>
             </td>
             <td align="right">
                 <a href="installadm.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

