<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">

<!--   The contents of this Documentation are subject to the Public Documentation
License Version 1.01 (the "License"); you may only use this Documentation if
you comply with the terms of this License. A copy of the License is
available at http://www.opensolaris.org/os/community/documentation/license.
  -->
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>SPARC and x86 Client Installation Messages and Errors - OpenSolaris Automated Installer Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-06-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/opensol.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.com"><img border="0" src="graphics/opensolaris_logo_trans.png"></img></a>
   </div>
   <div class="Title">OpenSolaris Automated Installer Guide</div>
</div>
<div class="headerbar"></div>


<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="x86client.html">Previous</a>
             </td>
             <td align="right">
                 <a href="trouble.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="index.html">1.&nbsp;&nbsp;Introduction to the Automated Installer</a></p>
<p class="toc level1 tocsp"><a href="tasks.html">2.&nbsp;&nbsp;Automated Installer Task Map</a></p>
<p class="toc level1 tocsp"><a href="setup.html">3.&nbsp;&nbsp;Automated Installer Setup Instructions</a></p>
<p class="toc level1 tocsp"><a href="administer.html">4.&nbsp;&nbsp;How to Administer an Automated Install Server</a></p>
<p class="toc level1 tocsp"><a href="client.html">5.&nbsp;&nbsp;How to Administer a Custom Install Client</a></p>
<p class="toc level1 tocsp"><a href="manifest.html">6.&nbsp;&nbsp;How to Administer the Manifest Files for an Install Service</a></p>
<p class="toc level1 tocsp"><a href="clients.html">7.&nbsp;&nbsp;How to Manage Client Installations</a></p>
<p class="toc level2"><a href="clientreq.html">Client System Requirements</a></p>
<p class="toc level2"><a href="sparcclient.html">SPARC Client Installations</a></p>
<p class="toc level2"><a href="x86client.html">x86 Client Installations</a></p>
<div class="onpage">
<p class="toc level2"><a href="">SPARC and x86 Client Installation Messages and Errors</a></p>
</div>
<p class="toc level1 tocsp"><a href="trouble.html">8.&nbsp;&nbsp;Troubleshooting and FAQs for the Automated Installer</a></p>
<p class="toc level1 tocsp"><a href="appendix.html">9.&nbsp;&nbsp;Appendix</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="bothclient"></a><h3>SPARC and x86 Client Installation Messages and Errors</h3>
<p>The following situations and display messages are common to both SPARC and X86
installations.</p><p><a href="#aistart">1. Automated Installation Started Message</a></p><p><a href="#success">2. Auto Install Succeeded Message</a></p><p><a href="#failed">3. Automated Installation Failed Message</a></p><p><a href="#valid">4. Unable to Contact Valid Package Server Message</a></p><p><a href="#missing">5. <tt>install_log</tt> Reports Missing Package</a></p><p><a href="#errfail">6. Install Fails With Error 800 Message</a></p>

<a name="aistart"></a><h4>1. Automated Installation Started Message</h4>
<p>If the client is able to successfully boot and download the install files,
then the following displays:</p><pre>Automated Installation started
   The progress of the Automated Installation can be followed by viewing the
   logfile at /tmp/install_log</pre><p>You can login as root with the password, &ldquo;opensolaris,&rdquo; to monitor the <tt>install_log</tt>.
Once the installation of packages from IPS has started, there may not be
updates to this log file for an extended period. You can continue to
monitor progress by following the IPS updates in the log file, <tt>/var/svc/log/application-auto-installer:default.log</tt>.</p>

<a name="success"></a><h4>2. Auto Install Succeeded Message</h4>
<p>If you see the message, &ldquo;Auto install succeeded. You may wish to reboot
the system at this time,&rdquo; then the installation is successful. You can manually
reboot., Or, if you have setup automatic reboot in the AI manifest, then
the system reboots at this time.</p>

<a name="failed"></a><h4>3. Automated Installation Failed Message</h4>
<p>If there is a failure during installation, then the following message displays:</p><pre>Automated Installation failed. Please refer to /tmp/install_log file for
   details
   Apr  9 14:28:09 opensolaris svc.startd[7]: application/auto-installer:default
   failed fatally: transitioned to maintenance (see 'svcs -xv' for details)</pre>

<a name="valid"></a><h4>4. Unable to Contact Valid Package Server Message</h4>
<p>If there is a failure during installation, check the log file, <tt>/tmp/install_log</tt>.
If the AI client could not access the package server for installing packages,
you may see the following error messages:</p><pre>installation will be performed from http://pkg.opensolaris.org (opensolaris.org)
   list of packages to be installed is: 
                entire
                SUNWcsd
                SUNWcs
                babel_install
   pkg: The URL 'http://pkg.opensolaris.org' does not appear to point to a
   valid pkg server.
   Please check the server's address and client's network configuration.
   Additional details:

   Unable to contact valid package server: http://pkg.opensolaris.org/
   Encountered the following error(s):
   Transport errors encountered when trying to contact depot server.
   Reported the following errors:
   Could not retrieve versions from 'opensolaris.org'
   URLError, reason: (8, 'node name or service name not known')
   Unable to initialize the pkg image area at /a</pre><p>The problem may caused by one of the following reasons:</p>
<ul><li><p>The <tt>pkg_server</tt> is down. Try to access the <tt>pkg_server</tt> and check status.</p></li>
<li><p>If you are using DNS, check whether the AI client is setup with DNS:</p><pre># <tt>svcs <tt>-a</tt> | grep <i>/network/dns/client</i></tt></pre><p>If the install service is disabled, then the client is not setup with DNS. Check your DHCP server configuration to see whether DNS information is sent with the DHCP offer. If not, add the DNS information to the client's DHCP macro.</p></li>
<li><p>If you are not using DNS, add the HTTP proxy information to the AI manifest and try the installation again. See <a href="customai.html#ieproxy">Specifying an HTTP Proxy to Reach an IPS Repository</a>.</p></li></ul>


<a name="missing"></a><h4>5. <tt>install_log</tt> Reports Missing Package</h4>
<p>If one of the packages specified in the AI manifest cannot be
located in the IPS repositories, then the installer fails before installing any packages on
the disk. In the following example, the installer could not find the
package, <tt>SUNWTestPkg</tt>, in the IPS repository.  You may see the following error
message in the <tt>install_log</tt>:</p><pre>&lt;AI Feb 12 20:15:40&gt; installation will be performed from
   http://pkg.opensolaris.org/dev (opensolaris.org)
   &lt;AI Feb 12 20:15:40&gt; list of packages to be installed is:
   &lt;AI Feb 12 20:15:40&gt; entire
                SUNWcsd
                SUNWcs
                babel_install
   &lt;AI Feb 12 20:15:40&gt; SUNWTestPkg
   &lt;OM Feb 12 20:15:40&gt; Set zfs root pool device
   &lt;OM Feb 12 20:15:40&gt; creating zpool
   &lt;OM Feb 12 20:15:43&gt; /usr/sbin/zfs get -Hp -o value available rpool
   &lt;OM Feb 12 20:15:43&gt; Creating swap and dump on ZFS volumes
   &lt;OM Feb 12 20:16:00&gt; TI process completed successfully
   &lt;OM Feb 12 20:16:00&gt; Transfer process initiated
   &lt;TRANSFERMOD Feb 12 20:16:59&gt; IPS initilization finished
   &lt;TRANSFER_MOD Feb 12 20:52:33&gt; pkg missing
   &lt;TRANSFERMOD Feb 12 20:52:33&gt; IPS transfer failed
   &lt;TRANSFERMOD Feb 12 20:52:33&gt; IPS transfer finished
   &lt;OM Feb 12 20:52:33&gt; Transfer failed with error 15
   &lt;AI Feb 12 20:52:42&gt; om_perform_install failed with error 114
   &lt;AI Feb 12 20:52:42&gt; Auto install failed</pre><p>Check whether the package in question is a valid package. If this
package is available on a different IPS repository, add that IPS repository in
the AI manifest by using the tag, <tt>&lt;ai_pkg_repo_default_authority&gt;</tt>.</p>

<a name="errfail"></a><h4>6. Install Fails With Error 800 Message</h4>
<p>The error, &ldquo;<tt>om_perform_install_failed</tt> with error 800,&rdquo; indicates that the installer successfully installed all the
packages, but one of installer tasks that prepares the system prior to reboot
has failed. Scan the <tt>install_log</tt> for other failures. Usually when this error is
returned, one of Install Completion Tasks (ICTs) has failed.</p><p>This error can also indicate that the version of the AI ISO
image that is used for the automated installation is different from the version
of the OpenSolaris OS being installed. The AI ISO image version must match
the OpenSolaris OS version. Check the <tt>install_log</tt> to see whether there is any message
indicating that the version of the AI ISO image is different from the
OpenSolaris OS version being installed. If so, change the AI ISO image to
correspond to the OpenSolaris version you are trying to install. For instructions, see
<a href="faq.html#match">5. How do I Install a Particular OpenSolaris Development Build?</a></p><p>For further troubleshooting information, see <a href="setupfaq.html#fails">2. What if the Client Installation Fails?</a></p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="x86client.html">Previous</a>
             </td>
             <td align="right">
                 <a href="trouble.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

