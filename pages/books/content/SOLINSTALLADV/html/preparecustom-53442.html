<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Creating a Profile - Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="preparecustom-56059.html">Previous</a>
             </td>
             <td align="right">
                 <a href="preparecustom-25808.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="epucy.html">Part&nbsp;I&nbsp;Using Custom JumpStart</a></p>
<p class="toc level2"><a href="intro-1.html">1.&nbsp;&nbsp;Where to Find Solaris Installation Planning Information</a></p>
<p class="toc level2"><a href="jumpstartoverview-4.html">2.&nbsp;&nbsp;Custom JumpStart (Overview)</a></p>
<p class="toc level2"><a href="preparecustom-56440.html">3.&nbsp;&nbsp;Preparing Custom JumpStart Installations (Tasks)</a></p>
<p class="toc level3"><a href="preparecustom-21142.html">Task Map: Preparing Custom JumpStart Installations</a></p>
<p class="toc level3"><a href="preparecustom-88630.html">Creating a Profile Server for Networked Systems</a></p>
<p class="toc level4"><a href="preparecustom-88630.html#preparecustom-29356">To Create a JumpStart Directory on a Server</a></p>
<p class="toc level3 tocsp"><a href="preparecustom-53074.html">Creating a Profile Diskette for Standalone Systems</a></p>
<p class="toc level4"><a href="preparecustom-53074.html#preparecustom-55190">SPARC: To Create a Profile Diskette</a></p>
<p class="toc level4"><a href="preparecustom-53074.html#preparecustom-19234">x86: To Create a Profile Diskette With GRUB</a></p>
<p class="toc level3 tocsp"><a href="preparecustom-56059.html">Creating the <tt>rules</tt> File</a></p>
<p class="toc level4"><a href="preparecustom-56059.html#preparecustom-32674">To Create a <tt>rules</tt> File</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Creating a Profile</a></p>
<p class="toc level4"><a href="#preparecustom-26130">To Create a Profile</a></p>
</div>
<p class="toc level3 tocsp"><a href="preparecustom-25808.html">Testing a Profile</a></p>
<p class="toc level4"><a href="preparecustom-25808.html#preparecustom-25">To Create a Temporary Solaris Environment to Test a Profile</a></p>
<p class="toc level4"><a href="preparecustom-25808.html#preparecustom-11884">To Test a Profile</a></p>
<p class="toc level3 tocsp"><a href="preparecustom-50536.html">Validating the <tt>rules</tt> File</a></p>
<p class="toc level4"><a href="preparecustom-50536.html#preparecustom-91711">To Validate the <tt>rules</tt> File</a></p>
<p class="toc level2 tocsp"><a href="optionalcustom-29530.html">4.&nbsp;&nbsp;Using Optional Custom JumpStart Features (Tasks)</a></p>
<p class="toc level2"><a href="customprobes-1.html">5.&nbsp;&nbsp;Creating Custom Rule and Probe Keywords (Tasks)</a></p>
<p class="toc level2"><a href="customjump-88491.html">6.&nbsp;&nbsp;Performing a Custom JumpStart Installation (Tasks)</a></p>
<p class="toc level2"><a href="customjumpsample-1.html">7.&nbsp;&nbsp;Installing With Custom JumpStart (Examples)</a></p>
<p class="toc level2"><a href="jumpstartreference-1.html">8.&nbsp;&nbsp;Custom JumpStart (Reference)</a></p>
<p class="toc level1 tocsp"><a href="epucz.html">Part&nbsp;II&nbsp;Appendixes</a></p>
<p class="toc level2"><a href="troubleshooting-9.html">A.&nbsp;&nbsp;Troubleshooting (Tasks)</a></p>
<p class="toc level2"><a href="package-9.html">B.&nbsp;&nbsp;Additional SVR4 Packaging Requirements (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="preparecustom-53442"></a><h3>Creating a Profile</h3>
<p><a name="preparecustom-ix392"></a><a name="preparecustom-ix393"></a><a name="preparecustom-ix394"></a>A profile is a text file that defines how to install the Solaris
software on a system. A profile defines elements of the installation, for example,
the software group to install. Every rule specifies a profile that defines how
a system is to be installed. You can create different profiles for every
rule or the same profile can be used in more than one rule.
 </p><p><a name="preparecustom-ix395"></a>A profile consists of one or more profile keywords and their values. Each
profile keyword is a command that controls one aspect of how the JumpStart
program is to install the Solaris software on a system. For example, the
following profile keyword and value specify that the JumpStart program install the system
as a server:</p><pre>system_type  server</pre>
<hr><p><b>Note - </b>Sample profiles are already located in the JumpStart directory if you created the
JumpStart directory by using either of these procedures:</p>
<ul><li><p><a href="preparecustom-88630.html">Creating a Profile Server for Networked Systems</a></p></li>
<li><p><a href="preparecustom-53074.html">Creating a Profile Diskette for Standalone Systems</a></p></li></ul>

<hr>


<a name="preparecustom-26691"></a><h4>Syntax of Profiles</h4>
<p><a name="preparecustom-ix396"></a><a name="preparecustom-ix397"></a>A profile must contain the following: </p>
<ul><li><p><a name="preparecustom-ix398"></a><a name="preparecustom-ix399"></a>The <tt>install_type</tt> profile keyword as the first entry </p></li>
<li><p>One keyword per line</p></li>
<li><p>The <tt>root_device</tt> keyword if the systems that are being upgraded by the profile contain more than one root (<tt>/</tt>) file system that can be upgraded</p></li></ul>
<p>A profile can contain the following:</p>
<ul><li><p>Commented text</p><p><a name="preparecustom-ix401"></a><a name="preparecustom-ix402"></a><a name="preparecustom-ix403"></a>Any text that is included after the <tt>#</tt> symbol on a line is treated by the JumpStart program as commented text. If a line begins with the <tt>#</tt> symbol, the entire line is treated as a comment.</p></li>
<li><p>One or more blank lines</p></li></ul>


<a name="preparecustom-26130"></a><h4>To Create a Profile</h4><ol>
<li><a name="preparecustom-step-51"></a><b>Use a text editor to create a text file. Name the file descriptively.
Or, open a sample profile in the JumpStart directory that you created.</b>
<hr><p><b>Note - </b><a name="preparecustom-ix405"></a>Ensure that the name of the profile reflects how you intend to use
the profile to install the Solaris software on a system. For example, you
might name the profiles <tt>basic_install</tt>, <tt>eng_profile</tt>, or <tt>user_profile</tt>.  </p>
<hr>
</li>
<li><a name="preparecustom-step-52"></a><b>Add profile keywords and values to the profile.</b><p>For a list of profile keywords and values, see <a href="preparecustom-24696.html">Profile Keywords and Values</a>.</p>
<hr><p><b>Note - </b>Profile keywords and their values are case sensitive.</p>
<hr>
</li>
<li><a name="preparecustom-step-53"></a><b>Save the profile in the JumpStart directory.</b></li>
<li><a name="preparecustom-step-15"></a><b>Ensure that <tt>root</tt> owns the profile and that the permissions are set to
644.</b></li>
<li><a name="preparecustom-step-54"></a><b>Test the profile (optional).</b><p><a href="preparecustom-25808.html">Testing a Profile</a> contains information about testing profiles.</p></li></ol>

<a name="preparecustom-45277"></a><h4>Profile Examples</h4>
<p><a name="preparecustom-ix412"></a><a name="preparecustom-ix413"></a><a name="preparecustom-ix414"></a><a name="preparecustom-ix415"></a><a name="preparecustom-ix416"></a><a name="preparecustom-ix417"></a><a name="preparecustom-ix418"></a><a name="preparecustom-ix419"></a><a name="preparecustom-ix420"></a><a name="preparecustom-ix421"></a><a name="preparecustom-ix422"></a><a name="preparecustom-ix423"></a><a name="preparecustom-ix424"></a><a name="preparecustom-ix425"></a><a name="preparecustom-ix426"></a><a name="preparecustom-ix427"></a><a name="preparecustom-ix428"></a><a name="preparecustom-ix429"></a><a name="preparecustom-ix430"></a><a name="preparecustom-ix431"></a><a name="preparecustom-ix432"></a><a name="preparecustom-ix433"></a><a name="preparecustom-ix434"></a><a name="preparecustom-ix435"></a><a name="preparecustom-ix436"></a><a name="preparecustom-ix437"></a><a name="preparecustom-ix438"></a><a name="indexterm-23"></a>The following examples of profiles show how to use different profile keywords and profile
values to control how the Solaris software is installed on a system.
<a href="preparecustom-24696.html">Profile Keywords and Values</a> contains a description of profile keywords and values.</p><a name="preparecustom-80"></a>Example&nbsp;3-2 Mounting Remote File Systems and Adding and Deleting Packages<pre> 
# profile keywords        profile values
# -----------------       -----------------
  install_type            initial_install
  system_type             standalone
  partitioning            default
  filesys                 any 512 swap   # specify size of /swap
  cluster                 SUNWCprog
  package                 SUNWman delete
  cluster                 SUNWCacc</pre><p>The following list describes some of the keywords and values from this example.</p><dl><dt><tt>install_type</tt></dt>
<dd><p>The <tt>install_type</tt> keyword is required in every profile.</p></dd>
<dt><tt>system_type</tt></dt>
<dd><p>The <tt>system_type</tt> keyword defines that the system is to be installed as a standalone system.</p></dd>
<dt><tt>partitioning</tt></dt>
<dd><p>The file system slices are determined by the software to be installed with the value <tt>default</tt>. The size of <tt>swap</tt> is set to 512 Mbytes and is installed on any disk, value <tt>any</tt>. </p></dd>
<dt><tt>cluster</tt></dt>
<dd><p>The Developer Solaris Software Group, <tt>SUNWCprog</tt>, is installed on the system.</p></dd>
<dt><tt>package</tt></dt>
<dd><p>If the standard man pages are mounted from the file server, <tt>s_ref</tt>, on the network, the man page packages are not to be installed on the system. The packages that contain the System Accounting utilities are selected to be installed on the system.</p></dd>
</dl>
<a name="egkam"></a>Example&nbsp;3-3 Mounting Remote File Systems and Adding a Third-Party Package<pre> 
# profile keywords        profile values
# -----------------       -----------------
  install_type            initial_install
  system_type             standalone
  partitioning            default
  filesys                 any 512 swap   # specify size of /swap
  cluster                 SUNWCprog
  cluster                 SUNWCacc
  package                 apache_server  \
                           http://package.central/packages/apache timeout 5</pre><p>The following list describes some of the keywords and values from this example.</p><dl><dt><tt>install_type</tt></dt>
<dd><p>The <tt>install_type</tt> keyword is required in every profile.</p></dd>
<dt><tt>system_type</tt></dt>
<dd><p>The <tt>system_type</tt> keyword defines that the system is to be installed as a standalone system.</p></dd>
<dt><tt>partitioning</tt></dt>
<dd><p>The file system slices are determined by the software to be installed with the value <tt>default</tt>. The size of <tt>swap</tt> is set to 512 Mbytes and is installed on any disk, value <tt>any</tt>. </p></dd>
<dt><tt>cluster</tt></dt>
<dd><p>The Developer Solaris Software Group, <tt>SUNWCprog</tt>, is installed on the system.</p></dd>
<dt><tt>package</tt></dt>
<dd><p>A third-party package is installed on the system located on an HTTP server.</p></dd>
</dl>
<a name="preparecustom-96"></a>Example&nbsp;3-4 Specifying Where to Install File Systems<pre># profile keywords        profile values
# ----------------        -------------------
  install_type            initial_install
  system_type             standalone 
  partitioning            explicit
  filesys                 c0t0d0s0 auto /
  filesys                 c0t3d0s1 auto swap
  filesys                 any auto usr
  cluster                 SUNWCall</pre><p>The following list describes some of the keywords and values from this example.</p><dl><dt><tt>partitioning</tt></dt>
<dd><p>The file system slices are determined by the <tt>filesys</tt> keywords, value <tt>explicit</tt>. The size of root (<tt>/</tt>) is based on the selected software, value <tt>auto</tt>, and is installed on <tt>c0t0d0s0</tt>. The size of <tt>swap</tt> is set to the necessary size and is installed on <tt>c0t3d0s1</tt>. <tt>usr</tt> is based on the selected software and the installation program determines where <tt>usr</tt> is installed, based on the value <tt>any</tt>.</p></dd>
<dt><tt>cluster</tt></dt>
<dd><p>The Entire Solaris Software Group, <tt>SUNWCall</tt>, is installed on the system. </p></dd>
</dl>
<a name="egkbe"></a>Example&nbsp;3-5 Upgrading and Installing Patches<pre># profile keywords         profile values
# ----------------         -------------------
  install_type             upgrade 
  root_device              c0t3d0s2 
  backup_media             remote_filesystem timber:/export/scratch
  package                  SUNWbcp delete
  package                  SUNWxwman add
  cluster                  SUNWCacc add   
  patch                    patch_list nfs://patch_master/Solaris_11/patches \
                           retry 5
  locale                   de</pre><p>The following list describes some of the keywords and values from this example.</p><dl><dt><tt>install_type</tt></dt>
<dd><p>The profile upgrades a system by reallocating disk space. In this example, disk space must be reallocated because some file systems on the system did not have enough space for the upgrade.</p></dd>
<dt><tt>root_device</tt></dt>
<dd><p>The root file system on <tt>c0t3d0s2</tt> is upgraded.</p></dd>
<dt><tt>backup_media</tt></dt>
<dd><p>A remote system that is named <tt>timber</tt> is to be used to back up data during the disk space reallocation. For more backup-media keyword values, see <a href="preparecustom-24696.html#preparecustom-97"><tt>backup_media</tt> Profile Keyword</a>.</p></dd>
<dt><tt>package</tt></dt>
<dd><p>The binary compatibility package, <tt>SUNWbcp</tt>, is not installed on the system after the upgrade.</p></dd>
<dt><tt>package</tt></dt>
<dd><p>The code ensures that the X Window System man pages and the System Accounting Utilities are to be installed if they are not already installed on the system. All packages already on the system are automatically upgraded. </p></dd>
<dt><tt>patch</tt></dt>
<dd><p>A list of patches that are installed with the upgrade. The patch list is located on an NFS server named <tt>patch_master</tt> under the directories <tt>Solaris_11/patches</tt>. In case of a mount failure, the NFS mount is tried five times.</p></dd>
<dt><tt>locale</tt></dt>
<dd><p>The German localization packages are to be installed on the system.</p></dd>
</dl>
<a name="preparecustom-83"></a>Example&nbsp;3-6 Reallocating Disk Space for an Upgrade<pre># profile keywords         profile values
# ----------------         -------------------
  install_type             upgrade 
  root_device              c0t3d0s2 
  backup_media             remote_filesystem timber:/export/scratch
  layout_constraint        c0t3d0s2 changeable 100
  layout_constraint        c0t3d0s4 changeable
  layout_constraint        c0t3d0s5 movable 
  package                  SUNWbcp delete
  package                  SUNWxwman add
  cluster                  SUNWCacc add   
  locale                   de</pre><p>The following list describes some of the keywords and values from this example.</p><dl><dt><tt>install_type</tt></dt>
<dd><p>The profile upgrades a system by reallocating disk space. In this example, disk space must be reallocated because some file systems on the system did not have enough space for the upgrade.</p></dd>
<dt><tt>root_device</tt></dt>
<dd><p>The root file system on <tt>c0t3d0s2</tt> is upgraded.</p></dd>
<dt><tt>backup_media</tt></dt>
<dd><p>A remote system that is named <tt>timber</tt> is to be used to back up data during the disk space reallocation. For more backup-media keyword values, see <a href="preparecustom-24696.html#preparecustom-97"><tt>backup_media</tt> Profile Keyword</a>.</p></dd>
<dt><tt>layout_constraint</tt></dt>
<dd><p>The <tt>layout_constraint</tt> keywords designate that auto-layout can perform the following when auto-layout attempts to reallocate disk space for the upgrade. </p>
<ul><li><p>Change slices 2 and 4. The slices can be moved to another location and the size can be changed.</p></li>
<li><p>Move slice 5. The slice can be moved to another location but its size cannot change.</p></li></ul>
</dd>
<dt><tt>package</tt></dt>
<dd><p>The binary compatibility package, <tt>SUNWbcp</tt>, is not installed on the system after the upgrade.</p></dd>
<dt><tt>package</tt></dt>
<dd><p>The code ensures that the X Window System man pages and the System Accounting Utilities are to be installed if they are not already installed on the system. All packages already on the system are automatically upgraded. </p></dd>
<dt><tt>locale</tt></dt>
<dd><p>The German localization packages are to be installed on the system.</p></dd>
</dl>
<a name="flashinstall-ex-3"></a>Example&nbsp;3-7 Retrieving a Solaris Flash Archive From an HTTP Server<p><a name="indexterm-24"></a><a name="indexterm-25"></a><a name="indexterm-26"></a>In the following example, the profile indicates that the custom JumpStart program retrieves
the Solaris Flash archive from an HTTP server. </p><pre># profile keywords         profile values
# ----------------         -------------------
install_type               flash_install
archive_location           http://192.168.255.255/flasharchive/solarisarchive
partitioning               explicit
filesys                    c0t1d0s0 4000 /
filesys                    c0t1d0s1 512 swap
filesys                    c0t1d0s7 free /export/home</pre><p>The following list describes some of the keywords and values from this example.</p><dl><dt><tt>install_type</tt></dt>
<dd><p>The profile installs a Solaris Flash archive on the clone system. All files are overwritten as in an initial installation.</p></dd>
<dt><tt>archive_location</tt></dt>
<dd><p>The Solaris Flash archive is retrieved from an HTTP server.</p></dd>
<dt><tt>partitioning</tt></dt>
<dd><p>The file system slices are determined by the <tt>filesys</tt> keywords, value <tt>explicit</tt>. The size of root (<tt>/</tt>) is based on the size of the Solaris Flash archive. The root file system is installed on <tt>c0t1d0s0</tt>. The size of <tt>swap</tt> is set to the necessary size and is installed on <tt>c0t1d0s1</tt>. <tt>/export/home</tt> is based on the remaining disk space. <tt>/export/home</tt> is installed on <tt>c0t1d0s7</tt>.</p></dd>
</dl>
<a name="egkde"></a>Example&nbsp;3-8 Retrieving a Solaris Flash Archive From a Secure HTTP Server<p><a name="indexterm-27"></a><a name="indexterm-28"></a><a name="indexterm-29"></a>In the following example, the profile indicates that the custom JumpStart program retrieves
the Solaris Flash archive from a secure HTTP server.</p><pre># profile keywords         profile values
# ----------------         -------------------
install_type               flash_install
archive_location           https://192.168.255.255/solarisupdate.flar
partitioning               explicit
filesys                    c0t1d0s0 4000 /
filesys                    c0t1d0s1 512 swap
filesys                    c0t1d0s7 free /export/home</pre><p>The following list describes some of the keywords and values from this example.</p><dl><dt><tt>install_type</tt></dt>
<dd><p>The profile installs a Solaris Flash archive on the clone system. All files are overwritten as in an initial installation.</p></dd>
<dt><tt>archive_location</tt></dt>
<dd><p>The compressed Solaris Flash archive is retrieved from a secure HTTP server.</p></dd>
<dt><tt>partitioning</tt></dt>
<dd><p>The file system slices are determined by the <tt>filesys</tt> keywords, value <tt>explicit</tt>. The size of root (<tt>/</tt>) is based on the size of the Solaris Flash archive. The size of <tt>swap</tt> is set to the necessary size and is installed on <tt>c0t1d0s1</tt>. <tt>/export/home</tt> is based on the remaining disk space. <tt>/export/home</tt> is installed on <tt>c0t1d0s7</tt>.</p></dd>
</dl>
<a name="egkdk"></a>Example&nbsp;3-9 Retrieving a Solaris Flash Archive and Installing a Third-Party Package<p><a name="indexterm-30"></a><a name="indexterm-31"></a><a name="indexterm-32"></a>In the following example, the profile indicates that the custom JumpStart program retrieves
the Solaris Flash archive from an HTTP server. </p><pre># profile keywords         profile values
# ----------------         -------------------
install_type               flash_install
archive_location           http://192.168.255.255/flasharchive/solarisarchive
partitioning               explicit
filesys                    c0t1d0s0 4000 /
filesys                    c0t1d0s1 512 swap
filesys                    c0t1d0s7 free /export/home
package                    SUNWnew http://192.168.254.255/Solaris_11 timeout 5</pre><p>The following list describes some of the keywords and values from this example.</p><dl><dt><tt>install_type</tt></dt>
<dd><p>The profile installs a Solaris Flash archive on the clone system. All files are overwritten as in an initial installation.</p></dd>
<dt><tt>archive_location</tt></dt>
<dd><p>The Solaris Flash archive is retrieved from an HTTP server.</p></dd>
<dt><tt>partitioning</tt></dt>
<dd><p>The file system slices are determined by the <tt>filesys</tt> keywords, value <tt>explicit</tt>. The size of root (<tt>/</tt>) is based on the size of the Solaris Flash archive. The root file system is installed on <tt>c0t1d0s0</tt>. The size of <tt>swap</tt> is set to the necessary size and is installed on <tt>c0t1d0s1</tt>. <tt>/export/home</tt> is based on the remaining disk space. <tt>/export/home</tt> is installed on <tt>c0t1d0s7</tt>.</p></dd>
<dt><tt>package</tt></dt>
<dd><p>The SUNWnew package is added from the <tt>Solaris_11</tt> directory from the HTTP server <tt>192.168.254.255</tt>.</p></dd>
</dl>
<a name="flashinstall-ex-4"></a>Example&nbsp;3-10 Retrieving a Solaris Flash Differential Archive From an NFS Server<p><a name="indexterm-33"></a><a name="indexterm-34"></a><a name="indexterm-35"></a>In the following example, the profile indicates that the custom JumpStart program retrieves
the Solaris Flash archive from an NFS server. The <tt>flash_update</tt> keyword indicates that this
is a differential archive. A differential archive installs only the differences between two
system images.</p><pre># profile keywords         profile values
# ----------------         -------------------
install_type               flash_update
archive_location           nfs installserver:/export/solaris/flasharchive \
                           /solarisdiffarchive
no_master_check</pre><p>The following list describes some of the keywords and values from this example.</p><dl><dt><tt>install_type</tt></dt>
<dd><p>The profile installs a Solaris Flash differential archive on the clone system. Only files that are specified by the archive are installed.</p></dd>
<dt><tt>archive_location</tt></dt>
<dd><p>The Solaris Flash archive is retrieved from an NFS server.</p></dd>
<dt><tt>no_master_check</tt></dt>
<dd><p>The clone system is not checked for a valid system image. A valid system image would have been built from the original master system.</p></dd>
</dl>
<a name="preparecustom-960"></a>Example&nbsp;3-11 Creating an Empty Boot Environment<p><a name="indexterm-36"></a><a name="indexterm-37"></a><a name="indexterm-38"></a>In the following example, the profile indicates that the custom JumpStart program creates
an empty boot environment. An empty boot environment contains no file systems and
no copy from the current boot environment occurs. The boot environment can be
populated later with a  Solaris Flash archive and then activated.</p><pre># profile keywords        profile values
# ----------------        -------------------
  install_type            initial_install
  system_type             standalone 
  partitioning            explicit
  filesys                 c0t0d0s0 auto /
  filesys                 c0t3d0s1 auto swap
  filesys                 any auto usr
  cluster                 SUNWCall
  bootenv createbe bename second_BE \
  filesystem /:/dev/dsk/c0t1d0s0:ufs \
  filesystem -:/dev/dsk/c0t1d0s0:swap \
  filesystem /export:shared:ufs</pre><p>The following list describes some of the keywords and values from this example.</p><dl><dt><tt>partitioning</tt></dt>
<dd><p>The file system slices are determined by the <tt>filesys</tt> keywords, value <tt>explicit</tt>. The size of root (<tt>/</tt>) is based on the selected software, value <tt>auto</tt>, and is installed on <tt>c0t0d0s0</tt>. The size of <tt>swap</tt> is set to the necessary size and is installed on <tt>c0t3d0s1</tt>. <tt>usr</tt> is based on the selected software and the installation program determines where <tt>usr</tt> is installed, based on the value <tt>any</tt>.</p></dd>
<dt><tt>cluster</tt></dt>
<dd><p>The Entire Solaris Software Group, <tt>SUNWCall</tt>, is installed on the system. </p></dd>
<dt><tt>bootenv createbe</tt></dt>
<dd><p>An empty, inactive boot environment is set up on disk <tt>c0t1d0</tt>. File systems for root (<tt>/</tt>), swap, and <tt>/export</tt> are created, but left empty. This second boot environment can be installed with a Solaris Flash archive at a later time. The new boot environment can then be activated to become the current boot environment. </p><p>For keyword values and background about using this keyword, see the following references:</p>
<ul><li><p>For descriptions of keyword values, see <a href="preparecustom-24696.html">Profile Keywords and Values</a>.</p></li>
<li><p>For background about using Solaris Live Upgrade that creates, upgrades, and activates inactive boot environments, see <a href="http://docs.sun.com/doc/819-2395/luoverview-1?a=view">Chapter 2, Solaris Live Upgrade (Overview), in <i>Solaris Express Installation Guide: Solaris Live Upgrade and Upgrade Planning</i></a>.</p></li>
<li><p><a name="indexterm-39"></a>For background about using a Solaris Flash archive, see <a href="http://docs.sun.com/doc/819-2397/flash-24?a=view">Chapter 1, Solaris Flash (Overview), in <i>Solaris Express Installation Guide: Solaris Flash Archives (Creation and Installation)</i></a>.</p></li></ul>
</dd>
</dl>
<a name="frcfq"></a>Example&nbsp;3-12 Creating RAID-1 Volumes When Installing a Solaris Flash Archive<p>In the following example, the profile indicates that the custom JumpStart program uses
Solaris Volume Manager technology to create RAID-1 volumes (mirrors) for the root (<tt>/</tt>),
<tt>swap</tt>, <tt>/usr</tt> and <tt>/export/home</tt> file systems. A Solaris Flash archive is installed on
the boot environment.</p><pre># profile keywords        profile values
# ----------------        -------------------
  install_type            flash_install
  arhcive_location        nfs server:/export/home/export/flash.s10.SUNWCall
  partitioning            explicit
  filesys                 mirror:d10 c0t0d0s0 c0t1d0s0 4096 /
  filesys                 mirror c0t0d0s1 2048 swap
  filesys                 mirror:d30 c0t0d0s3 c0t1d0s3 4096 /usr
  filesys                 mirror:d40 c0t0d0s4 c0t1d0s4 4096 /usr
  filesys                 mirror:d50 c0t0d0s5 c0t1d0s5 free /export/home
  metadb                  c0t1d0s7 size 8192 count 3</pre><p>The following list describes some of the keywords and values from this example.</p><dl><dt><tt>install_type</tt></dt>
<dd><p>The profile installs a Solaris Flash archive on the clone system. All files are overwritten as in an initial installation.</p></dd>
<dt><tt>archive_location</tt></dt>
<dd><p>The Solaris Flash archive is retrieved from an NFS server.</p></dd>
<dt><tt>partitioning</tt></dt>
<dd><p>The file system slices are determined by the <tt>filesys</tt> keywords, value <tt>explicit</tt>. </p></dd>
<dt><tt>filesys</tt></dt>
<dd><p>The root (<tt>/</tt>) file system is created and mirrored on the slices <tt>c0t0d0s0</tt> and <tt>c0t1d0s0</tt>. The size of the root (<tt>/</tt>) file system is set to 4096 Mbytes. The RAID-1 volume that mirrors <tt>c0t0d0s0</tt> and <tt>c0t1d0s0</tt> is named <tt>d10</tt>.</p></dd>
<dt><tt>filesys</tt></dt>
<dd><p>The <tt>swap</tt> file system is created and mirrored on the slice <tt>c0t0d0s1</tt>, and is sized at 2048 Mbytes. The custom JumpStart program assigns a name to the mirror.</p></dd>
<dt><tt>filesys</tt></dt>
<dd><p>The <tt>/usr</tt> file system is created and mirrored on the slices <tt>c0t1d0s3</tt> and <tt>c0t0d0s3</tt>. The size of the <tt>/usr</tt> file system is set to 4096 Mbytes. The RAID-1 volume is named <tt>d30</tt>.</p></dd>
<dt><tt>filesys</tt></dt>
<dd><p>The <tt>/usr</tt> file system is created and mirrored on the slices <tt>c0t1d0s4</tt> and <tt>c0t0d0s4</tt>. The size of the <tt>/usr</tt> file system is set to 4096 Mbytes. The RAID-1 volume is named <tt>d40</tt>.</p></dd>
<dt><tt>metadb</tt></dt>
<dd><p>Three state database replicas (metadbs) are installed on slice <tt>c0t1d0s7</tt>, and are sized at 8192 blocks (4 Mbytes).</p></dd>
</dl>

<ul><li><p>For overview information about how to create mirrored file systems during your installation, see <a href="http://docs.sun.com/doc/820-0157/mirroroverview-1?a=view">Chapter 8, Creating RAID-1 Volumes (Mirrors) During Installation (Overview), in <i>Solaris Express Installation Guide: Planning for Installation and Upgrade</i></a>.</p></li>
<li><p>For guidelines and requirements of creating mirrored file systems, see <a href="http://docs.sun.com/doc/820-0157/mirrorplanning-1?a=view">Chapter 9, Creating RAID-1 Volumes (Mirrors) During Installation (Planning), in <i>Solaris Express Installation Guide: Planning for Installation and Upgrade</i></a>.</p></li>
<li><p>For descriptions of keyword values, see <a href="preparecustom-24696.html#jumpstartreference-mirror"><tt>filesys</tt> Profile Keyword (Creating RAID-1 Volumes)</a> and <a href="preparecustom-24696.html#jumpstartreference-metadb"><tt>metadb</tt> Profile Keyword (Creating State Database Replicas)</a>.</p></li></ul>
<a name="preparecustom-ex-basicsvm"></a>Example&nbsp;3-13 Creating a RAID-1 Volume to Mirror the Root File System<p>In the following example, the profile indicates that the custom JumpStart program uses
Solaris Volume Manager technology to create a RAID-1 volume (mirror) for the root
(<tt>/</tt>) file system.</p><pre># profile keywords        profile values
# ----------------        -------------------
  install_type            initial_install
  cluster                 SUNWCXall
  filesys                 mirror:d30 c0t1d0s0 c0t0d0s0  /
  filesys                 c0t0d0s3 512 swap
  metadb                  c0t0d0s4 size 8192 count 4
  metadb                  c0t1d0s4 size 8192 count 4
  </pre><p>The following list describes some of the keywords and values from this example.</p><dl><dt><tt>cluster</tt></dt>
<dd><p>The Entire Solaris Software Plus OEM Support software group, SUNWCXall, is installed on the system.</p></dd>
<dt><tt>filesys</tt></dt>
<dd><p>The root (<tt>/</tt>) file system is created and mirrored on the slices <tt>c0t1d0s0</tt> and <tt>c0t0d0s0</tt>. The RAID-1 volume that mirrors <tt>c0t1d0s0</tt> and <tt>c0t0d0s0</tt> is named <tt>d30</tt>. The custom JumpStart program assigns names to the two submirrors.</p></dd>
<dt><tt>filesys</tt></dt>
<dd><p>The <tt>swap</tt> file system is created and mirrored on the slice <tt>c0t0d0s3</tt>, and is sized at 512 Mbytes. </p></dd>
<dt><tt>metadb</tt></dt>
<dd><p>Four state database replicas (metadbs) are installed on slice <tt>c0t0d0s4</tt>, and are sized at 8192 blocks (4 Mbytes).</p></dd>
<dt><tt>metadb</tt></dt>
<dd><p>Four state database replicas (metadbs) are installed on slice <tt>c0t1d0s4</tt>, and are sized at 8192 blocks (4 Mbytes).</p></dd>
</dl>

<ul><li><p>For overview information about how to create RAID-1 volumes during your installation, see <a href="http://docs.sun.com/doc/820-0157/mirroroverview-1?a=view">Chapter 8, Creating RAID-1 Volumes (Mirrors) During Installation (Overview), in <i>Solaris Express Installation Guide: Planning for Installation and Upgrade</i></a>.</p></li>
<li><p>For guidelines and requirements about creating RAID-1 volumes, see <a href="http://docs.sun.com/doc/820-0157/mirrorplanning-1?a=view">Chapter 9, Creating RAID-1 Volumes (Mirrors) During Installation (Planning), in <i>Solaris Express Installation Guide: Planning for Installation and Upgrade</i></a>.</p></li>
<li><p><a name="indexterm-40"></a>For descriptions of keyword values, see <a href="preparecustom-24696.html#jumpstartreference-mirror"><tt>filesys</tt> Profile Keyword (Creating RAID-1 Volumes)</a> and <a href="preparecustom-24696.html#jumpstartreference-metadb"><tt>metadb</tt> Profile Keyword (Creating State Database Replicas)</a>.</p></li></ul>
<a name="preparecustom-ex-svm"></a>Example&nbsp;3-14 Creating RAID-1 Volumes to Mirror Multiple File Systems<p>In the following example, the profile indicates that the custom JumpStart program uses
Solaris Volume Manager technology to create RAID-1 volumes (mirrors) for the root (<tt>/</tt>),
<tt>swap</tt>, and <tt>/usr</tt> file systems.</p><pre># profile keywords        profile values
# ----------------        -------------------
  install_type            initial_install
  cluster                 SUNWCXall
  filesys                 mirror:d100 c0t1d0s0 c0t0d0s0 200 /
  filesys                 c0t1d0s5 500 /var
  filesys                 c0t0d0s5 500
  filesys                 mirror c0t0d0s1 512 swap
  metadb                  c0t0d0s3 size 8192 count 5
  filesys                 mirror c0t1d0s4 c0t0d0s4 2000 /usr
  filesys                 c0t1d0s7 free /export/home
  filesys                 c0t0d0s7 free</pre><p>The following list describes some of the keywords and values from this example.</p><dl><dt><tt>cluster</tt></dt>
<dd><p>The Entire Solaris Software Plus OEM Support software group, SUNWCXall, is installed on the system.</p></dd>
<dt><tt>filesys</tt></dt>
<dd><p>The root (<tt>/</tt>) file system is created and mirrored on the slices <tt>c0t1d0s0</tt> and <tt>c0t0d0s0</tt>. The size of the root (<tt>/</tt>) file system is set to 200 Mbytes. The RAID-1 volume that mirrors <tt>c0t1d0s0</tt> and <tt>c0t0d0s0</tt> is named <tt>d100</tt>.</p></dd>
<dt><tt>filesys</tt></dt>
<dd><p>The <tt>/var</tt> file system is installed on the slice <tt>c0t1d0s5</tt> and is sized at 500 Mbytes. The root (<tt>/</tt>) file system is created and mirrored on the slices <tt>c0t1d0s0</tt> and <tt>c0t0d0s0</tt>. The size of the root (<tt>/</tt>) file system is set to 200 Mbytes. The RAID-1 volume that mirrors <tt>c0t1d0s0</tt> and <tt>c0t0d0s0</tt> is named <tt>d100</tt>.</p></dd>
<dt><tt>filesys</tt></dt>
<dd><p>The <tt>swap</tt> file system is created and mirrored on the slice <tt>c0t0d0s1</tt>, and is sized at 512 Mbytes. The custom JumpStart program assigns a name to the mirror.</p></dd>
<dt><tt>metadb</tt></dt>
<dd><p>Five state database replicas (metadbs) are installed on slice <tt>c0t0d0s3</tt>, and are sized at 8192 blocks (4 Mbytes).</p></dd>
<dt><tt>filesys</tt></dt>
<dd><p>The <tt>/usr</tt> file system is created and mirrored on the slices <tt>c0t1d0s4</tt> and <tt>c0t0d0s4</tt>. The size of the <tt>/usr</tt> file system is set to 2000 Mbytes. The custom JumpStart program assigns a name to the mirror.</p></dd>
</dl>

<ul><li><p>For overview information about how to create mirrored file systems during your installation, see <a href="http://docs.sun.com/doc/820-0157/mirroroverview-1?a=view">Chapter 8, Creating RAID-1 Volumes (Mirrors) During Installation (Overview), in <i>Solaris Express Installation Guide: Planning for Installation and Upgrade</i></a>.</p></li>
<li><p>For guidelines and requirements of creating mirrored file systems, see <a href="http://docs.sun.com/doc/820-0157/mirrorplanning-1?a=view">Chapter 9, Creating RAID-1 Volumes (Mirrors) During Installation (Planning), in <i>Solaris Express Installation Guide: Planning for Installation and Upgrade</i></a>.</p></li>
<li><p>For descriptions of keyword values, see <a href="preparecustom-24696.html#jumpstartreference-mirror"><tt>filesys</tt> Profile Keyword (Creating RAID-1 Volumes)</a> and <a href="preparecustom-24696.html#jumpstartreference-metadb"><tt>metadb</tt> Profile Keyword (Creating State Database Replicas)</a>.</p></li></ul>
<a name="preparecustom-82"></a>Example&nbsp;3-15 x86: Using the <tt>fdisk</tt> Keyword<pre># profile keywords      profile values
# ----------------      -------------------
  install_type          initial_install
  system_type           standalone

  fdisk                 c0t0d0 0x04 delete
  fdisk                 c0t0d0 solaris maxfree
  cluster               SUNWCall
  cluster               SUNWCacc delete</pre><p>The following list describes some of the keywords and values from this example.</p><dl><dt><tt>fdisk</tt></dt>
<dd><p>All <tt>fdisk</tt> partitions of type DOSOS16 (04 hexadecimal) are deleted from the <tt>c0t0d0</tt> disk.</p></dd>
<dt><tt>fdisk</tt></dt>
<dd><p>A Solaris <tt>fdisk</tt> partition is created on the largest contiguous free space on the <tt>c0t0d0</tt> disk.</p></dd>
<dt><tt>cluster</tt></dt>
<dd><p>The Entire Distribution software group, <tt>SUNWCall</tt>, is installed on the system.</p></dd>
<dt><tt>cluster</tt></dt>
<dd><p>The system accounting utilities, <tt>SUNWCacc</tt>, are not to be installed on the system.</p></dd>
</dl>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="preparecustom-56059.html">Previous</a>
             </td>
             <td align="right">
                 <a href="preparecustom-25808.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

