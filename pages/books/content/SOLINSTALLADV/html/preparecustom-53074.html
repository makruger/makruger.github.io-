<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Creating a Profile Diskette for Standalone Systems - Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="preparecustom-88630.html">Previous</a>
             </td>
             <td align="right">
                 <a href="preparecustom-56059.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="epucy.html">Part&nbsp;I&nbsp;Using Custom JumpStart</a></p>
<p class="toc level2"><a href="intro-1.html">1.&nbsp;&nbsp;Where to Find Solaris Installation Planning Information</a></p>
<p class="toc level2"><a href="jumpstartoverview-4.html">2.&nbsp;&nbsp;Custom JumpStart (Overview)</a></p>
<p class="toc level2"><a href="preparecustom-56440.html">3.&nbsp;&nbsp;Preparing Custom JumpStart Installations (Tasks)</a></p>
<p class="toc level3"><a href="preparecustom-21142.html">Task Map: Preparing Custom JumpStart Installations</a></p>
<p class="toc level3"><a href="preparecustom-88630.html">Creating a Profile Server for Networked Systems</a></p>
<p class="toc level4"><a href="preparecustom-88630.html#preparecustom-29356">To Create a JumpStart Directory on a Server</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Creating a Profile Diskette for Standalone Systems</a></p>
<p class="toc level4"><a href="#preparecustom-55190">SPARC: To Create a Profile Diskette</a></p>
<p class="toc level4"><a href="#preparecustom-19234">x86: To Create a Profile Diskette With GRUB</a></p>
</div>
<p class="toc level3 tocsp"><a href="preparecustom-56059.html">Creating the <tt>rules</tt> File</a></p>
<p class="toc level4"><a href="preparecustom-56059.html#preparecustom-32674">To Create a <tt>rules</tt> File</a></p>
<p class="toc level3 tocsp"><a href="preparecustom-53442.html">Creating a Profile</a></p>
<p class="toc level4"><a href="preparecustom-53442.html#preparecustom-26130">To Create a Profile</a></p>
<p class="toc level3 tocsp"><a href="preparecustom-25808.html">Testing a Profile</a></p>
<p class="toc level4"><a href="preparecustom-25808.html#preparecustom-25">To Create a Temporary Solaris Environment to Test a Profile</a></p>
<p class="toc level4"><a href="preparecustom-25808.html#preparecustom-11884">To Test a Profile</a></p>
<p class="toc level3 tocsp"><a href="preparecustom-50536.html">Validating the <tt>rules</tt> File</a></p>
<p class="toc level4"><a href="preparecustom-50536.html#preparecustom-91711">To Validate the <tt>rules</tt> File</a></p>
<p class="toc level2 tocsp"><a href="optionalcustom-29530.html">4.&nbsp;&nbsp;Using Optional Custom JumpStart Features (Tasks)</a></p>
<p class="toc level2"><a href="customprobes-1.html">5.&nbsp;&nbsp;Creating Custom Rule and Probe Keywords (Tasks)</a></p>
<p class="toc level2"><a href="customjump-88491.html">6.&nbsp;&nbsp;Performing a Custom JumpStart Installation (Tasks)</a></p>
<p class="toc level2"><a href="customjumpsample-1.html">7.&nbsp;&nbsp;Installing With Custom JumpStart (Examples)</a></p>
<p class="toc level2"><a href="jumpstartreference-1.html">8.&nbsp;&nbsp;Custom JumpStart (Reference)</a></p>
<p class="toc level1 tocsp"><a href="epucz.html">Part&nbsp;II&nbsp;Appendixes</a></p>
<p class="toc level2"><a href="troubleshooting-9.html">A.&nbsp;&nbsp;Troubleshooting (Tasks)</a></p>
<p class="toc level2"><a href="package-9.html">B.&nbsp;&nbsp;Additional SVR4 Packaging Requirements (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="preparecustom-53074"></a><h3>Creating a Profile Diskette for Standalone Systems</h3>
<p><a name="preparecustom-ix263"></a><a name="preparecustom-ix264"></a><a name="preparecustom-ix265"></a>A diskette that contains a JumpStart directory is called a profile diskette. A system
that is not connected to the network does not have access to
a profile server.  As a result, you must create a JumpStart directory
on a diskette if a system is not connected to a network. The
system on which you create a profile diskette must have a diskette drive.
</p><p><a name="preparecustom-ix266"></a><a name="preparecustom-ix267"></a><a name="preparecustom-ix268"></a>The JumpStart directory contains all of the essential custom JumpStart files, for example, the
<tt>rules</tt> file, <tt>rules.ok</tt> file, and profiles. You must save the JumpStart directory in
the root (<tt>/</tt>) directory of the profile diskette.</p><p>See one of the following procedures:</p>
<ul><li><p><a href="#preparecustom-55190">SPARC: To Create a Profile Diskette</a></p></li>
<li><p><a href="#preparecustom-19234">x86: To Create a Profile Diskette With GRUB</a></p></li></ul>


<a name="preparecustom-55190"></a><h4>SPARC: To Create a Profile Diskette</h4>
<hr><p><b>Note - </b>This procedure assumes that the system is running removable media services. If you
have questions about removable media services that manage discs, refer to <a href="http://docs.sun.com/doc/819-2723"><i>System Administration Guide: Devices and File Systems</i></a> for detailed
information.</p>
<hr>
<ol>
<li><a name="preparecustom-step-22a"></a><b>Locate a SPARC based system to which a diskette drive is attached.</b></li>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><a name="preparecustom-step-23a"></a><b>Insert a blank diskette or a diskette that can be overwritten in the
diskette drive.</b></li>
<li><a name="preparecustom-step-24"></a><b><a name="preparecustom-ix315"></a>Mount the diskette. </b><pre># <tt><b>volcheck</b></tt></pre></li>
<li><a name="preparecustom-step-25"></a><b>Determine if the diskette contains a UNIX file system (UFS).</b><p><a name="preparecustom-ix317"></a><a name="preparecustom-ix318"></a>Examine the contents of the file <tt>/etc/mnttab</tt> on the system for an entry such
as the following: </p><pre>/vol/dev/diskette0/scrap  /floppy/scrap  ufs  suid,rw,largefiles,dev=1740008  927147040</pre>
<ul><li><p>If the entry exists, go to <a href="#preparecustom-step-17">Step&nbsp;7</a>.</p></li>
<li><p>If the entry does not exist, go to the next step.</p></li></ul>
</li>
<li><a name="preparecustom-step-27"></a><b><a name="preparecustom-ix322"></a><a name="preparecustom-ix323"></a><a name="preparecustom-ix324"></a>Create a UFS on the diskette.</b><pre># <tt><b>newfs /vol/dev/aliases/floppy0</b></tt></pre></li>
<li><a name="preparecustom-step-17"></a><b>Determine if you want to copy examples of custom JumpStart files to your
JumpStart directory.</b>
<ul><li><p>If no, go to <a href="#preparecustom-step-13">Step&nbsp;10</a>.</p></li>
<li><p>If yes, use the following decision table to determine what to do next.</p></li></ul>
<table><col width="132*"><col width="264*"><tr><th align="left" valign="top" scope="column"><p>Example Locations</p></th>
<th align="left" valign="top" scope="column"><p>Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>The Solaris Operating System for SPARC Platforms DVD or the Solaris
Software for SPARC Platforms - 1 CD </p></td>
<td align="left" valign="top" scope="row"><p>Insert the Solaris Operating System
for SPARC Platforms DVD or the Solaris Software for SPARC Platforms -
1 CD into the server's CD-ROM drive.</p><p>Removable media services automatically mounts the CD or
DVD.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-6"></a><a name="indexterm-7"></a>An image of the Solaris Operating System for SPARC Platforms DVD or
the Solaris Software for SPARC Platforms - 1 CD on a local disk</p></td>
<td align="left" valign="top" scope="row"><p>Change
the directory to the location of the Solaris Operating System for SPARC
Platforms DVD or the Solaris Software for SPARC Platforms - 1 CD
image. For example, type the following command:</p><pre><tt><b>cd /export/install</b></tt></pre></td>
</tr>
</table></li>
<li><a name="preparecustom-step-18"></a><b><a name="indexterm-8"></a><a name="indexterm-9"></a><a name="indexterm-10"></a><a name="indexterm-11"></a><a name="indexterm-12"></a>Copy the example custom JumpStart files into the JumpStart directory on the profile
diskette.</b><pre># <tt><b>cp -r </tt><i>media_path</i><tt>/Solaris_11/Misc/jumpstart_sample/* </tt><i>jumpstart_dir_path</i><tt></b></tt></pre><dl><dt><i>media_path</i></dt>
<dd><p>The path to the CD, DVD, or image on the local disk</p></dd>
<dt><i>jumpstart_dir_path</i></dt>
<dd><p>The path to the profile diskette where you want to place the example custom JumpStart files</p></dd>
</dl>

<hr><p><b>Note - </b>You must place all custom JumpStart installation files in the root (<tt>/</tt>) directory
on the diskette.</p>
<hr>
<p>For example, the following command copies the contents of <tt>jumpstart_sample</tt> on the
Solaris Software for SPARC Platforms - 1 CD to the root (<tt>/</tt>) directory
on a profile diskette  that is named <tt>scrap</tt>:</p><pre><tt><b>cp -r /media/cdrom/s0/Solaris_11/Misc/jumpstart_sample/* /floppy/scrap</b></tt></pre></li>
<li><a name="preparecustom-step-19a"></a><b>Update the example JumpStart files on the profile diskette so that the files
work in your environment.</b></li>
<li><a name="preparecustom-step-13"></a><b>Ensure that <tt>root</tt> owns the JumpStart directory and that permissions are set to
755.</b></li>
<li><a name="preparecustom-step-28a"></a><b>Eject the diskette.</b><pre># <tt><b>eject floppy</b></tt></pre><p>You have completed the creation of a profile diskette. You can now
update the <tt>rules</tt> file and create profiles on the profile diskette to perform custom
JumpStart installations. To continue, go to <a href="preparecustom-56059.html">Creating the <tt>rules</tt> File</a>. </p></li></ol>

<a name="preparecustom-19234"></a><h4>x86: To Create a Profile Diskette With GRUB</h4><p><a name="indexterm-13"></a><a name="indexterm-14"></a>Use this procedure to create a profile diskette with GRUB. A GRUB menu
is provided during the installation procedure that enables the boot process. The GRUB
menu replaces the Solaris Device Configuration Assistant that might have been needed to
boot a system in past releases.</p>
<hr><p><b>Note - </b>This procedure assumes that the system is running removable media services. If you
have questions about removable media services that manage discs, refer to <a href="http://docs.sun.com/doc/819-2723"><i>System Administration Guide: Devices and File Systems</i></a> for
detailed information.</p>
<hr>
<ol>
<li><a name="preparecustom-step-5"></a><b>Locate an x86 based system to which a diskette drive is attached.</b></li>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><a name="preparecustom-step-10a"></a><b>Insert a blank diskette or a diskette that can be overwritten into the
diskette drive.</b></li>
<li><a name="preparecustom-step-11"></a><b><a name="indexterm-15"></a>Mount the diskette. </b><pre># <tt><b>volcheck</b></tt></pre></li>
<li><a name="preparecustom-step-20"></a><b>Determine if you want to copy examples of custom JumpStart files to your
JumpStart directory.</b>
<ul><li><p>If no, go to <a href="#preparecustom-step-21">Step&nbsp;8</a>.</p></li>
<li><p>If yes, use the following decision table to determine what to do next.</p></li></ul>
<table><col width="132*"><col width="264*"><tr><th align="left" valign="top" scope="column"><p>Example Locations</p></th>
<th align="left" valign="top" scope="column"><p>Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>The Solaris Operating System for x86 Platforms DVD or the Solaris
Software for x86 Platforms - 1 CD </p></td>
<td align="left" valign="top" scope="row"><p>Insert the Solaris Operating System
for x86 Platforms DVD or the Solaris Software for x86 Platforms -
1 CD into the server's CD-ROM drive.</p><p>Removable media services automatically mounts the DVD or
CD.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-16"></a><a name="indexterm-17"></a>An image of the Solaris Operating System for x86 Platforms DVD or the
Solaris Software for x86 Platforms - 1 CD on a local disk 
</p></td>
<td align="left" valign="top" scope="row"><p>Change directory to the location of the Solaris Operating System for x86
Platforms DVD or the Solaris Software for x86 Platforms - 1 CD
image. For example, type the following:</p><pre>cd /export/install</pre></td>
</tr>
</table></li>
<li><a name="preparecustom-step-21a"></a><b><a name="indexterm-18"></a><a name="indexterm-19"></a><a name="indexterm-20"></a><a name="indexterm-21"></a><a name="indexterm-22"></a>Copy the example custom JumpStart files into the JumpStart directory on the profile
diskette.    </b><pre># <tt><b>cp -r </tt><i>media_path</i><tt>/Solaris_11/Misc/jumpstart_sample/* </tt><i>jumpstart_dir_path</i><tt></b></tt></pre><dl><dt><i>media_path</i></dt>
<dd><p>The path to the CD, DVD, or image on the local disk</p></dd>
<dt><i>jumpstart_dir_path</i></dt>
<dd><p>The path to the profile diskette where you want to place the example custom JumpStart files</p></dd>
</dl>

<hr><p><b>Note - </b>You must place all custom JumpStart installation files in the root (<tt>/</tt>) directory
on the profile diskette.</p>
<hr>
<p>For example, the following command copies the contents of <tt>jumpstart_sample</tt> on the
Solaris Software for x86 Platforms - 1 CD to the root (<tt>/</tt>) directory
on a profile diskette that is named <tt>scrap</tt>:</p><pre><tt><b>cp -r /media/cdrom/Solaris_11/Misc/jumpstart_sample/* /floppy/scrap</b></tt></pre></li>
<li><a name="preparecustom-step-22b"></a><b>Update the example JumpStart files on the profile diskette so that the files
work in your environment.</b></li>
<li><a name="preparecustom-step-21"></a><b>Ensure that <tt>root</tt> owns the JumpStart directory and that permissions are set to
755.</b></li>
<li><a name="preparecustom-step-29"></a><b>Eject the diskette by clicking Eject Disk in the File Manager window or
by typing <tt>eject floppy</tt> on the command line.</b></li>
<li><a name="preparecustom-step-30"></a><b>In the Removable Media Manager dialog box, click OK.</b></li>
<li><a name="preparecustom-step-31"></a><b>Manually eject the diskette.</b></li></ol><h6>See Also</h6><p>You have completed the creation of a profile diskette. Now you can
update the <tt>rules</tt> file and create profiles on the profile diskette to perform custom
JumpStart installations. To continue, go to <a href="preparecustom-56059.html">Creating the <tt>rules</tt> File</a>. </p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="preparecustom-88630.html">Previous</a>
             </td>
             <td align="right">
                 <a href="preparecustom-56059.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

