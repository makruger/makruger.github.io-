<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Validating the <tt>rules</tt> File - Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="preparecustom-25808.html">Previous</a>
             </td>
             <td align="right">
                 <a href="optionalcustom-29530.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="epucy.html">Part&nbsp;I&nbsp;Using Custom JumpStart</a></p>
<p class="toc level2"><a href="intro-1.html">1.&nbsp;&nbsp;Where to Find Solaris Installation Planning Information</a></p>
<p class="toc level2"><a href="jumpstartoverview-4.html">2.&nbsp;&nbsp;Custom JumpStart (Overview)</a></p>
<p class="toc level2"><a href="preparecustom-56440.html">3.&nbsp;&nbsp;Preparing Custom JumpStart Installations (Tasks)</a></p>
<p class="toc level3"><a href="preparecustom-21142.html">Task Map: Preparing Custom JumpStart Installations</a></p>
<p class="toc level3"><a href="preparecustom-88630.html">Creating a Profile Server for Networked Systems</a></p>
<p class="toc level4"><a href="preparecustom-88630.html#preparecustom-29356">To Create a JumpStart Directory on a Server</a></p>
<p class="toc level3 tocsp"><a href="preparecustom-53074.html">Creating a Profile Diskette for Standalone Systems</a></p>
<p class="toc level4"><a href="preparecustom-53074.html#preparecustom-55190">SPARC: To Create a Profile Diskette</a></p>
<p class="toc level4"><a href="preparecustom-53074.html#preparecustom-19234">x86: To Create a Profile Diskette With GRUB</a></p>
<p class="toc level3 tocsp"><a href="preparecustom-56059.html">Creating the <tt>rules</tt> File</a></p>
<p class="toc level4"><a href="preparecustom-56059.html#preparecustom-32674">To Create a <tt>rules</tt> File</a></p>
<p class="toc level3 tocsp"><a href="preparecustom-53442.html">Creating a Profile</a></p>
<p class="toc level4"><a href="preparecustom-53442.html#preparecustom-26130">To Create a Profile</a></p>
<p class="toc level3 tocsp"><a href="preparecustom-25808.html">Testing a Profile</a></p>
<p class="toc level4"><a href="preparecustom-25808.html#preparecustom-25">To Create a Temporary Solaris Environment to Test a Profile</a></p>
<p class="toc level4"><a href="preparecustom-25808.html#preparecustom-11884">To Test a Profile</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Validating the <tt>rules</tt> File</a></p>
<p class="toc level4"><a href="#preparecustom-91711">To Validate the <tt>rules</tt> File</a></p>
</div>
<p class="toc level2 tocsp"><a href="optionalcustom-29530.html">4.&nbsp;&nbsp;Using Optional Custom JumpStart Features (Tasks)</a></p>
<p class="toc level2"><a href="customprobes-1.html">5.&nbsp;&nbsp;Creating Custom Rule and Probe Keywords (Tasks)</a></p>
<p class="toc level2"><a href="customjump-88491.html">6.&nbsp;&nbsp;Performing a Custom JumpStart Installation (Tasks)</a></p>
<p class="toc level2"><a href="customjumpsample-1.html">7.&nbsp;&nbsp;Installing With Custom JumpStart (Examples)</a></p>
<p class="toc level2"><a href="jumpstartreference-1.html">8.&nbsp;&nbsp;Custom JumpStart (Reference)</a></p>
<p class="toc level1 tocsp"><a href="epucz.html">Part&nbsp;II&nbsp;Appendixes</a></p>
<p class="toc level2"><a href="troubleshooting-9.html">A.&nbsp;&nbsp;Troubleshooting (Tasks)</a></p>
<p class="toc level2"><a href="package-9.html">B.&nbsp;&nbsp;Additional SVR4 Packaging Requirements (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="preparecustom-50536"></a><h3>Validating the <tt>rules</tt> File</h3>
<p>Before you can use a profile and <tt>rules</tt> file, you must run the
<tt>check</tt> script to validate that the files are set up correctly. If all
rules and profiles are correctly set up, the <tt>rules.ok</tt> file is created,
which is required by the custom JumpStart installation software to match a system
to a profile. </p><p><a name="preparecustom-ix738"></a><a name="preparecustom-ix740"></a><a name="preparecustom-ix741"></a><a name="preparecustom-ix742"></a><a name="preparecustom-ix743"></a><a name="preparecustom-ix744"></a><a href="#preparecustom-11535">Table&nbsp;3-2</a> describes what the <tt>check</tt> script does.     
</p><a name="preparecustom-11535"></a><h6>Table&nbsp;3-2 What Happens When You Use the <tt>check</tt> Script</h6><table><col width="44*"><col width="352*"><tr><th align="left" valign="top" scope="column"><p>Stage</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>1</p></td>
<td align="left" valign="top" scope="row"><p>The <tt>rules</tt> file is checked for syntax.</p><p></p><p><tt>check</tt> verifies that the rule keywords
are legitimate and that the <i>begin</i>, <i>class</i>, and <i>finish</i> fields are specified for each
rule. The <i>begin</i> and <i>finish</i> fields can consist of a minus sign (<tt>-</tt>) instead
of a file name.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>2</p></td>
<td align="left" valign="top" scope="row"><p>If no errors are found in the <tt>rules</tt> file,
each profile that is specified in the rules is checked for syntax. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>3</p></td>
<td align="left" valign="top" scope="row"><p><a name="preparecustom-ix748"></a><a name="preparecustom-ix749"></a><a name="preparecustom-ix750"></a>If
no errors are found, <tt>check</tt> creates the <tt>rules.ok</tt> file from the <tt>rules</tt>
file, removes all comments and blank lines, retains all rules, and adds the
following comment line at the end:   </p><p><tt># version=2 checksum=num</tt></p></td>
</tr>
</table>

<a name="preparecustom-91711"></a><h4>To Validate the <tt>rules</tt> File</h4><ol>
<li><a name="preparecustom-step-76"></a><b><a name="preparecustom-ix751"></a>Ensure that the <tt>check</tt> script is located in the JumpStart directory. </b>
<hr><p><b>Note - </b><a name="preparecustom-ix752"></a>The <tt>check</tt> script is in the <tt>Solaris_11/Misc/jumpstart_sample</tt> directory on the Solaris Operating
System DVD or on the Solaris Software - 1 CD.</p>
<hr>
</li>
<li><a name="preparecustom-step-77"></a><b><a name="preparecustom-ix753"></a><a name="preparecustom-ix754"></a>Change the directory to the JumpStart directory. </b></li>
<li><a name="preparecustom-step-78"></a><b><a name="preparecustom-ix755"></a><a name="preparecustom-ix756"></a>Run the <tt>check</tt> script to validate the <tt>rules</tt> file:</b><pre>$ <tt><b>./check</b></tt> <tt><b>-p</b></tt> <i>path</i> <tt><b>-r</b></tt> <i>file_name</i></pre><dl><dt><tt>-p</tt> <i>path</i></dt>
<dd><p>Validates the <tt>rules</tt> by using the <tt>check</tt> script from the Solaris software image instead of the <tt>check</tt> script from the system you are using. <i>path</i> is the image on a local disk or a mounted Solaris Operating System DVD or a Solaris Software - 1 CD.</p><p><a name="preparecustom-ix757"></a><a name="preparecustom-ix758"></a><a name="preparecustom-ix759"></a><a name="preparecustom-ix760"></a><a name="preparecustom-ix761"></a><a name="preparecustom-ix762"></a>Use this option to run the most recent version of <tt>check</tt> if your system is running a previous version of Solaris.</p></dd>
<dt><tt>-r</tt> <i>file_name</i></dt>
<dd><p>Specifies a rules file other than the one that is named <tt>rules</tt>. Using this option, you can test the validity of a rule before you integrate the rule into the <tt>rules</tt> file. </p></dd>
</dl>
<p><a name="preparecustom-ix763"></a><a name="preparecustom-ix764"></a><a name="preparecustom-ix765"></a><a name="preparecustom-ix766"></a>As the <tt>check</tt> script runs, the script reports the checking of the validity
of the <tt>rules</tt> file and each profile. If no errors are encountered, the
script reports the following information.    </p><pre>The custom JumpStart configuration is ok</pre></li>
<li><a name="preparecustom-step-21b"></a><b><a name="preparecustom-ix767"></a><a name="preparecustom-ix768"></a><a name="preparecustom-ix769"></a>Ensure that <tt>root</tt> owns the <tt>rules.ok</tt> file and that the permissions are set
to 644.</b></li></ol><h6>See Also</h6><p>After you validate the <tt>rules</tt> file, you can learn more about optional custom
JumpStart features in <a href="optionalcustom-29530.html">Chapter&nbsp;4, Using Optional Custom JumpStart Features (Tasks)</a>.  You can learn about performing custom JumpStart installations
in <a href="customjump-88491.html">Chapter&nbsp;6, Performing a Custom JumpStart Installation (Tasks)</a>.  </p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="preparecustom-25808.html">Previous</a>
             </td>
             <td align="right">
                 <a href="optionalcustom-29530.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

