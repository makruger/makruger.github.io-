<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Verifying the Integrity of a Package - Application Packaging Developer's Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-09-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">Application Packaging Developer's Guide</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ch4verifypkg-2.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ch4verifypkg-35.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-10.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="ch1designpkg-51728.html">1.&nbsp;&nbsp;Designing  a Package</a></p>
<p class="toc level1 tocsp"><a href="ch2buildpkg-22939.html">2.&nbsp;&nbsp;Building a Package</a></p>
<p class="toc level1 tocsp"><a href="ch3enhancepkg-11350.html">3.&nbsp;&nbsp;Enhancing the Functionality of a Package (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ch4verifypkg-18395.html">4.&nbsp;&nbsp;Verifying and Transferring a Package</a></p>
<p class="toc level2"><a href="ch4verifypkg-13.html">Verifying and Transferring a Package (Task Map)</a></p>
<p class="toc level2"><a href="ch4verifypkg-2.html">Installing Software Packages</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Verifying the Integrity of a Package</a></p>
</div>
<p class="toc level2"><a href="ch4verifypkg-35.html">Displaying Additional Information About Installed Packages</a></p>
<p class="toc level2"><a href="ch4verifypkg-34.html">Removing a Package</a></p>
<p class="toc level2"><a href="ch4verifypkg-32.html">Transferring a Package to a Distribution Medium</a></p>
<p class="toc level1 tocsp"><a href="ch5pkgcasestudies-80583.html">5.&nbsp;&nbsp;Case Studies of Package Creation</a></p>
<p class="toc level1 tocsp"><a href="ch6advtech-96543.html">6.&nbsp;&nbsp;Advanced Techniques for Creating Packages</a></p>
<p class="toc level1 tocsp"><a href="gloss-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="ch4verifypkg-39428"></a><h3>Verifying the Integrity of a Package</h3>
<p><a name="indexterm-212"></a><a name="ch4verifypkg-ix96"></a><a name="indexterm-213"></a><a name="ch4verifypkg-ix97"></a>The <tt>pkgchk</tt> command enables you to check the integrity of packages, whether they
are installed on a system or in package format (ready to be
installed with the <tt>pkgadd</tt> command). It confirms package structure or the installed
files and directories, or displays information about package objects. The <tt>pkgchk</tt> command can list
or check the following:  </p>
<ul><li><p>The package installation scripts.</p></li>
<li><p>The contents or attributes, or both, of objects currently installed on the system.</p></li>
<li><p>The contents of a spooled, uninstalled package.</p></li>
<li><p><a name="indexterm-214"></a>The contents or attributes, or both, of objects described in the specified <tt>pkgmap</tt> file.</p></li></ul>
<p>For more information about this command, refer to <a href="http://docs.sun.com/doc/816-5166/pkgchk-1m?a=view"><tt>pkgchk</tt>(1M)</a>.</p><p>The <tt>pkgchk</tt> command performs two kinds of checks. It checks file attributes (the
permissions and ownership of a file and major/minor numbers for block or character
special devices) and the file contents (the size, checksum, and modification date). By
default, the command checks both the file attributes and the file contents. </p><p>The <tt>pkgchk</tt> command also compares the file attributes and contents of the installed
package against the installation software database. The entries concerning a package may have
been changed since the time of installation; for example, another package may have
changed a package component. The database reflects that change. </p>

<a name="ch4verifypkg-62"></a><h4>How to Verify the Integrity of a Package</h4><ol>
<li><a name="ch4verifypkg-step-29"></a><b>Install your package.</b><p>See <a href="ch4verifypkg-2.html#ch4verifypkg-61">How to Install a Package on a Standalone System or Server</a>, if needed.</p></li>
<li><a name="ch4verifypkg-step-30"></a><b>Verify the integrity of your package.</b><pre># <tt><b>pkgchk </b></tt> [<tt><b>-v</b></tt>] [<tt><b>-R</b></tt> <i>root-path</i>] [<i>pkg-abbrev</i>...]</pre><table><col width="33%"><col width="66%"><tr><td align="left" valign="top" scope="row"><p><tt>-v</tt></p></td>
<td align="left" valign="top" scope="row"><p>Lists files as they are processed.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-R</tt> <i>root-path</i></p></td>
<td align="left" valign="top" scope="row"><p>Specifies
the location of the client system's root file system.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><i>pkg-abbrev</i></p></td>
<td align="left" valign="top" scope="row"><p>Is the name of
one or more packages (separated by spaces) to be checked. If omitted, <tt>pkgchk</tt>
checks all available packages.</p></td>
</tr>
</table></li></ol><a name="ch4verifypkg-42"></a><h6>Example&nbsp;4-2 Verifying the Integrity of a Package</h6><p>This example shows the command you should use to verify the integrity of
an installed package.</p><pre>$ <tt><b>pkgchk</b></tt> <i>pkg-abbrev</i>
$</pre><p>If there are errors, the <tt>pkgchk</tt> command prints them. Otherwise, it does not
print anything and returns an exit code of 0. If you do
not supply a package abbreviation, then it will check all of the packages
on the system.</p><p>Alternately, you could use the <tt>-v</tt> option, which will print a list of
files in the package if there are no errors. For example:</p><pre>$ <tt><b>pkgchk -v SUNWcadap</b></tt>
/opt/SUNWcadap
/opt/SUNWcadap/demo
/opt/SUNWcadap/demo/file1
/opt/SUNWcadap/lib
/opt/SUNWcadap/lib/file2
/opt/SUNWcadap/man
/opt/SUNWcadap/man/man1
/opt/SUNWcadap/man/man1/file3.1
/opt/SUNWcadap/man/man1/file4.1
/opt/SUNWcadap/man/windex
/opt/SUNWcadap/srcfiles
/opt/SUNWcadap/srcfiles/file5
/opt/SUNWcadap/srcfiles/file6
$</pre><p>If you need to verify a package that is installed on a
client system's root file system, use this command:</p><pre>$ <tt><b>pkgchk -v -R</b></tt> <i>root-path</i> <i>pkg-abbrev</i></pre><h6>See Also</h6><p>If you are ready to go to the next task, see <a href="ch4verifypkg-35.html#ch4verifypkg-65">How to Obtain Information With the <tt>pkginfo</tt> Command</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ch4verifypkg-2.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ch4verifypkg-35.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

