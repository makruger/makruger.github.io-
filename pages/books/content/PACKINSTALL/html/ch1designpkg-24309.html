<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Package Components - Application Packaging Developer's Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-09-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">Application Packaging Developer's Guide</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ch1designpkg-30852.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ch1designpkg-28244.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-10.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="ch1designpkg-51728.html">1.&nbsp;&nbsp;Designing  a Package</a></p>
<p class="toc level2"><a href="ch1designpkg-13.html">Where to Find Packaging Tasks</a></p>
<p class="toc level2"><a href="ch1designpkg-30852.html">What Are Packages?</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Package Components</a></p>
</div>
<p class="toc level2"><a href="ch1designpkg-28244.html">Considerations Before Building a Package</a></p>
<p class="toc level2"><a href="gheph.html">Image Packaging System (IPS) Packages</a></p>
<p class="toc level2"><a href="ch1designpkg-21979.html">Packaging Commands, Files, and Scripts</a></p>
<p class="toc level1 tocsp"><a href="ch2buildpkg-22939.html">2.&nbsp;&nbsp;Building a Package</a></p>
<p class="toc level1 tocsp"><a href="ch3enhancepkg-11350.html">3.&nbsp;&nbsp;Enhancing the Functionality of a Package (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ch4verifypkg-18395.html">4.&nbsp;&nbsp;Verifying and Transferring a Package</a></p>
<p class="toc level1 tocsp"><a href="ch5pkgcasestudies-80583.html">5.&nbsp;&nbsp;Case Studies of Package Creation</a></p>
<p class="toc level1 tocsp"><a href="ch6advtech-96543.html">6.&nbsp;&nbsp;Advanced Techniques for Creating Packages</a></p>
<p class="toc level1 tocsp"><a href="gloss-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="ch1designpkg-24309"></a><h3>Package Components</h3>
<p>The components of a package fall into two categories.</p>
<ul><li><p><b>package objects</b> are the application files to be installed.</p></li>
<li><p><b>control files</b> control how, where, and if the package is installed.</p></li></ul>
<p><a name="ch1designpkg-ix3"></a><a name="ch1designpkg-ix4"></a><a name="indexterm-3"></a><a name="indexterm-4"></a><a name="indexterm-5"></a>The control files are also divided into two categories: <b>information files</b> and <b>installation scripts</b>. Some
control files are required. Some control files are optional.  </p><p><a name="indexterm-6"></a>To package your applications, you must first create the required components, and any optional
components, that make up your package. You can then build the package by
using the <tt>pkgmk</tt> command.</p><p>To build a package, you must provide the following:</p>
<ul><li><p>Package objects (the application software's files and directories)</p></li>
<li><p><a name="indexterm-7"></a><a name="indexterm-8"></a>Two required information files (the <tt>pkginfo</tt> and <tt>prototype</tt> files)</p></li>
<li><p>Optional information files</p></li>
<li><p>Optional installation scripts</p></li></ul>
<p>The following figure describes the contents of a package.</p><a name="ch1designpkg-fig-1"></a><h6>Figure&nbsp;1-1 <a name="ch1designpkg-17188"></a>The Contents of a Package</h6><img src="figures/ch1_designpkg.fig53.gif" alt="The preceding context and the following context describe the graphic."></img>

<a name="ch1designpkg-2"></a><h4>Required Package Components</h4>
<p><a name="ch1designpkg-ix5"></a><a name="ch1designpkg-ix6"></a><a name="ch1designpkg-ix7"></a>You must create the following components before you build your package: </p>
<ul><li><p>Package objects </p><p>These components make up the application. They can consist of the following items:</p>
<ul><li><p>Files (executable files or data files)</p></li>
<li><p>Directories</p></li>
<li><p>Named pipes </p></li>
<li><p>Links</p></li>
<li><p>Devices</p></li></ul>
</li>
<li><p>The <tt>pkginfo</tt> file </p><p><a name="ch1designpkg-ix8"></a>The <tt>pkginfo</tt> file is a required package information file that defines parameter values. Parameter values include the package abbreviation, the full package name, and the package architecture. For more information, see <a href="ch2buildpkg-11300.html">Creating a <tt>pkginfo</tt> File</a> and the <a href="http://docs.sun.com/doc/816-5174/pkginfo-4?a=view"><tt>pkginfo</tt>(4)</a> man page. </p>
<hr><p><b>Note - </b>There are two <a href="http://docs.sun.com/doc/816-5165/pkginfo-1?a=view"><tt>pkginfo</tt>(1)</a> man pages. The first man page describes a section 1 command that displays information about installed packages. The second man page describes a section 4 file that describes the characteristics of a package. When accessing the man pages, be sure to specify the applicable man page section. For example: <tt>man -s 4 pkginfo</tt>.</p>
<hr>
</li>
<li><p>The <tt>prototype</tt> file </p><p>The <tt>prototype</tt> file is a required package information file that lists the components of the package. One entry exists for each package object, information file, and installation script. An entry consists of several fields of information that describe each component, including its location, attributes, and file type. For more information, see <a href="ch2buildpkg-16803.html">Creating a <tt>prototype</tt> File</a> and the <a href="http://docs.sun.com/doc/816-5174/prototype-4?a=view"><tt>prototype</tt>(4)</a> man page.</p></li></ul>


<a name="ch1designpkg-3"></a><h4>Optional Package Components</h4>
<a name="ch1designpkg-ix10"></a><a name="ch1designpkg-ix11"></a>

<a name="ch1designpkg-12793"></a><h5>Package Information Files</h5>
<p>You can include four optional package information files in your package: </p>
<ul><li><p><a name="ch1designpkg-ix12"></a>The <tt>compver</tt> file </p><p>Defines previous versions of the package that are compatible with this version of your package. </p></li>
<li><p><a name="ch1designpkg-ix13"></a>The <tt>depend</tt> file </p><p>Indicates other packages that have a special relationship with your package. </p></li>
<li><p><a name="ch1designpkg-ix14"></a>The <tt>space</tt> file </p><p>Defines disk space requirements for the target environment, beyond what is required by the objects defined in the <tt>prototype</tt> file. For example, additional space might be needed for files that are dynamically created at installation time. </p></li>
<li><p><a name="ch1designpkg-ix15"></a>The <tt>copyright</tt> file </p><p>Defines the text for a copyright message that displays at the time of package installation. </p></li></ul>
<p>Each package information file should have an entry in the <tt>prototype</tt> file.
See <a href="ch3enhancepkg-31830.html">Creating Information Files</a> for more information on creating these files.</p>

<a name="ch1designpkg-4"></a><h5>Package Installation Scripts</h5>
<a name="ch1designpkg-ix16"></a><p>Installation scripts are not required. However, you can provide scripts that perform customized
actions during the installation of your package. An installation script has the following
characteristics:</p>
<ul><li><p>The script is composed of Bourne shell commands.</p></li>
<li><p>The script's file permissions should be set to 0644.</p></li>
<li><p>The script does not need to contain the shell identifier (<tt>#! /bin/sh</tt>).</p></li></ul>
<p><a name="indexterm-9"></a>The four script types are as follows:</p>
<ul><li><p>The <tt>request</tt> script </p><p><a name="indexterm-10"></a>The <tt>request</tt> script requests input from the administrator who is installing the package.</p></li>
<li><p>The <tt>checkinstall</tt> script</p><p><a name="indexterm-11"></a>The <tt>checkinstall</tt> script performs special file system verification.</p>
<hr><p><b>Note - </b>The <tt>checkinstall</tt> script is only available with the Solaris<sup>TM</sup> 2.5 release and compatible releases.</p>
<hr>
</li>
<li><p><a name="indexterm-12"></a>Procedure scripts</p><p><a name="indexterm-13"></a><b>Procedure scripts</b> define actions that occur at particular points during package installation and removal. You can create four procedure scripts with these predefined names: <tt>preinstall</tt>, <tt>postinstall</tt>, <tt>preremove</tt>, and <tt>postremove</tt>.</p></li>
<li><p><a name="indexterm-14"></a>Class action scripts</p><p><b>Class action scripts</b> define a set of actions to be performed on a group of objects.</p></li></ul>
<p>See <a href="ch3enhancepkg-10289.html">Creating Installation Scripts</a> for a more information on installation scripts.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ch1designpkg-30852.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ch1designpkg-28244.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

