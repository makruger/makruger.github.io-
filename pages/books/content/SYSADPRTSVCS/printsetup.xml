<?Pub UDT _bookmark _target?><?Pub UDT __target_1 _target?><?Pub UDT registeredtm trademark?><?Pub CX solbook(?><chapter id="printers-33230"><?Pub Tag atict:info tracking="on" ref="1"?><?Pub Tag
atict:user user="jonj" fullname="Juanita Heieck"?><?Pub Tag atict:user
user="jh118764" fullname="Juanita Heieck"?><?Pub Tag atict:user user="wsm"
fullname=""?><title>Setting Up Printers (Tasks)</title><indexterm id="printsetup-ix239"><primary>printers</primary><secondary>setting up</secondary>
</indexterm><highlights><para>This chapter describes how to set up the print services, as well as
how to set up printers and make those printers accessible to systems on the
network.</para><itemizedlist><para>This is a list of the information in this chapter:</para><listitem><para><olink targetptr="gfgzu" remap="internal">Introduction to Setting Up Printers</olink></para>
</listitem><listitem><para><olink targetptr="gfgxy" remap="internal">Setting Up Printers on a Print Server
(Task Map)</olink></para>
</listitem><listitem><para><olink targetptr="gfhlt" remap="internal">Setting Up Printers on a Print Client
(Task Map)</olink></para>
</listitem>
</itemizedlist><para>For overview information about printing, see <olink targetptr="printintro-1" remap="internal">Chapter&nbsp;1, Introduction to Printing in the Solaris
Operating System</olink>.</para>
</highlights><sect1 id="gfgzu"><title>Introduction to Setting Up Printers</title><para>A <emphasis>print server</emphasis> is a system on which
a print queue is configured and makes the printer available
to other systems on the network. A <emphasis>print client</emphasis> is a system that utilizes configured
print queues. For more information,
see <olink targetptr="printconcept-49" remap="internal">The Solaris Print Client-Server Process</olink>.</para><para>Printers can also be divided into two categories, local and remote.
A <emphasis>local printer</emphasis> refers to a print queue that has been
defined on a system that is local to you. A remote printer refers to a print
queue that is defined anywhere <emphasis>but</emphasis> your local system.
These terms do not have anything to do with whether the printer is physically
attached to a system or to the network, but rather where the print queue was
configured. Where the print queue is configured determines the server for
that printer. Often, the print server supporting a building full of printers
is the same system.</para><para>Another way to view printers and printer setup is how they are connected
to the world. Some printers are directly attached to the print server by a
wire. These printers are referred to as attached printers. If a printer is
attached to the network, rather than to a desktop or server, it is called
a network printer. The terms <emphasis>local</emphasis> and <emphasis>remote</emphasis> refer
to print queue configuration. The terms <emphasis>directly attached</emphasis> and <emphasis>network&hyphen;attached</emphasis> refer to the physical connection of the printer hardware.
Referring to a printer as an attached or a network printer defines the way
the printer is physically connected. When you are referring to a local or
a remote printer, you are referring to how the print queue for that printer
was defined.  Sometimes, the use of these terms can be confusing, because
a printer that is physically attached to a system also most likely has a print
queue that was defined on a local system. Similarly, print queues for network
printers are more than likely defined on a system that is remote to your local
system. This is the reason that attached and network printers are often referred
to as local and remote printers.</para>
</sect1><sect1 id="gfgxy"><title>Setting Up Printers on a Print Server (Task Map)</title><informaltable frame="all" id="gfgyu"><tgroup cols="3" colsep="1" rowsep="1"><colspec colname="colspec1" colwidth="33*"/><colspec colname="colspec2" colwidth="33*"/><colspec colname="colspec3" colwidth="33*"/><thead><row><entry><para>Task</para>
</entry><entry><para>Description</para>
</entry><entry><para>For Instructions</para>
</entry>
</row>
</thead><tbody><row><entry><para>Add a new directly attached local printer by using Solaris Print Manager.</para>
</entry><entry><para>Use Solaris Print Manager to make the printer available for printing
after you physically attach the printer to a system.</para>
</entry><entry><para><olink targetptr="ermly" remap="internal">How to Add a New Directly Attached Printer
by Using Solaris Print Manager</olink></para>
</entry>
</row><row><entry><para>Use Solaris Print
Manager to add a print queue with  <literal>localhost</literal> specified as
the system's host name.</para>
</entry><entry><para>You can specify <literal>localhost</literal> as the host name in the
print system's databases when adding a new print queue or modifying an existing
print queue by using
Solaris Print Manager.</para>
</entry><entry><para><olink targetptr="gfjoa" remap="internal">How to Use Solaris Print Manager to Add a Print
Queue With the Local Host  Specified as the Host Name</olink></para>
</entry>
</row><row><entry><para>Add a new directly attached local printer by using LP print commands.</para>
</entry><entry><para>Use LP print service commands to make the printer available for printing
after you physically attach the printer to a system. </para>
</entry><entry><para><olink targetptr="ertru" remap="internal">How to Add a New Directly Attached Printer
by Using LP Print Service Commands</olink></para>
</entry>
</row><row><entry><para>Use the <command>lpadmin</command> command to add a printer queue with <literal>localhost</literal> specified as the host name.</para>
</entry><entry><para>Use the <command>lpadmin</command> command with the <option>s</option> option
to specify <literal>localhost</literal> as the host name when setting up a
local print queue. This modification was added to enable print servers to
maintain the same print host name, <literal>localhost</literal>, independent
of the machine host name.</para>
</entry><entry><para><olink targetptr="gfjgi" remap="internal">How to Use LP Print Commands to Add a Print Queue With localhost Specified as the Host Name</olink></para>
</entry>
</row><row><entry><para>Add a new network&hyphen;attached
printer by using Solaris Print Manager.</para>
</entry><entry><para>Use Solaris Print Manager add a new network&hyphen;attached printer.</para>
</entry><entry><para><olink targetptr="eyasc" remap="internal">How to Add a New Network&hyphen;Attached Printer by Using Solaris Print Manager</olink></para>
</entry>
</row><row><entry><para>Add a new network&hyphen;attached
printer by using LP print service commands.</para>
</entry><entry><para>Use LP print service commands add a new network&hyphen;attached printer.</para>
</entry><entry><para><olink targetptr="ertsp" remap="internal">How to Add a New Network&hyphen;Attached Printer by Using LP Print Service Commands</olink></para>
</entry>
</row><row><entry><para>Add a remote print queue for a printer that is connected to a Solaris
print server by using IPP.</para>
</entry><entry><itemizedlist><para>To add access to a remote print queue by using IPP, there are two methods
that you can use:</para><listitem><para>Use the <command>lpadmin</command> command.</para>
</listitem><listitem><para>Use the <command>lpset</command> command.</para>
</listitem>
</itemizedlist>
</entry><entry><para><olink targetptr="ggcyf" remap="internal">How to Set Up a Remote Printer That is Connected
to a Solaris Print Server by Using IPP</olink></para>
</entry>
</row><row><entry><para>Set up a printer specifying a PPD file.</para>
</entry><entry><para>Add a new printer specifying a PPD file.</para>
</entry><entry><para><olink targetptr="gdtgn" remap="internal">How to Specify a PPD File When Adding a New
Printer by using LP Print Commands</olink></para>
</entry>
</row><row><entry><para>Add a new network&hyphen;attached
printer by using the printer vendor-supplied software.</para>
</entry><entry><para>Use Printer vendor supplied tools to configure a network printer after
you physically connect the printer to the network.</para>
</entry><entry><para><olink targetptr="printsetup-34420" remap="internal">How to Add a Attached Network Printer
by Using Printer Vendor-Supplied Tools</olink></para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
</sect1><sect1 id="ermll"><title>Setting Up Directly Attached Printers by Using Solaris
Print Manager</title><para>The following table describes each printer definition to help you determine
the information that is needed to set up a directly attached printer by using
Solaris Print Manager. All of these attributes can also be set by using LP
print commands. For more information about the printer definitions that you
can set by using Solaris Print Manager and LP print commands, see <olink targetptr="printplan-30" remap="internal">Setting Printer Definitions</olink>.</para><informaltable frame="all" pgwide="1"><tgroup cols="5" colsep="1" rowsep="1"><colspec colname="colspec0" colwidth="100.73*"/><colspec colname="col2" colwidth="75.86*"/><colspec colname="colspec1" colwidth="67.36*"/><colspec colname="colspec2" colwidth="63.44*"/><colspec colname="col5" colwidth="88.61*"/><thead><row><entry><para>Printer Definition</para>
</entry><entry><para>Description</para>
</entry><entry><para>Example</para>
</entry><entry><para>Default Setting</para>
</entry><entry><para>Required or Optional?</para>
</entry>
</row>
</thead><tbody><row><entry><para><literal>Printer Name</literal></para>
</entry><entry><para>Name of printer</para>
</entry><entry><para><literal>laser1</literal></para>
</entry><entry><para>N/A</para>
</entry><entry><para>Required to install an attached or network printer and to add access
to a printer</para>
</entry>
</row><row><entry><para><literal>Print server</literal></para>
</entry><entry><para>Name of print server</para>
</entry><entry><para><literal>venus</literal></para>
</entry><entry><para><literal>Use localhost for Printer Server</literal> attribute check
box selected by default</para>
</entry><entry><para>Required to install an attached or network printer and to add access
to a printer &mdash; This field is filled in by the tool</para>
</entry>
</row><row><entry><para><literal>Description</literal></para>
</entry><entry><para>User defined string</para>
</entry><entry><para><literal>laser printer near breakroom</literal></para>
</entry><entry><para>N/A</para>
</entry><entry><para>Optional</para>
</entry>
</row><row><entry><para><literal>Printer Port</literal></para>
</entry><entry><para>Device that the printer is attached to</para>
</entry><entry><para><literal>/dev/term/a</literal></para>
</entry><entry><para><literal>/dev/term/a</literal></para>
</entry><entry><para>Required to install an attached printer</para>
</entry>
</row><row><entry><para><literal>Printer Type</literal></para>
</entry><entry><para>Type of printer</para>
</entry><entry><para><literal>unknown</literal></para>
</entry><entry><para><literal>PostScript</literal></para>
</entry><entry><para>Required to install an attached printer or a network printer without
PPD files</para>
</entry>
</row><row><entry><para><literal>File Content Type</literal></para>
</entry><entry><para>Content to be printed</para>
</entry><entry><para><literal>any</literal></para>
</entry><entry><para><literal>PostScript</literal></para>
</entry><entry><para>Required to install an attached printer or a network printer without
PPD files</para>
</entry>
</row><row><entry><para><literal>Printer Make</literal></para>
</entry><entry><para>Make of printer</para>
</entry><entry><para>Lexmark</para>
</entry><entry><para>N/A</para>
</entry><entry><para>Required to install an attached printer or a network printer with PPD
files</para>
</entry>
</row><row><entry><para><literal>Printer Model</literal></para>
</entry><entry><para>Model of printer</para>
</entry><entry><para>Lexmark Optra E312</para>
</entry><entry><para>N/A</para>
</entry><entry><para>Required to install an attached printer or a network printer with PPD
files</para>
</entry>
</row><row><entry><para><literal>Printer Driver</literal></para>
</entry><entry><para>Driver that is used by specifying PPD file</para>
</entry><entry><para>Foomatic/PostScript</para>
</entry><entry><para>N/A</para>
</entry><entry><para>Required to install an attached printer or a network printer with PPD
files</para>
</entry>
</row><row><entry><para><literal>Fault Notification</literal></para>
</entry><entry><para>Specifies how to notify user of errors</para>
</entry><entry><para><literal>Mail to superuser</literal></para>
</entry><entry><para><literal>Write to superuser</literal></para>
</entry><entry><para>Optional</para>
</entry>
</row><row><entry><para>Default Printer</para>
</entry><entry><para>Identifies the default printer</para>
</entry><entry><para>N/A</para>
</entry><entry><para>N/A</para>
</entry><entry><para>Optional</para>
</entry>
</row><row><entry><para>Banner Page Drop-Down Menu:</para>
</entry><entry><para>Specifies to print a banner page.</para>
</entry><entry><para>N/A</para>
</entry><entry><para>Banner is printed unless turned off by using <command>lp</command> command
with appropriate option</para>
</entry><entry><para>Optional</para>
</entry>
</row><row><entry><para><literal>User Access List</literal></para>
</entry><entry><para>List of users allowed to print on the print server</para>
</entry><entry><para><literal>rimmer,lister</literal></para>
</entry><entry><para>All users can print</para>
</entry><entry><para>Optional</para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable><sect2 id="set-attr1"><title>Setting Printer Definitions by Using Solaris
Print Manager</title><itemizedlist><para>Solaris Print Manager contains the following drop-down menus:</para><listitem><para>Print Manager</para>
</listitem><listitem><para>Printer</para>
</listitem><listitem><para>Tools</para>
</listitem>
</itemizedlist><itemizedlist><para>The Print Manager menu contains the following selectable options and
attributes:</para><listitem><para>Select Naming Service</para><para>When you select this option,
the Solaris Print Manager: Select Naming Service window is displayed.</para><itemizedlist><para>Options that might be available from this drop-down menu include:</para><listitem><para>files</para>
</listitem><listitem><para>LDAP</para>
</listitem><listitem><para>NIS</para>
</listitem><listitem><para>NIS+</para>
</listitem>
</itemizedlist><para>To close the Select Naming Service window, click OK, Reset, Cancel,
or Help.</para>
</listitem><listitem><para>Show Command-Line Console</para>
</listitem><listitem><para>Confirm All Actions</para>
</listitem><listitem><para>Use PPD files</para>
</listitem><listitem><para>Use localhost for Printer Server</para><para>A new tool attribute
check box, Use localhost for Printer Server, is now available. This attribute
is selected by default. When creating a <emphasis>local print queue</emphasis>,
use this option to specify localhost as the host name in the print system's
databases. This modification was made to enable print servers to maintain
the same print host name, localhost, independent of the machine host name.
To revert to earlier behavior for this option, deselect the check box.</para>
</listitem>
</itemizedlist><itemizedlist><para>The Printer menu contains the following selectable options:</para><listitem><para>Add Access to Printer</para>
</listitem><listitem><para>Add Attached Printer</para>
</listitem><listitem><para>Add Network Printer</para>
</listitem><listitem><para>Modify Printer Properties &ndash; This option is not available
until you select a printer from the list of available printers to modify.</para>
</listitem><listitem><para>Delete Printer &ndash; This option is not available out until
you select a printer from the list of available printers to delete.</para>
</listitem>
</itemizedlist><itemizedlist><para>The Tools menu contains the following selectable options:</para><listitem><para>Find Printer</para>
</listitem>
</itemizedlist>
</sect2><task id="ermly"><title>How to Add a New Directly Attached Printer by Using
Solaris Print Manager</title><tasksummary><para>When adding a directly attached printer by using Solaris Print Manager,
the default is to use PPD files. The Use PPD files attribute is located in
the Print Manager drop-down menu in Solaris Print Manager. This default attribute
enables you to select the printer make, model, and driver when adding new
printer. You can deselect this attribute if you are adding a printer that
does not use a PPD file.</para><para>This procedure shows you how to add a new attached printer by using
Solaris Print Manager with the Use PPD files default attribute is selected.
To add a new attached printer without PPD files, deselect this attribute by
removing the checkmark from the check box.</para>
</tasksummary><procedure id="ermlp"><step><para>Select the system to be the print server.</para>
</step><step><para>Connect the printer to the print server. Turn on the power to
the printer.</para><para>Consult the printer vendor's installation documentation
for information about the hardware switches and cabling requirements. </para>
</step><step><para>Start Solaris Print Manager on the print server where you connected
the printer.</para><para>For instructions, see <olink targetptr="printsetup-6" remap="internal">How
to Start Solaris Print Manager</olink>.</para><para>You can specify <literal>localhost</literal> as the host name in the
print system's databases. This modification was made to enable print servers
to maintain the same print host name, <literal>localhost</literal>, independent
of the machine host name. This option is the default in Solaris Print Manager.
You can deselect this check box to revert to earlier behavior for this option.
Note that this option applies exclusively to the set up of local print queues.
For more information, see <olink targetptr="gfhdw" remap="internal">Using PPD Files When Setting
Up a Printer in Solaris Print Manager</olink>.</para><para>To set up a local print queue specifying <literal>localhost</literal> as
the host name by using the <command>lpadmin</command> command with the <option>s</option> option,
see <olink targetptr="gfjgi" remap="internal">How to Use LP Print Commands to Add a Print Queue With localhost Specified as the Host Name</olink>.</para>
</step><step><para>Select New Attached Printer from the Printer menu.</para><para>The
New Attached Printer window is displayed.</para>
</step><step><para>Fill in the required fields with the appropriate information.</para><para><indexterm><primary>local or attached printer</primary><secondary>adding by using Solaris Print Manager (how to)</secondary></indexterm><indexterm><primary>printers</primary><secondary>adding local or attached (how to)</secondary><tertiary>adding by using Solaris Print Manager</tertiary></indexterm><indexterm><primary>adding</primary><secondary>local or attached printers (how to)</secondary></indexterm>If you need information to complete a field, click the Help button.</para><para>For example, to add a new attached printer with PPD files, provide the
appropriate information in the following fields:</para><screen>Printer Name:
Description:
Printer Port:
Printer Make:
Printer Model:
Printer Driver:
Fault Notification:
Options:
Default Printer
Always Print Banner
User Access List:</screen><para>The Printer Server field is filled in by Solaris Print Manager.</para><para>To add a new attached printer without PPD files, provide the appropriate
information in the following fields:</para><screen>Printer Name:
Description:
Printer Port:
Printer Type:
File Contents:
Fault Notification:
Options:
Default Printer
Always Print Banner
User Access List:</screen><para>The Printer Server field is filled in by Solaris Print Manager.</para>
</step><step><para>Click OK.</para>
</step><step><para>Verify that the printer has been installed. Check for the new
printer entry in the Solaris Print Manager main window.</para>
</step><step><para>Verify that the printer can print requests.</para><screen>$ <userinput>lp -d</userinput> <replaceable>printer-name</replaceable> <replaceable>filename</replaceable></screen>
</step><step><para>Exit Solaris Print Manager.</para><para>Choose Exit from the Print
Manager Menu.</para>
</step><step><para>Verify that
the new Solaris Print Manager feature is working.</para><para>When you are
using Solaris Print Manager to create or modify a print queue, choose the <literal>files</literal> option as the naming service. Select the New Attached Printer
option from the menu. If the drop-down menu displays the printer make and
printer model, the new feature is working.</para>
</step>
</procedure><taskrelated-custom><title>Verifying That the RIP Feature Is Working</title><para>The RIP enables you to print to printers that do not have resident PostScript
processing  capabilities.</para><para>To ensure that the RIP feature is working you need to create a new print
queue by selecting one of the make/model combinations that is available in
the New Attached Printer and New Network Printer screens used by Solaris Print
Manager. Then, try printing to the new printer. If the output of the print
job is recognizable, the RIP feature is working. If the output of the print
job is unrecognizable, then the RIP feature is not working.</para>
</taskrelated-custom>
</task><task id="gfjoa"><title>How to Use Solaris Print Manager to Add a Print Queue With the Local
Host  Specified as the Host Name</title><tasksummary><para>This procedure shows how to use Solaris Print Manager to add a local print queue with <literal>localhost</literal> specified as the host name in the print
system databases. This modification was added to
enable print servers to maintain the same print host name, independent of
the machine host name. Note
that you can also modify a print queue by using these commands.</para>
</tasksummary><procedure><step><para>Become superuser or assume an equivalent role.</para><para>Roles
contain authorizations and privileged commands. For more information about
roles, see <olink targetdoc="sysadv6" targetptr="rbactask-15" remap="external"><citetitle remap="section">Configuring RBAC (Task Map)</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle></olink>.</para>
</step><step><para>Start Solaris Print Manager as described in the procedure, <olink targetptr="printsetup-6" remap="internal">How to Start Solaris Print Manager</olink>.</para>
</step><step><para>Set the print host name to <literal>localhost</literal> in Solaris
Print Manager.</para><para>For instructions, see <olink targetptr="set-attr1" remap="internal">Setting
Printer Definitions by Using Solaris Print Manager</olink>.</para>
</step><step><para>Check the entry in the <filename>/etc/printers.conf</filename> file.</para><screen>% <userinput>lpget <replaceable>new-print-queue</replaceable></userinput>
<replaceable>new-print-queue</replaceable>:
        bsdaddr=abc,<replaceable>new-print-queue</replaceable>,Solaris</screen><para>If the print queue was created or modified successfully, the output
of the <command>lpget</command> command returns the name of the new or modified
print queue.</para>
</step>
</procedure><taskrelated role="see-also"><para> For information about specifying <literal>localhost</literal> as the
print server's host name when adding or modifying a print queue with the <command>lpadmin</command> command, see <olink targetptr="gfjgi" remap="internal">How to Use LP Print Commands to Add a Print Queue With localhost Specified as the Host Name</olink>.</para>
</taskrelated>
</task>
</sect1><sect1 id="gfhdc"><title>Setting Up Directly Attached Printers by Using LP
Print Service Commands</title><para>The following table describes each printer attribute to help you determine
the information that is needed to set up a directly attached printer by using
the <command>lpadmin</command> command.</para><informaltable frame="all" pgwide="1"><tgroup cols="6" colsep="1" rowsep="1"><?PubTbl tgroup dispwid="1133.00px"?><colspec colname="colspec0" colwidth="84.72*"/><colspec colname="colspec4" colwidth="52.47*"/><colspec colname="col2" colwidth="76.95*"/><colspec colname="colspec1" colwidth="94.01*"/><colspec colname="colspec2" colwidth="83.48*"/><colspec colname="col5" colwidth="98.98*"/><thead><row><entry><para>Printer Definition</para>
</entry><entry><para>LP Print Command Option</para>
</entry><entry><para>Description</para>
</entry><entry><para>Example</para>
</entry><entry><para>Default Setting</para>
</entry><entry><para>Required/Optional?</para>
</entry>
</row>
</thead><tbody><row><entry><para><literal>Printer Name</literal></para>
</entry><entry><para><option>p</option></para>
</entry><entry><para>Name of printer</para>
</entry><entry><para><literal>laser1</literal></para>
</entry><entry><para>N/A</para>
</entry><entry><para>Required to install an attached or network printer and to add access
to a printer</para>
</entry>
</row><row><entry><para><literal>Print server</literal></para>
</entry><entry>
</entry><entry><para>Name of print server</para>
</entry><entry><para><literal>venus</literal></para>
</entry><entry><para><literal>Use localhost for Printer Server</literal> attribute check
box selected by default</para>
</entry><entry><para>Required to install an attached or network printer and to add access
to a printer &mdash; This field is filled in by the tool</para>
</entry>
</row><row><entry><para><literal>Description</literal></para>
</entry><entry><para><option>d</option></para>
</entry><entry><para>User defined string</para>
</entry><entry><para><literal>laser printer near breakroom</literal></para>
</entry><entry><para>N/A</para>
</entry><entry><para>Optional</para>
</entry>
</row><row><entry><para><literal>Printer Port</literal></para>
</entry><entry><para><option>v</option></para>
</entry><entry><para>Device that the printer is attached to</para>
</entry><entry><para><literal>/dev/term/a</literal></para>
</entry><entry><para><literal>/dev/term/a</literal></para>
</entry><entry><para>Required to install an attached printer</para>
</entry>
</row><row><entry><para><literal>Printer Type</literal></para>
</entry><entry><para><option>T</option></para>
</entry><entry><para>Type of printer</para>
</entry><entry><para><literal>unknown</literal></para>
</entry><entry><para><literal>PostScript</literal></para>
</entry><entry><para>Required to install an attached printer or a network printer without
PPD files</para>
</entry>
</row><row><entry><para><literal>File Content Type</literal></para>
</entry><entry><para><option>I</option></para>
</entry><entry><para>Content to be printed</para>
</entry><entry><para><literal>any</literal></para>
</entry><entry><para><literal>PostScript</literal></para>
</entry><entry><para>Required to install an attached printer or a network printer without
PPD files</para>
</entry>
</row><row><entry><para>PPD file name</para>
</entry><entry><para><option>n</option></para>
</entry><entry><para>Full path to the PPD file and file name with <filename>.ppd</filename> extension.</para>
</entry><entry><para><replaceable>path</replaceable>/<replaceable>necprinter</replaceable><filename>.ppd</filename></para>
</entry><entry><para>N/A</para>
</entry><entry><para>Optional</para>
</entry>
</row><row><entry><para><literal>Fault Notification</literal></para>
</entry><entry><para><option>A</option></para>
</entry><entry><para>Specifies how to notify user of errors</para>
</entry><entry><para><option>A</option> <userinput>mail</userinput></para>
</entry><entry><para><literal>Write to superuser</literal></para>
</entry><entry><para>Optional</para>
</entry>
</row><row><entry><para>Default Printer</para>
</entry><entry><para><option>d</option></para>
</entry><entry><para>Identifies the default printer</para>
</entry><entry><para>N/A</para>
</entry><entry><para>N/A</para>
</entry><entry><para>Optional</para>
</entry>
</row><row><entry><para>Banner Page control Menu:</para>
</entry><entry><para><option>o</option></para>
</entry><entry><para>Select whether to print banner page</para>
</entry><entry><para><option>o</option> <userinput>banner=never</userinput></para>
</entry><entry><para><option>o</option> <userinput>banner=optional</userinput></para>
</entry><entry><para>Optional</para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable><task id="ertru"><title>How to Add a New Directly Attached Printer by Using
LP Print Service Commands</title><tasksummary><para><indexterm><primary>Expanded Printer Support</primary><secondary>adding an attached printer with PPD files by using <command>lp</command> commands</secondary></indexterm><indexterm><primary>printer</primary><secondary>adding a new (how to)</secondary><tertiary>with Solaris Print Manager</tertiary></indexterm><indexterm><primary>adding</primary><secondary>printer, new (how to)</secondary><tertiary>with Solaris Print Manager</tertiary></indexterm><indexterm><primary>Solaris Print Manager</primary><secondary>adding a new printer (how to)</secondary></indexterm>This procedure describes how to add a new attached printer specifying
a PPD file. The <option>n</option> option to the <command>lpadmin</command> command
enables you to specify a PPD file when adding a new attached printer or modifying
an existing attached printer. Two examples follow this procedure. The first
example shows you how to add a new attached printer with PPD files. The second
example shows you how to add a new attached printer without PPD files.</para>
</tasksummary><procedure id="ertrv"><step><para>Connect the printer to the system, and turn  on the power to the
printer.</para><para>Consult the printer vendor's installation documentation
for information about the hardware switches and cabling requirements.</para>
</step><step><para>Collect the information that is required to configure an attached
printer with PPD files.</para><itemizedlist><listitem><para>Printer name and port device</para>
</listitem><listitem><para>File content type</para>
</listitem><listitem><para>PPD file</para>
</listitem>
</itemizedlist><para>To determine the PPD file that the printer will use, first define the
printer make, model, and driver.</para><para>For overview information about using PPD files when adding a new printer
or modifying an existing printer by using LP print service commands, see <olink targetptr="printconcept-42" remap="internal">What's New in Printing?</olink>.</para>
</step><step><para>Define the printer name, port device, file content type, and PPD
file that the printer will use.</para><para>When using PPD files, the file
content type is typically PostScript.</para><substeps><step><para>Specify the printer name and the port device that the printer
will use.</para><screen># <userinput>lpadmin -p <replaceable>printer-name</replaceable> -v /dev/printers/0<?Pub
_bookmark Command="[Quick Mark]"?></userinput></screen><para>The device to use is <filename>/dev/printers/0</filename>.</para><para>You can now use the <option>s</option> option with the <command>lpadmin</command> command
to specify the print service host name as localhost. For more information,
see <olink targetptr="gfjgi" remap="internal">How to Use LP Print Commands to Add a Print Queue With localhost Specified as the Host Name</olink>.</para>
</step><step><para>Specify the interface script that the printer will use.</para><screen># <userinput>lpadmin -p <replaceable>printer-name</replaceable> -m standard_foomatic</userinput></screen>
</step><step><para>Specify the file content type and the PPD file that the printer
will use.</para><screen># <userinput>lpadmin -p <replaceable>printer-name</replaceable> -I <replaceable>content-type</replaceable> -n /<replaceable>path</replaceable>/<replaceable>ppdfile</replaceable></userinput></screen><para>The PPD file that you supply is located in the <filename>/<replaceable>path</replaceable></filename> directory.</para><note><para>If /<replaceable>path</replaceable> is not a PPD file repository
on the system, then a copy of the PPD file is placed in the <filename>user</filename> label
directory in the <filename>user</filename> PPD file repository. For more information,
see <olink targetptr="geawn" remap="internal">Administering PPD Files by Using the PPD File
Management Utility (Task Map)</olink>.</para>
</note>
</step><step><para>Specify the printer description.</para><screen># <userinput>lpadmin -p <replaceable>printer-name</replaceable> -D "<replaceable>printer-description</replaceable>"</userinput></screen>
</step>
</substeps><para>For more information, see the <olink targetdoc="refman" targetptr="lpadmin-1m" remap="external"><citerefentry><refentrytitle>lpadmin</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink> man page.</para>
</step><step><para>(Optional) Add filters to the print server.</para><screen># <userinput>cd /etc/lp/fd</userinput>
# <userinput>for</userinput> <replaceable>filter</replaceable> <userinput>in *.fd;do</userinput>
    &gt; <replaceable>name</replaceable><userinput>=`basename $</userinput><replaceable>filter</replaceable> <userinput>.fd`</userinput>
    &gt; <userinput>lpfilter -f $</userinput> <replaceable>name</replaceable><userinput>-F $</userinput> <replaceable>filter</replaceable>
    &gt; <userinput>done</userinput></screen>
</step><step><para>Enable the printer to accept print requests and to print those
requests.</para><screen># <userinput>accept</userinput> <replaceable>printer-name</replaceable>
# <userinput>enable</userinput> <replaceable>printer-name</replaceable></screen>
</step><step><para>Verify that the printer is correctly configured.</para><screen># <userinput>lpstat -p <replaceable>printer-name</replaceable> -l</userinput></screen><para>The output of the <command>lpstat</command> command will list the PPD
file that you used.</para>
</step>
</procedure><example id="ertrx"><title>Adding a New Directly Attached Printer With PPD Files by Using LP Print
Service Commands</title><indexterm><primary>Expanded Printer Support</primary><secondary>adding a printer by using <command>lpadmin</command> <option>n</option> command</secondary><tertiary>example of</tertiary>
</indexterm><para>This example shows how to add a new attached printer with PPD files.
The <option>n</option> option to the <command>lpadmin</command> command enables
you to add a new print queue by specifying PPD files. The following information
is used as an example.</para><itemizedlist><para>The information that you provide might vary from the following:</para><listitem><para>Printer name: <literal>paper</literal></para>
</listitem><listitem><para>Port device: <literal>/dev/printers/0</literal></para>
</listitem><listitem><para>File content type: <literal>postscript</literal></para>
</listitem><listitem><para>PPD file: <filename>/<replaceable>path</replaceable>/Lexmark-Optra_E312-Postscript.ppd.gz</filename></para>
</listitem>
</itemizedlist><screen># <userinput>lpadmin -p paper -v /dev/printers/0</userinput> <lineannotation>(1)</lineannotation>
# <userinput>lpadmin -p paper -I postscript</userinput> <lineannotation>(2)</lineannotation>
# <userinput>lpadmin -p paper -m standard_footmatic</userinput> <lineannotation>(3)</lineannotation>
# <userinput>lpadmin -p paper -n /<replaceable>path</replaceable>/Lexmark-Optra_E312-Postscript.ppd.gz</userinput><lineannotation>(4)</lineannotation>
# <userinput>lpadmin -p paper -D "Color printer on third floor, rm 3003"</userinput> <lineannotation>(5)</lineannotation>
# <userinput>cd /etc/lp/fd</userinput>

# <userinput>accept paper</userinput>
	destination &ldquo;paper&rdquo; now accepting requests 
# <userinput>enable paper</userinput>	<lineannotation>(6)</lineannotation> 
printer &ldquo;paper&rdquo; now enabled 
# <userinput>lpstat -p paper</userinput> <lineannotation>(7)</lineannotation>
printer paper is idle. enabled since Feb 28 11:21 2004...</screen><orderedlist><listitem><para>Defines the printer name and the port device that the printer
will use</para>
</listitem><listitem><para>Sets the file content types to which the printer can print
to directly</para>
</listitem><listitem><para>Specifies the interface script for utilizing PPD files</para><note><para>This command also copies the PPD file to the <filename>user</filename> label
in the <filename>user</filename> PPD file repository, if /<replaceable>path</replaceable> is
not in an existing PPD file repository on the system.</para>
</note>
</listitem><listitem><para>Specifies the path to the PPD file and the PPD file name</para>
</listitem><listitem><para>Adds a description for the printer</para>
</listitem><listitem><para>Accepts print requests for the printer and enables the printer</para>
</listitem><listitem><para>Verifies that the printer is ready for printing</para>
</listitem>
</orderedlist>
</example><example id="ertrw"><title>Adding a New Directly Attached Printer Without PPD Files by Using LP
Print Service Commands</title><para>This example shows how to add a new attached printer without PPD files.
The commands in this example must be executed on the print server where the
printer is connected. The following information is used as an example. </para><itemizedlist><para>The information that you provide might vary from the following:</para><listitem><para>Printer name: <literal>luna</literal></para>
</listitem><listitem><para>Port device: <literal>/dev/term/b</literal></para>
</listitem><listitem><para>Printer type: <literal>PS</literal></para>
</listitem><listitem><para>File content type: <literal>postscript</literal></para><screen># <userinput>chown lp /dev/term/b</userinput>
# <userinput>chmod 600 /dev/term/b</userinput> <lineannotation>(1)</lineannotation>
# <userinput>lpadmin -p luna -v /dev/term/b</userinput> <lineannotation>(2)</lineannotation>
# <userinput>lpadmin -p luna -T PS</userinput> <lineannotation>(3)</lineannotation>
# <userinput>lpadmin -p luna -I postscript</userinput> <lineannotation>(4)</lineannotation>
# <userinput>lpadmin -p luna -D "Room 1954 ps"</userinput> <lineannotation>(5)</lineannotation>
# <userinput>cd /etc/lp/fd</userinput>

# <userinput>accept luna</userinput>
destination &ldquo;luna&rdquo; now accepting requests 
# <userinput>enable luna</userinput> <lineannotation>(6)</lineannotation> 
printer &ldquo;luna&rdquo; now enabled 
# <userinput>lpstat -p luna</userinput> <lineannotation>(7)</lineannotation>
printer luna is idle.enabled since Feb 28 11:21 2003.available</screen>
</listitem>
</itemizedlist><orderedlist><listitem><para>Gives <literal>lp</literal> ownership and sole access to a
port device</para>
</listitem><listitem><para>Defines the printer name and the port device that the printer
will use</para>
</listitem><listitem><para>Sets the printer type of the printer</para>
</listitem><listitem><para>Specifies the file content types to which the printer can
print directly</para>
</listitem><listitem><para>Adds a description for the printer</para>
</listitem><listitem><para>Accepts print requests for the printer and enables the printer</para>
</listitem><listitem><para>Verifies that the printer is ready for printing</para>
</listitem>
</orderedlist>
</example><taskrelated role="see-also"><itemizedlist><listitem><para><olink targetptr="printsetup-9" remap="internal">How to Add Printer Access
by Using Solaris Print Manager</olink> to add printer access on a print client.</para>
</listitem><listitem><para><olink targetptr="printsetup-11" remap="internal">How to Set Up a .printers
File</olink> to allow users to customize printer aliases.</para>
</listitem>
</itemizedlist>
</taskrelated>
</task><task id="gfjgi"><title>How to Use LP Print Commands to Add a Print Queue With <literal>localhost</literal> Specified as the Host Name</title><tasksummary><para>This procedure shows how to use LP print commands to add a local print queue with <literal>localhost</literal> specified as the host name in the print
system databases. This modification was added to
enable print servers to maintain the same print host name, independent of
the machine host name. Note
that you can also modify a print queue by using these commands.</para>
</tasksummary><procedure><step><para>Become superuser or assume an equivalent role.</para><para>Roles
contain authorizations and privileged commands. For more information about
roles, see <olink targetdoc="sysadv6" targetptr="rbactask-15" remap="external"><citetitle remap="section">Configuring RBAC (Task Map)</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle></olink>.</para>
</step><step><para>Set the print host name to <literal>localhost</literal>.</para><screen># <userinput>lpadmin -p <replaceable>new-print-queue</replaceable> -s localhost -v <replaceable>device</replaceable></userinput></screen>
</step><step><para>Check the entry in the <filename>/etc/printers.conf</filename> file.</para><screen>% <userinput>lpget <replaceable>new-print-queue</replaceable></userinput>
<replaceable>new-print-queue</replaceable>:
        bsdaddr=abc,<replaceable>new-print-queue</replaceable>,Solaris</screen><para>If the print queue was created or modified successfully, the output
of the <command>lpget</command> command returns the name of the new or modified
print queue.</para>
</step>
</procedure><example id="queueadd-5"><title>Adding a Print Queue by Specifying <literal>localhost</literal> as
the Host Name</title><indexterm><primary><literal>localhost</literal></primary><secondary>specifying as host name</secondary>
</indexterm><indexterm><primary>specifying <literal>localhost</literal> as host name</primary>
</indexterm><indexterm><primary>host name</primary><secondary>specifying <literal>localhost</literal></secondary><tertiary>task</tertiary>
</indexterm><para>This example shows how to add a new print queue, <literal>paper</literal>,
by using the <command>lpadmin</command> command with the <option>s</option> option
to specify <literal>localhost</literal> as the host name.</para><screen>% <userinput>su - root</userinput>
# <userinput>lpadmin -p paper -s localhost -v /dev/ecpp0</userinput>

% <userinput>lpget paper</userinput>
paper:
        bsdaddr=localhost,paper,Solaris</screen>
</example><example id="add-default-1"><title>Adding a Print Queue by Using the Default Behavior of <command>lpadmin</command> to
Specify the Host Name</title><para>This example shows the default behavior of the <command>lpadmin</command> command
for using system host name, <literal>abc</literal>, when adding a new print
queue.</para><screen>% <userinput>su - root</userinput>
# <userinput>lpadmin -p newspaper -v /dev/printers/0</userinput>

% <userinput>lpget newspaper</userinput>
fargo:
        bsdaddr=abc,newspaper,Solaris</screen>
</example><example id="mod-local-1"><title>Modifying a Print Queue to Use the Local Host as the Print
Server Name</title><para>This example shows how to modify an existing print queue, <literal>newspaper</literal>, and specify <literal>localhost</literal> as the new print server
name.</para><screen>% <userinput>su - root</userinput>
# <userinput>lpadmin -p newspaper -s localhost</userinput>

# <userinput>lpget newspaper</userinput>
newspaper:
        bsdaddr=localhost,newspaper,Solaris</screen>
</example><taskrelated role="see-also"><para>For information about specifying <literal>localhost</literal> as the
print server's host name when adding or modifying a print queue with Solaris
Print Manager, see <olink targetptr="gfjoa" remap="internal">How to Use Solaris Print Manager
to Add a Print Queue With the Local Host  Specified as the Host Name</olink>.</para>
</taskrelated>
</task>
</sect1><sect1 id="printsetup-30"><title>Setting Up Network Printers</title><indexterm id="printsetup-ix292"><primary>network printer</primary><secondary>adding, deleting</secondary>
</indexterm><para><indexterm id="printsetup-ix293"><primary>network printer</primary><secondary>defined</secondary></indexterm>A <emphasis>network printer</emphasis> is
a hardware device that is directly connected to the network. This printer
can be accessed from a print server without physically connecting the printer
to the print server with a cable. The network printer has its own system name
and IP address.</para><caution><para>Configuring a network printer without utilizing queue configuration
on a print server is an unsupported method that results in printer misconfiguration.</para><para>You can correctly configure a network printer with Solaris Print
Manager by selecting the New Network Printer option. Or, you can use the <command>lpadmin</command> command to correctly configure a network printer. For information
about how to configure a network printer by using the <command>lpadmin</command> command,
see <olink targetptr="ertsp" remap="internal">How to Add a New Network&hyphen;Attached Printer by Using LP Print Service Commands</olink>. </para><para>Note that you should not use
the <command>lpadmin</command> <option>p</option> <replaceable>queue-name</replaceable> <option>s</option> <replaceable>printer-name</replaceable> command or the Add Access
to Printer option of Solaris Print Manager to add a network printer. These
methods should be used exclusively to point to an already existing queue on
a remote print server.</para><itemizedlist><para>The print server includes the following features:</para><listitem><para>Queueing capabilities</para>
</listitem><listitem><para>Filtering</para>
</listitem><listitem><para>Printing administration for a network printer</para>
</listitem>
</itemizedlist><para>Printing directly to a network printer results in a printer misconfiguration
that is likely to cause a number of problems. Additionally, job options, such
as copies, the use or disuse of burst page,  and filtering, are lost.</para>
</caution><para>Network printers might use one or more special protocols that require
a vendor-supplied printing program. The procedures that are used to set up
the vendor-supplied printing program can vary. If the printer does not come
with vendor&ndash; supplied support, Solaris network printer support can be
used with most devices. Use the printer vendor-supplied software, whenever
possible.</para><para>The vendor might supply an SVR4 printer interface script to replace
the standard printer interface script. If so, that SVR4 interface script calls
the vendor-supplied printing program to send the job to the printer. If not,
you need to modify the standard interface script to call the vendor-supplied
printing program. To do so, edit the per-printer copy of the standard interface
script to call the vendor-supplied printing program.</para><itemizedlist><para>The following are the terms that are used in network printer configuration.
For a complete description of printing terms, see <olink targetptr="gdqrm" remap="internal">Glossary</olink>.</para><listitem><para><emphasis role="strong">Print server</emphasis> &ndash; The
system that spools and schedules the jobs for a printer.</para>
</listitem><listitem><para><emphasis role="strong">Printer-host device</emphasis> &ndash;
The software and hardware supplied by a vendor that provides network printer
support for a non-network capable printer.</para>
</listitem><listitem><para><emphasis role="strong">Printer node</emphasis> &ndash; Either
the physical printer or the printer-host device.</para>
</listitem><listitem><para><emphasis role="strong">Printer name</emphasis> &ndash; The
name typed on the command line when you use any of the printer commands.</para>
</listitem><listitem><para><emphasis role="strong">Destination or network printer access
name</emphasis> &ndash; The internal name of the printer node port that is
used by the printer subsystem to access the printer.</para>
</listitem><listitem><para><emphasis role="strong">Protocol</emphasis> &ndash; The over-the-wire
protocol that is used to communicate with the printer. For more information,
see <olink targetptr="gdwoa" remap="internal">Selecting the Printing Protocol</olink>.</para>
</listitem><listitem><para><emphasis role="strong">Timeout, or retry interval timeout</emphasis> &ndash;
Is a seed number that represents the number of seconds to wait between attempting
connections to the printer.</para>
</listitem>
</itemizedlist><sect2 id="printconcept-18"><title>Sun Support for Network Printers</title><para>If the network printer vendor does not provide software support, Sun
supplied software is available. The software provides generic support for
network printers and is not capable of providing full access to all possible
printer attributes.</para><para>A general discussion of how to add a network printer is provided in <olink targetptr="printsetup-30" remap="internal">Setting Up Network Printers</olink>. The following
is a discussion of printer management when you use the Sun supplied software.</para>
</sect2><sect2 id="printconcept-19"><title>Invoking Network Printer Support</title><para>The software support for network printers is called through the network
interface script <command>netstandard</command>. Configuring a network printer
with this script causes the network printer support module to be called. Here
is the command to configure the printer with the network support.</para><screen>lpadmin -p <replaceable>printer-name</replaceable> -m netstandard </screen>
</sect2><sect2 id="printconcept-21"><title>Selecting the Printer Node Name</title><para>You select the printer node name. This name must be unique, as with
any node on the network. The printer node name is associated with the IP address
of the printer.</para>
</sect2><sect2 id="printconcept-22"><title>Selecting the Destination Name (Also Called
the Network Printer Access Name)</title><para>The print subsystem requires access information for the printer. The
subsystem uses  the destination name when making the network connection to
the printer. You supply this name to the print subsystem by using the <command>lpadmin</command> command. This name then becomes part of the printer configuration
database. The printer access name is the name of the printer node, sometimes
qualified by a port name. Port designation varies across printer vendors.
You can find information about port designation in the printer documentation.</para><para>Here is the format of printer access name:</para><para><replaceable>printer-node-name</replaceable><command>[:</command><replaceable>port-designation</replaceable><command>]</command></para><para>Destination names can be specified in one of three forms:</para><variablelist><varlistentry><term>Atomic (simple)</term><listitem><para>(destination) - Is resolved by locating a <literal>printer-uri-supported</literal> key/value pair for the named destination in the <filename>printers.conf</filename> or the <filename>printers</filename> configuration database. If
no <literal>printer-uri-supported</literal> key is found for an entry, it's <literal>bsdaddr</literal> value is converted to printer URI form and used.</para><para>For more information, see the <olink targetdoc="group-refman" targetptr="printers-4" remap="external"><citerefentry><refentrytitle>printers</refentrytitle><manvolnum>4</manvolnum></citerefentry></olink> and <olink targetdoc="group-refman" targetptr="printers.conf-4" remap="external"><citerefentry><refentrytitle>printers.conf</refentrytitle><manvolnum>4</manvolnum></citerefentry></olink> man pages.</para>
</listitem>
</varlistentry><varlistentry><term>Printer URI</term><listitem><para>(<literal>scheme://endpoint</literal>) - Is completely resolved
and specifies the protocol and communication endpoint to contact for print
services.  This form of destination name is useful for accessing print services
outside of your system's current management domain.  Since the name includes
the protocol to use when contacting the print service, you can select a richer
protocol than the RFC-1179 protocol.</para>
</listitem>
</varlistentry><varlistentry><term>POSIX</term><listitem><para>(<literal>server:queue[:extensions</literal>]) - Is complete
and resolves to an equivalent printer URI form of <filename>lpd://server/printers/queue[#extensions]</filename> This form is being maintained for Solaris backward compatibility
only.  The printer URI form is the preferred replacement.</para>
</listitem>
</varlistentry>
</variablelist><example id="printconcept-23"><title>Destination Name (or Network Printer
Access Name) With Port Designation (Number)</title><para>A common port designation with TCP is 9100. If the printer node name
is <literal>pn1</literal>, and the printer vendor defines the port as 9100,
then the printer access name is <literal>pn1:9100</literal>. To configure
a printer in this case, use the following command:</para><screen>lpadmin -p <replaceable>printer_name</replaceable> -o dest=pn1:9100</screen>
</example><example id="printconcept-24"><title>Destination Name (or Network Printer
Access Name) With BSD Port Designation (Name)</title><para>When you use the BSD protocol, the port designation might not be a number,
but some name defined by the printer vendor, for example: <emphasis>xxx</emphasis><literal>_parallel_1</literal>. If the printer node name is <emphasis>cardboard,</emphasis> then
the printer access name is <literal>cardboard:xxx_parallel_1</literal>. To
configure a printer in this case, use the following command:</para><screen>lpadmin -p <replaceable>printer-name</replaceable> -o dest=cardboard:xxx_parallel_1</screen>
</example><example id="printconcept-25"><title>Destination Name (or Network Printer
Access Name) With No Port Designation</title><para>If there is no port designation, and the printer node name is <literal>newspaper</literal>, the printer access name is the printer node name: <literal>newspaper</literal>.
To configure a printer in this case, use the following command:</para><screen>lpadmin -p <replaceable>printer-name</replaceable> -o dest=newspaper</screen>
</example>
</sect2><sect2 id="gdwoa"><title>Selecting the Printing Protocol</title><para>The print subsystem uses the BSD print protocol and raw TCP to communicate
with the printer. The printer vendor documentation provides information about
which protocol to use. In general, the TCP protocol is more generic across
printers.</para><note><para>The Device URI protocol was introduced in the <emphasis role="strong">Solaris Express 2/05 release</emphasis><emphasis role="strong">Solaris
10 5/08 release</emphasis>. This protocol enables remote printer access. You
can specify a <replaceable>device-uri</replaceable> when adding a network
printer by using the <command>lpadmin</command> command or by using Solaris Print Manager.</para>
</note><para>To select the BSD protocol, type:</para><screen>lpadmin -p <replaceable>printer-name</replaceable> -o protocol=bsd</screen><para>To select the TCP protocol, type:</para><screen>lpadmin -p <replaceable>printer-name</replaceable> -o protocol=tcp</screen><para>If the protocol that is selected is the BSD print protocol, you can
further select the order of sending the control file to the printer. Some
printers expect the control file, then the data file. Other printers expect
the reverse. For this information, see the printer vendor documentation. The
default is to send the control file first.</para><para>To select the order, type one of the following commands:</para><screen>lpadmin -p <replaceable>printer-name</replaceable> -o bsdctrl=first</screen><screen>lpadmin -p <replaceable>printer-name</replaceable> -o bsdctrl=last</screen><para>For information about using the IPP protocol, see <olink targetptr="gedvp" remap="internal">Administering Printers by Using the Internet Printing Protocol (Task Map)</olink>.</para>
</sect2><sect2 id="printconcept-26"><title>Setting the Timeout Value</title><para>The timeout option allows the user to select the amount of time (in
seconds) to wait between successive attempts to connect to the printer. Some
printers have a long warm up time, and a longer timeout value is advised.
The default is 10 seconds.</para><para>The timeout value does not impact the success or failure of the print
process. The value is a seed value that the software uses as the initial timeout
count. On repeated failures, this count is increased. A message is sent to
the spooler when repeated attempts to connect to the printer fail. This message
alerts the user that intervention might be required. The failure could be
anything from the printer being turned off to the printer being out of paper.
If these messages are produced too often, for example when the printer is
warming up, increasing the timeout value will eliminate spurious messages.</para><para>You can experiment to find the optimal timeout value. Type the following
command to set the timeout value:</para><screen>lpadmin -p <replaceable>printer-name</replaceable> -o timeout=<replaceable>n</replaceable></screen>
</sect2><sect2 id="printconcept-27"><title>Managing Network Printer Access</title><para>Each network printer should have only one server that provides access
to the printer. This restriction enables the server to manage access to the
printer and keep jobs coherent. </para><para>The default device for the network printer is <filename>/dev/null</filename>.
This device is sufficient when the printer has only one queue. If more queues
are required, set the device to a file. This setting enables the print system
to restrict access to the printer across queues. The following commands create
a device file and configure it as the network printer device.</para><screen>touch /<replaceable>path</replaceable>/<replaceable>filename</replaceable>
chmod 600 /<replaceable>path</replaceable>/<replaceable>filename</replaceable>
lpadmin -p <replaceable>printer-name</replaceable> -v /<replaceable>path</replaceable>/<replaceable>filename</replaceable></screen><para>The following is an example of how to create a device file called <literal>devtreedown</literal>.</para><screen># <userinput>touch /var/tmp/devtreedown</userinput>
# <userinput>chmod 600 /var/tmp/devtreedown</userinput>
# <userinput>lpadmin -p treedown -v /var/tmp/devtreedown</userinput></screen>
</sect2>
</sect1><sect1 id="gfhgu"><title>Setting Up Network&hyphen;Attached Printers by Using Solaris Print
Manager</title><para>The following table describes each printer attribute to help you determine
the information that is needed to set up a network&hyphen;attached printer with
Solaris Print Manager.</para><informaltable frame="all" pgwide="1"><tgroup cols="5" colsep="1" rowsep="1"><?PubTbl tgroup dispwid="1100.00px"?><colspec colname="colspec0" colwidth="95.85*"/><colspec colname="col2" colwidth="75.39*"/><colspec colname="colspec1" colwidth="69.73*"/><colspec colname="colspec2" colwidth="75.04*"/><colspec colname="col5" colwidth="79.99*"/><thead><row><entry><para>Printer Definition</para>
</entry><entry><para>Description</para>
</entry><entry><para>Example</para>
</entry><entry><para>Default Setting</para>
</entry><entry><para>Required or Optional?</para>
</entry>
</row>
</thead><tbody><row><entry><para><literal>Printer Name</literal></para>
</entry><entry><para>Name of printer</para>
</entry><entry><para><literal>laser1</literal></para>
</entry><entry><para>N/A</para>
</entry><entry><para>Required to install an attached or network printer and to add access
to a printer</para>
</entry>
</row><row><entry><para><literal>Print server</literal></para>
</entry><entry><para>Name of print server</para>
</entry><entry><para><literal>venus</literal></para>
</entry><entry><para><literal>Use localhost for Printer Server</literal> attribute check
box selected by default</para>
</entry><entry><para>Required to install an attached or network printer and to add access
to a printer &mdash; This field is filled in by the tool</para>
</entry>
</row><row><entry><para><literal>Description</literal></para>
</entry><entry><para>User defined string</para>
</entry><entry><para><literal>laser printer near breakroom</literal></para>
</entry><entry><para>N/A</para>
</entry><entry><para>Optional</para>
</entry>
</row><row><entry><para><literal>Printer Type</literal></para>
</entry><entry><para>Type of printer</para>
</entry><entry><para><literal>unknown</literal></para>
</entry><entry><para><literal>PostScript</literal></para>
</entry><entry><para>Required to install an attached printer or a network printer without
PPD files</para>
</entry>
</row><row><entry><para><literal>File Content Type</literal></para>
</entry><entry><para>Content to be printed</para>
</entry><entry><para><literal>any</literal></para>
</entry><entry><para><literal>PostScript</literal></para>
</entry><entry><para>Required to install an attached printer or a network printer without
PPD files</para>
</entry>
</row><row><entry><para><literal>Printer Make</literal></para>
</entry><entry><para>Make of printer</para>
</entry><entry><para>Lexmark</para>
</entry><entry><para>N/A</para>
</entry><entry><para>Required to install an attached printer or a network printer with PPD
files</para>
</entry>
</row><row><entry><para><literal>Printer Model</literal></para>
</entry><entry><para>Model of printer</para>
</entry><entry><para>Lexmark Optra E312</para>
</entry><entry><para>N/A</para>
</entry><entry><para>Required to install an attached printer or a network printer with PPD
files</para>
</entry>
</row><row><entry><para><literal>Printer Driver</literal></para>
</entry><entry><para>Driver that is used by specifying PPD file</para>
</entry><entry><para>Foomatic/PostScript</para>
</entry><entry><para>N/A</para>
</entry><entry><para>Required to install an attached printer or a network printer with PPD
files</para>
</entry>
</row><row><entry><para><literal>Destination</literal></para>
</entry><entry><para>Destination name for the network printer</para>
</entry><entry><para>For examples, see <olink targetptr="printconcept-22" remap="internal">Selecting the Destination
Name (Also Called the Network Printer Access Name)</olink></para>
</entry><entry><para>N/A</para>
</entry><entry><para>Required to install a network printer</para>
</entry>
</row><row><entry><para><literal>Protocol</literal></para>
</entry><entry><para>Protocol used to communicate with the printer</para>
</entry><entry><para>TCP, URI</para>
</entry><entry><para><literal>BSD</literal></para>
</entry><entry><para>Required to install a network printer </para>
</entry>
</row><row><entry><para><literal>Fault Notification</literal></para>
</entry><entry><para>Specifies how to notify user of errors</para>
</entry><entry><para><literal>Mail to superuser</literal></para>
</entry><entry><para><literal>Write to superuser</literal></para>
</entry><entry><para>Optional</para>
</entry>
</row><row><entry><para>Default Printer</para>
</entry><entry><para>Identifies the default printer</para>
</entry><entry><para>N/A</para>
</entry><entry><para>N/A</para>
</entry><entry><para>Optional</para>
</entry>
</row><row><entry><para>Banner Page Drop-Down Menu:</para><itemizedlist><listitem><para><literal>Always Print Banner</literal></para>
</listitem><listitem><para><literal>User Selectable-Default=on</literal></para>
</listitem><listitem><para><literal>Never Print Banner</literal></para>
</listitem>
</itemizedlist>
</entry><entry><para></para><para>Print banner?</para><para></para><para></para><para>Print banner? User selectable option, turned on by default. To turn
banner printing off, use <command>lp</command> command with appropriate option.</para><para>Never print banner?</para>
</entry><entry><para>N/A</para>
</entry><entry><para></para><para>Banner is printed</para><para></para><para></para><para></para><para></para><para>Banner is printed unless turned off by using <command>lp</command> command
with appropriate option</para><para></para><para></para><para>Banner is not printed</para>
</entry><entry><para>Banner page printing turned on by default unless another option is specified
within the Solaris Print Manager pull-down menu</para>
</entry>
</row><row><entry><para><literal>User Access List</literal></para>
</entry><entry><para>List of users allowed to print on the print server</para>
</entry><entry><para><literal>rimmer,lister</literal></para>
</entry><entry><para>All users can print</para>
</entry><entry><para>Optional</para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable><task id="eyasc"><title>How to Add a New Network&hyphen;Attached Printer by Using
Solaris Print Manager</title><indexterm><primary>Expanded Printer Support</primary><secondary>adding a network printer with PPD files by using Solaris Print Manager</secondary>
</indexterm><tasksummary><para>The Use PPD files default attribute in Solaris Print Manage enables
you to select the printer make, model, and driver when adding new printer.
For more information on this feature, see <olink targetptr="erfaz" remap="internal">Administering
Printers That Use PPD Files</olink>.</para><para>This procedure shows you how to add a new network printer by using Solaris
Print Manager with the Use PPD files default attribute is selected. To add
a new network printer without PPD files, deselect this attribute by removing
the checkmark from the check box.</para>
</tasksummary><procedure id="ertsf"><step id="ertsi"><para>Select the system to be the print server.</para>
</step><step id="ertsc"><para>Connect the printer to the network. Turn on the power
to the printer.</para><para>Consult the printer vendor's installation documentation
for information about the hardware switches and cabling requirements. </para>
</step><step id="ertsm"><para>Start Solaris Print Manager on the print server.</para><para>For instructions, see <olink targetptr="printsetup-6" remap="internal">How to Start Solaris
Print Manager</olink>.</para><para>In this Solaris release you can specify <literal>localhost</literal> as
the host name in the print system's databases. This modification was added
to enable print servers to maintain the same print host name, <literal>localhost</literal>,
independent of the machine host name. This option is the default in Solaris
Print Manager. To revert to earlier behavior for this option, deselect the check box.
Note that this option applies <emphasis>exclusively</emphasis> to the setup
of local print queues. For more information, see <olink targetptr="ermkb" remap="internal">Solaris
Print Manager Options and Selectable Attributes</olink>.</para><para>To set up a local print queue specifying <literal>localhost</literal> as
the host name by using the <command>lpadmin</command> command with the <option>s</option> option,
see <olink targetptr="gfjgi" remap="internal">How to Use LP Print Commands to Add a Print Queue With localhost Specified as the Host Name</olink>.</para>
</step><step id="ertse"><para>Select New Network Printer from the Printer menu.</para><para>The New Network Printer window is displayed.</para>
</step><step id="ertsk"><para>Fill in the required fields with the appropriate information.</para><para><indexterm id="ertsh"><primary>local or attached printer</primary><secondary>adding by using Solaris Print Manager (how to)</secondary></indexterm><indexterm id="ertsb"><primary>printers</primary><secondary>adding local or attached (how to)</secondary><tertiary>adding by using Solaris Print Manager</tertiary></indexterm><indexterm id="ertsj"><primary>adding</primary><secondary>local or attached printers (how to)</secondary></indexterm>If you
need information to complete a field, click the Help button.</para><para>For example, to add a new network printer with PPD files, provide the
appropriate information in the following fields:</para><screen>Printer Name:
Description:
Printer Make:
Printer Model:
Printer Driver:
Fault Notification:
Destination:
Protocol:
Options:
Default Printer
Always Use Banner
User Access List:</screen><para>The Printer Server field is filled in by Solaris Print Manager.</para><para>To add a new network printer without PPD files, provide the appropriate
information in the following fields:</para><screen>Printer Name:
Description:
Printer Type:
File Contents:
Fault Notification:
destination:
Protocol:
Options:
Default Printer
Always Use Banner
User Access List:</screen><para>The Printer Server field is filled in by Solaris Print Manager.</para>
</step><step id="ertsn"><para>Click OK.</para>
</step><step id="ertsd"><para>Verify that the printer has been installed. Check for
the new printer entry in the Solaris Print Manager main window. </para>
</step><step id="ertrz"><para>Verify that the printer can print requests.</para><screen>$ <userinput>lp -d</userinput> <replaceable>printer-name</replaceable> <replaceable>filename</replaceable></screen>
</step><step id="ertry"><para>Exit Solaris Print Manager.</para><para>Choose Exit
from the Print Manager Menu.</para>
</step>
</procedure>
</task>
</sect1><sect1 id="gfhlh"><title>Setting Up Network&hyphen;Attached Printers by Using LP Print Commands</title><para>The following table describes each printer attribute to help you determine
the information that is needed to set up a network&hyphen;attached printer by using
the <command>lpadmin</command> command.</para><informaltable frame="all" pgwide="1"><tgroup cols="6" colsep="1" rowsep="1"><?PubTbl tgroup dispwid="1131.00px"?><colspec colname="colspec0" colwidth="78.25*"/><colspec colname="colspec3" colwidth="46.81*"/><colspec colname="col2" colwidth="75.22*"/><colspec colname="colspec1" colwidth="95.85*"/><colspec colname="colspec2" colwidth="73.01*"/><colspec colname="col5" colwidth="94.62*"/><thead><row><entry><para>Printer Definition</para>
</entry><entry><para>LP Command Option</para>
</entry><entry><para>Description</para>
</entry><entry><para>Example</para>
</entry><entry><para>Default Setting</para>
</entry><entry><para>Required or Optional?</para>
</entry>
</row>
</thead><tbody><row><entry><para><literal>Printer Name</literal></para>
</entry><entry><para><option>p</option></para>
</entry><entry><para>Name of printer</para>
</entry><entry><para><literal>laser1</literal></para>
</entry><entry><para>N/A</para>
</entry><entry><para>Required to install an attached or network printer and to add access
to a printer</para>
</entry>
</row><row><entry><para><literal>Print server</literal></para>
</entry><entry>
</entry><entry><para>Name of print server</para>
</entry><entry><para><literal>venus</literal></para>
</entry><entry><para><literal>Use localhost for Printer Server</literal> attribute check
box selected by default</para>
</entry><entry><para>Required to install an attached or network printer and to add access
to a printer &mdash; This field is filled in by the tool</para>
</entry>
</row><row><entry><para><literal>Description</literal></para>
</entry><entry><para><option>D</option></para>
</entry><entry><para>User defined string</para>
</entry><entry><para><literal>laser printer near breakroom</literal></para>
</entry><entry><para>N/A</para>
</entry><entry><para>Optional</para>
</entry>
</row><row><entry><para><literal>Printer Type</literal></para>
</entry><entry><para><option>T</option></para>
</entry><entry><para>Type of printer</para>
</entry><entry><para><literal>unknown</literal></para>
</entry><entry><para><literal>PostScript</literal></para>
</entry><entry><para>Required to install an attached printer or a network printer without
PPD files</para>
</entry>
</row><row><entry><para><literal>File Content Type</literal></para>
</entry><entry><para><option>I</option></para>
</entry><entry><para>Content to be printed</para>
</entry><entry><para><literal>any</literal></para>
</entry><entry><para><literal>PostScript</literal></para>
</entry><entry><para>Required to install an attached printer or a network printer without
PPD files</para>
</entry>
</row><row><entry><para>PPD file name</para>
</entry><entry><para><option>n</option></para>
</entry><entry><para>Full path and file name of the PPD file including the <filename>.ppd</filename> extension</para>
</entry><entry><para>$<replaceable>path</replaceable>/<replaceable>myprinter</replaceable>.<filename>ppd</filename></para>
</entry><entry><para>N/A</para>
</entry><entry><para>Optional</para>
</entry>
</row><row><entry><para><literal>Destination</literal></para>
</entry><entry><para><option>o</option></para>
</entry><entry><para>Destination name for the network printer</para>
</entry><entry><para><option>o</option> <userinput>dest=access-name:port</userinput></para>
</entry><entry><para>N/A</para>
</entry><entry><para>Required to install a network printer</para>
</entry>
</row><row><entry><para><literal>Protocol</literal></para>
</entry><entry><para><option>o</option></para>
</entry><entry><para>Protocol used to communicate with the printer</para>
</entry><entry><para><option>o</option> <userinput>protocol=tcp</userinput></para>
</entry><entry><para><literal>BSD</literal></para>
</entry><entry><para>Required to install a network printer </para>
</entry>
</row><row><entry><para><literal>Fault Notification</literal></para>
</entry><entry><para><option>A</option></para>
</entry><entry><para>Specifies how to notify user of errors</para>
</entry><entry><para><option>A</option> <userinput>mail</userinput></para>
</entry><entry><para><literal>Write to superuser</literal></para>
</entry><entry><para>Optional</para>
</entry>
</row><row><entry><para>Default Printer</para>
</entry><entry><para><option>d</option></para>
</entry><entry><para>Identifies the default printer</para>
</entry><entry><para>N/A</para>
</entry><entry><para>N/A</para>
</entry><entry><para>Optional</para>
</entry>
</row><row><entry><para>Banner Page control</para>
</entry><entry><para><option>o</option></para>
</entry><entry><para>Select whether to print banner</para>
</entry><entry><para><option>o</option> <userinput>banner=never</userinput></para>
</entry><entry><para><option>o</option> <userinput>banner=optional</userinput></para>
</entry><entry><para>Optional</para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable><task id="ertsp"><title>How to Add a New Network&hyphen;Attached Printer by Using
LP Print Service Commands</title><indexterm><primary>Expanded Printer Support</primary><secondary>adding a network printer with PPD files by using <command>lp</command> commands</secondary>
</indexterm><tasksummary><para>This procedure describes how to add a new network printer with the expanded
printer support that is available in this release. There are two examples
that follow this procedure. The first example shows you how to add a new network
printer with PPD files by using <command>lp</command> commands. The second
example shows you how to add a new network printer without PPD files by using <command>lp</command> commands. </para><para>The following steps are necessary to set up a network printer by using
the network printer support software. The use of this software is intended
for printers that do not come with vendor-supplied software.</para><para>For overview information about adding a new network printer or modifying
an existing network printer with PPD files, see <olink targetptr="printconcept-42" remap="internal">What's New in Printing?</olink>.</para>
</tasksummary><procedure id="ertso"><step><para>Connect the printer to the network, and turn on the power to the
printer.</para><para>Consult the printer vendor's installation documentation
for information about the hardware switches and cabling requirements. Get
an IP address and select a name for the printer node. This step is equivalent
to adding any node to the network.</para>
</step><step><para>Collect the information that is required to configure a new network
printer with PPD files.</para><itemizedlist><listitem><para>Printer name and port device</para>
</listitem><listitem><para>Network printer access name</para>
</listitem><listitem><para>Protocol</para>
</listitem><listitem><para>Timeout</para>
</listitem><listitem><para>File content type</para>
</listitem><listitem><para>PPD file</para>
</listitem>
</itemizedlist><para>To determine the PPD file, first define the printer make, model, and
driver that the printer will use.</para><para>For more information, see the terms that are described in <olink targetptr="printsetup-30" remap="internal">Setting Up Network Printers</olink>.</para>
</step><step><para>Define the printer name, port device, file content type, and PPD
file that the printer will use. When using PPD files, the file content type
is usually PostScript.</para><substeps><step><para>Specify the printer name and the port device that the printer
will use.</para><screen># <userinput>lpadmin -p <replaceable>printer-name</replaceable> -v /dev/null</userinput></screen><para>The device to use is <filename>/dev/null</filename>.</para><para>You can use the <option>s</option> option with the <command>lpadmin</command> command
to specify the print service host name as localhost. For more information,
see <olink targetptr="gfjgi" remap="internal">How to Use LP Print Commands to Add a Print Queue With localhost Specified as the Host Name</olink>.</para><para>You can use the <option>v</option> option to specify a <replaceable>device-uri</replaceable>. The protocol enables you to access remote printers. For more
information, see <olink targetptr="fwmxi" remap="internal">What is a Device URI?</olink>.</para>
</step><step><para>Specify the interface script that the printer will use.</para><screen># <userinput>lpadmin -p <replaceable>printer-name</replaceable> -m netstandard_foomatic</userinput> </screen><para>The interface script that is supplied with the support software for
network printer is <filename>/usr/lib/lp/model/netstandard_foomatic</filename>.</para>
</step><step><para>Specify the file content type and PPD file that the printer will
use.</para><para>When using PPD files, the file content type is usually PostScript.</para><screen># <userinput>lpadmin -p</userinput> <replaceable>printer-name</replaceable> <userinput>-I</userinput> <replaceable>content-type</replaceable> <userinput>-n</userinput> 
/<replaceable>path</replaceable>/<replaceable>ppdfile</replaceable></screen><para>The PPD file that you specify is located in the <filename>/<replaceable>path</replaceable></filename> directory.</para><note><para>If /<replaceable>path</replaceable> is not a PPD file repository
on the system, then a copy of PPD file is placed in the <filename>user</filename> label
directory in the <filename>user</filename> PPD file repository. For more information,
see <olink targetptr="ppdadmin-1" remap="internal">Chapter&nbsp;9, Administering Printers by
Using the PPD File Management Utility (Tasks)</olink>.</para>
</note><para>For more information, see <olink targetdoc="refman" targetptr="lpadmin-1m" remap="external"><citerefentry><refentrytitle>lpadmin</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink>.</para>
</step><step><para>Specify the printer description.</para><screen># <userinput>lpadmin -p <replaceable>printer-name</replaceable> -D  "<replaceable>printer-description</replaceable>"</userinput></screen>
</step>
</substeps>
</step><step><para>Set the printer destination, protocol, and timeout values.</para><screen># <userinput>lpadmin -p <replaceable>printer-name</replaceable> -o dest=</userinput><replaceable>access-name:port</replaceable> <userinput>-o protocol=<replaceable>protocol</replaceable></userinput>
<userinput>-o timeout=</userinput><replaceable>value</replaceable></screen><variablelist><varlistentry><term><option>p</option> <replaceable>printer-name</replaceable></term><listitem><para>Specifies the network printer name.</para>
</listitem>
</varlistentry><varlistentry><term><option>o dest=</option><replaceable>access-name:port</replaceable></term><listitem><para>Sets the printer destination to the network printer access
name and a designated printer vendor port, if the port is defined in the printer
vendor documentation.</para>
</listitem>
</varlistentry><varlistentry><term><option>o protocol=</option><replaceable>protocol</replaceable></term><listitem><para>Sets the over-the-wire protocol used to communicate with the
printer. Both BSD and raw TCP are supported.</para>
</listitem>
</varlistentry><varlistentry><term><option>o timeout=</option><replaceable>value</replaceable></term><listitem><para>Sets a retry timeout value that represents a number of seconds
to wait between attempting connections to the printer. </para>
</listitem>
</varlistentry>
</variablelist>
</step><step><para>(Optional) Add filters to the print server.</para><screen># <userinput>cd /etc/lp/fd</userinput>
# <userinput>for</userinput> <replaceable>filter</replaceable> <userinput>in *.fd;do</userinput>
    &gt; <replaceable>name</replaceable><userinput>=`basename $</userinput> <replaceable>filter</replaceable> <userinput>.fd`</userinput>
    &gt; <userinput>lpfilter -f $</userinput><replaceable>name</replaceable> <userinput>-F $</userinput> <replaceable>filter</replaceable>
    &gt; <userinput>done</userinput></screen>
</step><step><para>Enable the printer to accept print requests and to print those
requests. </para><screen># <userinput>accept</userinput> <replaceable>printer-name</replaceable>
# <userinput>enable</userinput> <replaceable>printer-name</replaceable></screen>
</step><step><para>Verify that the printer is correctly configured.</para><screen># <userinput>lpstat -p</userinput> <replaceable>printer-name</replaceable></screen>
</step><step><para>Add client access to the new printer.</para><para>Now that the
printer has been added, create access to the printer for the clients. For
more information, see <olink targetptr="ermli" remap="internal">Setting Up a Print Client</olink>.
For information about how to define a print client by using a naming service,
see <olink targetptr="printconcept-85" remap="internal">Printing Support in the naming service
Switch</olink>.</para>
</step><step><para>Complete any optional tasks.</para><para>There are several optional
tasks that you might want to complete when setting up a printer. For pointers
to the remaining tasks, see <olink targetptr="printsetup-2" remap="internal">Setting Up Solaris
Printing Services (Task Map)</olink>. For information about how to define
print clients by using the naming service, see <olink targetptr="printconcept-85" remap="internal">Printing Support in the naming service Switch</olink>.</para>
</step>
</procedure><example id="ertsq"><title>Adding a New Network&hyphen;Attached
Printer With PPD Files by Using LP Print Service Commands</title><para>This example shows how to add a new network printer with PPD files.
The <option>n</option> option to the <command>lpadmin</command> command enables
you to add a new print queue by specifying PPD files. The commands used in
this example must be executed on the print server. The following information
is used as an example only. The information that you provide will vary.</para><itemizedlist><listitem><para>Printer name : <literal>luna1</literal></para>
</listitem><listitem><para>Device: <literal>/dev/null</literal></para>
</listitem><listitem><para>Interface: <literal>/usr/lib/lp/model/netstandard_foomatic</literal></para>
</listitem><listitem><para>Network printer access name: <literal>nimquat:9100</literal></para>
</listitem><listitem><para>Protocol: <literal>tcp</literal></para>
</listitem><listitem><para>Timeout: 5</para>
</listitem><listitem><para>File content type: <literal>postscript</literal></para>
</listitem><listitem><para>PPD file: <filename>/<replaceable>path</replaceable>/<replaceable>ppdfile</replaceable></filename></para><screen># <userinput>lpadmin -p luna1 -v /dev/null</userinput> <lineannotation>(1)</lineannotation>
# <userinput>lpadmin -p luna1 -m netstandard_foomatic</userinput> <lineannotation>(2)</lineannotation>
# <userinput>lpadmin -p luna1 -o dest=nimquat:9100 -o protocol=tcp 
-o timeout=5</userinput> <lineannotation>(3)</lineannotation>
# <userinput>lpadmin -p luna1 -I postscript</userinput> <lineannotation>(4)</lineannotation>
# <userinput>lpadmin -p luna1 -n /<replaceable>path</replaceable>/<replaceable>ppdfile</replaceable></userinput> <lineannotation>(5)</lineannotation>
# <userinput>lpadmin -p luna1 -D "Second floor color printer"</userinput><lineannotation>(6)</lineannotation>
# <userinput>cd /etc/lp/fd</userinput>
# <userinput>for</userinput> <replaceable>filter</replaceable><userinput>in *.fd;do</userinput>	
	   &gt; <replaceable>name</replaceable> <userinput>=`basename $</userinput> <replaceable>filter</replaceable> <userinput>.fd`</userinput>	
	   &gt; <userinput>lpfilter -f $</userinput> <replaceable>name</replaceable> <userinput>-F $</userinput> <replaceable>filter</replaceable>	
	   &gt; <userinput>done</userinput> <lineannotation>(7)</lineannotation>
# <userinput>accept luna1</userinput>
	destination "luna1" now accepting requests
# <userinput>enable luna1</userinput> <lineannotation>(8)</lineannotation>
printer "luna1" now enabled 
# <userinput>lpstat -p luna1</userinput> <lineannotation>(9)</lineannotation>
 printer luna1 is idle. enabled since Mon Apr 19 15:31:15 2004. available.</screen>
</listitem>
</itemizedlist><orderedlist><listitem><para>Defines printer name and sets the device to <filename>/dev/null</filename></para>
</listitem><listitem><para>Defines the interface script for network printers</para>
</listitem><listitem><para>Sets the destination, protocol, and timeout</para>
</listitem><listitem><para>Specifies the file content types to which the printer can
print to directly</para>
</listitem><listitem><para>Specifies the PPD file to use</para>
</listitem><listitem><para>Adds a description for the printer</para>
</listitem><listitem><para>Adds print filters to the print server</para>
</listitem><listitem><para>Accepts print requests for the printer and enables the printer</para>
</listitem><listitem><para>Verifies that the printer is ready for printing</para>
</listitem>
</orderedlist>
</example><example id="ertsr"><title>Adding a New Network&hyphen;Attached
Printer Without PPD Files by Using LP Print Service Commands</title><para>This example shows how to add a new network printer without PPD files.
Thse commands must be executed on the print server.</para><itemizedlist><para>The following information is used as an example:</para><listitem><para>Printer name: <literal>luna1</literal></para>
</listitem><listitem><para>Device: <literal>/dev/null</literal></para>
</listitem><listitem><para>Interface: <literal>/usr/lib/lp/model/netstandard</literal></para>
</listitem><listitem><para>Network printer access name: <literal>nimquat:9100</literal></para>
</listitem><listitem><para>Protocol: <literal>tcp</literal></para>
</listitem><listitem><para>Timeout: 5</para>
</listitem><listitem><para>File content type: <literal>postscript</literal></para>
</listitem><listitem><para>Printer type: <literal>PS</literal></para>
</listitem>
</itemizedlist><screen># <userinput>lpadmin -p luna1 -v /dev/null</userinput> <lineannotation>(1)</lineannotation>
# <userinput>lpadmin -p luna1 -m netstandard</userinput> <lineannotation>(2)</lineannotation>
# <userinput>lpadmin -p luna1 -o dest=nimquat:9100 -o protocol=tcp 
-o timeout=5</userinput> <lineannotation>(3)</lineannotation>
# <userinput>lpadmin -p luna1 -I postscript -T PS</userinput> <lineannotation>(4)</lineannotation>
# <userinput>lpadmin -p luna1 -D "Room 1954 ps"</userinput> <lineannotation>(5)</lineannotation>
# <userinput>cd /etc/lp/fd</userinput>
# <userinput>for</userinput> <replaceable>filter</replaceable> <userinput>in *.fd;do</userinput>	
	   &gt; <replaceable>name</replaceable> <userinput>=`basename $</userinput> <replaceable>filter</replaceable> <userinput>.fd`</userinput>	
	   &gt; <userinput>lpfilter -f $</userinput> <replaceable>name</replaceable> <userinput>-F $</userinput> <replaceable>filter</replaceable>	
	   &gt; <userinput>done</userinput> <lineannotation>(6)</lineannotation>
# <userinput>accept luna1</userinput>
	destination "luna1" now accepting requests
# <userinput>enable luna1</userinput> <lineannotation>(7)</lineannotation>
printer "luna1" now enabled 
# <userinput>lpstat -p luna1</userinput> <lineannotation>(8)</lineannotation>
printer luna1 is idle.enabled since Feb 28 11:21 2003.available.</screen><orderedlist><listitem><para>Defines printer name and sets the device to <filename>/dev/null</filename></para>
</listitem><listitem><para>Defines the interface script for network printers</para>
</listitem><listitem><para>Sets the destination, protocol, and timeout</para>
</listitem><listitem><para>Specifies the file content type to which the printer can print
directly, and the printer type</para>
</listitem><listitem><para>Adds a description for the printer</para>
</listitem><listitem><para>Adds print filters to the print server</para>
</listitem><listitem><para>Accepts print requests for the printer and enables the printer</para>
</listitem><listitem><para>Verifies that the printer is ready for printing</para>
</listitem>
</orderedlist>
</example>
</task><task id="ggcyf"><title>How to Set Up a Remote Printer That is Connected to
a Solaris Print Server by Using IPP</title><procedure><step><para>Become superuser or assume an equivalent role.</para>
</step><step><para>Set up a remote printer by using one of the following methods:</para><stepalternatives><step><para>To use the <command>lpadmin</command> command, type the following
command:</para><screen># <userinput>lpadmin -p printer -s ipp://<replaceable>printer-ip-address</replaceable>/printers/<replaceable>printer-name</replaceable></userinput></screen>
</step><step><para>To use the <command>lpset</command> command, type the following
command:</para><screen># <userinput>lpset -a printer-uri-supported=ipp://<replaceable>printer-ip-address</replaceable>/printers/<replaceable>printer-name</replaceable></userinput></screen><para>The <option>a</option> option of the <command>lpset</command> command
accepts key/value pairs. In the preceding output, the key that is specified
is <literal>printer-uri-supported</literal>, with the value being <literal>ipp://printer-ip-address/printers/printer-name</literal>.  Typically, you would not configure this value to refer directly
to a printer, but rather a print queue on a print server.</para>
</step>
</stepalternatives>
</step><step performance="optional"><para>To determine the URI you have supplied,
type the following command:</para><screen>$ <userinput>lpstat -p ipp://<replaceable>printer-ip-address</replaceable>/printers/<replaceable>printer-name</replaceable></userinput></screen><para>When you use the <command>lpstat</command> command and specify the URI
as the destination, the local printing configuration is bypassed, connecting
you directly to the network&hyphen;attached
printer or the remote print server.</para>
</step>
</procedure>
</task>
</sect1><sect1 id="printconcept-17"><title>Adding a New Network&hyphen;Attached Printer
by Using Printer Vendor-Supplied Software</title><para>Network printers often have software support provided by the printer
vendor. If your printer has printer vendor- supplied software, use the printer
vendor software, when possible. The software is designed to support the attributes
of the printer and can take full advantage of the printer capabilities. Read
the printer vendor documentation to install and configure the printer, so
that it can operate with the LP print service.</para><task id="printsetup-34420"><title>How to Add a Attached Network Printer by
Using Printer Vendor-Supplied Tools</title><indexterm><primary>printers</primary><secondary>adding a network printer (how to)</secondary><tertiary>with Vendor Supplied Tools</tertiary>
</indexterm><indexterm><primary>network printer</primary><secondary>adding (how to)</secondary><tertiary>with Vendor Supplied Tools</tertiary>
</indexterm><procedure><step id="printsetup-step-22"><para>Connect the printer to the network. Turn
on the power to the printer.</para><para>Consult the printer vendor's installation
documentation for information about the hardware switches and cabling requirements.
Get an IP address and select a name for the printer node. This method is equivalent
to adding any node to the network.</para>
</step><step id="printsetup-step-23"><para>Follow the printer vendor instructions
to add the network printer.</para><para>Use the printer vendor instructions
to configure the network printer. These instructions are specific to the vendor
and printer.</para>
</step><step id="printsetup-step-24"><para>Add client access to the new printer.</para><para>Now that the printer has been added, create access to the printer for
the print clients. For more information, see <olink targetptr="ermli" remap="internal">Setting
Up a Print Client</olink>.</para>
</step><step id="printsetup-step-35"><para>Complete any optional tasks.</para><para>There
are several optional tasks that you might want to complete when setting up
a network printer. For pointers to these tasks, see <olink targetptr="printsetup-2" remap="internal">Setting Up Solaris Printing Services (Task Map)</olink>.</para>
</step>
</procedure>
</task>
</sect1><sect1 id="geawp"><title>Setting Up Printers That are Associated With PPD
Files</title><para>You can set up a printer and associate that printer with a PPD file
by using either Solaris Print Manager or LP print commands.</para><para>When adding or modifying a printer in Solaris Print Manager, the default
option is to use PPD files. The Use PPD files attribute is located in the
Print Manager drop-down menu of Solaris Print Manager. This default option
enables you to select the printer make, model, and driver when you add new
printer or modify an existing printer. To deselect this attribute, remove
the checkmark from the check box. For more information about how to specify
PPD files when a adding a printer, see <olink targetptr="gfjno" remap="internal">Administering
Printers That Are Associated With PPD Files (Task Map)</olink>.</para><para>To specify a PPD file when adding or modifying a printer by using LP
print commands, use the<command> lpadmin</command> command with the <option>n</option> option.
For more information, see <olink targetptr="gdtgn" remap="internal">How to Specify a PPD File
When Adding a New Printer by using LP Print Commands</olink>.</para><sect2 id="gfhdw"><title>Using PPD Files When Setting Up a Printer in Solaris
Print Manager</title><para>Solaris Print Manager includes a Use PPD files option that is the default
when you create a new print queue or modify an existing print queue. If you
do not want to specify a PPD file, you can override this option by removing
the checkmark from the check box. To switch back to using PPD files, recheck
the Use PPD files check box.</para><para>Note that if you create a new print queue or modify an existing print
queue with PPD files in Solaris Print Manger, you cannot assign the printer
type or file content type printer definitions. However, If you do <emphasis>not</emphasis> use
PPD files when creating a print queue, you can assign these printer definitions
by deselecting the Use PPD files attribute in the Solaris Print Manager drop-down
menu.</para><itemizedlist><para>To create a print queue with PPD files, you are required to provide
the following information:</para><listitem><para>Printer make</para>
</listitem><listitem><para>Printer model</para>
</listitem><listitem><para>Printer driver</para>
</listitem>
</itemizedlist><para>The definitions for printer make, model, and printer driver are available
in Solaris Print Manager when you create a print queue with the Use PPD files
option selected. Note that this option is the default.</para><note><para>You do not need to create a print queue that uses PPD files. Also,
PPD files are not required for printers that already contain the RIP feature.
 You can continue to use Solaris Print Manager to configure these printers
you did previously. To do so, before adding the printer, remove the checkmark
from the Use PPD files check box.</para><para>For a detailed description of
the printer make, printer model, and printer driver printer definitions, see <olink targetptr="printplan-30" remap="internal">Setting Printer Definitions</olink>.</para>
</note>
</sect2><sect2 id="ermjv"><title>Specifying a PPD File When Setting Up a Printer by
Using LP Print Commands</title><indexterm><primary>expanded printer support</primary><secondary>specifying your own PPD files</secondary>
</indexterm><indexterm><primary>specifying your own PPD files</primary><secondary>expanded printer support</secondary>
</indexterm><indexterm><primary>PPD files</primary><secondary>specifying your own</secondary>
</indexterm><para>Use the <option>n</option> option with the <command>lpadmin</command> command
to specify a PPD file when creating a new print queue or modifying an existing
print queue.</para><para>For example, to add the print queue, <literal>foobar</literal>, to a
Lexmark printer, you would type:</para><screen># <userinput>lpadmin -p foobar -v <replaceable>device</replaceable> -I postscript -m standard_foomatic \
-n /<replaceable>path</replaceable>/Lexmark-Optra_E312-Postscript.ppd.gz</userinput></screen><para>When using the <command>lpadmin</command> <option>n</option> command
to specify a PPD file, you must provide the full path to the PPD file.</para><note><para>If you use the <command>lpadmin</command> <option>n</option> command
to add a PPD file, and the repository that you specify in the PPD file path
does not exist on the system, a copy of the PPD file is stored in the <filename>user</filename> label directory, within the <filename>user</filename> repository.
This directory is located at <filename>/var/lp/ppd/user/<replaceable>manufacturer</replaceable>/ppd-file</filename>. The Solaris Print Manager cache is then
updated to reflect the printer information from the recently added PPD file.
For more information, see <olink targetptr="ppdadmin-1" remap="internal">Chapter&nbsp;9, Administering
Printers by Using the PPD File Management Utility (Tasks)</olink>.</para>
</note>
</sect2><task id="gdtgn"><title>How to Specify a PPD File When Adding a New Printer
by using LP Print Commands</title><tasksummary><para>When you use the <command>lpadmin</command> command with the <option>n</option> option
to specify a PPD file, you are required to provide the full path to the PPD
file. If you choose to use a PPD file that is located in a different directory,
you must specify the full path to that file.</para>
</tasksummary><procedure><step><para>Become superuser or assume an equivalent role.</para><para>Roles
contain authorizations and privileged commands. For more information about
roles, see <olink targetdoc="sysadv6" targetptr="rbactask-15" remap="external"><citetitle remap="section">Configuring RBAC (Task Map)</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle></olink>.</para>
</step><step><para>To specify a PPD file, use the <command>lpadmin</command> command
with the following options:</para><screen># <userinput>lpadmin -p foo -n /home/<replaceable>user</replaceable>/stuff/<replaceable>ppd-file</replaceable> -m \
standard_foomatic -I postscript -v /<replaceable>device</replaceable></userinput></screen><variablelist><varlistentry><term><option>p</option></term><listitem><para>Specifies the printer name</para>
</listitem>
</varlistentry><varlistentry><term><option>n</option></term><listitem><para>Specifies to use a PPD file</para>
</listitem>
</varlistentry><varlistentry><term><option>m</option></term><listitem><para>Specifies the interface script for utilizing PPD files</para>
</listitem>
</varlistentry><varlistentry><term><option>v</option></term><listitem><para>Specifies the port device that the printer will use</para>
</listitem>
</varlistentry>
</variablelist>
</step>
</procedure><example id="gebxh"><title>Specifying a PPD File When Setting Up a Printer</title><para>For example, to specify the <filename>xyz.ppd</filename> file that is
located in the user's home directory, you would type the following command:</para><screen># <userinput>lpadmin -p foo -n /home/<replaceable>user</replaceable>/stuff/xyz.ppd -m \
standard_foomatic -I postscript -v /<replaceable>device</replaceable></userinput></screen>
</example>
</task>
</sect1><sect1 id="gfhlt"><title>Setting Up Printers on a Print Client (Task Map)</title><informaltable frame="all" id="gfhmi"><tgroup cols="3" colsep="1" rowsep="1"><colspec colname="colspec1" colwidth="33*"/><colspec colname="colspec2" colwidth="33*"/><colspec colname="colspec3" colwidth="33*"/><thead><row><entry><para>Task</para>
</entry><entry><para>Description</para>
</entry><entry><para>For Instructions</para>
</entry>
</row>
</thead><tbody><row><entry><para>Add printer access by using Solaris Print Manager</para>
</entry><entry><para>Use Solaris Print Manager to add printer access on the print client.</para>
</entry><entry><para><olink targetptr="printsetup-9" remap="internal">How to Add Printer Access by Using Solaris
Print Manager</olink></para>
</entry>
</row><row><entry><para>Add printer access by using LP print service commands.</para>
</entry><entry><para>Use LP print commands to add printer access on the print client.</para>
</entry><entry><para><olink targetptr="gfhmo" remap="internal">How to Add Printer Access by Using LP Print
Commands</olink></para>
</entry>
</row><row><entry><para>Set up a <filename>.printers</filename> file.</para>
</entry><entry><para>Use a <filename>$HOME/.printers</filename> file so that users can establish
their own custom printer aliases.</para>
</entry><entry><para><olink targetptr="printsetup-11" remap="internal">How to Set Up a .printers File</olink></para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
</sect1><sect1 id="ermli"><title>Setting Up a Print Client</title><para>A <emphasis>print client</emphasis> is a system that is not the server
for the printer. Yet, this system has access to the printer. A print client
uses the services of the print server to spool, schedule, and filter the print
jobs. Note that one system can be a print server for one printer and be a
print client for another printer.</para><para>Access to a printer can be configured on a domain-wide basis or on a
per-machine basis. If you add the printer information to the naming service
database, access is configured on a domain-wide basis.</para><para>The following procedure describes how to use the Solaris Print Manager
to add access to a printer on a print client. The example that follows describes
how to add printer access by using the <command>lp</command> print service
commands.</para><task id="printsetup-9"><title>How to Add Printer Access by Using Solaris
Print Manager</title><procedure><step id="printsetup-step-13"><para><indexterm id="printsetup-ix298"><primary>adding</primary><secondary>access to remote printers</secondary></indexterm><indexterm><primary>Solaris Print Manager</primary><secondary>adding printer access</secondary></indexterm>Start Solaris Print Manager on the system where you want to add
access to a remote printer.</para><para>For instructions, see <olink targetptr="printsetup-6" remap="internal">How to Start Solaris Print Manager</olink>.</para>
</step><step id="printsetup-step-14"><para>Select Add Access to Printer from the
Printer menu. </para><para>The Add Access to Printer window is displayed.</para>
</step><step id="printsetup-step-15"><para>Type the appropriate data in the entry
fields.</para><para>If you need information to complete a field, click the
Help button.</para>
</step><step id="printsetup-step-16"><para>Click OK.</para>
</step><step id="printsetup-step-17"><para>Verify that access to the printer is added
by checking for the new printer entry in the Solaris Print Manager main window.</para>
</step><step id="printsetup-step-117"><para>Verify that the printer can print requests.</para><screen>$ <userinput>lp -d</userinput> <replaceable>printer-name</replaceable> <replaceable>filename</replaceable></screen>
</step><step id="printsetup-step-18"><para>Exit Solaris Print Manager.</para><para>Choose
Exit from the Print Manager Menu.</para>
</step>
</procedure>
</task><task id="gfhmo"><title>How to Add Printer Access by Using LP Print Commands</title><procedure><step><para>Become superuser or assume an equivalent role.</para><para>Roles
contain authorizations and privileged commands. For more information about
roles, see <olink targetdoc="sysadv6" targetptr="rbactask-15" remap="external"><citetitle remap="section">Configuring RBAC (Task Map)</citetitle> in <citetitle remap="book">System Administration Guide: Security Services</citetitle></olink>.</para>
</step><step><para>Add access to the printer.</para><screen># <userinput>lpadmin -p <replaceable>printer</replaceable> -s <replaceable>print-server</replaceable> -D <replaceable>description</replaceable></userinput></screen>
</step><step><para>Set the printer as the system's default printer destination</para><screen># <userinput>lpamin -d <replaceable>printer</replaceable></userinput></screen>
</step><step><para>Verify that the printer is ready for printing.</para><screen># <userinput>lpstat -p <replaceable>printer</replaceable></userinput></screen>
</step>
</procedure><example id="emjgc"><title>Adding Printer Access by Using <command>lp</command> Print Service
Commands</title><para>If you want to print to a remote printer, you must add access to the
remote printer. This example shows how to configure access to a printer named <literal>luna</literal>, whose print server is <literal>saturn</literal>.</para><screen># <userinput>lpadmin -p luna -s saturn</userinput> <lineannotation>(1)</lineannotation>
# <userinput>lpadmin -p luna -D "Room 1954 ps"</userinput> <lineannotation>(2)</lineannotation>
# <userinput>lpadmin -d luna</userinput> <lineannotation>(3)</lineannotation>
# <userinput>lpstat -p luna</userinput> <lineannotation>(4)</lineannotation></screen><orderedlist><listitem><para>Identifies the printer and the print server</para>
</listitem><listitem><para>Adds a description for the printer</para>
</listitem><listitem><para>Sets the printer as the system's default printer destination</para>
</listitem><listitem><para>Verifies that the printer is ready for printing</para>
</listitem>
</orderedlist>
</example>
</task>
</sect1><sect1 id="printsetup-10"><title>Setting Up a <filename>.printers</filename> File</title><para>The <filename>.printers</filename> file is located in a user's home directory. This file includes
information about a user's default printer and other frequently used printers.
Having a <filename>.printers</filename> file enables users to establish their
own printer aliases.  For example, a  <literal>_default</literal> alias can
be used to specify a user's default printer. Also, a special <literal>_all</literal> alias
can be used to define a list of printers that are affected when a print job
is canceled or to check the status of printers.</para><para>The use of the <filename>.printers</filename> file by the LP print service
is controlled by the naming service switch (<filename>/etc/nsswitch.conf</filename>).
The default configuration specifies that the print service checks a user's
home directory to locate printer configuration information before it checks
the other naming services. So, you can tailor a user's printer configuration
file to use custom printer information rather than the shared information
in the naming service. </para><para>For more information about the <filename>.printers</filename> file,
see the<olink targetdoc="refman" targetptr="printers-4" remap="external"><citerefentry><refentrytitle>printers</refentrytitle><manvolnum>4</manvolnum></citerefentry></olink> man
page. For more information about the naming service switch, see the <olink targetdoc="refman" targetptr="nsswitch.conf-4" remap="external"><citerefentry><refentrytitle>nsswitch.conf</refentrytitle><manvolnum>4</manvolnum></citerefentry></olink> man page.</para><task id="printsetup-11"><title>How to Set Up a <filename>.printers</filename> File</title><tasksummary><para>This procedure shows users how to set up <filename>.printers</filename> file
in their own home directories.</para>
</tasksummary><procedure><step id="printsetup-step-30"><para>Log in to the systemwith your user name and password..</para>
</step><step><para>If necessary,
change directories to $HOME.</para><screen>% <userinput>cd $HOME</userinput></screen>
</step><step id="printsetup-step-31"><para>Start the file editor that you want to
use to create a <filename>.printers</filename> file in the user's home directory. </para>
</step><step id="printsetup-step-32"><para><indexterm><primary><filename>.printers</filename> file</primary><secondary>setting up (how to)</secondary></indexterm>(Optional)
Set up the <literal>_default</literal> alias to make a specific printer the
user's default printer. Use an entry that is similar to this entry.</para><screen>_default <replaceable>printer-name</replaceable></screen>
</step><step id="printsetup-step-33"><para>Set up the <literal>_all</literal> alias
to define the printers affected when you cancel a print request or check the
status of printers. Use an entry similar to this entry.</para><screen>_all <replaceable>printer1,printer2,printer3</replaceable></screen>
</step><step id="printsetup-step-34"><para>Save the file as <filename>.printers</filename>. </para>
</step>
</procedure>
</task>
</sect1>
</chapter><?Pub *0000120854 0?>