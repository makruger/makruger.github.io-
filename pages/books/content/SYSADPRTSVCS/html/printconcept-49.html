<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>The Solaris Print Client-Server Process - System Administration Guide: Solaris Printing</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Solaris Printing</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="printconcept-31908.html">Previous</a>
             </td>
             <td align="right">
                 <a href="printconcept-15.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol2preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="printintro-1.html">1.&nbsp;&nbsp;Introduction to Printing in the Solaris Operating System</a></p>
<p class="toc level2"><a href="printconcept-42.html">What's New in Printing?</a></p>
<p class="toc level2"><a href="printconcept-40.html">Fundamentals of Printing in the Solaris Operating System</a></p>
<p class="toc level2"><a href="gdtha.html">Overview of the Solaris Printing Architecture</a></p>
<p class="toc level2"><a href="gdsuo.html">Implementation of the Open Standard Print API</a></p>
<p class="toc level2"><a href="gedcr.html">Using Printing Protocols in the Solaris Release</a></p>
<p class="toc level2"><a href="gezpb.html">Overview of Solaris Print Manager</a></p>
<p class="toc level2"><a href="printconcept-31908.html">Overview of the LP Print Service </a></p>
<div class="onpage">
<p class="toc level2"><a href="">The Solaris Print Client-Server Process</a></p>
</div>
<p class="toc level2"><a href="printconcept-15.html">Where to Find Printing Tasks</a></p>
<p class="toc level1 tocsp"><a href="printplan-1.html">2.&nbsp;&nbsp;Planning for Printing in the Solaris Operating System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printsetup-33230.html">3.&nbsp;&nbsp;Setting Up Printing Services (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printers-33230.html">4.&nbsp;&nbsp;Setting Up Printers (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printadmin-15883.html">5.&nbsp;&nbsp;Administering Printers by Using Solaris Print Manager and LP Print Commands (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="proto-1.html">6.&nbsp;&nbsp;Administering Printers That Use Network Printing Protocols (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printcust-66310.html">7.&nbsp;&nbsp;Customizing Printing Services and Printers (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="forms-1.html">8.&nbsp;&nbsp;Administering Character Sets, Filters, Forms, and Fonts (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ppdadmin-1.html">9.&nbsp;&nbsp;Administering Printers by Using the PPD File Management Utility (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printdesktop-1.html">10.&nbsp;&nbsp;Setting Up and Administering Printers From the Desktop (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printref-76596.html">11.&nbsp;&nbsp;Printing in the Solaris Operating System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="tsprint-34397.html">12.&nbsp;&nbsp;Troubleshooting Printing Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fddwm.html">A.&nbsp;&nbsp;Using the Internet Printing Protocol</a></p>
<p class="toc level1 tocsp"><a href="gdqrm.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="printconcept-49"></a><h3>The Solaris Print Client-Server Process</h3>
<p>This section provides an overview of the print client-server process.</p>

<a name="printconcept-61"></a><h4>Using Print Servers</h4>
<p>The print server is a system that has a local printer connected
to it and makes the printer available to other systems on the network.
The following figure highlights the part of the print process in which the
print server sends the print request to the printer.</p><a name="printconcept-fig-73"></a><h6>Figure&nbsp;1-1 The Print Server Sends a Print Request to the Printer</h6><img src="figures/print_over2.fig58.gif" alt="Illustration of a print server sending a print request in 5 steps. See the following description of these 5 steps."></img>
<ol><li><p>The print client submits a print request.</p></li>
<li><p>The print request is processed on the print client.</p></li>
<li><p>The print request goes to the print server.</p></li>
<li><p>The print request goes to the printer.</p></li>
<li><p>The print output is produced on the printer.</p></li></ol>


<a name="printconcept-52"></a><h4>Using Print Clients</h4>
<p>A <b>print client</b> is a system that can send print requests to a
print server.</p><p>The following figure highlights the part of the print process in which the
user submits a print request from a print client.</p><a name="printconcept-fig-70"></a><h6>Figure&nbsp;1-2 The User Submits a Print Request from a Print Client</h6><img src="figures/print_over2.fig5.gif" alt="Illustration of what happens when a user submits a print request. See the following section for a description of these 5 steps."></img>

<a name="printconcept-51"></a><h4>The Print Client Process</h4>
<p>The following figure illustrates the path of a print request from the time
the user initiates the request until the print request is printed.</p><a name="printconcept-fig-69"></a><h6>Figure&nbsp;1-3 Overview of the Print Client Process</h6><img src="figures/print_over2.fig30.gif" alt="Illustration of the print client process in 5 steps. See the following description of these 5 steps."></img>
<ol><li><p>A user submits a print request from a print client.</p></li>
<li><p>The print command checks a hierarchy of print configuration resources to determine where to send the print request.</p></li>
<li><p>The print command sends the print request directly to the appropriate print server. A print server can be any server that accepts Berkley Software Distribution (BSD) printing protocol, including System V Release 4 (SVR4), or LP print servers and BSD LPD-based print servers, as well as servers that accept IPP.</p></li>
<li><p>The print server sends the print request to the appropriate printer.</p></li>
<li><p>The print request is printed. </p></li></ol>


<a name="printref-47"></a><h4>How Local Printing Works</h4>
<p><a name="printref-ix227"></a><a name="printref-ix228"></a>The print request follows the same path it would if the client and
server were separate systems. Requests always flow from client to server following the
same path. </p><p>The following figure shows what happens when a user submits a request to
print a PostScript file on a <b>local</b> printer, which is a printer connected
to the user's system. The <tt>lpsched</tt> daemon on the local system does all
processing. </p><p>This processing might include the following:</p>
<ul><li><p>Matching the printer and content type</p></li>
<li><p>Identifying the default printer, filtering the request</p></li>
<li><p>Starting the specified printer interface program</p></li></ul>
<p>The printer interface program does the following:</p>
<ul><li><p>Prints the banner page.</p></li>
<li><p>Catches printer faults.</p></li>
<li><p>Determines the printer fault policy to either reset, continue, or begin the print job over again.</p></li>
<li><p>Finally, the interface program uses the <tt>lpcat</tt> program to download the print request to the local printer's serial port.</p></li></ul>
<img src="figures/figure1-3.gif" alt="Graphic is described in the surrounding text."></img>

<a name="printref-38"></a><h4>How LP Administers Files and Schedules Local Print Requests</h4>
<p><a name="printref-ix194"></a><a name="printref-ix195"></a><a name="printref-ix196"></a><a name="printref-ix197"></a><a name="printref-ix198"></a>The LP print service has a scheduler daemon called <tt>lpsched</tt>. The scheduler daemon
updates the LP system files with information about printer setup and configuration.</p><p>The <tt>lpsched</tt> daemon schedules all local print requests on a print server, as
shown in the following figure. Users can issue the requests from an application
or from the command line. Also, the scheduler tracks the status of printers
and filters on the print server. When a printer finishes a request, the
scheduler schedules the next request n the queue on the print server, if
a next request exists.</p><img src="figures/figure1-4.gif" alt="Graphic is described in the surrounding text."></img><p>Without rebooting the system, you can stop the scheduler with the <tt>svcadm disable application/print/server</tt>
command. Then, restart the scheduler with the <tt>svcadm enable application/print/server</tt> command. The scheduler for each system
manages requests that are issued to the system by the <tt>lp</tt> command.</p>

<a name="printref-49"></a><h4>How Remote Printing Works</h4>
<a name="printref-ix230"></a><a name="printref-ix231"></a><a name="printref-ix232"></a><p>The following figure shows what happens when a user on a Solaris
print client submits a print request to an LPD-based print server. The command
opens a connection and handles its own communications with the print server directly.</p><img src="figures/print5.gif" alt="Illustration of a Solaris print client sending a print request to an LPD-based print server where it is accepted, spooled, and scheduled for printing."></img><p>The following figure shows an LPD-based print client submitting a print request to
a Solaris print server. The <tt>lpd</tt> daemon handles the local part of the
print request and the connection to the print server. On the print server,
the <tt>inetd</tt> process waits for network printing requests and starts a protocol adaptor
to service the request. The protocol adaptor communicates with the <tt>lpsched</tt> daemon, which processes
the request on the print server.</p><img src="figures/figure1-6.gif" alt="Graphic is described in the surrounding text."></img><p>The following figure shows what happens when a user on a Solaris
print client submits a print request to a Solaris print server. The print
command on the print client handles the local part of each print request
by communicating directly with the print server.</p><img src="figures/figure1-7.gif" alt="Graphic is described in the surrounding text."></img><p><a name="printref-ix233"></a><a name="printref-ix234"></a>The <tt>inetd</tt> process on the print server monitors network printing requests and starts
a protocol adaptor to communicate with the <tt>lpsched</tt> daemon on the print server, which
processes the print request.  </p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="printconcept-31908.html">Previous</a>
             </td>
             <td align="right">
                 <a href="printconcept-15.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

