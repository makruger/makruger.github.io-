<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Printer Configuration Resources - System Administration Guide: Solaris Printing</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Solaris Printing</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="printplan-2.html">Previous</a>
             </td>
             <td align="right">
                 <a href="printplan-10.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol2preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="printintro-1.html">1.&nbsp;&nbsp;Introduction to Printing in the Solaris Operating System</a></p>
<p class="toc level1 tocsp"><a href="printplan-1.html">2.&nbsp;&nbsp;Planning for Printing in the Solaris Operating System (Tasks)</a></p>
<p class="toc level2"><a href="printder-1.html">Determining a Method to Use for Printer Setup and Administration</a></p>
<p class="toc level2"><a href="printplan-29.html">Planning for Printer Setup and Administration</a></p>
<p class="toc level2"><a href="printplan-2.html">Distributing Printers on the Network</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Printer Configuration Resources</a></p>
</div>
<p class="toc level2"><a href="printplan-10.html">Assigning Print Servers and Print Clients</a></p>
<p class="toc level2"><a href="printplan-9.html">Print Server Requirements and Recommendations</a></p>
<p class="toc level1 tocsp"><a href="printsetup-33230.html">3.&nbsp;&nbsp;Setting Up Printing Services (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printers-33230.html">4.&nbsp;&nbsp;Setting Up Printers (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printadmin-15883.html">5.&nbsp;&nbsp;Administering Printers by Using Solaris Print Manager and LP Print Commands (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="proto-1.html">6.&nbsp;&nbsp;Administering Printers That Use Network Printing Protocols (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printcust-66310.html">7.&nbsp;&nbsp;Customizing Printing Services and Printers (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="forms-1.html">8.&nbsp;&nbsp;Administering Character Sets, Filters, Forms, and Fonts (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ppdadmin-1.html">9.&nbsp;&nbsp;Administering Printers by Using the PPD File Management Utility (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printdesktop-1.html">10.&nbsp;&nbsp;Setting Up and Administering Printers From the Desktop (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printref-76596.html">11.&nbsp;&nbsp;Printing in the Solaris Operating System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="tsprint-34397.html">12.&nbsp;&nbsp;Troubleshooting Printing Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fddwm.html">A.&nbsp;&nbsp;Using the Internet Printing Protocol</a></p>
<p class="toc level1 tocsp"><a href="gdqrm.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="printconcept-57"></a><h3>Printer Configuration Resources</h3>
<p>This section describes the resources that the printing software uses to locate printer
names and printer configuration information.</p><p>The printer software may be configured to use a naming service to advertise
the printers. The naming service can be used for storing printer configuration information
for all printers on the network. The naming service, LDAP, NIS, or NIS+,
simplifies printer configuration maintenance. When you add a printer in the naming service,
all print clients on the network can access the printer. </p>

<a name="printconcept-85"></a><h4>Printing Support in the naming service Switch</h4>
<p>The <tt>printers</tt> database in <tt>/etc/nsswitch.conf</tt>, the naming service switch file, provides centralized printer
configuration information to print clients on the network. </p><p>By including the <tt>printers</tt> database and corresponding sources of information in the naming
service switch file, print clients automatically have access to printer configuration information without
having to add it to their own systems.</p><p>The default printers entry in the <tt>/etc/nsswitch.conf</tt> file for files, LDAP, NIS, and
NIS+ environments are described in the following table.</p><table><col width="36%"><col width="63%"><tr><th align="left" valign="top" scope="column"><p>naming service Type</p></th>
<th align="left" valign="top" scope="column"><p>Default <tt>printers</tt> Entry</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>files</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>printers: user files</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ldap</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>printers: user files ldap</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>nis</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>printers: user files nis</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>nis+</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>printers: user nisplus files</tt></p></td>
</tr>
</table><p>For example, if your naming service is NIS, printer configuration information on print
clients is searched for in the following sources in this order:</p>
<ul><li><p><tt>user</tt> &ndash; Represents the user's <tt>$HOME/.printers</tt> file</p></li>
<li><p><tt>files</tt> &ndash; Represents the <tt>/etc/printers.conf</tt> file</p></li>
<li><p><tt>nis</tt> &ndash; Represents the <tt>printers.conf.byname</tt> table</p></li>
<li><p><tt>nisplus</tt> &ndash; Represents the <tt>printers.org_dir</tt> table</p></li></ul>
<p>For more information, see the <a href="http://docs.sun.com/doc/819-2251/nsswitch.conf-4?a=view"><tt>nsswitch.conf</tt>(4)</a> man page and <a href="http://docs.sun.com/doc/819-3194"><i>System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</i></a>.</p>

<a name="gfllz"></a><h5>Adding Printer Information to a naming service</h5>
<p>Adding printer information to a naming service makes access to printers available to
all systems on the network. Doing so makes printer administration easier because all
the information about printers is centralized.</p><table><col width="50%"><col width="50%"><tr><th align="left" valign="top" scope="column"><p>naming service Configuration</p></th>
<th align="left" valign="top" scope="column"><p>Actions to Centralize Printer Information</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Use
a naming service</p></td>
<td align="left" valign="top" scope="row"><p>Adding the printer to the LDAP, NIS, or NIS+ database
makes the printer available to all systems on the network.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Do not use a
naming service</p></td>
<td align="left" valign="top" scope="row"><p>Adding the printer adds the printer information to the printer server's configuration
files only. Print clients will not automatically know about the printer.</p><p>You will have
to add the printer information to every print client that needs to use
the printer.</p></td>
</tr>
</table>

<a name="eekes"></a><h4>LDAP Print Support Guidelines</h4>
<p>Keep the following in mind when you manage printer information in the LDAP
naming service:</p>
<ul><li><p>Solaris Print Manager uses the <tt>ldapclient</tt> command to determine the default LDAP server name. If more than one server is specified, the first server is automatically selected. For more information, see <a href="http://docs.sun.com/doc/819-2240/ldapclient-1m?a=view"><tt>ldapclient</tt>(1M)</a>.</p></li>
<li><p>Solaris Print Manager always displays printer entries from the current LDAP server. If the current LDAP server is not the domain's LDAP master server, the list of printers displayed might not be the current list of printers. The LDAP replica server might not have been updated by the master server, and as a result, is out of sync with the master. Replica servers can have various update replication agreements. For example, a change is made on the master, and the replica servers can be updated immediately or once a day.</p></li>
<li><p>If the selected LDAP server is an LDAP replica server, any updates are referred to the master server and are done there. This situation again means that the printer list could be out of sync with the master server. For example, a deleted printer might still appear in the displayed printer list until the replica is updated from the master server.</p></li>
<li><p>Users can use the LDAP command-line utilities, <tt>ldapadd</tt> and <tt>ldapmodify</tt>, to update printer entries in the directory. However, this method is not recommended. If these utilities are used, the user must ensure that the <i>printer-name</i> attribute value is unique within the <tt>ou=printers</tt> container. If the <i>printer-name</i> attribute value is not unique, the result of modifications done by Solaris Print Manager, or by the <tt>lpset</tt> command, might not be predictable.</p></li></ul>


<a name="printconcept-58"></a><h4>How the Solaris Printing Software Locates Printers</h4>
<p>The following figure highlights the part of the print process in which the
printing software checks a hierarchy of printer configuration resources to determine where to
send the print request.</p><a name="printconcept-fig-72"></a><h6>Figure&nbsp;2-2 How the Print Client Software Locates Printers</h6><img src="figures/print_over2.fig19.gif" alt="Illustration of the steps the print client software uses to locate printers. Also shows the various printer sources. See the following description."></img>
<ol><li><p>A user submits a print request from a print client by using the <tt>lp</tt> or <tt>lpr</tt> command. The user can specify a destination printer name or class in any of three styles:</p>
<ul><li><p>Atomic style, which is the <tt>lp</tt> command and option, followed by the printer name or class, as shown in this example:</p><pre>% <tt><b>lp -d neptune</b></tt> <i>filename</i></pre></li>
<li><p>POSIX style, which is the print command and option, followed by <i>server</i>:<i>printer</i>, as shown in this example:</p><pre>% <tt><b>lpr -P galaxy:neptune</b></tt> <i>filename</i></pre></li>
<li><p>Context-based style, as shown in this example:</p><pre>% <tt><b>lpr -d thisdept/service/printer/</b></tt><i>printer-name</i> <i>filename</i></pre></li></ul>
</li>
<li><p>The print command locates a printer and printer configuration information as follows: </p>
<ul><li><p>The print command checks to see if the user specified a destination printer name or printer class in one of the three valid styles. </p></li>
<li><p>If the user didn't specify a printer name or class in a valid style, the command checks the user's <tt>PRINTER</tt> or <tt>LPDEST</tt> environment variable for a default printer name.</p></li>
<li><p>If neither environment variable for the default printer is defined, the command checks the sources configured for the <tt>printers</tt> database in the <tt>/etc/nsswitch.conf</tt> file. The naming service sources might be one of the following:</p>
<ul><li><p>LDAP directory information tree in the domain's <tt>ou=printers</tt> container</p></li>
<li><p>NIS <tt>printers.conf.byname</tt> map</p></li>
<li><p>NIS+ <tt>printers.conf_dir</tt> map</p></li></ul>
</li></ul>
</li></ol>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="printplan-2.html">Previous</a>
             </td>
             <td align="right">
                 <a href="printplan-10.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

