<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Setting Printer Definitions by Using LP Print Commands (Task Map) - System Administration Guide: Solaris Printing</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Solaris Printing</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gfjsi.html">Previous</a>
             </td>
             <td align="right">
                 <a href="gfjrw.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol2preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="printintro-1.html">1.&nbsp;&nbsp;Introduction to Printing in the Solaris Operating System</a></p>
<p class="toc level1 tocsp"><a href="printplan-1.html">2.&nbsp;&nbsp;Planning for Printing in the Solaris Operating System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printsetup-33230.html">3.&nbsp;&nbsp;Setting Up Printing Services (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printers-33230.html">4.&nbsp;&nbsp;Setting Up Printers (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printadmin-15883.html">5.&nbsp;&nbsp;Administering Printers by Using Solaris Print Manager and LP Print Commands (Tasks)</a></p>
<p class="toc level2"><a href="gdtfs.html">Introduction to Administering Printers</a></p>
<p class="toc level2"><a href="gfjnd.html">Administering Printers by Using Solaris Print Manager (Task Map)</a></p>
<p class="toc level2"><a href="gfjsi.html">Administering Printers and the Print Scheduler by Using LP Print Commands (Task Map)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Setting Printer Definitions by Using LP Print Commands (Task Map)</a></p>
</div>
<p class="toc level2"><a href="gfjrw.html">Administering Print Requests by Using the LP Print Commands (Task Map)</a></p>
<p class="toc level2"><a href="gfjno.html">Administering Printers That Are Associated With PPD Files (Task Map)</a></p>
<p class="toc level1 tocsp"><a href="proto-1.html">6.&nbsp;&nbsp;Administering Printers That Use Network Printing Protocols (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printcust-66310.html">7.&nbsp;&nbsp;Customizing Printing Services and Printers (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="forms-1.html">8.&nbsp;&nbsp;Administering Character Sets, Filters, Forms, and Fonts (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ppdadmin-1.html">9.&nbsp;&nbsp;Administering Printers by Using the PPD File Management Utility (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printdesktop-1.html">10.&nbsp;&nbsp;Setting Up and Administering Printers From the Desktop (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printref-76596.html">11.&nbsp;&nbsp;Printing in the Solaris Operating System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="tsprint-34397.html">12.&nbsp;&nbsp;Troubleshooting Printing Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fddwm.html">A.&nbsp;&nbsp;Using the Internet Printing Protocol</a></p>
<p class="toc level1 tocsp"><a href="gdqrm.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="gfjpw"></a><h3>Setting Printer Definitions by Using LP Print Commands (Task Map)</h3>
<table><col width="33%"><col width="33%"><col width="33%"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Add a
printer description.</p></td>
<td align="left" valign="top" scope="row"><p>Use the <tt>lp</tt> command with the<tt>-p</tt> option to add a printer description.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#printadmin-5177">How to Add a Printer Description by Using LP Print Commands</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Set
a default printer for a system.</p></td>
<td align="left" valign="top" scope="row"><p>Specify a default printer destination for a
user so the user does not need to type the printer name.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#gfjex">How to Set a System's Default Printer Destination by Using LP Print Commands</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Make banner
pages optional.</p></td>
<td align="left" valign="top" scope="row"><p>Give users a choice to turn off printing of a banner
page when they submit a print request. </p></td>
<td align="left" valign="top" scope="row"><p><a href="#gfjiu">How to Make Banner Pages Optional by Using LP Print Commands</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Turn off banner pages.</p></td>
<td align="left" valign="top" scope="row"><p>Set the <tt>-o banner=never</tt>
variable for a printer you can turn off banner pages under all circumstances.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#gfjix">How to Turn Off Banner Pages by Using LP Print Commands</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Define
a class of printers.</p></td>
<td align="left" valign="top" scope="row"><p>Group printers in a class by using the <tt>lpadmin</tt>
<tt>-c</tt> command.</p><p>Printers can be grouped in the following classes:</p>
<ul><li><p>Printer type</p></li>
<li><p>Location</p></li>
<li><p>Work group</p></li></ul>
</td>
<td align="left" valign="top" scope="row"><p><a href="#gfjil">How to Define a Class of Printers by Using LP Print Commands</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Set fault alters for
a printer.</p></td>
<td align="left" valign="top" scope="row"><p>The print service can notify you when it detects a printer
fault. Use the <tt>-A</tt> option with the <tt>lpadmin</tt> command to set fault alerts for
a printer.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#gfjhy">How to Set Fault Alerts for a Printer by Using LP Print Commands</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Set printer fault recovery.</p></td>
<td align="left" valign="top" scope="row"><p>You can choose not to receive any fault
notification. You can find out about printing faults so that you can correct
the problem. Use the <tt>-F</tt> option with the <tt>lpadmin</tt> command to define fault
recovery options.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#gfjhl">How to Set Printer Fault Recovery by Using LP Print Commands</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Limit user access to a printer.</p></td>
<td align="left" valign="top" scope="row"><p>To control user access to printers,
create allow and deny lists on the print server.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#gfjib">How to Limit User Access to a Printer by Using LP Print Commands</a></p></td>
</tr>
</table>

<a name="gfjpn"></a><h4>Setting Printer Definitions by Using LP Print Commands</h4>
<p>Setting definitions for the printers on your network is an ongoing task that
lets you provide a more effective print environment for users. For example, you
can assign printer descriptions for all your site's printers to help users find
where a printer is located. Or, you can define a class of
printers to provide the fastest turnaround for print requests. See <a href="geawp.html#ermjv">Specifying a PPD File When Setting Up a Printer by Using LP Print Commands</a> for more information
about setting printer definitions by using LP print commands.</p><p>Many printer definitions can be set or reset by using Solaris Print Manager.
For more information, see <a href="ermll.html#set-attr1">Setting Printer Definitions by Using Solaris Print Manager</a>.</p><p>The following procedures provide step-by-step instructions on setting or resetting printer definitions by
using LP Print Commands. These procedures show how to quickly set or reset
printer definitions.</p>

<a name="printadmin-5177"></a><h5>How to Add a Printer Description by Using LP Print Commands</h5>
<ol>
<li><a name="gfjgv"></a><b><a name="gfjfa"></a><a name="pr-desc-add-1"></a>Log in as superuser, <tt>lp</tt>, or assume an equivalent role on the print server.</b></li>
<li><a name="gfjgy"></a><b><a name="gfjgw"></a>Add a printer description.  </b><pre># <tt><b>lpadmin -p</b></tt> <i>printer-name</i> <tt><b>-D</b></tt> "<i>comment</i>"</pre><dl><dt><tt>-p</tt> <i>printer-name</i></dt>
<dd><p>Specifies the name of the printer for which you are adding a description.</p></dd>
<dt><tt>-D</tt> <i>"comment"</i></dt>
<dd><p>Specifies the characteristics of the printer, such as the location or administrative contact. Enclose characters that the shell might interpret, such as <tt>*</tt>, <tt>?</tt>, <tt>\</tt>, <tt>!</tt>, <tt>^</tt>, in single quotation marks.</p></dd>
</dl>
<p>For more information, see the <a href="http://docs.sun.com/doc/819-2240/lpadmin-1m?a=view"><tt>lpadmin</tt>(1M)</a> man page.</p></li>
<li><a name="verify-1"></a><b>Verify that the <tt>Description</tt> information is correct.</b><pre># <tt><b>lpstat -p</b></tt> <i>printer-name</i> <tt><b>-l</b></tt></pre></li></ol><a name="gfjer"></a><h6>Example&nbsp;5-5 Adding a Printer Description</h6><p>The following example shows how to add a printer description for the printer
<tt>luna</tt>.</p><pre># <tt><b>lpadmin -p luna -D "Nathans office"</b></tt></pre>

<a name="gfjfj"></a><h4>Setting Up a Default Printer Destination by Using LP Print Commands</h4>
<a name="gfjfr"></a><a name="gfjeo"></a><p>You can specify a default printer destination for a user so that
the user does not need to type the printer name when using the
print commands. Before you can designate a printer as the default, the printer
must be known to the print service on the system.</p><p>Set a user's default printer destination by setting any of the following:</p>
<ul><li><p><tt>LPDEST</tt> environment variable</p></li>
<li><p><tt>PRINTER</tt> environment variable</p></li>
<li><p>The <tt>_default</tt> variable in the user's <tt>.PRINTERS</tt> file</p></li>
<li><p>The system's default printer by using the <tt>lpadmin</tt> <tt>-d</tt> command or Solaris Print Manager</p></li></ul>
<p>When an application provides a printer destination, that destination is used by the
print service, regardless of whether you have set a system's default printer destination.
If an application doesn't provide a printer destination or if you don't provide
a printer name when using a print command, the print command searches for
the default printer in a specific order. The following table shows the search
order for a system's default printer destination.</p><a name="gfjep"></a><h6>Table&nbsp;5-1 Search Order for Default Printer Destinations</h6><table><col width="20%"><col width="40%"><col width="39%"><tr><th align="left" valign="top" scope="column"><p>Search Order</p></th>
<th align="left" valign="top" scope="column"><p>Using <tt>/usr/bin/lp</tt> Command</p></th>
<th align="left" valign="top" scope="column"><p>Using LPD-Based Compatibility
Commands (<tt>lpr</tt>, <tt>lpq</tt>, and <tt>lprm</tt>)</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>First</p></td>
<td align="left" valign="top" scope="row"><p><tt>LPDEST</tt> variable</p></td>
<td align="left" valign="top" scope="row"><p><tt>PRINTER</tt> variable</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Second</p></td>
<td align="left" valign="top" scope="row"><p><tt>PRINTER</tt> variable</p></td>
<td align="left" valign="top" scope="row"><p><tt>LPDEST</tt> variable</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Third</p></td>
<td align="left" valign="top" scope="row"><p>System's default printer</p></td>
<td align="left" valign="top" scope="row"><p>System's default
printer</p></td>
</tr>
</table>

<a name="gfjex"></a><h4>How to Set a System's Default Printer Destination by Using LP Print Commands</h4><ol>
<li><a name="gfjeq"></a><b><a name="gfjhi"></a>Log in as superuser, <tt>lp</tt>, or assume an equivalent role on the system
where you want to set a default printer.</b></li>
<li><a name="gfjjg"></a><b><a name="gfjju"></a>Set the system's default printer.</b><pre># <tt><b>lpadmin -d</b></tt> [<i>printer-name</i>]</pre><p><tt>-d</tt> <i>printer-name</i> specifies the name of the printer you are assigning as the
system's default printer. If you don't specify <i>printer-name</i>, the system is set up with
no default printer.</p></li>
<li><a name="gfjhr"></a><b>Check the system's default printer.</b><pre># <tt><b>lpstat -d</b></tt></pre></li></ol><a name="gfjjz"></a><h6>Example&nbsp;5-6 Setting a System's Default Printer Destination</h6><p><a name="gfjhw"></a><a name="gfjjm"></a><a name="gfjjy"></a><a name="gfjhx"></a>The following example shows how to set the printer <tt>luna</tt> as the system's default
printer. The printer <tt>luna</tt> is used as the system's default printer if the
<tt>LPDEST</tt> or the <tt>PRINTER</tt> environment variables are not set.</p><pre># <tt><b>lpadmin -d luna</b></tt>
# <tt><b>lpstat -d</b></tt>
system default destination: luna</pre>

<a name="gfjji"></a><h4>Printing Banner Pages by Using LP Print Commands</h4>
<a name="gfjja"></a><a name="gfjhn"></a><p><a name="gfjjd"></a>A banner page identifies who submitted the print request, the print request ID,
and when the request was printed. A banner page also has a modifiable
title to help users identify their printouts.  </p><p><a name="gfjjp"></a>Banner pages make identifying the owner of a print job easy, which is
especially helpful when many users submit jobs to the same printer. However, printing
banner pages uses more paper and might be unnecessary if a printer has
only a few users. In some cases, printing banner pages is undesirable. For
example, if a printer has special paper or forms mounted, such as paycheck
forms, printing banner pages might cause problems. </p><p>By default, the print service forces banner pages to be printed. However, you
can give users a choice to turn off printing of a banner
page when they submit a print request. You can set this choice through
the <tt>lpadmin</tt> command or through Solaris Print Manager. If you give the users
a choice, they have to use the <tt>-o banner</tt> option to turn off banner
page printing.</p><p>Also, if you don't need or want banner pages, you can turn
off banner pages so that they are never printed. You can turn off
banner page printing by using the <tt>lpadmin</tt> command or through Solaris Print Manager.</p><a name="gfjih"></a><h6>Table&nbsp;5-2 Banner Page Printing</h6><table><col width="33%"><col width="33%"><col width="33%"><tr><th align="left" valign="top" scope="column"><p>Command
Used</p></th>
<th align="left" valign="top" scope="column"><p>Banner Page Printing</p></th>
<th align="left" valign="top" scope="column"><p>Override?</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>lpadmin -p</tt> <i>printer</i> <tt>-o banner</tt> OR</p><p><tt>lpadmin -p</tt> <i>printer</i> <tt>-o banner=always</tt></p></td>
<td align="left" valign="top" scope="row"><p>Required and printed</p></td>
<td align="left" valign="top" scope="row"><p>If you are
a regular user and use <tt>p -o nobanner</tt>, the request is printed. However, the <tt>nobanner</tt>
argument is ignored.</p><p>If you are superuser (<tt>root</tt>), or another privileged user, the <tt>nobanner</tt> argument
is honored.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>lpadmin -p</tt> <i>printer</i> <tt>-o nobanner</tt></p><p><tt>lpadmin -p</tt> <i>printer</i> <tt>-o banner=optional</tt></p></td>
<td align="left" valign="top" scope="row"><p>On by default, but can be disabled
on a per request basis with the <tt>lp -o nobanner</tt> command</p></td>
<td align="left" valign="top" scope="row"><p>Not applicable.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>lpadmin -p</tt> <i>printer</i> <tt>-o banner=never</tt></p></td>
<td align="left" valign="top" scope="row"><p>Disabled</p></td>
<td align="left" valign="top" scope="row"><p>No,
if you are a regular user. If you are superuser (<tt>root</tt>), or the
<tt>lp</tt> user, you can override this option to cause the generation of a
burst page.</p></td>
</tr>
</table>

<a name="gfjiu"></a><h4>How to Make Banner Pages Optional by Using LP Print Commands</h4><ol>
<li><a name="gfjir"></a><b><a name="gfjht"></a>Log in as superuser, <tt>lp</tt>, or assume an equivalent role on the
print server.</b></li>
<li><a name="gfjjo"></a><b>Make banner pages optional.</b><pre># <tt><b>lpadmin -p</b></tt> <i>printer-name</i> <tt><b>-o banner=optional</b></tt></pre><dl><dt><tt>-p</tt> <i>printer-name</i></dt>
<dd><p>Specifies the name of the printer for which you are making banner pages optional.</p></dd>
<dt><tt>-o banner=optional</tt></dt>
<dd><p>Enables users to specify no banner page when they submit a print request.</p></dd>
</dl>
</li>
<li><a name="gfjjn"></a><b>Verify that the banner page is optional. The command output contains the line
<tt>Banner not required</tt>.</b><pre># <tt><b>lpstat -p</b></tt> <i>printer-name</i> <tt><b>-l</b></tt></pre></li></ol><a name="gfjie"></a><h6>Example&nbsp;5-7 Making Banner Pages Optional</h6><p>The following example shows how to make the banner page optional on the
printer <tt>luna</tt>.</p><pre># <tt><b>lpadmin -p luna -o banner=optional</b></tt></pre>

<a name="gfjix"></a><h4>How to Turn Off Banner Pages by Using LP Print Commands</h4><ol>
<li><a name="gfjit"></a><b><a name="gfjjv"></a>Log in as superuser, <tt>lp</tt>, or assume an equivalent role on the
print server.</b></li>
<li><a name="gfjhd"></a><b>Turn off banner printing.</b><pre># <tt><b>lpadmin -p</b></tt> <i>printer-name</i> <tt><b>-o banner=never</b></tt></pre><dl><dt><tt>-p</tt> <i>printer-name</i></dt>
<dd><p>Specifies the name of the printer for which you are turning off banner pages.</p></dd>
<dt><tt>-o banner=never</tt></dt>
<dd><p>Disables banner page printing under all circumstances.</p></dd>
</dl>
</li>
<li><a name="gfjii"></a><b>Verify that banner printing is turned off. </b><pre># <tt><b>lpstat -p</b></tt> <i>printer-name</i> <tt><b>-l</b></tt></pre><p>The command output contains the line <tt>Banner not printed</tt>.</p></li>
<li><a name="gfjhq"></a><b>Submit a print request to the printer to ensure that a banner page
does not print.</b></li></ol><a name="gfjiw"></a><h6>Example&nbsp;5-8 Turning Off Printing Banner Pages</h6><p>The following example shows how to disable the printing of banner pages on
the printer <tt>luna</tt>.</p><pre># <tt><b>lpadmin -p luna -o banner=never</b></tt></pre>

<a name="gfjjt"></a><h4>Setting Up Printer Classes by Using LP Print Commands</h4>
<a name="gfjhv"></a><a name="gfjho"></a><p>The LP print service enables you to group several locally attached printers into
one class. You can perform this task only by using the <tt>lpadmin</tt>
<tt>-c</tt> command.</p><p>After you set up a printer class, users can then specify that
class, rather than individual printers, as the destination for a print request. The first
printer in the class that is available to print is used. The
result is faster turnaround because printers are kept as busy as possible.</p><p>No default printer classes are known to the print service. Printer classes exist
only if you define them.</p><p>Here are some ways you could define printer classes:</p>
<ul><li><p><b>By printer type</b> &ndash; For example, a PostScript printer.</p></li>
<li><p><b>By location</b> &ndash; For example, a printer located on the 5th floor.</p></li>
<li><p><b>By work group or department</b> &ndash; For example, the accounting department.</p></li></ul>
<p>Alternatively, a class might contain several printers that are used in a particular
order. The LP print service always checks for an available printer in the
order in which printers were added to a class. Therefore, if you want
a high-speed printer to be accessed first, add the high-speed printer to the
class before you add a low-speed printer. As a result, the high-speed printer
handles as many print requests as possible. The low-speed printer is reserved as
a backup printer when the high-speed printer is in use.</p>
<hr><p><b>Note - </b>Print requests are balanced between printers in a class only for local printers.</p>
<hr>
<p>Class names, similar to printer names, must be unique and can contain a
maximum of 14 alphanumeric characters and underscores.</p><p>You are not obligated to define printer classes. You should add printer classes
only if you determine that using them would benefit users on the
network. </p>

<a name="gfjil"></a><h4>How to Define a Class of Printers by Using LP Print Commands</h4><ol>
<li><a name="gfjhu"></a><b><a name="gfjhh"></a><a name="gfjij"></a>Log in as superuser, <tt>lp</tt>, or assume an equivalent role on the print server.</b></li>
<li><a name="gfjiq"></a><b><a name="gfjia"></a>Define a class of printers. </b><pre># <tt><b>lpadmin -p</b></tt> <i>printer-name</i> <tt><b>-c</b></tt> <i>printer-class</i></pre><dl><dt><tt>-p</tt> <i>printer-name</i></dt>
<dd><p>Specifies the name of the printer you are adding to a class of printers.</p></dd>
<dt><tt>-c</tt> <i>printer-class</i></dt>
<dd><p>Specifies the name of a class of printers.</p></dd>
</dl>
</li>
<li><a name="gfjhe"></a><b>Verify that the printers are in a printer class.</b><pre># <tt><b>lpstat -c</b></tt> <i>printer-class</i></pre></li></ol><a name="gfjis"></a><h6>Example&nbsp;5-9 Defining a Class of Printers</h6><p>The following example shows how to add the printer <tt>luna</tt> in the printer
class <tt>roughdrafts</tt>.</p><pre># <tt><b>lpadmin -p luna -c roughdrafts</b></tt></pre>

<a name="gfjim"></a><h4>Setting Up Printer Fault Alerts by Using LP Print Commands</h4>
<a name="gfjhs"></a><a name="gfjhj"></a><p>If you choose, the LP print service can notify you when it
detects a printer fault. With the <tt>lpadmin</tt> <tt>-A</tt> command or with Solaris Print Manager,
you can select any of the following methods to receive printer fault notification:</p>
<ul><li><p>A message to the terminal on which <tt>root</tt> is logged in</p></li>
<li><p>Electronic mail to <tt>root</tt></p></li>
<li><p>No notification</p></li></ul>
<p>However, the <tt>lpadmin</tt> <tt>-A</tt> command offers you an additional option of receiving a
message specified by the program of your choice. The <tt>lpadmin</tt> <tt>-A</tt> command also enables
you to selectively turn off notification for an error that you already know
about.</p><p>Unless you specify a program to deliver fault notification, the content of the
fault alert is a predefined message that states that the printer has stopped
printing and needs to be fixed.</p><p><a name="gfjip"></a>The following table lists the alert values that you can set for a
printer with the <tt>lpadmin</tt> <tt>-A</tt> command. These alert values can also be
set for print wheels, font cartridges, and forms. </p><a name="gfjik"></a><h6>Table&nbsp;5-3 Values for Printer Fault Alerts</h6><table><col width="36%"><col width="63%"><tr><th align="left" valign="top" scope="column"><p>Value for <tt>-A</tt> <tt>alert</tt></p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>'<tt>mail</tt> [<i>username</i>]'</p></td>
<td align="left" valign="top" scope="row"><p>Sends
the alert message by email to <tt>root</tt> or <tt>lp</tt> on the print server,
or the specified <i>username</i>, which is a name of a user.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>'<tt>write</tt> [<i>user-name</i>]'</p></td>
<td align="left" valign="top" scope="row"><p>Sends the
alert message to the <tt>root</tt> or <tt>lp</tt> console window on the print server,
or to the console window of the specified <i>username</i>, which is a
name of a user. The specified user must be logged in to the
print server to get the alert message.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>'<i>command</i>'</p></td>
<td align="left" valign="top" scope="row"><p>Runs the specified <i>command</i> file for
each alert. The environment variables and current directory are saved and restored when the
file is executed.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>quiet</tt></p></td>
<td align="left" valign="top" scope="row"><p>Stops alerts until the fault is fixed. Use this valve
when you, <tt>root</tt> or a specified user, receive repeated alerts.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>none</tt></p></td>
<td align="left" valign="top" scope="row"><p>Does not send
any alerts. This value is the default if you don't specify fault alerts
for a printer.</p></td>
</tr>
</table>

<a name="gfjhy"></a><h4>How to Set Fault Alerts for a Printer by Using LP Print Commands</h4><ol>
<li><a name="gfjiv"></a><b><a name="gfjhp"></a>Log in as superuser, <tt>lp</tt>, or assume an equivalent role on the
print server.</b></li>
<li><a name="gfjid"></a><b><a name="gfjjf"></a>Set fault alerts for a printer. </b><pre># <tt><b>lpadmin -p</b></tt> <i>printer-name</i> <tt><b>-A</b></tt> <i>alert</i> [<tt><b>-W</b></tt> <i>minutes</i>]</pre><dl><dt><tt>-p</tt> <i>printer-name</i></dt>
<dd><p>Specifies the name of the printer for which you are specifying an alert for printer faults.</p></dd>
<dt><tt>-A</tt> <i>alert</i></dt>
<dd><p><a name="gfjjs"></a>Specifies what kind of alert occurs when the printer faults. Some valid values are <tt>mail</tt>, <tt>write</tt>, and <tt>quiet</tt>. </p></dd>
<dt><tt>-W</tt> <i>minutes</i></dt>
<dd><p>Specifies how often, in minutes, the fault alert occurs. If you don't specify this option, the alert is sent one time.</p></dd>
</dl>
</li>
<li><a name="gfjjk"></a><b>Verify that the fault alert has been sent properly.</b><pre># <tt><b>lpstat -p</b></tt> <i>printer-name</i> <tt><b>-l</b></tt></pre></li></ol><a name="gfjjj"></a><h6>Example&nbsp;5-10 Setting Fault Alerts for a Printer</h6><p>The following example shows how to set up the printer <tt>mars</tt> to send
fault alerts by email to a user named <tt>joe</tt>. A reminder is sent
every 5 minutes.</p><pre># <tt><b>lpadmin -p mars -A 'mail joe' -W 5</b></tt></pre><p>The following example shows how to set up the printer <tt>venus</tt> to send
fault alerts to the console window. A reminder i sent every 10
minutes.</p><pre># <tt><b>lpadmin -p venus -A write -W 10</b></tt></pre><p>The following example shows how to stop fault alerts for the printer
<tt>mercury</tt>.</p><pre># <tt><b>lpadmin -p mercury -A none</b></tt></pre><p>The following example shows how to stop fault alerts until the printer
<tt>venus</tt> has been fixed.</p><pre># <tt><b>lpadmin -p venus -A quiet</b></tt></pre>

<a name="gfjhf"></a><h4>Setting Up Printer Fault Recovery by Using LP Print Commands</h4>
<p>If you choose not to send any fault notification, you can still
find out about printer faults so that you can correct the problem. The
LP print service will not continue to use a printer that has a
fault. In addition to alerts for printer faults, you can also provide alerts
that instruct you to mount print wheels, font cartridges, and forms when print
requests require them.</p><p>You can define the fault recovery options for a printer only by
using the <tt>lpadmin</tt> <tt>-F</tt> command. This task is not available in Solaris Print Manager.</p><p>Printer faults can be as simple as running out of paper or
needing to replace a toner cartridge. More serious problems can include complete printer failure
or power failure.</p><p>After you fix a printer fault, the print request that was active
when the fault occurred begins printing in one of three ways:</p>
<ul><li><p>Starts printing from the beginning</p></li>
<li><p>Continues printing from the top of the page where printing stopped</p></li>
<li><p>After you enable the printer, continues printing from the top of the page where the printing stopped</p></li></ul>
<p>The LP print service requires a separate print filter to continue printing from
the top of a page where the printing stopped. This print filter
records the control sequences set by the default print filters. The printer uses
these control sequences to track page boundaries. You will be notified by the
LP print service if recovery cannot proceed with the specified print filter. For information
about writing filters, see <a href="printcust-45830.html#printcust-53777">How to Create a New Print Filter</a>. </p><p>If you want printing to resume immediately after a printer fault is fixed,
enable the printer by using the <tt>enable</tt> command. </p><p><a name="gfjhm"></a>The following table lists the fault recovery values that you can set for
a printer by using the <tt>lpadmin</tt> <tt>-F</tt> command. </p><a name="gfjhg"></a><h6>Table&nbsp;5-4 Values for Printer Fault Recovery</h6><table><col width="36%"><col width="63%"><tr><th align="left" valign="top" scope="column"><p>Value for <tt>-F</tt> <i>recover-options</i></p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>beginning</tt></p></td>
<td align="left" valign="top" scope="row"><p>After
a fault recovery, printing restarts from the beginning of the file.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>continue</tt></p></td>
<td align="left" valign="top" scope="row"><p><a name="gfjif"></a>After a fault
recovery, printing starts at the top of the page where the printing stopped.
This recovery option requires a print filter. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>wait</tt></p></td>
<td align="left" valign="top" scope="row"><p>After a fault recovery, printing stops
until you enable the printer. After you enable the printer by using the
<tt>enable</tt> command, printing starts at the top of the page where printing stopped.
This recovery option requires a print filter.</p></td>
</tr>
</table>

<a name="gfjhl"></a><h4>How to Set Printer Fault Recovery by Using LP Print Commands</h4><ol>
<li><a name="gfjiy"></a><b>Log in as superuser, <tt>lp</tt>, or assume an equivalent role on the print
server.</b></li>
<li><a name="gfjhk"></a><b><a name="gfjjw"></a>Set up fault recovery for the printer. </b><pre># <tt><b>lpadmin -p</b></tt> <i>printer-name</i> <tt><b>-F</b></tt> <i>recovery-options</i></pre><dl><dt><tt>-p</tt> <i>printer-name</i></dt>
<dd><p>Specifies the name of the printer for which you are specifying fault recovery.</p></dd>
<dt><tt>-F</tt> <i>recovery-options</i></dt>
<dd><p>Specifies one of the three valid recovery options: <tt>beginning</tt>, <tt>continue</tt>, or <tt>wait</tt>. </p></dd>
</dl>
<p>For more information, see the <a href="http://docs.sun.com/doc/819-2240/lpadmin-1m?a=view"><tt>lpadmin</tt>(1M)</a> man page.</p></li>
<li><a name="gfjjr"></a><b>Verify that printer fault recovery has been set up properly.</b><pre># <tt><b>lpstat -p</b></tt> <i>printer-name</i> <tt><b>-l</b></tt></pre></li></ol><a name="gfjhz"></a><h6>Example&nbsp;5-11 Setting Printer Fault Recovery</h6><p>The following example shows how to set up the printer <tt>luna</tt> to continue
printing at the top of the page where printing stopped.</p><pre># <tt><b>lpadmin -p luna -F continue</b></tt></pre>

<a name="gfjic"></a><h4>Limiting User Access to a Printer by Using LP Print Commands</h4>
<a name="gfjjl"></a><a name="gfjjb"></a><p>You can control which users can access some printers or all of
the available printers. For example, you can prevent some users from printing on
a high-quality printer to minimize expense. To restrict user access to printers, you
create <tt>allow</tt> and <tt>deny</tt> lists by using the <tt>lpadmin</tt> <tt>-u</tt> command on
the print server. Solaris Print Manager enables you to create only <tt>allow</tt> lists.
If you create neither list, a printer is available to all users who
can access the printer.</p><p>An <tt>allow</tt> list contains the names of users who are allowed access to
the specified printer. A <tt>deny</tt> list contains the names of users denied access
to the specified printer.</p><p>The rules for <tt>allow</tt> and <tt>deny</tt> lists are explained in the following table:</p><table><col width="49%"><col width="50%"><tr><th align="left" valign="top" scope="column"><p>Allow
and Deny List Rule</p></th>
<th align="left" valign="top" scope="column"><p>User Consequence</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Do not create <tt>allow</tt> and <tt>deny</tt> lists. Or, if
you leave both lists empty.</p></td>
<td align="left" valign="top" scope="row"><p>All users can access the printer.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Specify <tt>all</tt> in
the <tt>allow</tt> list.</p></td>
<td align="left" valign="top" scope="row"><p>All users can access the printer.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Specify <tt>all</tt> in the <tt>deny</tt>
list</p></td>
<td align="left" valign="top" scope="row"><p>All users, except <tt>root</tt> and <tt>lp</tt> user on the server, are denied access
to the printer.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Make any entry in the <tt>allow</tt> list.</p></td>
<td align="left" valign="top" scope="row"><p>The <tt>deny</tt> list is
ignored. Only users who are listed can access the printer.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Create a deny list,
but you do not create an <tt>allow</tt> list or you leave the <tt>allow</tt>
list empty.</p></td>
<td align="left" valign="top" scope="row"><p>Users who are listed in the <tt>deny</tt> list are denied access to
the printer.</p></td>
</tr>
</table><p>Because the print server is responsible for controlling access to the printer, <tt>allow</tt>
and <tt>deny</tt> lists can only be created on the print server. If you
create <tt>allow</tt> and <tt>deny</tt> lists, the print server will exclusively control user
access to printers.</p><p><a name="gfjka"></a><a name="gfjig"></a><a name="gfjjx"></a><a name="gfjiz"></a>The following table lists the values that you can add to an
<tt>allow</tt> list or a <tt>deny</tt> list to limit user access to a printer.
   </p><a name="gfjje"></a><h6>Table&nbsp;5-5 Values for Allow and Deny Lists</h6><table><col width="33%"><col width="66%"><tr><th align="left" valign="top" scope="column"><p>Value for <i>user-list</i> </p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><i>user</i></p></td>
<td align="left" valign="top" scope="row"><p><i>User</i> on any system</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>all</tt></p></td>
<td align="left" valign="top" scope="row"><p>All users on
all systems</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>none</tt></p></td>
<td align="left" valign="top" scope="row"><p>No user on any system</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><i>system</i><tt>!</tt><i>user</i></p></td>
<td align="left" valign="top" scope="row"><p><i>User</i> on <i>system</i> only</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>!</tt><i>user</i></p></td>
<td align="left" valign="top" scope="row"><p><i>User</i> on local system
only</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>all!</tt><i>user</i></p></td>
<td align="left" valign="top" scope="row"><p><i>User</i> on any system</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>all!all</tt></p></td>
<td align="left" valign="top" scope="row"><p>All users on all systems</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><i>system</i><tt>!all</tt></p></td>
<td align="left" valign="top" scope="row"><p>All users on <i>system</i></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>!all</tt></p></td>
<td align="left" valign="top" scope="row"><p>All users
on local system</p></td>
</tr>
</table>

<a name="gfjib"></a><h4>How to Limit User Access to a Printer by Using LP Print Commands</h4><ol>
<li><a name="gfjjq"></a><b><a name="gfjjc"></a><a name="gfjio"></a>Log in as superuser, <tt>lp</tt>, or assume an equivalent role on the print
server.</b></li>
<li><a name="gfjin"></a><b><a name="gfjkz"></a>Allow or deny users access to a printer. </b><pre># <tt><b>lpadmin -p</b></tt> <i>printer-name</i> <tt><b>-u allow</b></tt>:<i>user-list</i> [<tt><b>deny</b></tt>:<i>user-list</i>]</pre><dl><dt><tt>-p</tt> <i>printer-name</i></dt>
<dd><p>Specifies the name of the printer to which the <tt>allow</tt> or <tt>deny</tt> access list applies.</p></dd>
<dt><tt>-u allow:</tt><i>user-list</i></dt>
<dd><p>Specifies the user names to be added to the <tt>allow</tt> access list. You can specify multiple user names with this command. Use a space or a comma to separate names. If you use spaces, enclose the list of names in quotation marks.</p></dd>
<dt><tt>-u deny:</tt><i>user-list</i></dt>
<dd><p>Specifies user names to be added to the deny user access list. You can specify multiple user names with this command. Use a space or a comma to separate names. If you use spaces, enclose the list of names in quotation marks.</p></dd>
</dl>
<p>The specified users are added to the <tt>allow</tt> or <tt>deny</tt> list for
the printer in one of the following files on the print server:</p>
<hr><p><b>Note - </b>If you specify <tt>none</tt> as the value for <i>user-list</i> in the <tt>allow</tt>
list, the following files are not created on the print server:</p>
<hr>
</li>
<li><a name="gfjky"></a><b>Verify that information is correct under the <tt>Users allowed</tt> or the <tt>Users denied</tt> heading
in the following command output:</b><pre># <tt><b>lpstat -p</b></tt> <i>printer-name</i> <tt><b>-l</b></tt></pre></li></ol><a name="gfjkb"></a><h6>Example&nbsp;5-12 Limiting User Access to a Printer</h6><p>The following example shows how to allow only the users <tt>nathan</tt> and
<tt>george</tt> access to the printer <tt>luna</tt>. </p><pre># <tt><b>lpadmin -p luna -u allow:nathan,george</b></tt></pre><p>The following example shows how to deny the users <tt>nathan</tt> and <tt>george</tt>
access to the printer <tt>asteroid</tt>. </p><pre># <tt><b>lpadmin -p asteroid -u deny:"nathan george"</b></tt></pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gfjsi.html">Previous</a>
             </td>
             <td align="right">
                 <a href="gfjrw.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

