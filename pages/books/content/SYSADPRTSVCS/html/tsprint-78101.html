<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Tips on Troubleshooting Printing Problems - System Administration Guide: Solaris Printing</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Solaris Printing</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gekzm.html">Previous</a>
             </td>
             <td align="right">
                 <a href="tsprint-38200.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol2preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="printintro-1.html">1.&nbsp;&nbsp;Introduction to Printing in the Solaris Operating System</a></p>
<p class="toc level1 tocsp"><a href="printplan-1.html">2.&nbsp;&nbsp;Planning for Printing in the Solaris Operating System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printsetup-33230.html">3.&nbsp;&nbsp;Setting Up Printing Services (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printers-33230.html">4.&nbsp;&nbsp;Setting Up Printers (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printadmin-15883.html">5.&nbsp;&nbsp;Administering Printers by Using Solaris Print Manager and LP Print Commands (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="proto-1.html">6.&nbsp;&nbsp;Administering Printers That Use Network Printing Protocols (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printcust-66310.html">7.&nbsp;&nbsp;Customizing Printing Services and Printers (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="forms-1.html">8.&nbsp;&nbsp;Administering Character Sets, Filters, Forms, and Fonts (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ppdadmin-1.html">9.&nbsp;&nbsp;Administering Printers by Using the PPD File Management Utility (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printdesktop-1.html">10.&nbsp;&nbsp;Setting Up and Administering Printers From the Desktop (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printref-76596.html">11.&nbsp;&nbsp;Printing in the Solaris Operating System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="tsprint-34397.html">12.&nbsp;&nbsp;Troubleshooting Printing Problems (Tasks)</a></p>
<p class="toc level2"><a href="gekzm.html">Tips on Troubleshooting Printer Setup Problems</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Tips on Troubleshooting Printing Problems</a></p>
</div>
<p class="toc level2"><a href="tsprint-38200.html">Troubleshooting Printing Problems</a></p>
<p class="toc level1 tocsp"><a href="fddwm.html">A.&nbsp;&nbsp;Using the Internet Printing Protocol</a></p>
<p class="toc level1 tocsp"><a href="gdqrm.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="tsprint-78101"></a><h3>Tips on Troubleshooting Printing Problems</h3>
<p><a name="tsprint-ix5492"></a><a name="tsprint-ixxiv"></a><a name="ggfiz"></a><a name="ggfhm"></a>Sometimes after setting up a printer, you find that nothing prints. Or, you
might get a little farther in the process: something prints, but it is
not what you expect, the output is incorrect or illegible. </p><p>Then, when you get past these problems, other problems might occur, such as:</p>
<ul><li><p><tt>lp</tt> commands hanging</p></li>
<li><p>Printers becoming idle</p></li>
<li><p>Users getting conflicting messages</p></li></ul>

<hr><p><b>Note - </b>Although many of the suggestions in this chapter are relevant to parallel printers,
they are geared toward the more common serial printers.</p>
<hr>


<a name="tsprint-10970"></a><h4>Troubleshooting No Output (Nothing Prints)</h4>
<p>When nothing prints, there are three general areas to check:</p>
<ul><li><p>The printer hardware</p></li>
<li><p>The network</p></li>
<li><p>The LP print service</p></li></ul>
<p>If you get a banner page, but nothing else, this is a
special case of incorrect output. See <a href="#tsprint-75415">Troubleshooting Incorrect Output</a>.</p>

<a name="tsprint-70699"></a><h5>Check the Hardware</h5>
<p>The hardware is the first area to check. As obvious as it
sounds, you should make sure that the printer is plugged in and turned
on. In addition, you should refer to the manufacturer's documentation for information about hardware
settings. Some computers use hardware switches that change the characteristics of a printer
port.</p><p>The printer hardware includes the printer, the cable that connects it to the
computer, and the ports into which the cable plugs at each end.
As a general approach, you should work your way from the printer to
the computer. Check the printer. Check where the cable connects to the printer.
Check the cable. Check where the cable connects to the computer.</p>

<a name="tsprint-24407"></a><h5>Check the Network</h5>
<p>Problems are more common with remote print requests that are going from a
print client to a print server. You should make sure that network
access between the print server and print clients is enabled.</p><p>If the network is running the Network Information Service Plus (NIS+), see 
for instructions to enable access between systems. If the network is not running
the Network Information Service (NIS) or NIS+, before you set up print servers
and print clients, include the Internet address and system name for each client
system in the <tt>/etc/hosts</tt> file on the print server. Also, the IP address
and system name for the print server must be included in the <tt>/etc/hosts</tt>
file of each print client system.</p>

<a name="tsprint-25533"></a><h5>Check the LP Print Service</h5>
<p><a name="tsprint-ix5494"></a>For printing to work, the LP scheduler must be running on the print
server. If it is not running, you need to start it using the
following command: </p><pre># <tt><b>svcadm enable application/print/server</b></tt></pre><p>In addition to the scheduler running, a printer must be enabled and accepting
requests before it will produce any output. If the LP print service is
not accepting requests for a printer, the submitted print requests are rejected. Usually,
in that instance, the user receives a warning message after submitting a print
request. If the LP print service is not enabled for a printer, print
requests remain queued on the system until the printer is enabled.</p><p>In general, you should analyze a printing problem as follows:</p>
<ul><li><p>Follow the path of the print request step-by-step.</p></li>
<li><p>Examine the status of the LP print service at each step.</p>
<ul><li><p>Is the configuration correct?</p></li>
<li><p>Is the printer accepting requests?</p></li>
<li><p>Is the printer enabled to process requests?</p></li></ul>
</li>
<li><p><a name="tsprint-ix5497"></a><a name="tsprint-ix5498"></a>If the request is hanging on transmission, set up <tt>lpr.debug</tt> in <tt>syslog.conf</tt> to display the flow. See <a href="#gekzy">Troubleshooting Printing Problems</a>.</p></li>
<li><p><a name="tsprint-ix5500"></a>If the request is hanging locally, examine the <tt>lpsched</tt> log (<tt>/var/lp/logs/lpsched</tt>). </p></li>
<li><p>If the request is hanging locally, have notification of the printer device errors (faults) mailed to you, and re-enable the printer.</p></li></ul>
<p>The procedures found in <a href="tsprint-38200.html">Troubleshooting Printing Problems</a> use this strategy to help you troubleshoot
various problems with the LP print service.</p>

<a name="gekzy"></a><h4>Troubleshooting Printing Problems</h4>
<p>Enabling <tt>lpr.debug</tt> in the <tt>/etc/syslog.conf</tt> file provides a variety of useful information. Because
a large volume of information is provided, the preferred method is to enable
this feature only while debugging printing problems.</p><p>For more information, see <a href="tsprint-38200.html#gekzo">How to Debug Printing Problems</a>.</p>

<a name="tsprint-75415"></a><h4>Troubleshooting Incorrect Output</h4>
<p>If the printer and the print service software are not configured correctly, the
printer might print, but it might provide output that is not what
you expect.</p>

<a name="tsprint-1"></a><h5>Check the Printer Type and File Content Type</h5>
<a name="tsprint-ix5502"></a><a name="tsprint-ix5503"></a><p>If you used the wrong printer type when you set up the
printer with the LP print service, inappropriate printer control characters can be sent to
the printer. The results are unpredictable: nothing might print, the output might be
illegible, or the output might be printed in the wrong character set or
font.</p><p>If you specified an incorrect file content type, the banner page might print,
but that is all. The file content types specified for a printer
indicate the types of files the printer can print directly, without filtering. When a
user sends a file to the printer, the file is sent directly
to the printer without any attempt to filter it. The problem occurs if
the printer cannot handle the file content type.</p><p>When setting up print clients, you increase the chance for a mistake because
the file content types must be correct on both the print server
and the print client. If you set up the print client as recommended
with <tt>any</tt> as the file content type, files are sent directly to
the print server and the print server determines the need for filtering. Therefore, the
file content types have to be specified correctly only on the server.</p><p>You can specify a file content on the print client to off-load
filtering from the server to the client, but the content type must be
supported on the print server. </p>

<a name="tsprint-2"></a><h5>Check the <tt>stty</tt> Settings</h5>
<a name="tsprint-ix5504"></a><p>Many formatting problems can result when the default <tt>stty</tt> (standard terminal) settings do
not match the settings required by the printer. The following sections describe what
happens when some of the settings are incorrect.</p>

<a name="tsprint-60536"></a><h5>Wrong Baud Settings</h5>
<p><a name="tsprint-ix5505"></a><a name="tsprint-ix5506"></a>When the baud setting of the computer does not match the baud setting
of the printer, usually you get some output, but it does not look
like the file you submitted for printing. Random characters are displayed, with an
unusual mixture of special characters and undesirable spacing. The default for the LP
print service is 9600 baud.   </p>
<hr><p><b>Note - </b>If a printer is connected by a parallel port, the baud setting is
irrelevant.</p>
<hr>


<a name="tsprint-3"></a><h5>Wrong Parity Setting</h5>
<p><a name="tsprint-ix5508"></a><a name="tsprint-ix5509"></a>Some printers use a parity bit to ensure that data received for printing
has not been garbled during transmission. The parity bit setting for the computer
and the printer must match. If they do not match, some characters either
will not be printed at all, or will be replaced by other characters.
In this case, the output looks approximately correct. The word spacing is all
right and many letters are in their correct place. The LP print service
does not set the parity bit by default.   </p>

<a name="tsprint-4"></a><h5>Wrong Tab Settings</h5>
<p><a name="tsprint-ix5511"></a><a name="tsprint-ix5512"></a>If the file contains tabs, but the printer expects no tabs, the printed
output might contain the complete contents of the file, but the text might
be jammed against the right margin. Also, if the tab settings for the
printer are incorrect, the text might not have a left margin, it might
run together, it might be concentrated to a portion of the page, or
it might be incorrectly double-spaced. The default is for tabs to be set
every eight spaces.  </p>

<a name="tsprint-5"></a><h5>Wrong Return Setting</h5>
<a name="tsprint-ix5513"></a><p>If the output is double-spaced, but it should be single-spaced, either the tab
settings for the printer are incorrect or the printer is adding a line
feed after each return. The LP print service adds a return before
each line feed, so the combination causes two line feeds.</p><p>If the print zigzags down the page, the <tt>stty</tt> option <tt>onlcr</tt> that
sends a return before every line feed is not set. The <tt>stty=onlcr</tt>
option is set by default, but you might have cleared it while trying
to solve other printing problems.</p>

<a name="tsprint-22552"></a><h4>Troubleshooting Hung <tt>lp</tt> Commands</h4>
<a name="tsprint-ix5515"></a><a name="tsprint-ix5516"></a><p>If you type any of the <tt>lp</tt> commands (such as <tt>lpsystem</tt>, <tt>lpadmin</tt>,
or <tt>lpstat</tt>) and nothing happens (no error message, status information, or prompt is
displayed), chances are something is wrong with the LP scheduler. Such a problem
can usually be resolved by stopping and restarting the LP scheduler. See <a href="gfjsi.html#printadmin-22789">How to Stop the Print Scheduler</a>
for instructions.</p>

<a name="tsprint-23911"></a><h4>Troubleshooting Idle (Hung) Printers</h4>
<a name="tsprint-ix5518"></a><p>You might find a printer that is idle, even though it has
print requests queued to it. </p><p>A printer might seem idle when it should not be for one
of the following reasons:</p>
<ul><li><p>The current print request is being filtered.</p></li>
<li><p>The printer has a fault.</p></li>
<li><p>Networking problems might be interrupting the printing process.</p></li></ul>


<a name="tsprint-6"></a><h5>Check the Print Filters</h5>
<p>Slow print filters run in the background to avoid tying up the
printer. A print request that requires filtering will not print until it has
been filtered.</p>

<a name="tsprint-7"></a><h5>Check Printer Faults</h5>
<p>When the LP print service detects a fault, printing resumes automatically, but not
immediately. The LP print service waits about five minutes before trying again, and
continues trying until a request is printed successfully. You can force a retry
immediately by enabling the printer.</p>

<a name="tsprint-8"></a><h5>Check Network Problems</h5>
<p>When printing files over a network, you might encounter the following types of
problems:</p>
<ul><li><p>Requests sent to print servers might back up in the client system (local) queue.</p></li>
<li><p>Requests sent to print servers might back up in the print server (remote) queue.</p></li></ul>


<a name="tsprint-9"></a><h5>Print Requests Backed Up in the Local Queue</h5>
<p>Print requests submitted to a print server might back up in the
client system queue for the following reasons:</p>
<ul><li><p>The print server is down.</p></li>
<li><p>The printer is disabled on the print server.</p></li>
<li><p>The network between the print client and print server is down.</p></li>
<li><p>Underlying network software was not set up properly.</p></li></ul>
<p>While you are tracking the source of the problem, you should stop
new requests from being added to the queue. See <a href="gfjrw.html#printadmin-73033">How to Accept or Reject Print Requests for a Printer</a> for more information.</p>

<a name="tsprint-10"></a><h5>Print Requests Backed Up in the Remote Queue</h5>
<p>If print requests back up in the print server queue, the printer
has probably been disabled. When a printer is accepting requests, but not processing them,
the requests are queued to print. Unless there is a further problem, once
the printer is enabled, the print requests in the queue should print.</p>

<a name="tsprint-11"></a><h4>Troubleshooting Conflicting Status Messages</h4>
<a name="tsprint-ix5521"></a><p>A user might enter a print request and be notified that the
client system has accepted it, then receive mail from the print server that
the print request has been rejected. </p><p>These conflicting messages might occur for the following reasons:</p>
<ul><li><p>The print client might be accepting requests, while the print server is rejecting requests.</p></li>
<li><p>The definition of the printer on the print client might not match the definition of that printer on the print server. More specifically, the definitions of the print job components, like filters, character sets, print wheels, or forms are not the same on the client and server systems.</p></li></ul>
<p>You should check that identical definitions of these job components are registered on
both the print clients and print servers so that local users can access
printers on the print servers.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gekzm.html">Previous</a>
             </td>
             <td align="right">
                 <a href="tsprint-38200.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

