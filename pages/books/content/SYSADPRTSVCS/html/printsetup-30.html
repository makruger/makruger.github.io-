<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Setting Up Network Printers - System Administration Guide: Solaris Printing</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Solaris Printing</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gfhdc.html">Previous</a>
             </td>
             <td align="right">
                 <a href="gfhgu.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol2preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="printintro-1.html">1.&nbsp;&nbsp;Introduction to Printing in the Solaris Operating System</a></p>
<p class="toc level1 tocsp"><a href="printplan-1.html">2.&nbsp;&nbsp;Planning for Printing in the Solaris Operating System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printsetup-33230.html">3.&nbsp;&nbsp;Setting Up Printing Services (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printers-33230.html">4.&nbsp;&nbsp;Setting Up Printers (Tasks)</a></p>
<p class="toc level2"><a href="gfgzu.html">Introduction to Setting Up Printers</a></p>
<p class="toc level2"><a href="gfgxy.html">Setting Up Printers on a Print Server (Task Map)</a></p>
<p class="toc level2"><a href="ermll.html">Setting Up Directly Attached Printers by Using Solaris Print Manager</a></p>
<p class="toc level2"><a href="gfhdc.html">Setting Up Directly Attached Printers by Using LP Print Service Commands</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Setting Up Network Printers</a></p>
</div>
<p class="toc level2"><a href="gfhgu.html">Setting Up Network-Attached Printers by Using Solaris Print Manager</a></p>
<p class="toc level2"><a href="gfhlh.html">Setting Up Network-Attached Printers by Using LP Print Commands</a></p>
<p class="toc level2"><a href="printconcept-17.html">Adding a New Network-Attached Printer by Using Printer Vendor-Supplied Software</a></p>
<p class="toc level2"><a href="geawp.html">Setting Up Printers That are Associated With PPD Files</a></p>
<p class="toc level2"><a href="gfhlt.html">Setting Up Printers on a Print Client (Task Map)</a></p>
<p class="toc level2"><a href="ermli.html">Setting Up a Print Client</a></p>
<p class="toc level2"><a href="printsetup-10.html">Setting Up a <tt>.printers</tt> File</a></p>
<p class="toc level1 tocsp"><a href="printadmin-15883.html">5.&nbsp;&nbsp;Administering Printers by Using Solaris Print Manager and LP Print Commands (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="proto-1.html">6.&nbsp;&nbsp;Administering Printers That Use Network Printing Protocols (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printcust-66310.html">7.&nbsp;&nbsp;Customizing Printing Services and Printers (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="forms-1.html">8.&nbsp;&nbsp;Administering Character Sets, Filters, Forms, and Fonts (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ppdadmin-1.html">9.&nbsp;&nbsp;Administering Printers by Using the PPD File Management Utility (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printdesktop-1.html">10.&nbsp;&nbsp;Setting Up and Administering Printers From the Desktop (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printref-76596.html">11.&nbsp;&nbsp;Printing in the Solaris Operating System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="tsprint-34397.html">12.&nbsp;&nbsp;Troubleshooting Printing Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fddwm.html">A.&nbsp;&nbsp;Using the Internet Printing Protocol</a></p>
<p class="toc level1 tocsp"><a href="gdqrm.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="printsetup-30"></a><h3>Setting Up Network Printers</h3>
<a name="printsetup-ix292"></a><p><a name="printsetup-ix293"></a>A <b>network printer</b> is a hardware device that is directly connected to the network.
This printer can be accessed from a print server without physically connecting the
printer to the print server with a cable. The network printer has its
own system name and IP address.</p>
<hr><p><b>Caution - </b>Configuring a network printer without utilizing queue configuration on a print server is
an unsupported method that results in printer misconfiguration.</p><p>You can correctly configure a network printer with Solaris Print Manager by selecting
the New Network Printer option. Or, you can use the <tt>lpadmin</tt> command
to correctly configure a network printer. For information about how to configure a
network printer by using the <tt>lpadmin</tt> command, see <a href="gfhlh.html#ertsp">How to Add a New Network-Attached Printer by Using LP Print Service Commands</a>. </p><p>Note that you should not use the <tt>lpadmin</tt> <tt>-p</tt> <i>queue-name</i> <tt>-s</tt> <i>printer-name</i> command
or the Add Access to Printer option of Solaris Print Manager to add
a network printer. These methods should be used exclusively to point to an
already existing queue on a remote print server.</p><p>The print server includes the following features:</p>
<ul><li><p>Queueing capabilities</p></li>
<li><p>Filtering</p></li>
<li><p>Printing administration for a network printer</p></li></ul>
<p>Printing directly to a network printer results in a printer misconfiguration that is
likely to cause a number of problems. Additionally, job options, such as copies,
the use or disuse of burst page,  and filtering, are lost.</p>
<hr>
<p>Network printers might use one or more special protocols that require a vendor-supplied
printing program. The procedures that are used to set up the vendor-supplied printing
program can vary. If the printer does not come with vendor&ndash; supplied support,
Solaris network printer support can be used with most devices. Use the printer
vendor-supplied software, whenever possible.</p><p>The vendor might supply an SVR4 printer interface script to replace the standard
printer interface script. If so, that SVR4 interface script calls the vendor-supplied printing
program to send the job to the printer. If not, you need to
modify the standard interface script to call the vendor-supplied printing program. To do
so, edit the per-printer copy of the standard interface script to call the
vendor-supplied printing program.</p><p>The following are the terms that are used in network printer configuration. For
a complete description of printing terms, see <a href="gdqrm.html">Glossary</a>.</p>
<ul><li><p><b>Print server</b> &ndash; The system that spools and schedules the jobs for a printer.</p></li>
<li><p><b>Printer-host device</b> &ndash; The software and hardware supplied by a vendor that provides network printer support for a non-network capable printer.</p></li>
<li><p><b>Printer node</b> &ndash; Either the physical printer or the printer-host device.</p></li>
<li><p><b>Printer name</b> &ndash; The name typed on the command line when you use any of the printer commands.</p></li>
<li><p><b>Destination or network printer access name</b> &ndash; The internal name of the printer node port that is used by the printer subsystem to access the printer.</p></li>
<li><p><b>Protocol</b> &ndash; The over-the-wire protocol that is used to communicate with the printer. For more information, see <a href="#gdwoa">Selecting the Printing Protocol</a>.</p></li>
<li><p><b>Timeout, or retry interval timeout</b> &ndash; Is a seed number that represents the number of seconds to wait between attempting connections to the printer.</p></li></ul>


<a name="printconcept-18"></a><h4>Sun Support for Network Printers</h4>
<p>If the network printer vendor does not provide software support, Sun supplied software
is available. The software provides generic support for network printers and is not
capable of providing full access to all possible printer attributes.</p><p>A general discussion of how to add a network printer is provided
in <a href="">Setting Up Network Printers</a>. The following is a discussion of printer management when you use
the Sun supplied software.</p>

<a name="printconcept-19"></a><h4>Invoking Network Printer Support</h4>
<p>The software support for network printers is called through the network interface script
<tt>netstandard</tt>. Configuring a network printer with this script causes the network printer support
module to be called. Here is the command to configure the printer with
the network support.</p><pre>lpadmin -p <i>printer-name</i> -m netstandard </pre>

<a name="printconcept-21"></a><h4>Selecting the Printer Node Name</h4>
<p>You select the printer node name. This name must be unique, as
with any node on the network. The printer node name is associated with
the IP address of the printer.</p>

<a name="printconcept-22"></a><h4>Selecting the Destination Name (Also Called the Network Printer Access Name)</h4>
<p>The print subsystem requires access information for the printer. The subsystem uses 
the destination name when making the network connection to the printer. You supply
this name to the print subsystem by using the <tt>lpadmin</tt> command. This
name then becomes part of the printer configuration database. The printer access name
is the name of the printer node, sometimes qualified by a port name.
Port designation varies across printer vendors. You can find information about port designation
in the printer documentation.</p><p>Here is the format of printer access name:</p><p><i>printer-node-name</i><tt>[:</tt><i>port-designation</i><tt>]</tt></p><p>Destination names can be specified in one of three forms:</p><dl><dt>Atomic (simple)</dt>
<dd><p>(destination) - Is resolved by locating a <tt>printer-uri-supported</tt> key/value pair for the named destination in the <tt>printers.conf</tt> or the <tt>printers</tt> configuration database. If no <tt>printer-uri-supported</tt> key is found for an entry, it's <tt>bsdaddr</tt> value is converted to printer URI form and used.</p><p>For more information, see the <a href="http://docs.sun.com/doc/819-2251/printers-4?a=view"><tt>printers</tt>(4)</a> and <a href="http://docs.sun.com/doc/819-2251/printers.conf-4?a=view"><tt>printers.conf</tt>(4)</a> man pages.</p></dd>
<dt>Printer URI</dt>
<dd><p>(<tt>scheme://endpoint</tt>) - Is completely resolved and specifies the protocol and communication endpoint to contact for print services. This form of destination name is useful for accessing print services outside of your system's current management domain. Since the name includes the protocol to use when contacting the print service, you can select a richer protocol than the RFC-1179 protocol.</p></dd>
<dt>POSIX</dt>
<dd><p>(<tt>server:queue[:extensions</tt>]) - Is complete and resolves to an equivalent printer URI form of <tt>lpd://server/printers/queue[#extensions]</tt> This form is being maintained for Solaris backward compatibility only. The printer URI form is the preferred replacement.</p></dd>
</dl>
<a name="printconcept-23"></a><h6>Example&nbsp;4-6 Destination Name (or Network Printer Access Name) With Port Designation (Number)</h6><p>A common port designation with TCP is 9100. If the printer node
name is <tt>pn1</tt>, and the printer vendor defines the port as 9100, then the
printer access name is <tt>pn1:9100</tt>. To configure a printer in this case, use
the following command:</p><pre>lpadmin -p <i>printer_name</i> -o dest=pn1:9100</pre><a name="printconcept-24"></a><h6>Example&nbsp;4-7 Destination Name (or Network Printer Access Name) With BSD Port Designation (Name)</h6><p>When you use the BSD protocol, the port designation might not be
a number, but some name defined by the printer vendor, for example: <b>xxx</b><tt>_parallel_1</tt>.
If the printer node name is <b>cardboard,</b> then the printer access name is
<tt>cardboard:xxx_parallel_1</tt>. To configure a printer in this case, use the following command:</p><pre>lpadmin -p <i>printer-name</i> -o dest=cardboard:xxx_parallel_1</pre><a name="printconcept-25"></a><h6>Example&nbsp;4-8 Destination Name (or Network Printer Access Name) With No Port Designation</h6><p>If there is no port designation, and the printer node name is
<tt>newspaper</tt>, the printer access name is the printer node name: <tt>newspaper</tt>. To configure
a printer in this case, use the following command:</p><pre>lpadmin -p <i>printer-name</i> -o dest=newspaper</pre>

<a name="gdwoa"></a><h4>Selecting the Printing Protocol</h4>
<p>The print subsystem uses the BSD print protocol and raw TCP to
communicate with the printer. The printer vendor documentation provides information about which protocol to
use. In general, the TCP protocol is more generic across printers.</p>
<hr><p><b>Note - </b>The Device URI protocol was introduced in the <b>Solaris Express 2/05 release</b><b>Solaris 10 5/08 release</b>. This protocol enables
remote printer access. You can specify a <i>device-uri</i> when adding a network printer by
using the <tt>lpadmin</tt> command or by using Solaris Print Manager.</p>
<hr>
<p>To select the BSD protocol, type:</p><pre>lpadmin -p <i>printer-name</i> -o protocol=bsd</pre><p>To select the TCP protocol, type:</p><pre>lpadmin -p <i>printer-name</i> -o protocol=tcp</pre><p>If the protocol that is selected is the BSD print protocol, you
can further select the order of sending the control file to the printer.
Some printers expect the control file, then the data file. Other printers expect the
reverse. For this information, see the printer vendor documentation. The default is to
send the control file first.</p><p>To select the order, type one of the following commands:</p><pre>lpadmin -p <i>printer-name</i> -o bsdctrl=first</pre><pre>lpadmin -p <i>printer-name</i> -o bsdctrl=last</pre><p>For information about using the IPP protocol, see <a href="gedvp.html">Administering Printers by Using the Internet Printing Protocol (Task Map)</a>.</p>

<a name="printconcept-26"></a><h4>Setting the Timeout Value</h4>
<p>The timeout option allows the user to select the amount of time
(in seconds) to wait between successive attempts to connect to the printer. Some printers
have a long warm up time, and a longer timeout value is
advised. The default is 10 seconds.</p><p>The timeout value does not impact the success or failure of the
print process. The value is a seed value that the software uses as
the initial timeout count. On repeated failures, this count is increased. A message
is sent to the spooler when repeated attempts to connect to the printer
fail. This message alerts the user that intervention might be required. The failure
could be anything from the printer being turned off to the printer being
out of paper. If these messages are produced too often, for example when
the printer is warming up, increasing the timeout value will eliminate spurious messages.</p><p>You can experiment to find the optimal timeout value. Type the following command
to set the timeout value:</p><pre>lpadmin -p <i>printer-name</i> -o timeout=<i>n</i></pre>

<a name="printconcept-27"></a><h4>Managing Network Printer Access</h4>
<p>Each network printer should have only one server that provides access to the
printer. This restriction enables the server to manage access to the printer and
keep jobs coherent. </p><p>The default device for the network printer is <tt>/dev/null</tt>. This device is sufficient
when the printer has only one queue. If more queues are required, set
the device to a file. This setting enables the print system to restrict
access to the printer across queues. The following commands create a device file
and configure it as the network printer device.</p><pre>touch /<i>path</i>/<i>filename</i>
chmod 600 /<i>path</i>/<i>filename</i>
lpadmin -p <i>printer-name</i> -v /<i>path</i>/<i>filename</i></pre><p>The following is an example of how to create a device file
called <tt>devtreedown</tt>.</p><pre># <tt><b>touch /var/tmp/devtreedown</b></tt>
# <tt><b>chmod 600 /var/tmp/devtreedown</b></tt>
# <tt><b>lpadmin -p treedown -v /var/tmp/devtreedown</b></tt></pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gfhdc.html">Previous</a>
             </td>
             <td align="right">
                 <a href="gfhgu.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

