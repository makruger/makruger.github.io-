<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>What's New in Printing? - System Administration Guide: Solaris Printing</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Solaris Printing</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="printintro-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="printconcept-40.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol2preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="printintro-1.html">1.&nbsp;&nbsp;Introduction to Printing in the Solaris Operating System</a></p>
<div class="onpage">
<p class="toc level2"><a href="">What's New in Printing?</a></p>
</div>
<p class="toc level2"><a href="printconcept-40.html">Fundamentals of Printing in the Solaris Operating System</a></p>
<p class="toc level2"><a href="gdtha.html">Overview of the Solaris Printing Architecture</a></p>
<p class="toc level2"><a href="gdsuo.html">Implementation of the Open Standard Print API</a></p>
<p class="toc level2"><a href="gedcr.html">Using Printing Protocols in the Solaris Release</a></p>
<p class="toc level2"><a href="gezpb.html">Overview of Solaris Print Manager</a></p>
<p class="toc level2"><a href="printconcept-31908.html">Overview of the LP Print Service </a></p>
<p class="toc level2"><a href="printconcept-49.html">The Solaris Print Client-Server Process</a></p>
<p class="toc level2"><a href="printconcept-15.html">Where to Find Printing Tasks</a></p>
<p class="toc level1 tocsp"><a href="printplan-1.html">2.&nbsp;&nbsp;Planning for Printing in the Solaris Operating System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printsetup-33230.html">3.&nbsp;&nbsp;Setting Up Printing Services (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printers-33230.html">4.&nbsp;&nbsp;Setting Up Printers (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printadmin-15883.html">5.&nbsp;&nbsp;Administering Printers by Using Solaris Print Manager and LP Print Commands (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="proto-1.html">6.&nbsp;&nbsp;Administering Printers That Use Network Printing Protocols (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printcust-66310.html">7.&nbsp;&nbsp;Customizing Printing Services and Printers (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="forms-1.html">8.&nbsp;&nbsp;Administering Character Sets, Filters, Forms, and Fonts (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ppdadmin-1.html">9.&nbsp;&nbsp;Administering Printers by Using the PPD File Management Utility (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printdesktop-1.html">10.&nbsp;&nbsp;Setting Up and Administering Printers From the Desktop (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printref-76596.html">11.&nbsp;&nbsp;Printing in the Solaris Operating System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="tsprint-34397.html">12.&nbsp;&nbsp;Troubleshooting Printing Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fddwm.html">A.&nbsp;&nbsp;Using the Internet Printing Protocol</a></p>
<p class="toc level1 tocsp"><a href="gdqrm.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="printconcept-42"></a><h3>What's New in Printing?</h3>
<p>This section describes new and changed printing features in this Solaris release. For
a complete listing of new Solaris features and a description of Solaris releases,
see <a href="http://docs.sun.com/doc/820-0724"><i>Solaris Express Developer Edition What&rsquo;s New</i></a>.</p>

<a name="gifbm"></a><h4>Common UNIX Printing System</h4>
<p><b>Solaris Express Community Edition, build 87:</b> The Common UNIX Printing System (CUPS), Version 1.3.6, is now part of
the Solaris OS distribution.</p><p>The Common UNIX Printing System (CUPS) is a modular printing system that enables
a system to function as a print server. A system that is
running CUPS is a host that can accept print requests from client systems,
process the requests, then send them to the appropriate printer.</p><p>To facilitate this support in the Solaris OS, the following interfaces have been
introduced:</p>
<ul><li><p>A new <tt>print&hyphen;service</tt> command that enables you choose between the LP print service and CUPS.</p></li>
<li><p>Two new Service Management Facility (SMF) services:</p>
<ul><li><p><tt>svc:/application/cups/scheduler</tt> &ndash; This service controls the <tt>cupsd</tt> daemon. This daemon provides basic printing services, including queueing, filtering, spooling, notification, Internet Print Protocol support, device enumeration, web management, and more.</p></li>
<li><p><tt>svc:/application/cups/in-lpd</tt> &ndash; This service controls the <tt>cupd-lpd</tt> daemon. This daemon provides basic RFC-1179 (LPD protocol) support for CUPS.</p></li></ul>
<p>The <tt>Printer Management</tt> profile and the <tt>solaris.smf.manage.cups</tt> authorization enable users who do not have superuser privileges to manage these SMF services.</p>
<hr><p><b>Note - </b>These services are marked as incompatible with their corresponding LP services and will not run if the corresponding LP services are running.</p>
<hr>
</li></ul>
<p>For more information, see the CUPS documentation page, at <a href="http://www.opensolaris.org/os/community/printing/Documentation/cupsprint/">http://www.opensolaris.org/os/community/printing/Documentation/cupsprint/</a>. The complete
set of CUPS documentation is also accessible from a CUPS server on a
host that is running CUPS by typing <tt>http://localhost:631/help/</tt> in a web browser.</p>

<a name="ghgvh"></a><h4>OpenSolaris Print Manager</h4>
<p><b>Solaris Express Community Edition, build 97 and OpenSolaris 2008.11 release:</b> The OpenSolaris<sup>TM</sup> Print Manager application is a graphical user interface (GUI) that
you can use to manage local and remote printer queues, printer groups, and
print jobs. Print Manager enables you to perform many aspects of printer administration.
You can run the OpenSolaris Print Manager application from the Main Menubar on the
GNOME desktop panel. For more information, see <a href="printdesktop-1.html">Chapter&nbsp;10, Setting Up and Administering Printers From the Desktop (Tasks)</a>.</p>

<a name="gfkcv"></a><h4>Automatic Printer Discovery and Configuration in the Desktop Environment</h4>
<p><b>OpenSolaris 2008.05:</b> The Solaris OS has the capability to automatically discover directly attached and network&hyphen;attached
printers. This service is implemented through the Hardware Abstraction Layer (HAL) and has
the capability to detect SNMP capable printers on a on network where a
Solaris host is attached. This functionality is managed by the Service Management Facility
(SMF) and can be enabled by using the <tt>svcadm</tt> command. Authorizations that are
required to use this feature have been added to the Print Management user
profile. See <a href="printdesktop-1.html">Chapter&nbsp;10, Setting Up and Administering Printers From the Desktop (Tasks)</a> for further details of this feature.</p><p>This feature provides the following types of support:</p>
<ul><li><p>Detection</p></li>
<li><p>Configuration</p></li>
<li><p>Notification</p></li></ul>
<p>The detection component has the ability to discover USB printers that have been
physically connected to or disconnected from a local system. The configuration component enables
you to configure certain properties of directly attached USB printers. The notification component
lets you know when a printer has been connected or disconnected from the
local system.</p><p>Automatic printer discovery includes enhanced hardware abstraction layer (HAL) support for recognizing USB
printer hotplug events, as well as network attached printers on a Solaris hosted
network. HAL USB support was introduced in the Solaris Express Developer Edition 5/07
release. The hardware abstraction layer (HAL) daemon, <tt>hald</tt>, provides a view of devices
that are attached to a local system. This view is updated automatically as
a system's hardware configuration changes, by hotplugging or other methods. You can find out
more about HAL at <a href="http://opensolaris.org/os/project/tamarack/">http://opensolaris.org/os/project/tamarack/</a>.</p><p>More information can be found at <a href="http://www.opensolaris.org/os/project/presto">http://www.opensolaris.org/os/project/presto</a>. </p><p>For step-by-step instructions, see <a href="printdesktop-1.html">Chapter&nbsp;10, Setting Up and Administering Printers From the Desktop (Tasks)</a>.</p><p>More information about other OpenSolaris printing projects can be found at <a href="http://opensolaris.org/os/community/printing/">http://opensolaris.org/os/community/printing/</a>.</p>

<a name="gdsws"></a><h4>Privilege Requirements for Using Solaris Print Commands</h4>
<p>The design of the Open Standard Print API (PAPI) implementation in the Solaris
release makes it no longer necessary for applications, toolkits, and print commands to
run with elevated privilege to interact with print services.</p><p>As a result, the following print commands are no longer installed SUID root:</p>
<ul><li><p><tt>/usr/bin/lp</tt></p></li>
<li><p><tt>/usr/bin/lpstat</tt></p></li>
<li><p><tt>/usr/bin/cancel</tt></p></li>
<li><p><tt>/usr/bin/lpmove</tt></p></li>
<li><p><tt>/usr/{ucb|bin}/lpr</tt></p></li>
<li><p><tt>/usr/{ucb|bin}lpq</tt></p></li>
<li><p><tt>/usr/{ucb|bin}/lprm</tt></p></li>
<li><p><tt>/usr/lib/print/printd</tt></p></li></ul>
<p>Previsously, these commands were installed SUID root because the commands required an elevated
privilege for the following purposes:</p>
<ul><li><p>Opening a reserved port</p></li>
<li><p>Allocating a sequential job-id number</p></li>
<li><p>Manipulating files in the <tt>/var/spool/print</tt> directory</p></li></ul>
<p>This functionality is now localized in a small helper application, <tt>/usr/lib/print/lpd-port</tt>. As
a result, any applications that use RFC-1179 PAPI support no longer require elevated
privilege.  The <tt>lpd-port</tt> helper application contains minimal support for passing RFC-1179 protocol
requests on a reserved port and allocating sequential job-id numbers.  Although the
helper application is installed SUID root, all elevated privileges are dropped until they
are required. When necessary, the privilege is elevated for the required operation and
then permanently dropped if the elevated privilege is no longer required.  In
the Solaris release, this process is accomplished through the use of privileges. 
On other platforms, the process is accomplished by using the <tt>setuid</tt>, <tt>seteuid</tt>, or
<tt>setreuid</tt> functions.</p><p>If you have local printers that you do not want to share
on the network, you can safely disable the printing network listeners. If you
are running the Solaris release, or a CUPS server, the <tt>lpstat</tt> command provides you
with more information about remote print queues and print jobs, as well as
their capabilities when using IPP to communicate with those servers.</p><p>When IPP is in use, and with the proper authorization, the following operations
can be performed on remote print queues and print jobs:</p>
<ul><li><p><tt>accept</tt></p></li>
<li><p><tt>reject</tt></p></li>
<li><p><tt>enable</tt></p></li>
<li><p><tt>disable</tt></p></li>
<li><p><tt>move job</tt></p></li>
<li><p><tt>modify job</tt></p></li></ul>
<p>Also, you can now move print requests between queues on a print
server and modify print requests remotely when IPP is in use.</p><p>For more information, see the <a href="http://docs.sun.com/doc/819-2252/privileges-5?a=view"><tt>privileges</tt>(5)</a> man page. For step-by-step procedures, see <a href="gedvp.html">Administering Printers by Using the Internet Printing Protocol (Task Map)</a>.</p>

<a name="gepju"></a><h4>PPD File Management Utility</h4>
<a name="indexterm-1"></a><a name="indexterm-2"></a><a name="indexterm-3"></a><p><b>Solaris Express Developer Edition 5/07:</b> The PPD File Manager, <tt>/usr/sbin/ppdmgr</tt>, is a utility for administering PostScript<sup>TM</sup> Printer
Description (PPD) files that are used with the Solaris print subsystem. When you
add a PPD file to the system by using the <tt>ppdmgr</tt> utility or
the <tt>lpadmin</tt> command with the <tt>-n</tt> option, a cache of PPD file information
is automatically updated. This cache is used by Solaris Print Manager and the printing
tools that are available in the GNOME Desktop Environment.</p><p>For more information, see <a href="geawn.html">Administering PPD Files by Using the PPD File Management Utility (Task Map)</a> and the <a href="http://docs.sun.com/doc/819-2240/ppdmgr-1m?a=view"><tt>ppdmgr</tt>(1M)</a> man page.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="printintro-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="printconcept-40.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

