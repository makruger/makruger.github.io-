<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Administering Fonts - System Administration Guide: Solaris Printing</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Solaris Printing</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="eojct.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ppdadmin-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol2preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="printintro-1.html">1.&nbsp;&nbsp;Introduction to Printing in the Solaris Operating System</a></p>
<p class="toc level1 tocsp"><a href="printplan-1.html">2.&nbsp;&nbsp;Planning for Printing in the Solaris Operating System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printsetup-33230.html">3.&nbsp;&nbsp;Setting Up Printing Services (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printers-33230.html">4.&nbsp;&nbsp;Setting Up Printers (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printadmin-15883.html">5.&nbsp;&nbsp;Administering Printers by Using Solaris Print Manager and LP Print Commands (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="proto-1.html">6.&nbsp;&nbsp;Administering Printers That Use Network Printing Protocols (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printcust-66310.html">7.&nbsp;&nbsp;Customizing Printing Services and Printers (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="forms-1.html">8.&nbsp;&nbsp;Administering Character Sets, Filters, Forms, and Fonts (Tasks)</a></p>
<p class="toc level2"><a href="embzi.html">Administering Character Sets (Task Map)</a></p>
<p class="toc level2"><a href="printforms-1.html">Administering Character Sets</a></p>
<p class="toc level2"><a href="eojcq.html">Administering Print Filters (Task Map)</a></p>
<p class="toc level2"><a href="printcust-45830.html">Creating a New Print Filter</a></p>
<p class="toc level2"><a href="printforms-88247.html">Administering Print Filters</a></p>
<p class="toc level2"><a href="eojco.html">Administering Forms (Task Map)</a></p>
<p class="toc level2"><a href="printcust-30290.html">Creating a New Printer Form</a></p>
<p class="toc level2"><a href="printforms-48.html">Administering Forms</a></p>
<p class="toc level2"><a href="eojct.html">Administering Fonts (Task Map)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Administering Fonts</a></p>
</div>
<p class="toc level1 tocsp"><a href="ppdadmin-1.html">9.&nbsp;&nbsp;Administering Printers by Using the PPD File Management Utility (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printdesktop-1.html">10.&nbsp;&nbsp;Setting Up and Administering Printers From the Desktop (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="printref-76596.html">11.&nbsp;&nbsp;Printing in the Solaris Operating System (Reference)</a></p>
<p class="toc level1 tocsp"><a href="tsprint-34397.html">12.&nbsp;&nbsp;Troubleshooting Printing Problems (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fddwm.html">A.&nbsp;&nbsp;Using the Internet Printing Protocol</a></p>
<p class="toc level1 tocsp"><a href="gdqrm.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="printforms-26075"></a><h3>Administering Fonts</h3>
<a name="printforms-ix667"></a><p><a name="printforms-ix668"></a><a name="printforms-ix669"></a>If you have a laser printer, you might need to install and maintain
PostScript fonts. For many printers, the fonts are set up as part of
the printer installation process.  </p><p><a name="printforms-ix670"></a><a name="printforms-ix671"></a>PostScript fonts are stored in outline form, either on the printer or on
a system that communicates with the printer. When a document is printed, the
PostScript interpreter generates each character as needed in the appropriate size from the
outline description of it. If a font required for a document is not
stored on the printer being used, the font must be transmitted to that
printer before the document can be printed. This transmission process is called <b>downloading fonts</b>.
 </p><p>Fonts are stored and accessed in several ways:</p>
<ul><li><p><a name="printforms-ix672"></a><b>Printer-resident</b> <b>fonts</b> are stored permanently on a printer. These fonts are installed in read-only memory (ROM) on the printer by the manufacturer. If the printer has a disk, you can install fonts on that disk. Most PostScript printers are shipped with 35 standard fonts. </p></li>
<li><p><a name="printforms-ix673"></a>A <b>permanently downloaded</b> <b>font</b> is transmitted to a printer with a PostScript <tt>exitserver</tt> program. A permanently downloaded font remains in printer memory until the printer is turned off. Memory allocated to a downloaded font reduces the memory available on the server for PostScript print requests. Use of an <tt>exitserver</tt> program requires the printer system password and can be reserved for the printer administrator. You should permanently download a font if most print requests serviced by the printer use that font. </p></li>
<li><p>Fonts that are used infrequently or for special purposes can be stored on a user's system. The user can specify these fonts when submitting the print request. The fonts are appended to the print request and transmitted to the printer. When the print request is processed, the space allocated for the font is freed for other print requests.</p></li>
<li><p><a name="printforms-ix674"></a><a name="indexterm-145"></a><b>Host-resident fonts</b> are stored on a system that is shared by many users. The system that stores the fonts can be a print server or a print client. Each user can request fonts in the document to be printed. This method is useful when numerous fonts are available, or when these fonts are not used by all print requests. If the fonts will be used only on printers attached to a print server, they should be stored on the print server. If the fonts will be used by the users on one system and those users can submit requests to multiple printers on a network, the fonts should be stored on the users' system. </p><p><a name="printforms-ix676"></a><a name="indexterm-146"></a>The LP print service provides a special download filter to manage host-resident fonts. The LP print service also supplies <tt>troff</tt> width tables for the 35 standard PostScript fonts that reside on many PostScript printers. For more information about the <tt>troff</tt> program, see the <a href="http://docs.sun.com/doc/819-2239/troff-1?a=view"><tt>troff</tt>(1)</a> man page.</p></li></ul>


<a name="printforms-92"></a><h4>Managing Printer-Resident Fonts</h4>
<p>Most PostScript printers come equipped with fonts that are resident in the printer
ROM. Some printers have a disk on which additional fonts are stored. When
a printer is installed, you should add the list of printer-resident fonts to
the font list for that printer. By identifying printer-resident fonts, you prevent fonts
from being transmitted unnecessarily across a network. Each printer has its own list
of resident fonts, which is contained in this file:</p><pre>/etc/lp/printers/<i>printer-name</i>/residentfonts</pre><p><a name="printforms-ix698"></a>When the printer is attached to a print server, ensure that the list
in the <tt>residentfonts</tt> file includes fonts that are on the print server. The
file must also include fonts that are available for downloading to the printer.</p><p>You must edit the files that contain the list of printer-resident fonts by
using a text editor such as <tt>vi</tt>.</p>

<a name="printforms-93"></a><h4>Downloading Host-Resident Fonts</h4>
<a name="printforms-ix682"></a><p>When a PostScript document contains a request for fonts not loaded on the
printer, the download filter manages this request. The download filter uses PostScript document
structuring conventions to determine which fonts to download.  </p><p><a name="printforms-ix687"></a><a name="printforms-ix689"></a>LP print filters are either fast or slow. A <b>fast filter</b> quickly prepares a
file for printing. Also, a fast filter must have access to the printer
while the filter is processing. A <b>slow filter</b> takes longer to convert a file.
However, a slow filter does not need to access the printer while the
filter is processing. An example of a slow filter is a filter that
converts an ASCII document to a PostScript document.</p><p><a name="printforms-ix690"></a>The <b>download filter</b> is a fast filter. This filter downloads fonts automatically if the
fonts are on the print server. The download filter can also be
used to send fonts to a print server. To do so, you can
create a new filter table entry that calls the download filter as a
slow filter by using the <tt>lp</tt> <tt>-y</tt> command. Alternatively, you can force
selection of this filter by changing the input type. </p><p>The download filter performs five tasks:</p>
<ol><li><p>The filter searches the PostScript document to determine which fonts are requested. These requests are documented with the following PostScript structuring comments: <tt>%%DocumentFonts:</tt> <i>font1 font2 &hellip;</i> in the header comments.</p></li>
<li><p>The download filter searches the list of printer-resident fonts to determine if the requested font must be downloaded.</p></li>
<li><p>If the font is not resident on the printer, the download filter searches the host-resident font directory table to determine if the requested font is available. This filter performs this search by getting the appropriate file name from the map.</p></li>
<li><p>If the font is available, the download filter takes the file for that font and appends it to the file to be printed.</p></li>
<li><p>The download filter sends the font definition file and the source file to the PostScript printer. The <b>source file</b> is the file to be printed.</p></li></ol>


<a name="printforms-94"></a><h4>Installing and Maintaining Host-Resident Fonts</h4>
<p>Some fonts reside on the host system and are transmitted to the
printer as needed for particular print requests. As the administrator, you make PostScript fonts
available to all users on a system. To do so, you must
know how and where to install these fonts. Because fonts are requested by
name and stored in files, the LP print service keeps a <b>map file</b>. A
map file shows the correspondence between the names of fonts and the names
of the files that contain those fonts. Both the map file and the
font list must be updated when you install host-resident fonts.</p><p>The fonts available for use with PostScript printers are stored in directories that
you create. These directories are called <tt>/usr/share/lib/hostfontdir/</tt><i>typeface</i><tt>/</tt><i>font</i>. The variable <i>typeface</i> is replaced by
a name, such as <tt>palatino</tt> or <tt>helvetica</tt>. The variable <i>font</i> is replaced by
a an attribute name, such as <tt>bold</tt> or <tt>italic</tt>.</p>

<a name="printforms-12681"></a><h4>How to Install Downloaded PostScript Fonts</h4><a name="indexterm-147"></a><ol>
<li><a name="printforms-step-96"></a><b>Log in as superuser, <tt>lp</tt> user, or assume an equivalent role on the
print server or print client.</b></li>
<li><a name="printforms-step-97"></a><b>Change directory to the <tt>/etc/lp/printers/</tt><i>printer-name</i> directory.</b><pre># <tt><b>cd /etc/lp/printers/</b></tt><i>printer-name</i></pre><p>The variable <b>printer-name</b> specifies the name of the printer on which you want
to install downloaded PostScript fonts.</p></li>
<li><a name="printforms-step-98"></a><b>Create the <tt>residentfonts</tt> file, if this file does not already exist. </b><pre># <tt><b>touch residentfonts</b></tt></pre><p>This file might not exist if you are adding permanently downloaded fonts for
the first time. </p></li>
<li><a name="printforms-step-99"></a><b>Edit the <tt>residentfonts</tt> file. Add all the printer-resident fonts and the fonts to
be permanently downloaded.</b></li></ol>

<a name="printforms-34675"></a><h4>How to Install Host-Resident PostScript Fonts</h4><a name="indexterm-148"></a><a name="indexterm-149"></a><a name="indexterm-150"></a><ol>
<li><a name="printforms-step-102"></a><b>Log in as superuser, <tt>lp</tt>, or assume an equivalent role on the print
server or print client.</b></li>
<li><a name="printforms-step-103"></a><b>Create the <tt>hostfontdir</tt> directory.</b><pre># <tt><b>cd /usr/share/lib</b></tt></pre><ol style="list-style-type: lower-alpha">
				 
<li><b>Change to the <tt>/usr/share/lib</tt>directory.</b><pre># <tt><b>cd /usr/share/lib</b></tt></pre></li>
<li><b>Create the <tt>hostfontdir</tt> directory, if this directory does not already exist.</b><pre># <tt><b>mkdir hostfontdir</b></tt></pre></li>
<li><b>Change the permissions on the <tt>hostfontdir</tt> directory to 775.</b><pre># <tt><b>chmod 775 hostfontdir</b></tt></pre></li></ol></li>
<li><a name="printforms-step-104"></a><b>Create a directory for a new typeface, if the directory does not already
exist. </b><pre># <tt><b>mkdir</b></tt> <i>typeface</i></pre></li>
<li><a name="printforms-step-105"></a><b>Copy the font file to the appropriate directory.</b><pre># <tt><b>cp</b></tt> <i>filename</i> <tt><b>/usr/share/lib/hostfontdir</b></tt>/<i>typeface</i>/<i>font</i></pre></li>
<li><a name="printforms-step-106"></a><b>Add to the map file the name of the font and the name
of the file in which it resides.</b><ol style="list-style-type: lower-alpha">
				 
<li><a name="printforms-step-107"></a><b>Change to the <tt>/usr/share/lib/hostfontdir</tt> directory.</b></li>
<li><a name="printforms-step-108"></a><b>Edit the <tt>map</tt> file by using a text editor such as the <tt>vi</tt>
editor.</b><p>Add a one-line entry for each font that you want to add to
the file. Put the font name first, followed by a space, followed by
the name of the file where the font resides. For example:</p><pre><tt><b>Palatino-Bold /usr/share/lib/hostfontdir/palatino/bold</b></tt></pre></li>
<li><a name="printforms-step-109"></a><b>Save the file.</b><p>When an example entry exists in the map file on the appropriate system,
users can apply the font (for example, Palatino Bold) to their print jobs.
When users submit a print request that contains this font, the LP print
service appends a copy of the <tt>/usr/share/lib/hostfontdir/palatino/bold</tt> file to that file before sending it
to the printer.</p></li></ol></li>
<li><a name="printforms-step-110"></a><b>If you are using the <tt>troff</tt> program, you must create new width tables
for this font in the standard <tt>troff</tt> font directory. </b></li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="eojct.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ppdadmin-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

