<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>What's New in Managing Client-Server Support? - System Administration Guide: Basic Administration</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-12-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Basic Administration</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="clientconcept-15236.html">Previous</a>
             </td>
             <td align="right">
                 <a href="clientconcept-7.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="saroadmap-1.html">1.&nbsp;&nbsp;Solaris Management Tools (Road Map)</a></p>
<p class="toc level1 tocsp"><a href="smcover-1.html">2.&nbsp;&nbsp;Working With the Solaris Management Console (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ewpor.html">3.&nbsp;&nbsp;Working With the Sun Java Web Console (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="userconcept-97366.html">4.&nbsp;&nbsp;Managing User Accounts and Groups (Overview)</a></p>
<p class="toc level1 tocsp"><a href="usersetup-92366.html">5.&nbsp;&nbsp;Managing User Accounts and Groups (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="clientconcept-15236.html">6.&nbsp;&nbsp;Managing Client-Server Support (Overview)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">What's New in Managing Client-Server Support?</a></p>
</div>
<p class="toc level2"><a href="clientconcept-7.html">Where to Find Client-Server Tasks</a></p>
<p class="toc level2"><a href="clientconcept-33212.html">What Are Servers, Clients, and Appliances?</a></p>
<p class="toc level2"><a href="clientconcept-35340.html">What Does Client Support Mean?</a></p>
<p class="toc level2"><a href="clientconcept-25948.html">Overview of System Types</a></p>
<p class="toc level2"><a href="clientconcept-22.html">Diskless Client Management Overview</a></p>
<p class="toc level1 tocsp"><a href="clientsetup-1.html">7.&nbsp;&nbsp;Managing Diskless Clients (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbintro-66644.html">8.&nbsp;&nbsp;Introduction to Shutting Down and Booting a System</a></p>
<p class="toc level1 tocsp"><a href="hboverview-25463.html">9.&nbsp;&nbsp;Shutting Down and Booting a System (Overview)</a></p>
<p class="toc level1 tocsp"><a href="hbsyshalt-84412.html">10.&nbsp;&nbsp;Shutting Down a System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="grubtasks-1.html">11.&nbsp;&nbsp;Modifying Solaris Boot Behavior (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbsparcboot-79782.html">12.&nbsp;&nbsp;Booting a Solaris System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbtsboot-1.html">13.&nbsp;&nbsp;Troubleshooting Booting a Solaris System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="archive-123.html">14.&nbsp;&nbsp;Managing the Solaris Boot Archives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbsysboot-76719.html">15.&nbsp;&nbsp;x86: GRUB Based Booting (Reference)</a></p>
<p class="toc level1 tocsp"><a href="hbrunlevels-25516.html">16.&nbsp;&nbsp;Managing Services (Overview)</a></p>
<p class="toc level1 tocsp"><a href="faauf.html">17.&nbsp;&nbsp;Managing Services (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgsconcepts-52619.html">18.&nbsp;&nbsp;Managing Software (Overview)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgsgui-1.html">19.&nbsp;&nbsp;Managing Software With Solaris System Administration Tools (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgscli-1.html">20.&nbsp;&nbsp;Managing Software by Using Package Commands (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpatchtasks-1.html">21.&nbsp;&nbsp;Managing Solaris Patches by Using the <tt>patchadd</tt> Command (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fddwm.html">A.&nbsp;&nbsp;SMF Services</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="gbgqv"></a><h3>What's New in Managing Client-Server Support?</h3>
<p>This section describes new or changed diskless client features in this Solaris release.
</p>

<a name="ggqwe"></a><h4>Support for Specifying Platform by Using bootadm <tt>-p</tt> Command</h4>
<p>A new <tt>-p</tt> <i>platform</i> argument has been added to the <tt>bootadm</tt> command. This
option enables you to specify the platform or machine hardware class of a
client system in situations where the client platform differs from the server platform,
for example when administering diskless clients.</p><p>For more information, see the <a href="http://docs.sun.com/doc/819-2240/bootadm-1m?a=view"><tt>bootadm</tt>(1M)</a> man page.</p>

<a name="gcwxd"></a><h4><tt>nfs4_domain</tt> Keyword Impacts Diskless Client Boot</h4>
<p> The <tt>set_nfs4_domain</tt> script that was delivered in the Solaris 10 OS is
no longer used to set the NFSv4 domain. To set the NVSv4 domain,
add the new <tt>nfs4_domain</tt> keyword to the diskless client's <tt>sysidcfg</tt> file. Note that
if the <tt>nfs4_domain</tt> keyword exists in the <tt>sysidcfg</tt> file, the first boot of
a diskless client sets the domain accordingly. </p>

<a name="fxbjj"></a><h4>x86: Diskless Client Changes in the GRUB Boot Environment</h4>
<p> An extension has been made to GRUB to enable <tt>kernel$</tt>, <tt>module$</tt>, and
<tt>$ISADIR</tt> usage in the <tt>menu.lst</tt> file.</p><p>The <tt>bootadm</tt> command installs a default boot entry in the <tt>menu.lst</tt> file that
is similar to the following:</p><pre>kernel$ /platform/i86pc/kernel/$ISADIR/unix
module$ /platform/i86pc/kernel/$ISADIR/unix /platform/i86pc/kernel/$ISADIR/unix -B $ZFS-ROOTFS
module$ /platform/i86pc/$ISADIR/boot_archive</pre><p>The <tt>kernel$</tt> and <tt>module$</tt> keywords are identical to the <tt>kernel</tt> and <tt>module</tt>
commands that are used in the GRUB multiboot implementation. The <tt>$ISADIR</tt> keyword has
the added capability to expand to <tt>amd64</tt> on 64-bit capable hardware. If the
x86 based system is not 64-bit capable, the <tt>$ISADIR</tt> keyword is a null
value (<tt>""</tt>). In this instance, the system boots the 32-bit kernel.</p>
<hr><p><b>Note - </b>These changes do not prevent you from booting of a newer Solaris
kernel with an older implementation of GRUB. Nor do the changes prevent you
from booting of an older Solaris kernel with a newer implementation of GRUB.</p>
<hr>

<hr><p><b>Note - </b>GRUB based booting is not available on SPARC based systems.</p>
<hr>
<p>The following feature enhancements are part of the new diskless boot scheme:</p>
<ul><li><p>The OS server is now capable of serving multiple Solaris releases simultaneously.</p><p>With the new diskless boot scheme, you can perform a <tt>pxegrub</tt> based network boot , where multiple releases are presented to a client from the GRUB menu.</p></li>
<li><p>Vendor-specific options are now specified in the boot archive.</p><p>In previous releases, client-specific boot properties, typically defined in the <tt>bootenv.rc</tt> file, were provided by using vendor-specific options for the DHCP setup. The total length of the information that was required frequently exceeded the limit in the DHCP specification. </p><p>With the boot new scheme, this information is part of the boot archive. The PXE/DHCP server is only required to provide the server IP address, the boot file, <tt>pxegrub</tt>, and possibly a client-specific menu file, through Site Option 150. </p></li></ul>


<a name="gbxfp"></a><h4>x86: Changes to the <tt>smdiskless</tt> Command</h4>
<p>The <tt>smdiskless</tt> command is used to set up diskless clients. Previously, the <tt>smdiskless</tt>
command set up the root (<tt>/</tt>) and <tt>/usr</tt> file systems, then exported these file
systems to the client through NFS. To boot the client, you would additionally
need to configure the <tt>/tftpboot</tt> area manually. This manual step is no longer
a requirement for setting up a diskless client. The <tt>smdiskless</tt> command now automatically
invokes a script in the <tt>/usr/sadm/lib/wbem/config_tftp</tt> file, which prepares the <tt>/tftpboot</tt> area for a
PXE boot.</p><p>After running the <tt>smdiskless</tt> command, the <tt>/tftpboot/01</tt><i>ethernet-address</i> file is displayed as a link
to <tt>pxegrub</tt> and the <tt>/tftpboot/menu.lst.01</tt><i>ethernet-address</i> file, which contains the GRUB menu entry.
The <i>ethernet-address</i> in this instance is 01, followed by the Ethernet address of
the client network interface. When supplying the Ethernet address of the client network
interface, use uppercase letters and do not include colons.</p><p>The boot archive of the diskless client is automatically updated during shutdown. If
the client's boot archive is out of date when it is shut
down, you might need to run the following command from the OS server
to update the boot archive:</p><pre># <tt><b>bootadm update-archive -f -R /export/root/</tt><i>host-name</i><tt></b></tt></pre><p>where <i>host-name</i> is the host name of the client system.</p><p>For more information, see <a href="ggqdn.html#gcbcn">x86: How to Boot the Failsafe Archive to Forcibly Update a Corrupt Boot Archive</a> and the <a href="http://docs.sun.com/doc/819-2240/bootadm-1m?a=view"><tt>bootadm</tt>(1M)</a> man page.</p>
<hr><p><b>Note - </b>This information applies to both SPARC based and x86 based OS servers that
are serving x86 based clients.</p>
<hr>
<p>For more information on setting up and configuring DHCP, see <a href="http://docs.sun.com/doc/819-3000/chapter3-20?a=view">Chapter 14, Configuring the DHCP Service (Tasks), in <i>System Administration Guide: IP Services</i></a>.</p><p>For more information on how to manage diskless clients in the GRUB
boot environment, see <a href="hbx86boot-68676.html">Booting an x86 Based System by Using GRUB (Task Map)</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="clientconcept-15236.html">Previous</a>
             </td>
             <td align="right">
                 <a href="clientconcept-7.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

