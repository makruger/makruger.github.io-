<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Using the Solaris Management Tools in a Name Service Environment (Task Map) - System Administration Guide: Basic Administration</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-12-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Basic Administration</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="smcover-18.html">Previous</a>
             </td>
             <td align="right">
                 <a href="smcover-118.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="saroadmap-1.html">1.&nbsp;&nbsp;Solaris Management Tools (Road Map)</a></p>
<p class="toc level1 tocsp"><a href="smcover-1.html">2.&nbsp;&nbsp;Working With the Solaris Management Console (Tasks)</a></p>
<p class="toc level2"><a href="smcover-3.html">Solaris Management Console (Overview)</a></p>
<p class="toc level2"><a href="smcover-149.html">Becoming Superuser (<tt>root</tt>) or Assuming a Role</a></p>
<p class="toc level2"><a href="smcover-95.html">Using the Solaris Management Tools With RBAC (Task Map)</a></p>
<p class="toc level2"><a href="smcover-18.html">Starting the Solaris Management Console</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Using the Solaris Management Tools in a Name Service Environment (Task Map)</a></p>
</div>
<p class="toc level2"><a href="smcover-118.html">Adding Tools to the Solaris Management Console</a></p>
<p class="toc level2"><a href="smcover-119.html">Troubleshooting the Solaris Management Console</a></p>
<p class="toc level1 tocsp"><a href="ewpor.html">3.&nbsp;&nbsp;Working With the Sun Java Web Console (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="userconcept-97366.html">4.&nbsp;&nbsp;Managing User Accounts and Groups (Overview)</a></p>
<p class="toc level1 tocsp"><a href="usersetup-92366.html">5.&nbsp;&nbsp;Managing User Accounts and Groups (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="clientconcept-15236.html">6.&nbsp;&nbsp;Managing Client-Server Support (Overview)</a></p>
<p class="toc level1 tocsp"><a href="clientsetup-1.html">7.&nbsp;&nbsp;Managing Diskless Clients (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbintro-66644.html">8.&nbsp;&nbsp;Introduction to Shutting Down and Booting a System</a></p>
<p class="toc level1 tocsp"><a href="hboverview-25463.html">9.&nbsp;&nbsp;Shutting Down and Booting a System (Overview)</a></p>
<p class="toc level1 tocsp"><a href="hbsyshalt-84412.html">10.&nbsp;&nbsp;Shutting Down a System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="grubtasks-1.html">11.&nbsp;&nbsp;Modifying Solaris Boot Behavior (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbsparcboot-79782.html">12.&nbsp;&nbsp;Booting a Solaris System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbtsboot-1.html">13.&nbsp;&nbsp;Troubleshooting Booting a Solaris System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="archive-123.html">14.&nbsp;&nbsp;Managing the Solaris Boot Archives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbsysboot-76719.html">15.&nbsp;&nbsp;x86: GRUB Based Booting (Reference)</a></p>
<p class="toc level1 tocsp"><a href="hbrunlevels-25516.html">16.&nbsp;&nbsp;Managing Services (Overview)</a></p>
<p class="toc level1 tocsp"><a href="faauf.html">17.&nbsp;&nbsp;Managing Services (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgsconcepts-52619.html">18.&nbsp;&nbsp;Managing Software (Overview)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgsgui-1.html">19.&nbsp;&nbsp;Managing Software With Solaris System Administration Tools (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgscli-1.html">20.&nbsp;&nbsp;Managing Software by Using Package Commands (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpatchtasks-1.html">21.&nbsp;&nbsp;Managing Solaris Patches by Using the <tt>patchadd</tt> Command (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fddwm.html">A.&nbsp;&nbsp;SMF Services</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="smcover-21"></a><h3>Using the Solaris Management Tools in a Name Service Environment (Task Map)</h3>
<p>By default, the Solaris management tools are set up to operate in
a local environment. For example, the Mounts and Shares tool enables you to mount
and share directories on specific systems, but not in an NIS or
NIS+ environment. However, you can manage information with the Users and Computers and Networks
tools in a name service environment.</p><p>To work with a console tool in a name service environment, you
need to create a name service toolbox, and then add the tool to
that toolbox.</p><table><col width="33%"><col width="33%"><col width="33%"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>1. Verify prerequisites.</p></td>
<td align="left" valign="top" scope="row"><p>Verify you have completed the prerequisites before attempting
to use the console in a name service environment.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#smcover-42">Prerequisites for Using the Solaris Management Console in a Name Service Environment</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>2. Create a toolbox for
the name service.</p></td>
<td align="left" valign="top" scope="row"><p>Use the New Toolbox wizard to create a toolbox for
your name service tools.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#smcover-17">How to Create a Toolbox for a Specific Environment</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>3. Add a tool to the name service toolbox.</p></td>
<td align="left" valign="top" scope="row"><p>Add the
Users tool, or any other name service tool, to your name service toolbox.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#smcover-30">How to Add a Tool to a Toolbox</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>4.
Select the toolbox that was just created.</p></td>
<td align="left" valign="top" scope="row"><p>Select the toolbox you just created
to manage name service information.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#smcover-23">How to Start the Solaris Management Console in a Name Service Environment</a></p></td>
</tr>
</table>

<a name="smcover-45"></a><h4>RBAC Security Files</h4>
<p>The RBAC security files that work with the Solaris Management Console are created
when you upgrade to or install at least the Solaris 9 release. If
you do not install the Solaris Management Console packages, the RBAC security files
are installed without the necessary data for using RBAC. For information on the
Solaris Management Console packages, see <a href="smcover-119.html">Troubleshooting the Solaris Management Console</a>.</p><p>The RBAC security files if you are running at least the Solaris
9 release are included in your name service so that you can use
the Solaris Management Console tools in a name service environment. </p><p>The security files on a local server are populated into a name
service environment as part of a standard upgrade by the <tt>ypmake</tt>, <tt>nispopulate</tt>, or
equivalent LDAP commands. </p><p>The following name services are supported:</p>
<ul><li><p>NIS</p></li>
<li><p>NIS+</p></li>
<li><p>LDAP</p></li>
<li><p>files</p></li></ul>

<hr><p><b>Note - </b>The <tt>projects</tt> database is not supported in the NIS+ environment.</p>
<hr>
<p>The RBAC security files are created when you upgrade to or install
at least the Solaris 9 release. </p><p>This table briefly describes the predefined security files that are installed on a
system that is running at least the Solaris 9 release.</p><a name="smcover-tbl-8"></a><h6>Table&nbsp;2-3 RBAC Security Files</h6><table><col width="33%"><col width="30%"><col width="36%"><tr><th align="left" valign="top" scope="column"><p>Local File Name</p></th>
<th align="left" valign="top" scope="column"><p>Table
or Map Name</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/user_attr</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>user_attr</tt></p></td>
<td align="left" valign="top" scope="row"><p>Associates users and roles with authorizations and rights profiles</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/security/auth_attr</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>auth_attr</tt></p></td>
<td align="left" valign="top" scope="row"><p>Defines authorizations
and their attributes and identifies associated help files</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/security/prof_attr</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>prof_attr</tt></p></td>
<td align="left" valign="top" scope="row"><p>Defines rights profiles, lists the rights
profiles assigned to the authorizations, and identifies associated help files</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/security/exec_attr</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>exec_attr</tt></p></td>
<td align="left" valign="top" scope="row"><p>Defines the privileged operations
assigned to a rights profile</p></td>
</tr>
</table><p>For unusual upgrade cases, you might have to use the <tt>smattrpop</tt> command to
populate RBAC security files in the following instances: </p>
<ul><li><p>When creating or modifying rights profiles</p></li>
<li><p>When you need to include users and roles by customizing the <tt>usr_attr</tt> file</p></li></ul>
<p>For more information, see <a href="http://docs.sun.com/doc/819-3321/rbac-1?a=view">Role-Based Access Control (Overview) in <i>System Administration Guide: Security Services</i></a>.</p>

<a name="smcover-42"></a><h4>Prerequisites for Using the Solaris Management Console in a Name Service Environment</h4>
<p>The following table identifies what you need to do before you can
use the Solaris Management Console in a name service environment.</p><table><col width="50%"><col width="50%"><tr><th align="left" valign="top" scope="column"><p>Prerequisite</p></th>
<th align="left" valign="top" scope="column"><p>For More Information</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Install at
least the Solaris 9 release. </p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-2393"><i>Solaris Express Installation Guide: Basic Installations</i></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Set up your name service environment.</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-3194"><i>System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</i></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Select your
management scope.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#smcover-111">Management Scope</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Make sure your<tt>/etc/nsswitch.conf</tt> file is configured so that you can access your
name service data.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#smcover-24"><tt>/etc/nsswitch.conf</tt> File</a></p></td>
</tr>
</table>

<a name="smcover-111"></a><h4>Management Scope</h4>
<p>The Solaris Management Console uses the term <b>management scope</b> to refer to the name
service environment that you want to use with the selected management tool. The
management scope choices for the Users tool and the Computers and Networks tool
are LDAP, NIS, NIS+, or files.</p><p>The management scope that you select during a console session should correspond to
the primary name service identified in the <tt>/etc/nsswitch.conf</tt> file.</p>

<a name="smcover-24"></a><h4><tt>/etc/nsswitch.conf</tt> File</h4>
<p>The <tt>/etc/nsswitch.conf</tt> file on each system specifies the policy for name service lookups
(where data is read from) on that system.</p>
<hr><p><b>Note - </b>You must make sure that the name service accessed from the console, which
you specify through the console Toolbox Editor, appears in the search path of
the <tt>/etc/nsswitch.conf</tt> file. If the specified name service does not appear there, the
tools might behave in unexpected ways, resulting in errors or warnings.</p>
<hr>
<p>When you use the Solaris management tools in a name service environment, you
might impact many users with a single operation. For example, if you
delete a user in the NIS name service, that user is deleted on
all systems that are using NIS.</p><p>If different systems in your network have different <tt>/etc/nsswitch.conf</tt> configurations, unexpected results
might occur. So, all systems to be managed with the Solaris management tools
should have a consistent name service configuration.</p>

<a name="smcover-17"></a><h4>How to Create a Toolbox for a Specific Environment</h4><p>Applications for administering the Solaris Operating System are called tools. Those tools are
stored in collections referred to as <b>toolboxes</b>. A toolbox can be located on
a local server, where the console is located, or on a remote machine.</p><p>Use the Toolbox Editor to add a new toolbox, to add tools
to an existing toolbox, or to change the scope of a toolbox. For
example, use this tool to change the domain from local files to a
name service.</p>
<hr><p><b>Note - </b>You can start the Toolbox Editor as a normal user. However, if you
plan to make changes and save them to the default console toolbox,
<tt>/var/sadm/smc/toolboxes</tt>, you must start the Toolbox Editor as <tt>root</tt>.</p>
<hr>
<ol>
<li><a name="smcover-step-7"></a><b>Start the Toolbox Editor.</b><pre># <tt><b>/usr/sadm/bin/smc edit &amp;</b></tt></pre></li>
<li><a name="smcover-step-20"></a><b>Select Open from the Toolbox menu.</b></li>
<li><a name="smcover-step-15"></a><b>Select the This Computer icon in the Toolboxes: window.</b></li>
<li><a name="smcover-step-16"></a><b>Click Open.</b><p>The This Computer toolbox opens in the window.</p></li>
<li><a name="smcover-step-21"></a><b>Select the This Computer icon again in the Navigation pane.</b></li>
<li><a name="smcover-step-42"></a><b>Select Add Folder from the Action menu.</b></li>
<li><a name="smcover-step-18"></a><b>Use the Folder wizard to add a new toolbox for your name service
environment.</b><ol style="list-style-type: lower-alpha">
				 
<li><a name="smcover-step-72"></a><b>Name and Description &ndash; Provide a name in the Full Name window. Click
Next.</b><p>For example, provide &ldquo;NIS tools&rdquo; for the NIS environment.</p></li>
<li><a name="smcover-step-22"></a><b>Provide a description in the Description window. Click Next.</b><p>For example, &ldquo;tools for NIS environment&rdquo; is an appropriate example.</p></li>
<li><a name="smcover-step-23"></a><b>Icons &ndash; Use the default value for the Icons. Click Next.</b></li>
<li><a name="smcover-step-26"></a><b>Management Scope &ndash; Select Override.</b></li>
<li><a name="smcover-step-45"></a><b>Select your name service under the Management Scope pull-down menu.</b></li>
<li><a name="smcover-step-19"></a><b>Add the name service master name in the Server field, if necessary.</b></li>
<li><a name="smcover-step-129"></a><b>Add the domain managed by the server in the Domain field.</b></li>
<li><a name="smcover-step-29"></a><b>Click Finish.</b><p>The new toolbox appears in the left Navigation pane.</p></li></ol></li>
<li><a name="smcover-step-123"></a><b>Select the new toolbox icon and select Save As from the Toolbox menu.</b></li>
<li><a name="smcover-step-121"></a><b>Enter the toolbox path name in the Local Toolbox Filename dialog box. Use
the <tt>.tbx</tt> suffix.</b><pre>/var/sadm/smc/toolboxes/this_computer/<i>toolbox-name</i>.tbx</pre></li>
<li><a name="smcover-step-122"></a><b>Click Save.</b><p>The new toolbox appears in the Navigation pane in the console window.</p></li></ol><h6>See Also</h6><p>After you have created a name service toolbox, you can put a
name service tool into it.  For more information, see <a href="#smcover-30">How to Add a Tool to a Toolbox</a>.</p>

<a name="smcover-30"></a><h4>How to Add a Tool to a Toolbox</h4><p>In addition to the default tools that ship with the console, additional tools
that can be launched from the console are being developed. As these tools
become available, you can add one or more tools to an existing
toolbox.</p><p>You can also create a new toolbox, for either local management or
network management. Then, you can add tools to the new toolbox.</p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><a name="smcover-step-73"></a><b>Start the Toolbox Editor, if necessary.</b><pre># <tt><b>/usr/sadm/bin/smc edit &amp;</b></tt></pre></li>
<li><a name="smcover-step-32"></a><b>Select the toolbox.</b><p>If you want to work in a name service, select the toolbox you
just created in the Toolbox Editor. For more information, see <a href="#smcover-17">How to Create a Toolbox for a Specific Environment</a>.</p></li>
<li><a name="smcover-step-48"></a><b>Select Add Tool from the Action menu.</b></li>
<li><a name="smcover-step-34"></a><b>Use the Add Tool wizard to add the new tool.</b><ol style="list-style-type: lower-alpha">
				 
<li><a name="smcover-step-74"></a><b>Server Selection &ndash; Add the name service master in the Server window. Click
Next.</b></li>
<li><a name="smcover-step-35"></a><b>Tools Selection &ndash; Select the tool you want to add from the Tools
window. Click Next.</b><p>If this toolbox is a name service toolbox, choose a tool you want
to work in a name service environment. For example, choose the Users tool.</p></li>
<li><a name="smcover-step-36"></a><b>Name and Description &ndash; Accept the default values. Click Next.</b></li>
<li><a name="smcover-step-37"></a><b>Icons &ndash; Accept the default values, unless you have created custom icons. Click
Next.</b></li>
<li><a name="smcover-step-38"></a><b>Management Scope &ndash; Accept the default value &ldquo;Inherit from Parent.&rdquo; Click Next.</b></li>
<li><a name="smcover-step-39"></a><b>Tool Loading &ndash; Accept the default &ldquo;Load tool when selected.&rdquo; Click Finish.</b></li></ol></li>
<li><a name="smcover-step-40"></a><b>Select Save from the Toolbox menu to save the updated toolbox.</b><p>The Local Toolbox window is displayed.</p></li></ol>

<a name="smcover-23"></a><h4>How to Start the Solaris Management Console in a Name Service Environment</h4><p>After you have created a name service toolbox and added tools to
it, you can start the Solaris Management Console and open that toolbox to
manage a name service environment.</p><h6>Before You Begin</h6><p>Verify that the following prerequisites are met:</p>
<ul><li><p>Ensure that the system you are logged in to is configured to work in a name service environment.</p></li>
<li><p>Verify that the <tt>/etc/nsswitch.conf</tt> file is configured to match your name service environment.</p></li></ul>
<ol>
<li><a name="smcover-step-75"></a><b>Start the Solaris Management Console.</b><p>For more information, see <a href="smcover-18.html#smcover-42573">How to Start the Console as Superuser or as a Role</a>.</p></li>
<li><a name="smcover-step-28"></a><b>Select the toolbox you created for the name service, which appears in the
Navigation pane.</b><p>For information on creating a toolbox for a name service, see <a href="#smcover-17">How to Create a Toolbox for a Specific Environment</a>.</p></li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="smcover-18.html">Previous</a>
             </td>
             <td align="right">
                 <a href="smcover-118.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

