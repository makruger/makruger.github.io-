<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Using Package Commands to Manage Software Packages - System Administration Guide: Basic Administration</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-12-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Basic Administration</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="swmgrpkgscli-5.html">Previous</a>
             </td>
             <td align="right">
                 <a href="swmgrpatchtasks-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="saroadmap-1.html">1.&nbsp;&nbsp;Solaris Management Tools (Road Map)</a></p>
<p class="toc level1 tocsp"><a href="smcover-1.html">2.&nbsp;&nbsp;Working With the Solaris Management Console (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ewpor.html">3.&nbsp;&nbsp;Working With the Sun Java Web Console (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="userconcept-97366.html">4.&nbsp;&nbsp;Managing User Accounts and Groups (Overview)</a></p>
<p class="toc level1 tocsp"><a href="usersetup-92366.html">5.&nbsp;&nbsp;Managing User Accounts and Groups (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="clientconcept-15236.html">6.&nbsp;&nbsp;Managing Client-Server Support (Overview)</a></p>
<p class="toc level1 tocsp"><a href="clientsetup-1.html">7.&nbsp;&nbsp;Managing Diskless Clients (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbintro-66644.html">8.&nbsp;&nbsp;Introduction to Shutting Down and Booting a System</a></p>
<p class="toc level1 tocsp"><a href="hboverview-25463.html">9.&nbsp;&nbsp;Shutting Down and Booting a System (Overview)</a></p>
<p class="toc level1 tocsp"><a href="hbsyshalt-84412.html">10.&nbsp;&nbsp;Shutting Down a System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="grubtasks-1.html">11.&nbsp;&nbsp;Modifying Solaris Boot Behavior (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbsparcboot-79782.html">12.&nbsp;&nbsp;Booting a Solaris System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbtsboot-1.html">13.&nbsp;&nbsp;Troubleshooting Booting a Solaris System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="archive-123.html">14.&nbsp;&nbsp;Managing the Solaris Boot Archives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbsysboot-76719.html">15.&nbsp;&nbsp;x86: GRUB Based Booting (Reference)</a></p>
<p class="toc level1 tocsp"><a href="hbrunlevels-25516.html">16.&nbsp;&nbsp;Managing Services (Overview)</a></p>
<p class="toc level1 tocsp"><a href="faauf.html">17.&nbsp;&nbsp;Managing Services (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgsconcepts-52619.html">18.&nbsp;&nbsp;Managing Software (Overview)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgsgui-1.html">19.&nbsp;&nbsp;Managing Software With Solaris System Administration Tools (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgscli-1.html">20.&nbsp;&nbsp;Managing Software by Using Package Commands (Tasks)</a></p>
<p class="toc level2"><a href="swmgrpkgscli-2.html">Adding and Removing Signed Packages by Using the <tt>pkgadd</tt> Command (Task Map)</a></p>
<p class="toc level2"><a href="ewbdw.html">Adding and Removing Signed Packages by Using the <tt>pkgadd</tt> Command</a></p>
<p class="toc level2"><a href="swmgrpkgscli-5.html">Managing Software Packages by Using Package Commands (Task Map)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Using Package Commands to Manage Software Packages</a></p>
</div>
<p class="toc level1 tocsp"><a href="swmgrpatchtasks-1.html">21.&nbsp;&nbsp;Managing Solaris Patches by Using the <tt>patchadd</tt> Command (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fddwm.html">A.&nbsp;&nbsp;SMF Services</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="ewbej"></a><h3>Using Package Commands to Manage Software Packages</h3>
<p>The following procedures explain how to manage software packages by using package commands.</p>

<a name="swmgrpkgscli-23"></a><h4>How to Add Software Packages (<tt>pkgadd</tt>)</h4><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><a name="swmgrpkgscli-step-25"></a><b>Remove any already installed packages with the same names as the packages you
are adding.</b><p><a name="indexterm-331"></a><a name="indexterm-332"></a><a name="indexterm-333"></a><a name="indexterm-334"></a>This step ensures that the system keeps a proper record of software that
has been added and removed. Sometimes, you might want to maintain multiple versions
of the same application on the system. For strategies on maintaining multiple software copies,
see <a href="swmgrpkgsconcepts-35627.html">Guidelines for Removing Packages (<tt>pkgrm</tt>)</a>. For task information, see <a href="#swmgrpkgscli-50">How to Remove Software Packages (<tt>pkgrm</tt>)</a>.  </p></li>
<li><a name="swmgrpkgscli-step-26"></a><b>Add a software package to the system.</b><pre># <tt><b>pkgadd -a</b></tt> <i>admin-file</i> <tt><b>-d</b></tt> <i>device-name</i> <i>pkgid</i> ...</pre><dl><dt><tt>-a</tt> <i>admin-file</i></dt>
<dd><p>(Optional) Specifies an administration file that the <tt>pkgadd</tt> command should check during the installation. For details about using an administration file, see <a href="swmgrpkgs-19113.html#swmgrpkgsconcepts-3">Using an Administration File</a>.</p></dd>
<dt><tt>-d</tt> <i>device-name</i></dt>
<dd><p>Specifies the absolute path to the software packages. <i>device-name</i> can be the path to a device, a directory, or a spool directory. If you do not specify the path where the package resides, the <tt>pkgadd</tt> command checks the default spool directory (<tt>/var/spool/pkg</tt>). If the package is not there, the package installation fails. </p></dd>
<dt><i>pkgid</i></dt>
<dd><p>(Optional) Is the name of one or more packages, separated by spaces, to be installed. If omitted, the <tt>pkgadd</tt> command installs all available packages from the specified device, directory, or spool directory.</p></dd>
</dl>
<p>If the <tt>pkgadd</tt> command encounters a problem during installation of the package, it
displays a message related to the problem, followed by this prompt: </p><pre>Do you want to continue with this installation?</pre><p>Respond with <tt>yes</tt>, <tt>no</tt>, or <tt>quit</tt>. If more than one package has
been specified, type <tt>no</tt> to stop the installation of the package being installed.
The <tt>pkgadd</tt> command continues to install the other packages. Type <tt>quit</tt> to stop the
installation.</p></li>
<li><a name="swmgrpkgscli-step-27"></a><b>Verify that the package has been installed successfully.</b><pre># <tt><b>pkgchk -v</b></tt> <i>pkgid</i></pre><p>If no errors occur, a list of installed files is returned. Otherwise, the
<tt>pkgchk</tt> command reports the error.</p></li></ol><a name="swmgrpkgscli-28"></a><h6>Example&nbsp;20-5 Adding Software Packages From a Mounted CD</h6><p><a name="indexterm-335"></a><a name="indexterm-336"></a><a name="indexterm-337"></a>The following example shows how install the <tt>SUNWpl5u</tt> package from a mounted Solaris
10 CD. The example also shows how to verify that the package files
were installed properly.    </p><pre># <tt><b>pkgadd -d /media/Solaris_11/Product SUNWpl5u</b></tt>
    .
    .
    .
Installation of &lt;SUNWpl5u&gt; was successful.
# <tt><b>pkgchk -v SUNWpl5u</b></tt>
/usr
/usr/bin
/usr/bin/perl
/usr/perl5
/usr/perl5/5.8.4
.
.
.</pre><a name="swmgrpkgscli-29"></a><h6>Example&nbsp;20-6 Installing Software Packages From a Remote Package Server</h6><p>If the packages you want to install are available from a remote
system, you can manually mount the directory that contains the packages (in package format)
and install packages on the local system.</p><p><a name="indexterm-338"></a><a name="indexterm-339"></a>The following example shows how to install software packages from a remote system.
In this example, assume that the remote system named <tt>package-server</tt> has software packages in
the <tt>/latest-packages</tt> directory. The <tt>mount</tt> command mounts the packages locally on <tt>/mnt</tt>. The
<tt>pkgadd</tt> command installs the <tt>SUNWpl5u</tt> package.  </p><pre># <tt><b>mount -F nfs -o ro package-server:/latest-packages /mnt</b></tt>
# <tt><b>pkgadd -d /mnt SUNWpl5u</b></tt>
    .
    .
    .
Installation of &lt;SUNWpl5u&gt; was successful.</pre><p>If the automounter is running at your site, you do not need
to mount the remote package server manually. Instead, use the automounter path, in this
case, <tt>/net/package-server/latest-packages</tt>, as the argument to the <tt>-d</tt> option. </p><pre># <tt><b>pkgadd -d /net/package-server/latest-packages SUNWpl5u</b></tt>
    .
    .
    .
Installation of &lt;SUNWpl5u&gt; was successful.</pre><a name="ewiay"></a><h6>Example&nbsp;20-7 Installing Software Packages From a Remote Package Server by Specifying an Administration File</h6><p><a name="indexterm-340"></a><a name="indexterm-341"></a><a name="indexterm-342"></a><a name="indexterm-343"></a><a name="indexterm-344"></a>This example is similar to the previous example, except that it uses the
<tt>-a</tt> option and specifies an administration file named <tt>noask-pkgadd</tt>, which is illustrated in <a href="swmgrpkgs-19113.html">Avoiding User Interaction When Adding Packages (<tt>pkgadd</tt>)</a>.
In this example, assume that the  <tt>noask-pkgadd</tt> administration file is in
the default location, <tt>/var/sadm/install/admin</tt>.  </p><pre># <tt><b>pkgadd -a noask-pkgadd -d /net/package-server/latest-packages SUNWpl5u</b></tt>
    .
    .
    .
Installation of &lt;SUNWpl5u&gt; was successful.</pre><a name="swmgrpkgscli-30"></a><h6>Example&nbsp;20-8 Installing Software Packages From an <tt>HTTP</tt> URL</h6><p><a name="indexterm-345"></a>The following example shows how to install a package using an <tt>HTTP</tt> URL as
the device name. The URL must point to a stream-formatted package.</p><pre># <tt><b>pkgadd -d http://install/xf86-4.3.0-video.pkg</b></tt>

## Downloading...
..............25%..............50%..............75%..............100%
## Download Complete


The following packages are available:
  1  SUNWxf86r     XFree86 Driver Porting Kit (Root)
                   (i386) 4.3.0,REV=0.2003.02.28
  2  SUNWxf86u     XFree86 Driver Porting Kit (User)
                   (i386) 4.3.0,REV=0.2003.02.28

.
.
.</pre>

<a name="swmgrpkgscli-31"></a><h4>Adding a Software Package to a Spool Directory</h4>
<p><a name="indexterm-346"></a>For convenience, you can copy frequently installed packages to a spool directory. If
you copy packages to the default spool directory, <tt>/var/spool/pkg</tt>, you do not need
to specify the source location of the package (<tt>-d</tt> <i>device-name</i> argument) when you use
the <tt>pkgadd</tt> command. The <tt>pkgadd</tt> command, by default, checks the <tt>/var/spool/pkg</tt> directory for
any packages that are specified on the command line. Note that copying packages to
a spool directory is not the same as installing the packages on
a system.</p>

<a name="swmgrpkgscli-32"></a><h5>How to Add Software Packages to a Spool Directory (<tt>pkgadd</tt>)</h5>
<ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><a name="swmgrpkgscli-step-34"></a><b>Remove any already spooled packages with the same names as the packages you
are adding.</b><p><a name="indexterm-347"></a><a name="indexterm-348"></a><a name="indexterm-349"></a><a name="indexterm-350"></a><a name="indexterm-351"></a><a name="indexterm-352"></a>For information on removing spooled packages, see <a href="#swmgrpkgscli-54">Example&nbsp;20-20</a>. </p></li>
<li><a name="swmgrpkgscli-step-35"></a><b>Add a software package to a spool directory.</b><pre># <tt><b>pkgadd -d</b></tt> <i>device-name</i> <tt><b>-s</b></tt> <i>spooldir</i> <i>pkgid</i> ...</pre><dl><dt><tt>-d</tt> <i>device-name</i></dt>
<dd><p>Specifies the absolute path to the software packages. <i>device-name</i> can be the path to a device, a directory, or a spool directory.</p></dd>
<dt><tt>-s</tt> <i>spooldir</i></dt>
<dd><p>Specifies the name of the spool directory where the package will be spooled. You must specify a <i>spooldir</i>. </p></dd>
<dt><i>pkgid</i></dt>
<dd><p>(Optional) Is the name of one or more packages, separated by spaces, to be added to the spool directory. If omitted, the <tt>pkgadd</tt> command copies all available packages.</p></dd>
</dl>
</li>
<li><a name="swmgrpkgscli-step-36"></a><b>Verify that the package has been copied successfully to the spool directory.</b><pre>$ <tt><b>pkginfo -d</b></tt> <i>spooldir</i><tt><b>| grep</b></tt> <i>pkgid</i></pre><p>If <i>pkgid</i> was copied correctly, the <tt>pkginfo</tt> command returns a line of
information about the <i>pkgid</i>. Otherwise, the <tt>pkginfo</tt> command returns the system prompt. </p></li></ol><a name="swmgrpkgscli-37"></a><h6>Example&nbsp;20-9 Setting Up a Spool Directory From a Mounted CD</h6><p><a name="indexterm-353"></a><a name="indexterm-354"></a>The following example shows how to transfer the <tt>SUNWman</tt> package from a mounted
SPARC based Solaris 10 CD to the default spool directory (<tt>/var/spool/pkg</tt>).   </p><pre># <tt><b>pkgadd -d /media/Solaris_11/Product -s /var/spool/pkg SUNWman</b></tt>
Transferring &lt;SUNWman&gt; package instance</pre><a name="swmgrpkgscli-38"></a><h6>Example&nbsp;20-10 Setting Up a Spool Directory From a Remote Software Package Server</h6><p>If packages you want to copy are available from a remote system,
you can manually mount the directory that contains the packages, in package format, 
and copy them to a local spool directory.</p><p><a name="indexterm-355"></a><a name="indexterm-356"></a>The following example shows the commands for this scenario. In this example, assume
that the remote system named <tt>package-server</tt> has software packages in the <tt>/latest-packages</tt>
directory. The <tt>mount</tt> command mounts the package directory locally on <tt>/mnt</tt>. The <tt>pkgadd</tt> command
copies the <tt>SUNWpl5p</tt> package from <tt>/mnt</tt> to the default spool directory (<tt>/var/spool/pkg</tt>).  </p><pre># <tt><b>mount -F nfs -o ro package-server:/latest-packages /mnt</b></tt>
# <tt><b>pkgadd -d /mnt -s /var/spool/pkg SUNWpl5p</b></tt>
Transferring &lt;SUNWpl5p&gt; package instance</pre><p>If the automounter is running at your site, you do not have
to mount the remote package server manually. Instead, use the automounter path, in this
case, <tt>/net/package-server/latest-packages</tt>, as the argument to the <tt>-d</tt> option. </p><pre># <tt><b>pkgadd -d /net/package-server/latest-packages -s /var/spool/pkg SUNWpl5p</b></tt>
Transferring &lt;SUNWpl5p&gt; package instance</pre><a name="swmgrpkgscli-39"></a><h6>Example&nbsp;20-11 Installing Software Packages From the Default Spool Directory</h6><p><a name="indexterm-357"></a><a name="indexterm-358"></a><a name="indexterm-359"></a><a name="indexterm-360"></a><a name="indexterm-361"></a><a name="indexterm-362"></a>The following example shows how to install the <tt>SUNWpl5p</tt> package from the default spool
directory. When no options are used, the <tt>pkgadd</tt> command searches the <tt>/var/spool/pkg</tt> directory
for the named packages.  </p><pre># <tt><b>pkgadd SUNWpl5p</b></tt>
    .
    .
    .
Installation of &lt;SUNWpl5p&gt; was successful.</pre>

<a name="ewiaw"></a><h4>How to List Information About All Installed Packages (<tt>pkginfo</tt>)</h4><ul>
<li><b><a name="indexterm-363"></a><a name="indexterm-364"></a>List information about installed packages by using the <tt>pkginfo</tt> command.</b><pre>$ <tt><b>pkginfo</b></tt></pre></li></ul><a name="ewiaz"></a><h6>Example&nbsp;20-12 Listing Installed Packages</h6><p><a name="indexterm-365"></a><a name="indexterm-366"></a>This example shows how to list all packages installed on a local system,
whether that system is a stand-alone system or a server. The output shows
the primary category, package name, and the description of the package. </p><pre>$ <tt><b>pkginfo</b></tt>
system      SUNWaccr       System Accounting, (Root)
system      SUNWaccu       System Accounting, (Usr)
system      SUNWadmap      System administration applications
system      SUNWadmc       System administration core libraries
.
.
.</pre><a name="ewiba"></a><h6>Example&nbsp;20-13 Displaying Detailed Information About Software Packages</h6><p>This example shows how to list all packages installed on a system
by specifying the long format, which includes all available information about the designated packages.</p><pre>$ <tt><b>pkginfo -l SUNWcar</b></tt>
   PKGINST:  SUNWcar
      NAME:  Core Architecture, (Root)
  CATEGORY:  system
      ARCH:  sparc.sun4u
   VERSION:  11.9.0,REV=2002.04.06.15.27
   BASEDIR:  /
    VENDOR:  Sun Microsystems, Inc.
      DESC:  core software for a specific hardware platform group
    PSTAMP:  leo20031003183400
  INSTDATE:  Feb 20 2004 16:57
   HOTLINE:  Please contact your local service provider
    STATUS:  completely installed
     FILES:      114 installed pathnames
                  36 shared pathnames
                  40 directories
                  57 executables
               21469 blocks used (approx)</pre>

<a name="swmgrpkgscli-43"></a><h4>How to Check the Integrity of Installed Software Packages (<tt>pkgchk</tt>)</h4><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><a name="swmgrpkgscli-step-45"></a><b>Check the status of an installed package.</b>
<ul><li><p>To check the file attributes and contents, type the following:</p><pre># <tt><b>pkgchk -a</b></tt>| <tt><b>-c -v</b></tt> <i>pkgid</i> ...</pre></li>
<li><p>To specify the absolute path of the spool directory, type the following:</p><pre># <tt><b>pkgchk -d</b></tt> <i>spooldir pkgid</i> ...</pre></li></ul>
<dl><dt><tt>-a</tt></dt>
<dd><p>Specifies to audit only the file attributes (the permissions), rather than the file attributes and the contents, which is the default.</p></dd>
<dt><tt>-c</tt></dt>
<dd><p>Specifies to audit only the file contents, rather than the file contents and attributes, which is the default.</p></dd>
<dt><tt>-v</tt></dt>
<dd><p>Specifies verbose mode, which displays file names as they are processed.</p></dd>
<dt><tt>-d</tt> <i>spooldir</i></dt>
<dd><p>Specifies the absolute path of the spool directory.</p></dd>
<dt><i>pkgid</i></dt>
<dd><p>(Optional) Is the name of one or more packages, separated by spaces. If you do not specify a <i>pkgid</i>, all the software packages installed on the system are checked.</p></dd>
</dl>
</li></ol><a name="swmgrpkgscli-46"></a><h6>Example&nbsp;20-14 Checking the Contents of Installed Software Packages</h6><p>The following example shows how to check the contents of a package.</p><pre># <tt><b>pkgchk -c SUNWbash</b></tt></pre><p>If no errors occur, the system prompt is returned. Otherwise, the <tt>pkgck</tt>
command reports the error.</p><a name="swmgrpkgscli-47"></a><h6>Example&nbsp;20-15 Checking the File Attributes of Installed Software Packages</h6><p><a name="indexterm-367"></a><a name="indexterm-368"></a>The following example shows how to check the file attributes of a package.
</p><pre># <tt><b>pkgchk -a SUNWbash</b></tt></pre><p>If no errors occur, the system prompt is returned. Otherwise, the <tt>pkgck</tt>
command reports the error.</p><a name="swmgrpkgscli-48"></a><h6>Example&nbsp;20-16 Checking Software Packages Installed in a Spool Directory</h6><p><a name="indexterm-369"></a><a name="indexterm-370"></a><a name="indexterm-371"></a><a name="indexterm-372"></a>The following example shows how to check a software package that was copied
to a spool directory (<tt>/export/install/packages</tt>).     </p><pre># <tt><b>pkgchk -d /export/install/packages</b></tt>
## checking spooled package &lt;SUNWadmap&gt;
## checking spooled package &lt;SUNWadmfw&gt;
## checking spooled package &lt;SUNWadmc&gt;
## checking spooled package &lt;SUNWsadml&gt;</pre><p>The checks made on a spooled package are limited because not all
information can be audited until a package is installed. </p>

<a name="eywvy"></a><h4>How to Check the Integrity of Installed Objects (<tt>pkgchk -p, pkgchk -P</tt>)</h4><p>This procedure explains how to use the <tt>pkgchk</tt> command to check the integrity
of installed objects. The new <tt>-P</tt> option enables you to specify a partial
path. This option has been added to assist you in mapping files to
packages. Use this option with the <tt>-l</tt> option to list the information about
the files that contain the partial path. Use the <tt>-p</tt> option to check
the integrity of installed objects by specifying the full path. For more information,
see the <a href="http://docs.sun.com/doc/819-2240/pkgchk-1m?a=view"><tt>pkgchk</tt>(1M)</a> man page.</p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><a name="eywwa"></a><b>Check the integrity of an installed object.</b>
<ul><li><p>To verify the integrity of an installed object for a full path name or path names, type the following:</p><pre># <tt><b>pkgchk -lp </tt><i>path-name</i><tt></b></tt></pre></li>
<li><p>To verify the integrity of an installed object for a partial-path name or path names, type the following:</p><pre># <tt><b>pkgchk -lP </tt><i>partial-path-name</i><tt></b></tt></pre></li></ul>
<dl><dt><tt>-p</tt> <i>path</i></dt>
<dd><p>Checks the accuracy only of the path name or path names that are listed. Path can be one or more path names separated by commas. Specifies to audit only the file attributes (the permissions), rather than the file attributes and the contents, which is the default.</p></dd>
<dt><tt>-P</tt> <i>partial-path</i></dt>
<dd><p>Checks the accuracy of only the partial path name or path names that are listed. The partial-path can be one or more partial path names separated by commas. Matches any path name that contains the string contained in the partial path. Specifies to audit only the file contents, rather than the file contents and attributes, which is the default.</p></dd>
<dt><tt>-l</tt></dt>
<dd><p>Lists information about the selected files that make up a package. This option is not compatible with the <tt>-a</tt>, <tt>-c</tt>, <tt>-f</tt>, <tt>-g</tt>, and <tt>-v</tt> options. Specifies verbose mode, which displays file names as they are processed.</p></dd>
</dl>
</li></ol><a name="eywwc"></a><h6>Example&nbsp;20-17 Checking the Integrity of an Installed Object by Specifying a Full Path Name</h6><p>This example shows you how to use the <tt>pkgchk</tt> <tt>-lp</tt> command to check
the contents/attributes of an object on a file system by a specifying the
full path name. The <tt>-l</tt> option lists information on the selected files that
make up a package.</p><pre># <tt><b>pkgchk -lp /usr/sbin/pkgadd</b></tt>
Pathname: /usr/sbin/pkgadd
Type: regular file
Expected mode: 0555
Expected owner: root
Expected group: sys
Expected file size (bytes): 867152
Expected sum(1) of contents: 45580
Expected last modification: Jul 02 02:20:34 2004
Referenced by the following packages:
        SUNWpkgcmdsu   
Current status: installed</pre><a name="eywwg"></a><h6>Example&nbsp;20-18 Checking the Integrity of an Installed Object by Specifying a Partial Path Name</h6><p>This example shows you how to use the <tt>pkgchk</tt> <tt>-lP</tt> command to check
the contents/attributes of an object on a file system by a specifying a
partial path name, such as a file or directory name. The <tt>-l</tt>
option lists information on the selected files that make up a package.</p><pre># <tt><b>pkgchk -lP /sbin/pkgadd</b></tt>
Pathname: /usr/sbin/pkgadd
Type: regular file
Expected mode: 0555
Expected owner: root
Expected group: sys
Expected file size (bytes): 867152
Expected sum(1) of contents: 45580
Expected last modification: Jul 02 02:20:34 2004
Referenced by the following packages:
        SUNWpkgcmdsu   
Current status: installed

Pathname: /usr/sbin/pkgask
Type: linked file
Source of link: ../../usr/sbin/pkgadd
Referenced by the following packages:
        SUNWpkgcmdsu   
Current status: installed</pre>

<a name="swmgrpkgscli-49"></a><h4>Removing Software Packages</h4>
<p>To remove or uninstall a software package, use the associated tool that you
used to add or install a software package. For example, if you
used the Solaris installation GUI to install software, use the Solaris installation GUI to
uninstall software.</p>
<hr><p><b>Caution - </b>Do no use the <tt>rm</tt> command to remove software packages. Doing so will
result in inaccuracies in the database that keeps track of all installed packages
on the system.</p>
<hr>


<a name="swmgrpkgscli-50"></a><h4>How to Remove Software Packages (<tt>pkgrm</tt>)</h4><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><a name="swmgrpkgscli-step-52"></a><b>Remove an installed package.</b><pre># <tt><b>pkgrm</b></tt> <i>pkgid</i> ...</pre><p><i>pkgid</i> identifies the name of one or more packages, separated by spaces, to
be removed. If omitted, the <tt>pkgrm</tt>command removes all available packages.</p></li></ol><a name="swmgrpkgscli-53"></a><h6>Example&nbsp;20-19 Removing Software Packages</h6><p>This example shows how to remove a package.</p><pre># <tt><b>pkgrm SUNWctu</b></tt>

The following package is currently installed:
   SUNWctu         Netra ct usr/platform links (64-bit)
                   (sparc.sun4u) 11.9.0,REV=2001.07.24.15.53

Do you want to remove this package? <tt><b>y</b></tt>

## Removing installed package instance &lt;SUNWctu&gt;
## Verifying package dependencies.
## Processing package information.
## Removing pathnames in class &lt;none&gt;
.
.
.</pre><a name="swmgrpkgscli-54"></a><h6>Example&nbsp;20-20 Removing a Spooled Software Package</h6><p>This example shows how to remove a spooled package.</p><pre># <tt><b>pkgrm -s /export/pkg SUNWaudh</b></tt>
The following package is currently spooled:
   SUNWaudh        Audio Header Files
                   (sparc) 11.10.0,REV=2003.08.08.00.03
Do you want to remove this package? <tt><b>y</b></tt>
Removing spooled package instance &lt;SUNWaudh&gt;</pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="swmgrpkgscli-5.html">Previous</a>
             </td>
             <td align="right">
                 <a href="swmgrpatchtasks-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

