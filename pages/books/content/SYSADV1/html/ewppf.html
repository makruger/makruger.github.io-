<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Troubleshooting the Java Web Console Software - System Administration Guide: Basic Administration</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-12-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Basic Administration</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gdkcl.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ewpoy.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="saroadmap-1.html">1.&nbsp;&nbsp;Solaris Management Tools (Road Map)</a></p>
<p class="toc level1 tocsp"><a href="smcover-1.html">2.&nbsp;&nbsp;Working With the Solaris Management Console (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ewpor.html">3.&nbsp;&nbsp;Working With the Sun Java Web Console (Tasks)</a></p>
<p class="toc level2"><a href="gbyuq.html">What's New in Administering the Java Web Console?</a></p>
<p class="toc level2"><a href="sunweb-1.html">Java Web Console (Overview)</a></p>
<p class="toc level2"><a href="swctask-1.html">Getting Started With the Java Web Console (Task Map)</a></p>
<p class="toc level2"><a href="swc123.html">Getting Started With the Java Web Console</a></p>
<p class="toc level2"><a href="gdckg.html">Managing the Console Service</a></p>
<p class="toc level2"><a href="eyamf.html">Configuring the Java Web Console</a></p>
<p class="toc level2"><a href="gdkcl.html">Troubleshooting the Java Web Console Software (Task Map)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Troubleshooting the Java Web Console Software</a></p>
</div>
<p class="toc level2"><a href="ewpoy.html">Java Web Console Reference Information</a></p>
<p class="toc level1 tocsp"><a href="userconcept-97366.html">4.&nbsp;&nbsp;Managing User Accounts and Groups (Overview)</a></p>
<p class="toc level1 tocsp"><a href="usersetup-92366.html">5.&nbsp;&nbsp;Managing User Accounts and Groups (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="clientconcept-15236.html">6.&nbsp;&nbsp;Managing Client-Server Support (Overview)</a></p>
<p class="toc level1 tocsp"><a href="clientsetup-1.html">7.&nbsp;&nbsp;Managing Diskless Clients (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbintro-66644.html">8.&nbsp;&nbsp;Introduction to Shutting Down and Booting a System</a></p>
<p class="toc level1 tocsp"><a href="hboverview-25463.html">9.&nbsp;&nbsp;Shutting Down and Booting a System (Overview)</a></p>
<p class="toc level1 tocsp"><a href="hbsyshalt-84412.html">10.&nbsp;&nbsp;Shutting Down a System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="grubtasks-1.html">11.&nbsp;&nbsp;Modifying Solaris Boot Behavior (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbsparcboot-79782.html">12.&nbsp;&nbsp;Booting a Solaris System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbtsboot-1.html">13.&nbsp;&nbsp;Troubleshooting Booting a Solaris System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="archive-123.html">14.&nbsp;&nbsp;Managing the Solaris Boot Archives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbsysboot-76719.html">15.&nbsp;&nbsp;x86: GRUB Based Booting (Reference)</a></p>
<p class="toc level1 tocsp"><a href="hbrunlevels-25516.html">16.&nbsp;&nbsp;Managing Services (Overview)</a></p>
<p class="toc level1 tocsp"><a href="faauf.html">17.&nbsp;&nbsp;Managing Services (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgsconcepts-52619.html">18.&nbsp;&nbsp;Managing Software (Overview)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgsgui-1.html">19.&nbsp;&nbsp;Managing Software With Solaris System Administration Tools (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgscli-1.html">20.&nbsp;&nbsp;Managing Software by Using Package Commands (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpatchtasks-1.html">21.&nbsp;&nbsp;Managing Solaris Patches by Using the <tt>patchadd</tt> Command (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fddwm.html">A.&nbsp;&nbsp;SMF Services</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="ewppf"></a><h3>Troubleshooting the Java Web Console Software</h3>
<p><a name="indexterm-47"></a><a name="indexterm-48"></a>The following information is provided to help you troubleshoot any problems that you
might encounter when using the Java Web Console software.</p>

<a name="gdbnh"></a><h4>Checking Console Status and Properties</h4>
<a name="indexterm-49"></a><a name="indexterm-50"></a><p>You can use the <tt>smcwebserver</tt>, <tt>wcadmin</tt>, and <tt>svcs</tt> commands to get different types
of information about the console, which might be useful for troubleshooting problems.</p>

<a name="gdbnk"></a><h5>How to Check if the Console is Running and Enabled</h5>
<ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><b>Check the server status.</b><pre># <tt><b>smcwebserver status</b></tt>
Sun Java(TM) Web Console is running</pre></li>
<li><b><b>Solaris 10 11/06:</b> Check the console's SMF status and enabled state.</b><pre># <tt><b>svcs -l system/webconsole:console</b></tt>
fmri         svc:/system/webconsole:console
name         java web console
enabled      true
state        online
next_state   none
state_time   Wed 17 May 2006 01:22:32 PM EDT
logfile      /var/svc/log/system-webconsole:console.log
restarter    svc:/system/svc/restarter:default
contract_id  129
dependency   require_all/none svc:/milestone/multi-user (online)</pre><p>If you start and stop the server with <tt>smcwebserver</tt> commands without enabling and
disabling, the <tt>enabled</tt> property might display as <tt>false (temporary)</tt> or <tt>true (temporary)</tt>.</p></li></ol>

<a name="gdbnv"></a><h5>How to List Console Resources and Properties</h5>
<ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><b>List the console's resources and properties.</b><p>If you are running at least the Solaris 10 11/06 release, use this command:</p><pre># <tt><b>wcadmin list</b></tt>

Deployed web applications (application name, context name, status):
 
    console      ROOT            [running]
    console      com_sun_web_ui  [running]
    console      console         [running]
    console      manager         [running]
    legacy       myapp           [running]
 
Registered jar files (application name, identifier, path):
 
    console  audit_jar     /usr/lib/audit/Audit.jar
    console  console_jars  /usr/share/webconsole/lib/*.jar
    console  jato_jar      /usr/share/lib/jato/jato.jar
    console  javahelp_jar  /usr/jdk/packages/javax.help-2.0/lib/*.jar
    console  shared_jars   /usr/share/webconsole/private/container/shared/lib/*.jar
 
Registered login modules (application name, service name, identifier):
 
    console  ConsoleLogin  userlogin
    console  ConsoleLogin  rolelogin
 
Shared service properties (name, value):
 
    <b>ENABLE yes</b>
    java.home         /usr/jdk/jdk1.5.0_06</pre>
<hr><p><b>Note - </b>This <tt>ENABLE</tt> property is ignored because SMF uses its own enabled property, which
is shown in the previous procedure. The <tt>ENABLE</tt> property is used on
older Solaris systems where the console server is not managed by SMF.</p>
<hr>
<p>For the Solaris 10, Solaris 10 1/06, and Solaris 10 6/06 releases, use
this command:</p><pre># <tt><b>smreg list</b></tt>

 The list of registered plugin applications:

com.sun.web.console_2.2.4       /usr/share/webconsole/console
com.sun.web.ui_2.2.4    /usr/share/webconsole/com_sun_web_ui
com.sun.web.admin.example_2.2.4 /usr/share/webconsole/example

The list of registered jar files:

com_sun_management_services_api.jar scoped to ALL
com_sun_management_services_impl.jar scoped to ALL
com_sun_management_console_impl.jar scoped to ALL
com_sun_management_cc.jar scoped to ALL
com_sun_management_webcommon.jar scoped to ALL
com_iplanet_jato_jato.jar scoped to ALL
com_sun_management_solaris_impl.jar scoped to ALL
com_sun_management_solaris_implx.jar scoped to ALL

The list of registered login modules for service ConsoleLogin:

com.sun.management.services.authentication.PamLoginModule optional
use_first_pass="true" commandPath="/usr/lib/webconsole";
com.sun.management.services.authentication.RbacRoleLoginModule requisite
force_role_check="true" commandPath="/usr/lib/webconsole";

The list of registered server configuration properties:

session.timeout.value=15
authentication.login.cliservice=ConsoleLogin
logging.default.handler=com.sun.management.services.logging.ConsoleSyslogHandler
logging.default.level=info
logging.default.resource=com.sun.management.services.logging.resources.Resources
logging.default.filter=none
logging.debug.level=off
audit.default.type=None
audit.None.class=com.sun.management.services.audit.LogAuditSession
audit.Log.class=com.sun.management.services.audit.LogAuditSession audit.class.fail=none
authorization.default.type=SolarisRbac
authorization.SolarisRbac.class=
com.sun.management.services.authorization.SolarisRbacAuthorizationService
authorization.PrincipalType.class=
com.sun.management.services.authorization.PrincipalTypeAuthorizationService
debug.trace.level=0
.
.
.
No environment properties have been registered.</pre></li></ol>

<a name="gdhhr"></a><h4>Problems Accessing the Console</h4>
<p>Problems with console access might indicate that the console server is not enabled,
or security settings are restrictive. See <a href="#gdbnh">Checking Console Status and Properties</a> and <a href="ewpoy.html#ewpla">Java Web Console Security Considerations</a> for more information.</p>

<a name="gcrrb"></a><h4>Problems with Application Registration</h4>
<p>This section contains information about solving possible registration problems with console applications. For
information about a particular console application, you should refer to the application's documentation.</p>
<hr><p><b>Note - </b>Console applications typically are registered as part of their installation process, so you
should not normally need to register an application yourself.</p>
<hr>
<p><a name="indexterm-51"></a><a name="indexterm-52"></a>Starting with the Solaris 10 11/06 release, the web console has changed the
approach to application registration but can still support applications that were developed for
earlier versions of the console. Current applications are registered and deployed with a
single command while the console server is running. Applications that were developed for the
earlier console are known as <b>legacy</b> applications, and require the console server to
be stopped during registration. If you need to register or unregister an application,
you must first determine if the application is a legacy application, as described
in the following procedure.</p>

<a name="gdjpi"></a><h5>How to Determine if an Application is a Legacy Application</h5>
<ol>
<li><b>View the application's <tt>app.xml</tt> file.</b><p>The <tt>app.xml</tt> file is located in the application's <tt>WEB-INF</tt> directory.</p></li>
<li><b>Examine the <tt>registrationInfo</tt> tag in the <tt>app.xml</tt> file.</b><p>For a legacy application, the <tt>registrationInfo</tt> tag is a version 2.<i>x</i> .
For example, <tt>registrationInfo version="2.2.4"</tt>.</p><p>For a current application, the version in the <tt>registrationInfo</tt> tag is at least
3.0. For example, <tt>registrationInfo version="3.0"</tt>.</p></li></ol>

<a name="gcrqd"></a><h5>How to List Deployed Applications</h5>
<a name="indexterm-53"></a><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><b>List the deployed applications.</b><p>If you are running at least the Solaris 10 11/06 release, use this
command:</p><pre># <tt><b>wcadmin list -a</b></tt>

Deployed web applications (application name, context name, status):
 
    console  ROOT            [running]
    console  com_sun_web_ui  [running]
    console  console         [running]
    console  manager         [running]
    legacy   myapp           [running]</pre><p>The command lists all the registered and deployed applications. Legacy applications are listed
with the application name <tt>legacy</tt>. See <a href="#gdjpi">How to Determine if an Application is a Legacy Application</a>. All other listed applications are current
applications, and would be registered as described in <a href="#gcrqq">How to Register a Current Application With the Java Web Console</a>.</p><p>Typically, the status that is shown for the applications contains either <tt>running</tt>
or <tt>stopped</tt>.  If the status is <tt>running</tt>, the application is currently
loaded and available. If the status is <tt>stopped</tt>, then the application is not
currently loaded and is unavailable.  Sometimes an application registers and deploys successfully, but
does not load because of a problem in the application. If so,
the application's status is <tt>stopped</tt>.  Check the <tt>console_debug_log</tt> to determine if there is
an error with a traceback from the console's underlying web container, Tomcat, when
attempting to load the application. For more information about the <tt>console_debug_log</tt>, see <a href="eyamf.html#faaor">Using the Console Debug Trace Log</a>.</p><p>If all the applications show <tt>stopped</tt> (including the console application), this usually means
the console's web container is not running. The list of applications in this
case is obtained from the static <tt>context.xml</tt> files registered with the web
container.</p><p>For the Solaris 10, Solaris 10 1/06, and Solaris 10 6/06 releases, use
this command:</p><pre># <tt><b>smreg list -a</b></tt>

The list of registered plugin applications:

        com.sun.web.console_2.2.4       /usr/share/webconsole/console
        com.sun.web.ui_2.2.4    /usr/share/webconsole/com_sun_web_ui
        com.sun.web.admin.yourapp_2.2.4 /usr/share/webconsole/yourapp</pre></li></ol>

<a name="gdcud"></a><h5>How to Register a Legacy Application With the Java Web Console</h5>
<a name="indexterm-54"></a>
<hr><p><b>Note - </b>This procedure applies to all console applications in the Solaris 10, Solaris 10
1/06, and Solaris 10 6/06 releases. Starting with Solaris 10 11/06 release, this
procedure also applies <b>only</b> to those applications that are identified as legacy applications.
See <a href="#gcrqq">How to Register a Current Application With the Java Web Console</a> for the registration procedure for current applications. See also <a href="#gdjpi">How to Determine if an Application is a Legacy Application</a>.</p>
<hr>
<ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><b>Stop the web server.</b><pre># <tt><b>smcwebserver stop</b></tt></pre></li>
<li><b>Register the application.</b><pre># <tt><b>smreg add -a </tt><i>/directory/containing/application-files</i><tt></tt><i></i><tt></b></tt></pre><p>The <tt>smreg</tt> command manages the information in the Java Web Console's registration table.
This script also performs some additional work to deploy the application. For additional
options to this command, see the <a href="http://docs.sun.com/doc/819-2240/smreg-1m?a=view"><tt>smreg</tt>(1M)</a> man page.</p></li>
<li><b>Restart the web server.</b><pre># <tt><b>smcwebserver start</b></tt></pre></li></ol><a name="exegm"></a><h6>Example&nbsp;3-8 Registering a Legacy Application</h6><p>This example shows how to register a legacy application whose files are located
in the <tt>/usr/share/webconsole/example</tt> directory. Notice that for legacy applications, the console server must
be stopped before the application is registered, and started after the application is
registered. A warning given by <tt>smreg</tt> can be ignored because this application is a
legacy console application.</p><pre># <tt><b>smcwebserver stop</b></tt>
# <tt><b>smreg add -a /usr/share/webconsole/example</b></tt>

    Warning: smreg is obsolete and is preserved only for
    compatibility with legacy console applications. Use wcadmin instead.

    Type "man wcadmin" or "wcadmin --help" for more information.

Registering com.sun.web.admin.example_<i>version</i>.

# <tt><b>smcwebserver start</b></tt></pre>

<a name="gdctn"></a><h5>How to Unregister a Legacy Application From the Java Web Console</h5>
<a name="indexterm-55"></a>
<hr><p><b>Note - </b>This procedure applies to all console applications in the Solaris 10, Solaris 10
1/06, and Solaris 10 6/06 releases. Starting with Solaris 10 11/06 release, this
procedure applies <b>only</b> to those applications that are identified as legacy applications. See
<a href="#gcrsu">How to Unregister a Current Application from the Java Web Console</a> for the procedure that describes how to unregister current applications.</p>
<hr>
<p><a name="indexterm-56"></a><a name="indexterm-57"></a>If you do not want a particular legacy application to display in the
web console's launch page, but you do not want to uninstall the software,
you can use the <tt>smreg</tt> command to unregister the application. See <a href="#gdjpi">How to Determine if an Application is a Legacy Application</a>.</p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><b>Unregister an application.</b><pre># <tt><b>smreg remove -a </tt><i>app-name</i><tt></b></tt></pre></li></ol><a name="exefu"></a><h6>Example&nbsp;3-9 Unregistering a Legacy Application From the Java Web Console</h6><p>This example shows how to unregister a legacy application  with the
<i>app-name</i> <tt>com.sun.web.admin.example</tt>.</p><pre># <tt><b>smreg remove -a com.sun.web.admin.example</b></tt>

 Unregistering com.sun.web.admin.example_<i>version</i>.</pre>

<a name="gcrqq"></a><h5>How to Register a Current Application With the Java Web Console</h5>
<a name="indexterm-58"></a><p><b>Solaris 10 11/06:</b> This procedure is for updated console applications that can be registered and
deployed without stopping and starting the console server. See <a href="#gdcud">How to Register a Legacy Application With the Java Web Console</a> for the registration procedure
for legacy applications and all console applications that are in the Solaris 10,
Solaris 10 1/06, Solaris 10 6/06 releases. See also <a href="#gdjpi">How to Determine if an Application is a Legacy Application</a>.</p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><b>Register and deploy the application.</b><pre>wcadmin deploy -a <i>app-name</i> -x <i>app-context-name</i> <i>/full path/to/app-name</i></pre></li></ol><a name="gcrsv"></a><h6>Example&nbsp;3-10 Registering Current Applications</h6><p>This example shows how to register and deploy an application that has been
developed or updated for the current web console.</p><pre># <tt><b>wcadmin deploy -a newexample_1.0 -x newexample /apps/webconsole/newexample</b></tt></pre>

<a name="gcrsu"></a><h5>How to Unregister a Current Application from the Java Web Console</h5>
<a name="indexterm-59"></a><p><b>Solaris 10 11/06:</b> This procedure is for updated console applications, which can be unregistered and
undeployed without stopping and starting the console server. See <a href="#gdctn">How to Unregister a Legacy Application From the Java Web Console</a> for the unregistration procedure
for legacy applications and all console applications that are in the Solaris 10,
Solaris 10 1/06, Solaris 10 6/06 releases. See <a href="#gcrqd">How to List Deployed Applications</a> and <a href="#gdjpi">How to Determine if an Application is a Legacy Application</a> to determine
if an application is a legacy or updated application.</p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><b>Undeploy and unregister the application.</b><pre># <tt><b>wcadmin undeploy -a newexample_1.0 -x newexample</b></tt></pre></li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gdkcl.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ewpoy.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

