<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Configuring the Java Web Console - System Administration Guide: Basic Administration</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-12-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Basic Administration</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gdckg.html">Previous</a>
             </td>
             <td align="right">
                 <a href="gdkcl.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="saroadmap-1.html">1.&nbsp;&nbsp;Solaris Management Tools (Road Map)</a></p>
<p class="toc level1 tocsp"><a href="smcover-1.html">2.&nbsp;&nbsp;Working With the Solaris Management Console (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ewpor.html">3.&nbsp;&nbsp;Working With the Sun Java Web Console (Tasks)</a></p>
<p class="toc level2"><a href="gbyuq.html">What's New in Administering the Java Web Console?</a></p>
<p class="toc level2"><a href="sunweb-1.html">Java Web Console (Overview)</a></p>
<p class="toc level2"><a href="swctask-1.html">Getting Started With the Java Web Console (Task Map)</a></p>
<p class="toc level2"><a href="swc123.html">Getting Started With the Java Web Console</a></p>
<p class="toc level2"><a href="gdckg.html">Managing the Console Service</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Configuring the Java Web Console</a></p>
</div>
<p class="toc level2"><a href="gdkcl.html">Troubleshooting the Java Web Console Software (Task Map)</a></p>
<p class="toc level2"><a href="ewppf.html">Troubleshooting the Java Web Console Software</a></p>
<p class="toc level2"><a href="ewpoy.html">Java Web Console Reference Information</a></p>
<p class="toc level1 tocsp"><a href="userconcept-97366.html">4.&nbsp;&nbsp;Managing User Accounts and Groups (Overview)</a></p>
<p class="toc level1 tocsp"><a href="usersetup-92366.html">5.&nbsp;&nbsp;Managing User Accounts and Groups (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="clientconcept-15236.html">6.&nbsp;&nbsp;Managing Client-Server Support (Overview)</a></p>
<p class="toc level1 tocsp"><a href="clientsetup-1.html">7.&nbsp;&nbsp;Managing Diskless Clients (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbintro-66644.html">8.&nbsp;&nbsp;Introduction to Shutting Down and Booting a System</a></p>
<p class="toc level1 tocsp"><a href="hboverview-25463.html">9.&nbsp;&nbsp;Shutting Down and Booting a System (Overview)</a></p>
<p class="toc level1 tocsp"><a href="hbsyshalt-84412.html">10.&nbsp;&nbsp;Shutting Down a System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="grubtasks-1.html">11.&nbsp;&nbsp;Modifying Solaris Boot Behavior (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbsparcboot-79782.html">12.&nbsp;&nbsp;Booting a Solaris System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbtsboot-1.html">13.&nbsp;&nbsp;Troubleshooting Booting a Solaris System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="archive-123.html">14.&nbsp;&nbsp;Managing the Solaris Boot Archives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbsysboot-76719.html">15.&nbsp;&nbsp;x86: GRUB Based Booting (Reference)</a></p>
<p class="toc level1 tocsp"><a href="hbrunlevels-25516.html">16.&nbsp;&nbsp;Managing Services (Overview)</a></p>
<p class="toc level1 tocsp"><a href="faauf.html">17.&nbsp;&nbsp;Managing Services (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgsconcepts-52619.html">18.&nbsp;&nbsp;Managing Software (Overview)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgsgui-1.html">19.&nbsp;&nbsp;Managing Software With Solaris System Administration Tools (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgscli-1.html">20.&nbsp;&nbsp;Managing Software by Using Package Commands (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpatchtasks-1.html">21.&nbsp;&nbsp;Managing Solaris Patches by Using the <tt>patchadd</tt> Command (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fddwm.html">A.&nbsp;&nbsp;SMF Services</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="eyamf"></a><h3>Configuring the Java Web Console</h3>
<p><a name="indexterm-30"></a><a name="indexterm-31"></a>The Java Web Console is preconfigured to run without administrator intervention. However, you
might choose to change some of the web console's default behavior by overriding
the console's configuration properties. </p>
<hr><p><b>Note - </b><b>Starting with the Solaris 10 11/06 OS,</b> you must use the <tt>wcadmin</tt> command to change these properties. Previously, the <tt>smreg</tt>
command was used. For more information about the <tt>wcadmin</tt> command, see the <tt>wcadmin</tt>(1M)
man page.</p>
<hr>
<p>Properties in the console's configuration files control the behavior of the console. To
change the behavior, you define new values for properties to override the default
values. The default values of most properties should not be overridden unless there
is a specific need that the default values do not provide, such as
specifying your own login service. </p><p>In general, the property values that you might consider changing are the following:</p>
<ul><li><p><b>Console session timeout</b></p><p><a name="indexterm-32"></a><a name="indexterm-33"></a>The web console's session timeout period is controlled by the <tt>session.timeout.value</tt> property. This property controls how long a web console page can be displayed without user interaction before the session times out. After the timeout is reached, the user must log in again. The default value is 15 minutes. You can set a new value, in minutes, to conform to your own security policy. However, keep in mind that this property controls the timeout period for all console users and all registered applications. </p><p>See <a href="#eyamm">Example&nbsp;3-1</a> for an example of how to change the session timeout.</p></li>
<li><p><b>Logging level</b></p><p><a name="indexterm-34"></a><a name="indexterm-35"></a>You use logging properties to configure the logging service. The console log files are created in the <tt>/var/log/webconsole/console</tt> directory. The <tt>logging.default.level</tt> property determines which messages are logged. The console logs provide valuable information for troubleshooting problems. </p><p><a name="indexterm-36"></a>The logging level applies to any messages that are written through the logging service, which by default uses syslog in the Solaris release The syslog log file is <tt>/var/adm/messages</tt>. The file <tt>/var/log/webconsole/console/console_debug_log</tt> contains log messages written when the debugging service is enabled.  This is done by setting the <tt>debug.trace.level</tt> property as described in <a href="#faaor">Using the Console Debug Trace Log</a>. Although the default logging and debug logging services are separate, all Java Web Console logging messages to syslog are also written to the <tt>console_debug_log</tt> to aid in debugging. Generally, the logging service, set with <tt>logging.default.level</tt>, should be always enabled for logging by console applications. Debug logging, set with <tt>debug.trace.level</tt>, should only be enabled to investigate problems.</p><p>The following property values are available for <tt>logging.default.level</tt>:</p>
<ul><li><p><tt>all</tt></p></li>
<li><p><tt>info</tt></p></li>
<li><p><tt>off</tt></p></li>
<li><p><tt>severe</tt></p></li>
<li><p><tt>warning</tt></p></li></ul>
<p>See <a href="#eyamu">Example&nbsp;3-2</a> for an example that shows how to change the logging level.</p></li>
<li><p><b>Auditing implementation</b></p><p><a name="indexterm-37"></a><a name="indexterm-38"></a><a name="indexterm-39"></a>Auditing is the process of generating and logging security-related management events. An event signifies that a specific user has updated the management information on a system. The auditing implementation is used by services and applications that generate audit events. </p><p>The following audit events are defined by the web console:</p>
<ul><li><p>Login</p></li>
<li><p>Logout</p></li>
<li><p>Role assumption</p></li></ul>
<p>When audit events occur, a record of the event is made in an audit log. The location of the audit log varies with the auditing implementation that is in use. The web console's auditing service uses an auditing implementation that is provided by the underlying operating system.</p><p>The web console supports three auditing implementations: <tt>Solaris</tt>, <tt>Log</tt>, and <tt>None</tt>. You can select an auditing implementation by specifying one of these keywords for the value of the <tt>audit.default.type</tt> configuration property. Only one auditing implementation is in effect at a time. </p><p>The supported auditing implementation types are:</p>
<ul><li><p><tt>Solaris</tt></p><p>The <tt>Solaris</tt> implementation is the default. This implementation supports the BSM auditing mechanism. The auditing mechanism writes audit records into a system file in the <tt>/var/audit</tt> directory.</p><p>You can display the records with the <tt>praudit</tt> command. For events to be captured, you must enable the BSM auditing mechanism on the system. In addition, the <tt>/etc/security/audit_control</tt> file must contain entries that indicate which events should be generated. You must set the <tt>lo</tt> event as the flag option to see login and logout events for each user. For more information, see the <a href="http://docs.sun.com/doc/819-2240/praudit-1m?a=view"><tt>praudit</tt>(1M)</a> and <a href="http://docs.sun.com/doc/819-2240/bsmconv-1m?a=view"><tt>bsmconv</tt>(1M)</a> man pages and <a href="http://docs.sun.com/doc/819-3321/audittm-1?a=view">Part&nbsp;VII, Solaris Auditing, in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><p><tt>Log</tt></p><p>You can configure this implementation to write to the system's <tt>syslog</tt> service. Audit messages are written to the console log if the logging service has been enabled at the <tt>info</tt> level. See <a href="#eyamu">Example&nbsp;3-2</a> for more information.</p></li>
<li><p><tt>None</tt></p><p><a name="indexterm-40"></a>No audit events are generated. Audit messages are written to the debug trace log, if enabled.</p></li></ul>
</li></ul>
<p>See <a href="#eyamv">Example&nbsp;3-5</a> for an example of specifying the auditing implementation.</p>

<a name="eyame"></a><h4>How to Change Java Web Console Properties</h4><a name="indexterm-41"></a><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><b>Depending on which Solaris release you are running, change the selected property value
as follows:</b><ul>
<li><b>If you are running at least the Solaris 10 11/06 release, use this
command:</b><pre># <tt><b>wcadmin add -p -a console </tt><i>name=value</i><tt></b></tt></pre><dl><dt><tt>-p</tt></dt>
<dd><p>Specifies that the object type is a property.</p></dd>
<dt><tt>-a console</tt></dt>
<dd><p>Specifies that the property changes are for the application named <tt>console</tt>. The <tt>-a console</tt> option must always be used when you are changing console properties.</p></dd>
<dt><i>name=value</i></dt>
<dd><p>Specifies the property name and the new value for that property.</p></dd>
</dl>
</li>
<li><b>If you are <b>not</b> running at least the Solaris Express 5/06 release, use
this command:</b><pre># <tt><b>smreg add -p -c </tt><i>name</i><tt></b></tt></pre></li></ul></li>
<li>(Optional) <b>Reset a console property to its default value.</b><ul>
<li><b>If you are running at least the Solaris 10 11/06 release, use this
command:</b><pre># <tt><b>wcadmin remove -p -a console </tt><i>name=value</i><tt></b></tt></pre></li>
<li><b>If you are <b>not</b> running at least the Solaris Express 5/06 release, 
use this command:</b><pre># <tt><b>smreg remove -p -c </tt><i>name</i><tt></b></tt></pre><dl><dt><tt>-p</tt></dt>
<dd><p>Specifies that the object type is a property.</p></dd>
<dt><tt>-c</tt></dt>
<dd><p>Specifies that the property changes are for the console application. The <tt>-c</tt> option must always be used when you are changing console properties.</p></dd>
<dt><i>name</i></dt>
<dd><p>Specifies the property name and the new value for that property.</p></dd>
</dl>
</li></ul></li></ol><a name="eyamm"></a><h6>Example&nbsp;3-1 Changing the Java Web Console's Session Timeout Property</h6><p><a name="indexterm-42"></a><a name="indexterm-43"></a>This example shows how to set the session time out value to 5
minutes.</p><pre># <tt><b>wcadmin add -p -a console session.timeout.value=5</b></tt></pre><a name="eyamu"></a><h6>Example&nbsp;3-2 Configuring the Java Web Console Logging Level</h6><p>This example shows you how to set the logging level to <tt>all</tt>.</p><pre># <tt><b>wcadmin add -p -a console logging.default.level=all</b></tt></pre><a name="gdhbw"></a><h6>Example&nbsp;3-3 Resetting the Java Web Console Logging Level to the Default Value</h6><p>This example shows how to reset the logging level to the default.</p><pre># <tt><b>wcadmin remove -p -a console logging.default.level</b></tt></pre><a name="gdhhd"></a><h6>Example&nbsp;3-4 Specifying a Java Version for the Java Web Console</h6><p>This example shows how to set the Java version for the console.</p><pre># <tt><b>wcadmin add -p -a console java.home=/usr/java</b></tt></pre><a name="eyamv"></a><h6>Example&nbsp;3-5 Choosing an Auditing Implementation for the Java Web Console</h6><p>This example shows you how to set the auditing implementation to <tt>None</tt>.</p><pre># <tt><b>wcadmin add -p -a console audit.default.type=None</b></tt></pre><p>The valid auditing types are:</p><dl><dt>None</dt>
<dd><p>No auditing</p></dd>
<dt>Log</dt>
<dd><p>Audit messages to syslog</p></dd>
<dt>Solaris</dt>
<dd><p>Audit messages to BSM</p></dd>
</dl>


<a name="frjpw"></a><h4>Java Web Console User Identity</h4>
<p><a name="indexterm-44"></a><a name="indexterm-45"></a><a name="indexterm-46"></a>By default, the web console runs under the user identity, <tt>noaccess</tt>. However, some system
configurations disable the <tt>noaccess</tt> user, or set the login shell for the <tt>noaccess</tt>
user to an invalid entry to make this user identity unusable. </p><p>When the <tt>noaccess</tt> user is not usable, the web console server cannot be
started or configured, so an alternative user identity must be specified. Ideally, the
user identity should be changed only once, before the console server is configured
at initial startup.</p><p>You can configure the web console to run under an alternative non-root user
identity by using either of the following commands before the console starts: </p><pre># <tt><b>smcwebserver start -u </tt><i>username</i><tt></b></tt></pre><p>This command starts the web console server under the specified user identity. The
web console server runs under this identity each time the server is subsequently
started if the command is issued before the first console start.</p><p>If you are running at least the Solaris 10 11/06 release, you
can also use this command:</p><pre># <tt><b>wcadmin add -p -a console com.sun.web.console.user=</tt><i>username</i><tt></b></tt></pre>
<hr><p><b>Note - </b>Starting with the Solaris 10 11/06 release, when the system initially starts, the
console also starts and is automatically configured to run under <tt>noaccess</tt>. Consequently,
the user identity is set to <tt>noaccess</tt> before you are able to change
the user identity. Use the following commands to reset the console to its
initial unconfigured state. Then, specify a different user identity when you restart the
console.</p><pre># smcwebserver stop
# /usr/share/webconsole/private/bin/wcremove -i console
# smcwebserver start -u <i>new_user_identity</i></pre>
<hr>
<p>If you are <b>not</b> running at least the Solaris Express 5/06 release, use
this command:</p><p>For the Solaris 10, Solaris 10 1/06, Solaris 10 6/06 releases, use
this command:</p><pre># <tt><b>smreg add -p -c com.sun.web.console.user=</tt><i>username</i><tt></b></tt></pre><p>This command causes the web console server to run under the specified user
identity the next time the server starts, and each time the server
is started.</p>

<a name="faaor"></a><h4>Using the Console Debug Trace Log</h4>
<p>By default, the console does not log debug messages. You can turn
on debug logging to help troubleshoot console service problems.</p><p>Use the <tt>debug.trace.level</tt> property to turn on debug logging by setting the property
to a value other than 0. </p><p>Available choices include the following:</p>
<ul><li><p><b>1</b> - Use this setting to record potentially severe errors.</p></li>
<li><p><b>2</b> - Use this setting to record important messages, as well as error messages of the 1 level.</p></li>
<li><p><b>3</b> - Use this setting to record all possible messages with full details.</p></li></ul>
<p>By default, the debug trace log is created in the <tt>/var/log/webconsole</tt> directory
. Starting with the Solaris 10 11/06 release, the log is created in
the <tt>/var/log/webconsole/console</tt> directory. The log file is named <tt>console_debug_log</tt>. Historical logs, such as <tt>console_debug_log.1</tt>
and <tt>console_debug_log.2</tt> might also exist in this directory.  There can be
up to five (default setting) historical logs stored in this directory before the
earliest log is deleted and a new log is created.</p><a name="faaoq"></a><h6>Example&nbsp;3-6 Setting the Console Debug Trace Log Level</h6><p>Use the following command to set the debug trace log level to
3.</p><p>For the <b>Solaris 10 11/06</b> release, use this command:</p><pre># <tt><b>wcadmin add -p -a console debug.trace.level=3</b></tt></pre><p><b>For the Solaris 10, Solaris 10 1/06, and the Solaris 10 6/06 releases, use this command:</b></p><pre># <tt><b>smreg add -p -c debug.trace.level=3</b></tt></pre><a name="faaox"></a><h6>Example&nbsp;3-7 Checking the Status of the <tt>debug.trace.level</tt> Property</h6><p>To check the status of the <tt>debug.trace.level</tt> property, use the <tt>wcadmin list</tt> or <tt>smreg list</tt>
command.</p><p><b>Solaris 10 11/06:</b></p><pre># <tt><b>wcadmin list -p | grep "debug.trace.level"</b></tt></pre><p>If you are <b>not</b> running at least the Solaris Express 5/06 release, use
this command:</p><pre># <tt><b>smreg list -p | grep "debug.trace.level"</b></tt></pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gdckg.html">Previous</a>
             </td>
             <td align="right">
                 <a href="gdkcl.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

