<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Troubleshooting Diskless Client Problems - System Administration Guide: Basic Administration</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-12-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Basic Administration</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="clientsetup-13.html">Previous</a>
             </td>
             <td align="right">
                 <a href="hbintro-66644.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="saroadmap-1.html">1.&nbsp;&nbsp;Solaris Management Tools (Road Map)</a></p>
<p class="toc level1 tocsp"><a href="smcover-1.html">2.&nbsp;&nbsp;Working With the Solaris Management Console (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ewpor.html">3.&nbsp;&nbsp;Working With the Sun Java Web Console (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="userconcept-97366.html">4.&nbsp;&nbsp;Managing User Accounts and Groups (Overview)</a></p>
<p class="toc level1 tocsp"><a href="usersetup-92366.html">5.&nbsp;&nbsp;Managing User Accounts and Groups (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="clientconcept-15236.html">6.&nbsp;&nbsp;Managing Client-Server Support (Overview)</a></p>
<p class="toc level1 tocsp"><a href="clientsetup-1.html">7.&nbsp;&nbsp;Managing Diskless Clients (Tasks)</a></p>
<p class="toc level2"><a href="clientsetup-2.html">Managing Diskless Clients (Task Map)</a></p>
<p class="toc level2"><a href="clientsetup-3.html">Preparing for Managing Diskless Clients</a></p>
<p class="toc level2"><a href="clientsetup-13.html">Patching Diskless Client OS Services</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Troubleshooting Diskless Client Problems</a></p>
</div>
<p class="toc level1 tocsp"><a href="hbintro-66644.html">8.&nbsp;&nbsp;Introduction to Shutting Down and Booting a System</a></p>
<p class="toc level1 tocsp"><a href="hboverview-25463.html">9.&nbsp;&nbsp;Shutting Down and Booting a System (Overview)</a></p>
<p class="toc level1 tocsp"><a href="hbsyshalt-84412.html">10.&nbsp;&nbsp;Shutting Down a System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="grubtasks-1.html">11.&nbsp;&nbsp;Modifying Solaris Boot Behavior (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbsparcboot-79782.html">12.&nbsp;&nbsp;Booting a Solaris System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbtsboot-1.html">13.&nbsp;&nbsp;Troubleshooting Booting a Solaris System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="archive-123.html">14.&nbsp;&nbsp;Managing the Solaris Boot Archives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbsysboot-76719.html">15.&nbsp;&nbsp;x86: GRUB Based Booting (Reference)</a></p>
<p class="toc level1 tocsp"><a href="hbrunlevels-25516.html">16.&nbsp;&nbsp;Managing Services (Overview)</a></p>
<p class="toc level1 tocsp"><a href="faauf.html">17.&nbsp;&nbsp;Managing Services (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgsconcepts-52619.html">18.&nbsp;&nbsp;Managing Software (Overview)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgsgui-1.html">19.&nbsp;&nbsp;Managing Software With Solaris System Administration Tools (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgscli-1.html">20.&nbsp;&nbsp;Managing Software by Using Package Commands (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpatchtasks-1.html">21.&nbsp;&nbsp;Managing Solaris Patches by Using the <tt>patchadd</tt> Command (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fddwm.html">A.&nbsp;&nbsp;SMF Services</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="gcezq"></a><h3>Troubleshooting Diskless Client Problems</h3>
<a name="indexterm-96"></a><a name="indexterm-97"></a><a name="indexterm-98"></a><p>This section describes problems that are encountered when managing diskless clients and possible
solutions.</p>

<a name="gcfab"></a><h4>Troubleshooting Diskless Client Installation Problems</h4>
<p>The <tt>smosservice add</tt> command does not install any packages that are designated <tt>ARCH=all</tt> in
the root (<tt>/</tt>) or <tt>/usr</tt> file systems. As a result, these packages are
skipped. No warning or error messages are displayed. You must add these packages
to the newly-created Solaris OS service manually. This behavior has existed since the
Solaris 2.1 OS. The behavior applies to both SPARC based and x86 based
clients. Note that the list of missing packages varies, depending on which Solaris
OS you are running.</p>

<a name="archall-1"></a><h5>How to Locate and Install Missing <tt>ARCH=all</tt> Packages</h5>
<p>This procedure shows you how to locate and install missing <tt>ARCH=all</tt> packages
after you have created the Solaris OS service on the server. Examples that
are provided in this procedure apply to the Solaris 10 6/06 OS.</p><ol>
<li><b>Locate all the packages with the <tt>ARCH=all</tt> parameter.</b><ol style="list-style-type: lower-alpha">
				 
<li><b>Change directories to the <tt>Product</tt> directory of the media for the Solaris 10
image. For example:</b><pre>% <tt><b>cd /net/server/export/Solaris/s10u2/combined.s10s_u2wos/latest/Solaris_10/Product</b></tt></pre></li>
<li><b>List all the packages in the <tt>pkginfo</tt> file that have the <tt>ARCH=all</tt> parameter.</b><pre>% <tt><b>grep -w ARCH=all */pkginfo</b></tt></pre><p>If an error message indicating the arguments list is too long is
displayed, you can alternately run the following command to generate the list:</p><pre>% <tt><b>find . -name pkginfo -exec grep -w ARCH=all {} /dev/null \;</b></tt></pre><p>Note that running this command takes longer to produce results.</p><p>The output is similar to the following:</p><pre>./SUNWjdmk-base/pkginfo:ARCH=all
./SUNWjhdev/pkginfo:ARCH=all
./SUNWjhrt/pkginfo:ARCH=all
./SUNWjhdem/pkginfo:ARCH=all
./SUNWjhdoc/pkginfo:ARCH=all
./SUNWmlibk/pkginfo:ARCH=all</pre><p>The information that is provided in this list enables you to determine which
packages are installed in the <tt>/usr</tt> file system and which packages are installed
in the root (<tt>/</tt>) file system.</p></li>
<li><b>Check the value of the <tt>SUNW_PKGTYPE</tt> parameter in the package list you generated.</b><p>Packages that belong in the <tt>/usr</tt> file system are designated as <tt>SUNW_PKGTYPE=usr</tt>
in the <tt>pkginfo</tt> file. Packages that belong in the root (<tt>/</tt>) file system
are designated as <tt>SUNW_PKGTYPE=root</tt> in the <tt>pkginfo</tt> file. In the preceding output, all
the packages belong in the <tt>/usr</tt> file system.</p></li></ol></li>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><b>Create the temporary installation administration files.</b><p>You must create a separate installation administration file for packages that are installed in
the root (<tt>/</tt>) file system and a separate installation administration file for packages
that are installed in the <tt>/usr</tt> file system.</p>
<ul><li><p>For <tt>ARCH=all</tt> packages that are installed in the <tt>/usr</tt> file system, create the following temporary installation administration file:</p><pre># cat &gt;/tmp/admin_usr &lt;&lt;EOF
mail=
instance=unique
partial=nocheck
runlevel=nocheck
idepend=nocheck
rdepend=nocheck
space=nocheck
setuid=nocheck
conflict=nocheck
action=nocheck
basedir=/usr_sparc.all
EOF
#</pre></li>
<li><p>For <tt>ARCH=all</tt> packages that are installed in the root (<tt>/)</tt> file system, if any exist, create the following temporary installation administration file:</p><pre># cat &gt;/tmp/admin_root &lt;&lt;EOF
mail=
instance=unique
partial=nocheck
runlevel=nocheck
idepend=nocheck
rdepend=nocheck
space=nocheck
setuid=nocheck
conflict=nocheck
action=nocheck
EOF
#</pre></li></ul>
</li>
<li><b>Install the missing <tt>ARCH=all</tt> packages.</b><ol style="list-style-type: lower-alpha">
				 
<li><b>If the current directory is not the Product directory of the media for
the Solaris 10 image, change directories to that directory. For example:</b><pre># <tt><b>cd /net/</tt><i>server</i><tt>/export/Solaris/s10u2/combined.s10s_u2wos/latest/Solaris_10/Product</b></tt></pre><p>You can run the <tt>pwd</tt> command to determine the current directory.</p></li>
<li><b>Install the missing <tt>ARCH=all</tt> packages in the <tt>/usr</tt> file system.</b><pre># <tt><b>pkgadd -R /export/Solaris_10 -a /tmp/admin_usr -d `pwd` [</tt><i>package-A</i><tt> </tt><i>package-B</i><tt> ...]</b></tt></pre><p>Multiple packages can be listed when you running the <tt>pkgadd</tt> command.</p></li>
<li><b>Check that the <tt>ARCH=all</tt> packages were installed.</b><pre># <tt><b>pkginfo -R /export/Solaris_10 [</tt><i>package-A</i><tt> </tt><i>package-B</i><tt> ...]</b></tt></pre></li>
<li><b>Install the missing <tt>ARCH=all</tt> packages that in the root (<tt>/</tt>) file system.</b><p>Note that it is possible that none of these packages exist.</p><pre># <tt><b>pkgadd -R /export/root/clone/Solaris_10/sun4u -a /tmp/admin_root -d `pwd` [</tt><i>package-X</i><tt> </tt><i>package-Y</i><tt> ...]</b></tt></pre></li>
<li><b>Check that the <tt>ARCH=all</tt> packages were installed.</b><pre># <tt><b>pkginfo -R /export/root/clone/Solaris_10/sun4u [</tt><i>package-X</i><tt> </tt><i>package-</i><tt> ...]</b></tt></pre></li></ol></li>
<li><b>After you have finished adding the missing <tt>ARCH=all</tt> packages, remove the temporary installation
administration file.</b><pre># <tt><b>rm /tmp/</tt><i>administration-file</i><tt></b></tt></pre></li></ol><a name="gcfgn"></a><h6>Example&nbsp;7-10 Locating and Installing Missing <tt>ARCH=all</tt>Packages</h6><a name="indexterm-99"></a><p>This example shows how to install the missing <tt>ARCH=all</tt> package, <tt>SUNWjdmk-base</tt>, in
the <tt>/usr</tt> file system.</p><pre>% <tt><b>uname -a</b></tt>
SunOS t1fac46 5.10 Generic_118833-02 sun4u sparc SUNW,UltraSPARC-IIi-cEngine

% <tt><b>cat /etc/release</b></tt>
                       Solaris 10 6/06 s10s_u2wos_03 SPARC
           Copyright 2006 Sun Microsystems, Inc.  All Rights Reserved.
                        Use is subject to license terms.
                           Assembled 06 February 2006

% <tt><b>cd /net/ventor/export/Solaris/s10u2/combined.s10s_u2wos/latest/Solaris_10/Product</b></tt>

% <tt><b>grep -w ARCH=all */pkginfo</b></tt>
Arguments too long

% <tt><b>find . -name pkginfo -exec grep -w ARCH=all {} /dev/null \;</b></tt>
./SUNWjdmk-base/pkginfo:ARCH=all
./SUNWjhdev/pkginfo:ARCH=all
./SUNWjhrt/pkginfo:ARCH=all
./SUNWjhdem/pkginfo:ARCH=all
./SUNWjhdoc/pkginfo:ARCH=all
./SUNWmlibk/pkginfo:ARCH=all

% <tt><b>grep -w SUNW_PKGTYPE=usr ./SUNWjdmk-base/pkginfo ./SUNWjhdev/pkginfo ...</b></tt>
./SUNWjdmk-base/pkginfo:SUNW_PKGTYPE=usr
./SUNWjhdev/pkginfo:SUNW_PKGTYPE=usr
./SUNWjhrt/pkginfo:SUNW_PKGTYPE=usr
./SUNWjhdem/pkginfo:SUNW_PKGTYPE=usr
./SUNWjhdoc/pkginfo:SUNW_PKGTYPE=usr

% <tt><b>grep -w SUNW_PKGTYPE=root ./SUNWjdmk-base/pkginfo ./SUNWjhdev/pkginfo ...</b></tt>

% <tt><b>su</b></tt>
Password: <tt><b>xxxxxx # cat &gt;/tmp/admin_usr &lt;&lt;EOF mail= instance=unique partial=nocheck runlevel=nocheck idepend=nochec&gt; k rdepend=nocheck space=nocheck setuid=nocheck conflict=nocheck action=nocheck basedir=/usr_sparc.all EOF</b></tt>

# <tt><b>pwd</b></tt>
/net/ventor/export/Solaris/s10u2/combined.s10s_u2wos/latest/Solaris_10/Product

# <tt><b>pkginfo -R /export/Solaris_10 SUNWjdmk-base</b></tt> 
ERROR: information for "SUNWjdmk-base" was not found

# <tt><b>pkgadd -R /export/Solaris_10 -a /tmp/admin_usr -d `pwd` SUNWjdmk-base</b></tt>

Processing package instance &lt;SUNWjdmk-base&gt; &lt;/net/ventor/export/Solaris/s10u2/combined.s10s_u2wos...


Java DMK 5.1 minimal subset(all) 5.1,REV=34.20060120
Copyright 2005 Sun Microsystems, Inc.  All rights reserved.
Use is subject to license terms.
Using &lt;/export/Solaris_10/usr_sparc.all&gt;
## Processing package information.
## Processing system information.

Installing Java DMK 5.1 minimal subset as &lt;SUNWjdmk-base&gt;

## Installing part 1 of 1.
2438 blocks

Installation of &lt;SUNWjdmk-base&gt; was successful.

# <tt><b>pkginfo -R /export/Solaris_10 SUNWjdmk-base</b></tt>
application SUNWjdmk-base Java DMK 5.1 minimal subset

# <tt><b>rm /tmp/admin_usr</b></tt></pre>

<a name="clientsetup-16"></a><h4>Troubleshooting General Diskless Client Problems</h4>
<p><a name="indexterm-100"></a>This section lists some common problems with diskless clients that you might encounter
and possible solutions.</p>
<p><b>Problem: </b>Diskless client reports <tt>Owner of the module /usr/lib/security/pam_unix_session.so.1 is not root</tt>, when attempting to log in, the <tt>/usr</tt> file system
is owned by <tt>nobody</tt>.</p>
<p><b>Solution: </b>To correct the problem, follow this workaround:
<ol><li><p>Using a text editor, modify the diskless client's <tt>server:/export/root/client/etc/default/nfs</tt> file.</p></li>
<li><p>Change the <tt>#NFSMAPID_DOMAIN=domain</tt> line to the following:</p><pre>NFSMAPID_DOMAIN=the_same_value_as_in_server's_/var/run/nfs4_domain</pre></li>
<li><p>Ensure that the OS server and the diskless client have the same <tt>nfsmapid</tt> domain. To verify this information, check the <tt>/var/run/nfs4_domain</tt> file.</p>
<hr><p><b>Caution - </b>If the diskless client's <tt>nfs4_domain</tt> file contains a different value than the OS server's <tt>/var/run/nfs4_domain</tt> file, you will not be able to log in to the system after the diskless client boots.</p>
<hr>
</li>
<li><p>Reboot the diskless client.</p></li></ol>

<p>For more information, see <a href="http://docs.sun.com/doc/819-2724/chapter3-1?a=view">Chapter 3, NFS Tunable Parameters, in <i>Solaris Tunable Parameters Reference Manual</i></a> and <a href="http://docs.sun.com/doc/819-2240/nfsmapid-1m?a=view"><tt>nfsmapid</tt>(1M)</a>.</p></p>
<p><b>Problem: </b>The OS server fails to do the following:
<ul><li><p>Respond to client Reverse Address Resolution Protocol (RARP) requests</p></li>
<li><p>Respond to client <tt>bootparam</tt> requests</p></li>
<li><p>Mount a diskless client root (<tt>/</tt>) file system</p></li></ul>
</p>
<p><b>Solution: </b>The following solutions apply in a files environment.
<ul><li><p>Verify that <tt>files</tt> is listed as the first source for <tt>hosts</tt>, <tt>ethers</tt>, and <tt>bootparams</tt> in the <tt>/etc/nsswitch.conf</tt> file on the OS server.</p></li>
<li><p>Verify that the client's IP address appears in the <tt>/etc/inet/hosts</tt> file. </p>
<hr><p><b>Note - </b>If you are <b>not</b> running at least the Solaris 10 8/07 release, you must also verify that the client's IP address appears in the <tt>/etc/inet/ipnodes</tt> file.</p><p>In this Solaris release, there is no longer two separate <tt>hosts</tt> files. The <tt>/etc/inet/hosts</tt> file is a single file that contains both IPv4 and IPv6 entries. You do not need to maintain IPv4 entries in two <tt>hosts</tt> files that always require synchronization. For backward compatibility, the <tt>/etc/inet/ipnodes</tt> file is replaced with a symbolic link of the same name to the <tt>/etc/inet/hosts</tt> file. For more information, see the <a href="http://docs.sun.com/doc/819-2251/hosts-4?a=view"><tt>hosts</tt>(4)</a> man page.</p>
<hr>
</li>
<li><p>Verify that the client's Ethernet address appears in the <tt>/etc/ethers</tt> file.</p></li>
<li><p>Verify that the <tt>/etc/bootparams</tt> file contains the following paths to the client's root (<tt>/</tt>) directory and swap areas.</p><pre><i>client</i> root=<i>os-server</i>:/export/root/<i>client</i> swap=<i>os-server</i>:
/export/swap/<i>client</i> </pre><p>The swap size varies depending on whether you specify the <tt>-x</tt> <i>swapsize</i> option when you add the diskless client. If you specify the <tt>-x</tt> <i>dump</i> option when you add the diskless client, the following line is present.</p><pre>dump=<i>os-server</i>:/export/dump/<i>client</i> dumpsize=512</pre><p>The dump size varies depending on whether you specify the <tt>-x</tt> <i>dumpsize</i> option when you add the diskless client.</p></li>
<li><p>Verify that the OS server's IP address appears in the <tt>/export/root/</tt><i>client</i><tt>/etc/inet/hosts</tt> file.</p></li></ul>
</p>
<p><b>Problem: </b>The OS server fails to do the following:
<ul><li><p>Respond to client RARP requests</p></li>
<li><p>Respond to client <tt>bootparam</tt> requests</p></li>
<li><p>Mount a diskless client root (<tt>/</tt>) file system</p></li></ul>
</p>
<p><b>Solution: </b>The following solutions apply in a name service environment.
<ul><li><p>Verify that both the OS server's and the client's Ethernet address and IP address are correctly mapped. </p></li>
<li><p>Verify that the <tt>/etc/bootparams</tt> file contains the paths to the client's root (<tt>/</tt>) directory and swap areas.</p><pre><i>client</i> root=<i>os-server</i>:/export/
root/<i>client</i> swap=<i>os-server</i>:/export/
swap/<i>client</i> swapsize=24</pre><p>The swap size varies depending on whether you specify the <tt>-x</tt> <i>swapsize</i> option when you add the diskless client. If you specify the <tt>-x</tt> <i>dump</i> option when you add the diskless client, the following line is present:</p><pre>dump=<i>os-server</i>:/export/dump/<i>client</i> dumpsize=24</pre><p>The dump size varies depending on whether you specify the <tt>-x</tt> <i>dumpsize</i> option when you add the diskless client.</p></li></ul>
</p>
<p><b>Problem: </b>Diskless client panics</p>
<p><b>Solution: </b>Verify the following:
<ul><li><p>The OS server's Ethernet address is correctly mapped to its IP address. If you physically moved a system from one network to another, you might have forgotten to remap the system's new IP address.</p></li>
<li><p>The client's host name, IP address, and Ethernet address do not exist in the database of another server <b>on the same subnet</b> that responds to the client's RARP, Trivial File Transfer Protocol (TFTP), or <tt>bootparam</tt> requests. Often, test systems are set up to install their OS from an install server. In these cases, the install server answers the client's RARP or <tt>bootparam</tt> request, returning an incorrect IP address. This incorrect address might result in the download of a boot program for the wrong architecture, or a failure to mount the client's root (<tt>/</tt>) file system.</p></li>
<li><p>The diskless client's TFTP requests are not answered by an install server (or previous OS server) that transfers an incorrect boot program. If the boot program is of a different architecture, the client immediately panics. If the boot program loads from a non-OS server, the client might obtain its root partition from the non-OS server and its <tt>/usr</tt> partition from the OS server. In this situation, the client panics if the root and <tt>/usr</tt> partitions are of conflicting architectures or versions. </p></li>
<li><p>If you are using both an install server and an OS server, verify that the following entry exists in the <tt>/etc/dfs/dfstab</tt> file.</p><pre>share <tt>-F</tt> nfs <tt>-o</tt> <tt>-ro</tt> <tt>/export/exec/Solaris_</tt><i>version</i><tt>-</tt><i>instruction-set</i><tt>.all/usr</tt></pre><p>where <i>version</i>= <tt>8</tt>, <tt>9</tt>,<tt>10</tt>, 11, and <i>instruction-set</i>=<tt>sparc</tt> or <tt>i386</tt>.</p></li>
<li><p>Verify that the diskless client's root (<tt>/</tt>), <tt>/swap</tt>, and <tt>/dump</tt> (if specified) partitions have share entries: </p><pre>share -F nfs -o rw=<i>client</i>,root=<i>client</i> /export/root/<i>client</i> 
share -F nfs -o rw=<i>client</i>,root=<i>client</i> /export/swap/<i>client</i> 
share -F nfs -o rw=<i>client</i>,root=<i>client</i> /export/dump/<i>client</i></pre></li>
<li><p>On the OS server, type the following command to check which files are shared:</p><pre>% <tt><b>share</b></tt></pre><p>The OS server must share <tt>/export/root/</tt><i>client</i> and <tt>/export/swap/</tt><i>client-name</i> (defaults), or the root, <tt>/swap</tt>, and <tt>/dump</tt> partitions that you specified when you added the diskless client.</p><p>Verify that the following entries exist in the <tt>/etc/dfs/dfstab</tt> file:</p><pre>share -F nfs -o ro /export/exec/Solaris_<i>version</i>-<i>instruction-set</i>.all/usr
share -F nfs -o rw=<i>client</i>,root=<i>client</i> /export/root/<i>client</i>
share -F nfs -o rw=<i>client</i>,root=<i>client</i> /export/swap/<i>client</i></pre></li></ul>
</p>
<p><b>Problem: </b>OS server is not responding to diskless client's RARP request</p>
<p><b>Solution: </b>From the client's intended OS server, run the <tt>snoop</tt> command as superuser (<tt>root</tt>)
by using the client's Ethernet address:<pre># <tt><b>snoop xx:xx:xx:xx:xx:xx</b></tt></pre></p>
<p><b>Problem: </b>Boot program downloads but panics early in the process</p>
<p><b>Solution: </b>Use the <tt>snoop</tt> command to verify that the intended OS server is answering
the client's TFTP and NFS requests.</p>
<p><b>Problem: </b>Diskless client hangs.</p>
<p><b>Solution: </b>Restart the following daemons on the OS server:<pre># <tt><b>/usr/sbin/rpc.bootparamd</b></tt>
# <tt><b>/usr/sbin/in.rarpd -a</b></tt></pre></p>
<p><b>Problem: </b>Incorrect server responds to diskless client's RARP request</p>
<p><b>Solution: </b>Restart the following daemons on the OS server:<pre># <tt><b>/usr/sbin/rpc.bootparamd</b></tt>
# <tt><b>svcadm enable network/rarp</b></tt></pre></p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="clientsetup-13.html">Previous</a>
             </td>
             <td align="right">
                 <a href="hbintro-66644.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

