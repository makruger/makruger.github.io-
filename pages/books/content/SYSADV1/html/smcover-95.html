<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Using the Solaris Management Tools With RBAC (Task Map) - System Administration Guide: Basic Administration</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-12-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Basic Administration</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="smcover-149.html">Previous</a>
             </td>
             <td align="right">
                 <a href="smcover-18.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="saroadmap-1.html">1.&nbsp;&nbsp;Solaris Management Tools (Road Map)</a></p>
<p class="toc level1 tocsp"><a href="smcover-1.html">2.&nbsp;&nbsp;Working With the Solaris Management Console (Tasks)</a></p>
<p class="toc level2"><a href="smcover-3.html">Solaris Management Console (Overview)</a></p>
<p class="toc level2"><a href="smcover-149.html">Becoming Superuser (<tt>root</tt>) or Assuming a Role</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Using the Solaris Management Tools With RBAC (Task Map)</a></p>
</div>
<p class="toc level2"><a href="smcover-18.html">Starting the Solaris Management Console</a></p>
<p class="toc level2"><a href="smcover-21.html">Using the Solaris Management Tools in a Name Service Environment (Task Map)</a></p>
<p class="toc level2"><a href="smcover-118.html">Adding Tools to the Solaris Management Console</a></p>
<p class="toc level2"><a href="smcover-119.html">Troubleshooting the Solaris Management Console</a></p>
<p class="toc level1 tocsp"><a href="ewpor.html">3.&nbsp;&nbsp;Working With the Sun Java Web Console (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="userconcept-97366.html">4.&nbsp;&nbsp;Managing User Accounts and Groups (Overview)</a></p>
<p class="toc level1 tocsp"><a href="usersetup-92366.html">5.&nbsp;&nbsp;Managing User Accounts and Groups (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="clientconcept-15236.html">6.&nbsp;&nbsp;Managing Client-Server Support (Overview)</a></p>
<p class="toc level1 tocsp"><a href="clientsetup-1.html">7.&nbsp;&nbsp;Managing Diskless Clients (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbintro-66644.html">8.&nbsp;&nbsp;Introduction to Shutting Down and Booting a System</a></p>
<p class="toc level1 tocsp"><a href="hboverview-25463.html">9.&nbsp;&nbsp;Shutting Down and Booting a System (Overview)</a></p>
<p class="toc level1 tocsp"><a href="hbsyshalt-84412.html">10.&nbsp;&nbsp;Shutting Down a System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="grubtasks-1.html">11.&nbsp;&nbsp;Modifying Solaris Boot Behavior (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbsparcboot-79782.html">12.&nbsp;&nbsp;Booting a Solaris System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbtsboot-1.html">13.&nbsp;&nbsp;Troubleshooting Booting a Solaris System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="archive-123.html">14.&nbsp;&nbsp;Managing the Solaris Boot Archives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbsysboot-76719.html">15.&nbsp;&nbsp;x86: GRUB Based Booting (Reference)</a></p>
<p class="toc level1 tocsp"><a href="hbrunlevels-25516.html">16.&nbsp;&nbsp;Managing Services (Overview)</a></p>
<p class="toc level1 tocsp"><a href="faauf.html">17.&nbsp;&nbsp;Managing Services (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgsconcepts-52619.html">18.&nbsp;&nbsp;Managing Software (Overview)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgsgui-1.html">19.&nbsp;&nbsp;Managing Software With Solaris System Administration Tools (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgscli-1.html">20.&nbsp;&nbsp;Managing Software by Using Package Commands (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpatchtasks-1.html">21.&nbsp;&nbsp;Managing Solaris Patches by Using the <tt>patchadd</tt> Command (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fddwm.html">A.&nbsp;&nbsp;SMF Services</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="smcover-95"></a><h3>Using the Solaris Management Tools With RBAC (Task Map)</h3>
<p><a name="indexterm-6"></a>This task map describes the tasks to do if you want to use
the RBAC security features rather than the superuser account to perform administration tasks.</p>
<hr><p><b>Note - </b>The information in this chapter describes how to use the console with RBAC.
RBAC overview and task information is included to show you how to initially
set up RBAC with the console.</p><p>For detailed information on RBAC and how to use it with other applications,
see <a href="http://docs.sun.com/doc/819-3321/rbac-1?a=view">Role-Based Access Control (Overview) in <i>System Administration Guide: Security Services</i></a>.</p>
<hr>
<table><col width="20%"><col width="26%"><col width="53%"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>1. Start the console.</p></td>
<td align="left" valign="top" scope="row"><p>If your user account is already set
up, start the console as yourself. Then, log in to the console as
<tt>root</tt>. If you do not have a user account set up, become superuser
first, and then start the console.</p></td>
<td align="left" valign="top" scope="row"><p><a href="smcover-18.html#smcover-42573">How to Start the Console as Superuser or as a Role</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>2. Add a user account for yourself.</p></td>
<td align="left" valign="top" scope="row"><p>Add
a user account for yourself, if you do not have an account
already.</p></td>
<td align="left" valign="top" scope="row"><p>Solaris Management Console online help</p><p><a href="#smcover-14">If You Are the First to Log in to the Console</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>3. Create the Primary Administrator role</p></td>
<td align="left" valign="top" scope="row"><p>Create the Primary
Administrator role. Then, add yourself to this role.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#smcover-96">How to Create the First Role (Primary Administrator)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>4. Assume the Primary Administrator
role.</p></td>
<td align="left" valign="top" scope="row"><p>Assume the Primary Administrator role after you have created this role.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#smcover-66">How to Assume the Primary Administrator Role</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>5. (Optional)
Make <tt>root</tt> a role.</p></td>
<td align="left" valign="top" scope="row"><p>Make <tt>root</tt> a role and add yourself to the
root role so that no other user can use the <tt>su</tt> command to
become <tt>root</tt>.</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-3321/rbactask-16?a=view">How to Plan Your RBAC Implementation in <i>System Administration Guide: Security Services</i></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>6. (Optional) Create other administrative roles.</p></td>
<td align="left" valign="top" scope="row"><p>Create other administrative roles and grant
the appropriate rights to each role. Then, add the appropriate users to each
role.</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-3321/rbactask-1?a=view">Chapter 9, Using Role-Based Access Control (Tasks), in <i>System Administration Guide: Security Services</i></a></p></td>
</tr>
</table><p>The following sections provide overview information and step-by-step instructions for using the Solaris
Management Console and the RBAC security features.</p>

<a name="smcover-14"></a><h4>If You Are the First to Log in to the Console</h4>
<p>If you are the first administrator to log in to the console,
start the console as a user (yourself). Then, log in as superuser. This
method gives you complete access to all the console tools.</p><p>Here are the general steps, depending on whether you are using RBAC:</p>
<ul><li><p><b>Without RBAC</b> &ndash; If you choose not to use RBAC, continue working as superuser. All other administrators will also need <tt>root</tt> access to perform their jobs.</p></li>
<li><p><b>With RBAC</b> &ndash; You will need to do the following:</p>
<ul><li><p>Set up your user account, if you do not already have an account.</p></li>
<li><p>Create the role called Primary Administrator.</p></li>
<li><p>Assign the Primary Administrator right to the role that you are creating.</p></li>
<li><p>Assign your user account to this role.</p><p>For step-by-step instructions on creating the Primary Administrator role, see <a href="#smcover-96">How to Create the First Role (Primary Administrator)</a>.</p><p>For an overview on using RBAC, see <a href="http://docs.sun.com/doc/819-3321/rbactask-1?a=view">Chapter 9, Using Role-Based Access Control (Tasks), in <i>System Administration Guide: Security Services</i></a>.</p></li></ul>
</li></ul>


<a name="smcover-61"></a><h4>Creating the Primary Administrator Role</h4>
<p>An <b>administrator role</b> is a special user account. Users who assume a role are
permitted to perform a predefined set of administrative tasks.</p><p>The Primary Administrator role is permitted to perform all administrative functions, similar to
superuser. <a name="indexterm-7"></a></p><p>If you are superuser, or a user assuming the Primary Administrator role, you
can define which tasks other administrators are permitted to perform. With the help
of the Add Administrative Role wizard, you can create a role, grant rights
to the role, and then specify which users are permitted to assume that
role. A <b>right</b> is a named collection of commands, or authorizations, for using
specific applications. A right enables you to perform specific functions within an application.
The use of rights can be granted or denied by an administrator.</p><p><a name="indexterm-8"></a>You are prompted for the following information when you create the Primary Administrator
role.</p><a name="smcover-tbl-110"></a><h6>Table&nbsp;2-2 Field Descriptions for Adding a Role by Using the Solaris Management Console</h6><table><col width="32%"><col width="67%"><tr><th align="left" valign="top" scope="column"><p>Field name</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Role name</p></td>
<td align="left" valign="top" scope="row"><p>Selects the name an administrator uses to log in to
a specific role.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Full name</p></td>
<td align="left" valign="top" scope="row"><p>Provides a full, descriptive name of this role. (Optional)</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Description</p></td>
<td align="left" valign="top" scope="row"><p>Provides
further description of this role.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Role ID number</p></td>
<td align="left" valign="top" scope="row"><p>Selects the identification number assigned to
this role. This number is the same as the set of identifiers for
UIDs.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Role shell</p></td>
<td align="left" valign="top" scope="row"><p>Selects the shell that runs when a user logs in to
a terminal or console window and assumes a role in that window.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Create a
role mailing list</p></td>
<td align="left" valign="top" scope="row"><p>Creates a mailing list with the same name as the
role, if checked. You can use this list to send email to everyone
assigned to the role.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Role password and confirm Password</p></td>
<td align="left" valign="top" scope="row"><p>Sets and confirms the role
password.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Available rights and granted Rights</p></td>
<td align="left" valign="top" scope="row"><p>Assigns rights to this role by choosing from
the list of Available Rights and adding them to the list of Granted
Rights.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Select a home directory</p></td>
<td align="left" valign="top" scope="row"><p>Selects the home directory server where this role's private
files will be stored.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Assign users to this role</p></td>
<td align="left" valign="top" scope="row"><p>Adds specific users to the role
so that they can assume the role to perform specific tasks.</p></td>
</tr>
</table><p>For detailed information about role-based access control, and instructions on how to use
roles to create a more secure environment, see <a href="http://docs.sun.com/doc/819-3321/rbac-1?a=view">Role-Based Access Control (Overview) in <i>System Administration Guide: Security Services</i></a>.</p>

<a name="smcover-96"></a><h4>How to Create the First Role (Primary Administrator)</h4><p>This procedure describes how to create the Primary Administrator role and then assign
it to your user account. This procedure assumes that your user account is
already created.</p><ol>
<li><a name="smcover-step-97"></a><b>Start the console as yourself.</b><pre>% <tt><b>/usr/sadm/bin/smc &amp;</b></tt></pre><p>For additional information on starting the console, see <a href="smcover-18.html#smcover-42573">How to Start the Console as Superuser or as a Role</a>.</p><p>The console online help provides more information about creating a user account for
yourself.</p></li>
<li><a name="smcover-step-98"></a><b>Click on the This Computer icon in the Navigation pane.</b></li>
<li><a name="smcover-step-63"></a><b>Click on System Configuration-&gt;Users -&gt; Administrative Roles.</b></li>
<li><a name="smcover-step-64"></a><b>Click Action-&gt;Add Administrative Role.</b><p>The Add Administrative Role wizard opens.</p></li>
<li><a name="smcover-step-65"></a><b>Create the Primary Administrator role with the Administrative Role wizard by following these
steps. </b><ol style="list-style-type: lower-alpha">
				 
<li><a name="smcover-step-103"></a><b>Identify the role name, full role name, description, role ID number, role shell,
and whether you want to create a role mailing list. Click Next.</b></li>
<li><a name="smcover-step-104"></a><b>Set and confirm the role password. Click Next.</b></li>
<li><a name="smcover-step-105"></a><b>Select the Primary Administrator right from the Available Rights column and add it
to Granted Rights column. Click Next.</b></li>
<li><a name="smcover-step-106"></a><b>Select the home directory for the role. Click Next.</b></li>
<li><a name="smcover-step-17"></a><b>Assign yourself to the list of users who can assume the role. Click
Next.</b></li></ol><p>If necessary, see <a href="#smcover-tbl-110">Table&nbsp;2-2</a> for a description of the role fields.</p></li>
<li><a name="smcover-step-100"></a><b>Click Finish.</b></li></ol>

<a name="smcover-66"></a><h4>How to Assume the Primary Administrator Role</h4><p>After you have created the Primary Administrator role, log in to the console
as yourself, and then assume the Primary Administrator role.</p><p>When you assume a role, you take on all the attributes of
that role, including the rights. At the same time, you relinquish all of
your own user properties.</p><ol>
<li><a name="smcover-step-68"></a><b>Start the console.</b><pre>% <tt><b>/usr/sadm/bin/smc &amp;</b></tt></pre><p>For information on starting the console, see <a href="smcover-18.html#smcover-42573">How to Start the Console as Superuser or as a Role</a>.</p></li>
<li><a name="smcover-step-69"></a><b>Log in with your user name and password.</b><p>A list shows which roles you are permitted to assume.</p></li>
<li><a name="smcover-step-70"></a><b>Log in to the Primary Administrator role and provide the role password.</b></li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="smcover-149.html">Previous</a>
             </td>
             <td align="right">
                 <a href="smcover-18.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

