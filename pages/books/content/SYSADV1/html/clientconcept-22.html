<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Diskless Client Management Overview - System Administration Guide: Basic Administration</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-12-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Basic Administration</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="clientconcept-25948.html">Previous</a>
             </td>
             <td align="right">
                 <a href="clientsetup-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="vol1preface-11.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="saroadmap-1.html">1.&nbsp;&nbsp;Solaris Management Tools (Road Map)</a></p>
<p class="toc level1 tocsp"><a href="smcover-1.html">2.&nbsp;&nbsp;Working With the Solaris Management Console (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="ewpor.html">3.&nbsp;&nbsp;Working With the Sun Java Web Console (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="userconcept-97366.html">4.&nbsp;&nbsp;Managing User Accounts and Groups (Overview)</a></p>
<p class="toc level1 tocsp"><a href="usersetup-92366.html">5.&nbsp;&nbsp;Managing User Accounts and Groups (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="clientconcept-15236.html">6.&nbsp;&nbsp;Managing Client-Server Support (Overview)</a></p>
<p class="toc level2"><a href="gbgqv.html">What's New in Managing Client-Server Support?</a></p>
<p class="toc level2"><a href="clientconcept-7.html">Where to Find Client-Server Tasks</a></p>
<p class="toc level2"><a href="clientconcept-33212.html">What Are Servers, Clients, and Appliances?</a></p>
<p class="toc level2"><a href="clientconcept-35340.html">What Does Client Support Mean?</a></p>
<p class="toc level2"><a href="clientconcept-25948.html">Overview of System Types</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Diskless Client Management Overview</a></p>
</div>
<p class="toc level1 tocsp"><a href="clientsetup-1.html">7.&nbsp;&nbsp;Managing Diskless Clients (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbintro-66644.html">8.&nbsp;&nbsp;Introduction to Shutting Down and Booting a System</a></p>
<p class="toc level1 tocsp"><a href="hboverview-25463.html">9.&nbsp;&nbsp;Shutting Down and Booting a System (Overview)</a></p>
<p class="toc level1 tocsp"><a href="hbsyshalt-84412.html">10.&nbsp;&nbsp;Shutting Down a System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="grubtasks-1.html">11.&nbsp;&nbsp;Modifying Solaris Boot Behavior (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbsparcboot-79782.html">12.&nbsp;&nbsp;Booting a Solaris System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbtsboot-1.html">13.&nbsp;&nbsp;Troubleshooting Booting a Solaris System (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="archive-123.html">14.&nbsp;&nbsp;Managing the Solaris Boot Archives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="hbsysboot-76719.html">15.&nbsp;&nbsp;x86: GRUB Based Booting (Reference)</a></p>
<p class="toc level1 tocsp"><a href="hbrunlevels-25516.html">16.&nbsp;&nbsp;Managing Services (Overview)</a></p>
<p class="toc level1 tocsp"><a href="faauf.html">17.&nbsp;&nbsp;Managing Services (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgsconcepts-52619.html">18.&nbsp;&nbsp;Managing Software (Overview)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgsgui-1.html">19.&nbsp;&nbsp;Managing Software With Solaris System Administration Tools (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpkgscli-1.html">20.&nbsp;&nbsp;Managing Software by Using Package Commands (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="swmgrpatchtasks-1.html">21.&nbsp;&nbsp;Managing Solaris Patches by Using the <tt>patchadd</tt> Command (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="fddwm.html">A.&nbsp;&nbsp;SMF Services</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="clientconcept-22"></a><h3>Diskless Client Management Overview</h3>
<p>The following sections and <a href="clientsetup-1.html">Chapter&nbsp;7, Managing Diskless Clients (Tasks)</a> describe how to manage diskless client support in
the Solaris Operating System (Solaris OS).</p><p>A <b>diskless client</b> is a system that depends on an <b>OS server</b> for its
operating system, software, and storage. A diskless client mounts its root (<tt>/</tt>), <tt>/usr</tt>,
and other file systems from its OS server. A diskless client has its
own CPU and physical memory and can process data locally. However, a diskless
client cannot operate if it is detached from its network or if its
OS server malfunctions. A diskless client generates significant network traffic because of its
continual need to function across the network. </p><p>Starting with the Solaris 9 release, the diskless client commands, <tt>smosservice</tt> and
<tt>smdiskless</tt>, enable you to manage OS services and diskless client support. In the
Solaris 8 release, diskless clients were managed with the Solstice<sup>TM</sup> GUI management tools.
</p>

<a name="clientconcept-28"></a><h4>OS Server and Diskless Client Support Information</h4>

<hr><p><b>Caution - </b>Attempts to add diskless client support using an OS client-server configuration where one
system implements the new boot architecture, but the other system does not, can
result in major incompatibilities. New boot (GRUB) was implemented on the x86 platform,
starting with the Solaris 10 1/06 release and on the SPARC platform, starting
with the Solaris 10 10/8 release. Note that adding diskless support on systems
that are running a Solaris release that is more recent than that which
is running on the OS server is also an unsupported configuration. To avoid
potential problems, it is recommended that you install the latest Solaris release before
adding diskless client support.</p>
<hr>
<p>The Solaris releases and architecture types that are supported by the <tt>smosservice</tt>
and <tt>smdiskless</tt> commands include the following:</p>
<ul><li><p><b>SPARC based servers:</b> Supported in the Solaris 8, Solaris 9, Solaris 10, and Solaris Express releases</p></li>
<li><p><b>SPARC based clients:</b> Supported in the Solaris 8, Solaris 9, Solaris 10, and Solaris Express releases</p></li>
<li><p><b>x86 based servers:</b> Supported in the Solaris 9, Solaris 10, and Solaris Express releases</p></li>
<li><p><b>x86 based clients:</b> Supported in the Solaris 9, Solaris 10, and Solaris Express releases</p></li></ul>
<p>The following table illustrates the x86 OS client-server configurations that are supported by
the <tt>smosservice</tt> and <tt>smdiskless</tt> commands. This information applies to the Solaris 9 and
the Solaris 10 FCS (3/05) release.</p><p>If you are running at least the Solaris 10 1/06 release, or a
Solaris Express Community release, it is recommended that you install or upgrade to
the same release before adding diskless client support.</p><a name="ghzog"></a><h6>Table&nbsp;6-3 x86 OS Client-Server Support</h6><table><col width="34%"><col width="34%"><col width="31%"><tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><b>Diskless Client OS</b></p></td>
<td align="left" valign="top" scope="row"></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><b>Server OS</b></p></td>
<td align="left" valign="top" scope="row"><p><b>Solaris 10 3/05</b></p></td>
<td align="left" valign="top" scope="row"><p><b>Solaris 9</b></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><b>Solaris 10 3/05</b></p></td>
<td align="left" valign="top" scope="row"><p>Supported</p></td>
<td align="left" valign="top" scope="row"><p>Supported</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><b>Solaris 9</b></p></td>
<td align="left" valign="top" scope="row"><p>Not supported</p></td>
<td align="left" valign="top" scope="row"><p>Supported</p></td>
</tr>
</table><p>The following table describes the SPARC OS client-server configurations that are supported by
the <tt>smosservice</tt> and <tt>smdiskless</tt> commands. This information applies to the Solaris 8 and
Solaris 9 releases, and the Solaris 10 release, up through the Solaris 10
5/08 OS.</p><p>If you are running at least the Solaris 10 10/08 release, or a
Solaris Express Community release, it is recommended that you install or upgrade to the
same release before adding diskless client support.</p><a name="ghzrp"></a><h6>Table&nbsp;6-4 SPARC OS Client-Server Support</h6><table><col width="25%"><col width="25%"><col width="24%"><col width="24%"><tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><b>Diskless Client OS</b></p></td>
<td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><b>Server OS</b></p></td>
<td align="left" valign="top" scope="row"><p><b>Solaris 10 3/05 through Solaris 10 5/08</b></p></td>
<td align="left" valign="top" scope="row"><p><b>Solaris 9</b></p></td>
<td align="left" valign="top" scope="row"><p><b>Solaris 8</b></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><b>Solaris 10 3/05 through Solaris 10 5/08</b></p></td>
<td align="left" valign="top" scope="row"><p>Supported</p></td>
<td align="left" valign="top" scope="row"><p>Supported</p></td>
<td align="left" valign="top" scope="row"><p>Supported</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><b>Solaris 9</b></p></td>
<td align="left" valign="top" scope="row"><p>Not supported</p></td>
<td align="left" valign="top" scope="row"><p>Supported</p></td>
<td align="left" valign="top" scope="row"><p>Supported</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><b>Solaris 8</b></p></td>
<td align="left" valign="top" scope="row"><p>Not supported</p></td>
<td align="left" valign="top" scope="row"><p>Not supported</p></td>
<td align="left" valign="top" scope="row"><p>Supported</p></td>
</tr>
</table>

<a name="clientconcept-41599"></a><h4>Diskless Client Management Features</h4>
<p>You can use the <tt>smosservice</tt> and <tt>smdiskless</tt> commands to add and maintain diskless
client support on a network. By using a name service, you can manage
system information in a centralized manner so that important system information, such as
host names, do not have to be duplicated for every system on the
network.</p><p>You can perform the following tasks with the <tt>smosservice</tt> and <tt>smdiskless</tt> commands:</p>
<ul><li><p>Add and modify diskless client support</p></li>
<li><p>Add and remove OS services</p></li>
<li><p>Manage diskless client information in the LDAP, NIS, NIS+, or files name service environment</p></li></ul>
<p>If you are performing a GRUB based boot on an x86 system,
you need to manually set up the DHCP configuration. See <a href="clientsetup-3.html#fwaol">x86: How to Prepare for Adding Diskless Clients in a GRUB Based Boot Environment</a> for more information.</p>
<hr><p><b>Note - </b>You can only use the diskless client commands to set up diskless client
booting. You cannot use these commands to set up other services, such as
remote installation or profile services. Set up remote installation services by including diskless
client specifications in the <tt>sysidcfg</tt> file. For more information, see <a href="http://docs.sun.com/doc/819-2396"><i>Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</i></a>.</p>
<hr>


<a name="clients-2"></a><h5>Working With Diskless Client Commands</h5>
<p>By writing your own shell scripts and using the commands shown in
the following table, you can easily set up and manage your diskless client
environment. </p><a name="chapter-tbl-15"></a><h6>Table&nbsp;6-5 Diskless Client Commands</h6><table><col width="43%"><col width="20%"><col width="36%"><tr><th align="left" valign="top" scope="column"><p>Command</p></th>
<th align="left" valign="top" scope="column"><p>Subcommand</p></th>
<th align="left" valign="top" scope="column"><p>Task</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/usr/sadm/bin/smosservice</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>add</tt></p></td>
<td align="left" valign="top" scope="row"><p>Add OS services</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>delete</tt></p></td>
<td align="left" valign="top" scope="row"><p>Delete OS services</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>list</tt></p></td>
<td align="left" valign="top" scope="row"><p>List OS services</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>patch</tt></p></td>
<td align="left" valign="top" scope="row"><p>Manage OS service patches</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/usr/sadm/bin/smdiskless</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>add</tt></p></td>
<td align="left" valign="top" scope="row"><p>Add a
diskless client to an OS server</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>delete</tt></p></td>
<td align="left" valign="top" scope="row"><p>Delete a diskless client from an OS
server</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>list</tt></p></td>
<td align="left" valign="top" scope="row"><p>List the diskless clients on an OS server</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"></td>
<td align="left" valign="top" scope="row"><p><tt>modify</tt></p></td>
<td align="left" valign="top" scope="row"><p>Modify the attributes of a
diskless client</p></td>
</tr>
</table><p>You can obtain help on these commands in two ways:</p>
<ul><li><p>Use the <tt>-h</tt> option when you type the command, subcommand, and required options, as shown in the following example.</p><pre>% <tt><b>/usr/sadm/bin/smdiskless add -p my-password -u my-user-name -- -h</b></tt></pre></li>
<li><p>View the <a href="http://docs.sun.com/doc/819-2240/smdiskless-1m?a=view"><tt>smdiskless</tt>(1M)</a> and <a href="http://docs.sun.com/doc/819-2240/smosservice-1m?a=view"><tt>smosservice</tt>(1M)</a> man pages.</p></li></ul>


<a name="chapter-27"></a><h5>Required RBAC Rights for Diskless Client Management</h5>
<p>You can use the <tt>smosservice</tt> and <tt>smdiskless</tt> commands as superuser. If you are
using role-based access control (RBAC), you can use either a subset of or
all of the diskless client commands, according to the RBAC rights to which
they are assigned. The following table lists the RBAC rights that are required
to use the diskless client commands.</p><a name="chapter-tbl-28"></a><h6>Table&nbsp;6-6 Required RBAC Rights for Diskless Client Management</h6><table><col width="35%"><col width="25%"><col width="39%"><tr><th align="left" valign="top" scope="column"><p>RBAC Right</p></th>
<th align="left" valign="top" scope="column"><p>Command</p></th>
<th align="left" valign="top" scope="column"><p>Task</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Basic Solaris User, Network Management</p></td>
<td align="left" valign="top" scope="row"><p><tt>smosservice list</tt></p></td>
<td align="left" valign="top" scope="row"><p>List OS
services</p><p></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>smosservice patch</tt></p></td>
<td align="left" valign="top" scope="row"><p>List OS service patches</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>smdiskless list</tt></p></td>
<td align="left" valign="top" scope="row"><p>List diskless clients on an OS server</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Network Management</p></td>
<td align="left" valign="top" scope="row"><p><tt>smdiskless add</tt></p></td>
<td align="left" valign="top" scope="row"><p>Add diskless
clients</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>System Administrator</p></td>
<td align="left" valign="top" scope="row"><p>All commands</p></td>
<td align="left" valign="top" scope="row"><p>All tasks</p></td>
</tr>
</table>

<a name="clientconcept-5"></a><h5>Adding OS Services</h5>
<p><a name="clientconcept-ix884"></a><a name="clientconcept-ix885"></a><a name="clientconcept-ix886"></a>A Solaris OS server is a server that provides operating system (OS) services
to support diskless client systems. You can add support for an OS server
or convert a stand-alone system to an OS server by using the
<tt>smosservice</tt> command. </p><p>For each platform group and Solaris release that you want to support, you
must add the particular OS service to the OS server. For example,
if you want to support SPARC sun-4u systems running the Solaris Express release, you
must add the Sun-4u/Solaris Express OS services to the OS server. For
each diskless client that you support, you must add the OS service for
that client to the OS server. For example, you would need to add
OS services to support SPARC sun-4m systems or x86 based systems that run
the Solaris 10 or Solaris 9 release, because they are different platform groups.</p><p>You must have access to the appropriate Solaris software CD or disk image
to add OS services.</p>

<a name="clientconcept-12"></a><h5>Adding OS Services When the OS Server Has Been Patched</h5>
<p>When adding OS services to an OS server, you might see an
error message stating that you have inconsistent versions of the OS running on
the server and the OS that you are trying to add. This error
message occurs when the installed version of the OS has packages that were
previously patched, and the OS services being added do not have those packages
patched, because the patches have been integrated into the packages.</p><p>For example, you might have a server that is running the current
Solaris release or the Solaris 10 release. You might also have additional OS
services loaded on this server, including the Solaris 9 SPARC sun-4m OS services
that have been patched. If you try to add the Solaris 8 SPARC
sun-4u OS services from a CD-ROM to this server, you could get the
following error message:</p><pre>Error: inconsistent revision, installed package appears to have been 
patched resulting in it being different than the package on your media. 
You will need to backout all patches that patch this package before 
retrying the add OS service option.</pre>

<a name="chapter-29"></a><h4>Disk Space Requirements for OS Servers</h4>
<p>Before you set up your diskless client environment, ensure that you have the
required disk space available for each diskless client directory.</p><p>In previous Solaris releases, you were prompted about diskless client support during the
installation process. Starting with the Solaris 9 release, you must manually allocate an
<tt>/export</tt> file system either during installation or create it after installation. See the
following table for specific disk space requirements.</p><a name="euxcz"></a><h6>Table&nbsp;6-7 Disk Space Recommendations for Solaris OS Servers and Diskless Clients</h6><table><col width="33%"><col width="33%"><col width="33%"><tr><th align="left" valign="top" scope="column"><p><b>Server OS/Architecture Type</b></p></th>
<th align="left" valign="top" scope="column"><p><b>Directory</b></p></th>
<th align="left" valign="top" scope="column"><p><b>Required Disk Space</b></p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Solaris Express and Solaris 10 SPARC based
OS server</p></td>
<td align="left" valign="top" scope="row"><p><tt>/export</tt></p></td>
<td align="left" valign="top" scope="row"><p>5 to 6.8 Gbytes</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Solaris Express and Solaris 10 x86 based OS
server</p></td>
<td align="left" valign="top" scope="row"><p><tt>/export</tt></p></td>
<td align="left" valign="top" scope="row"><p>5 to 6.8 Gbytes</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Solaris Express and Solaris 10 SPARC based diskless client</p></td>
<td align="left" valign="top" scope="row"><p><tt>/export</tt></p></td>
<td align="left" valign="top" scope="row"><p>Reserve 200
to 300 Mbytes per diskless client.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Solaris Express and Solaris 10 x86 based
diskless client</p></td>
<td align="left" valign="top" scope="row"><p><tt>/export</tt></p></td>
<td align="left" valign="top" scope="row"><p>Reserve 200 to 300 Mbytes per diskless client.</p></td>
</tr>
</table>
<hr><p><b>Note - </b>Disk space recommendations can vary, depending on the Solaris release that is installed.
For specific information about the disk space recommendations in the current Solaris release,
see <a href="http://docs.sun.com/doc/820-0157/esimo?a=view">Disk Space Recommendations for Software Groups in <i>Solaris Express Installation Guide: Planning for Installation and Upgrade</i></a>.</p>
<hr>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="clientconcept-25948.html">Previous</a>
             </td>
             <td align="right">
                 <a href="clientsetup-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

