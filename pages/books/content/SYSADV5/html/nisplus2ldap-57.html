<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>client_info and timezone Tables (NIS+ to LDAP) - System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="nisplus2ldap-56.html">Previous</a>
             </td>
             <td align="right">
                 <a href="nisplus2ldap-60.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="intro-1.html">Part&nbsp;I&nbsp;About Naming and Directory Services</a></p>
<p class="toc level2"><a href="intro2ns-2.html">1.&nbsp;&nbsp;Naming and Directory Services (Overview)</a></p>
<p class="toc level2"><a href="a12swit-86415.html">2.&nbsp;&nbsp;The Name Service Switch (Overview)</a></p>
<p class="toc level1 tocsp"><a href="dnsadmin-1.html">Part&nbsp;II&nbsp;DNS Setup and Administration</a></p>
<p class="toc level2"><a href="dnsref-1.html">3.&nbsp;&nbsp;DNS Setup and Administration (Reference)</a></p>
<p class="toc level1 tocsp"><a href="nissetup-1.html">Part&nbsp;III&nbsp;NIS Setup and Administration</a></p>
<p class="toc level2"><a href="anis1-25461.html">4.&nbsp;&nbsp;Network Information Service (NIS) (Overview)</a></p>
<p class="toc level2"><a href="cnis1-25208.html">5.&nbsp;&nbsp;Setting Up and Configuring NIS Service</a></p>
<p class="toc level2"><a href="anis2-22217.html">6.&nbsp;&nbsp;Administering NIS (Tasks)</a></p>
<p class="toc level2"><a href="abtrbl-18694.html">7.&nbsp;&nbsp;NIS Troubleshooting</a></p>
<p class="toc level1 tocsp"><a href="ldapsetup-1.html">Part&nbsp;IV&nbsp;LDAP Naming Services Setup and Administration</a></p>
<p class="toc level2"><a href="overview-1.html">8.&nbsp;&nbsp;Introduction to LDAP Naming Services (Overview/Reference)</a></p>
<p class="toc level2"><a href="ldapsecure-1.html">9.&nbsp;&nbsp;LDAP Basic Components and Concepts (Overview)</a></p>
<p class="toc level2"><a href="planldap-1.html">10.&nbsp;&nbsp;Planning Requirements for LDAP Naming Services (Tasks)</a></p>
<p class="toc level2"><a href="sundssetup-13.html">11.&nbsp;&nbsp;Setting Up Sun Java System Directory Server With LDAP Clients (Tasks)</a></p>
<p class="toc level2"><a href="clientsetup-1.html">12.&nbsp;&nbsp;Setting Up LDAP Clients (Tasks)</a></p>
<p class="toc level2"><a href="setupproblems-1.html">13.&nbsp;&nbsp;LDAP Troubleshooting (Reference)</a></p>
<p class="toc level2"><a href="schemas-1.html">14.&nbsp;&nbsp;LDAP General Reference (Reference)</a></p>
<p class="toc level2"><a href="nis2ldap-34.html">15.&nbsp;&nbsp;Transitioning From NIS to LDAP (Overview/Tasks)</a></p>
<p class="toc level2"><a href="nisplus2ldap-1.html">16.&nbsp;&nbsp;Transitioning From NIS+ to LDAP</a></p>
<p class="toc level3"><a href="nisplus2ldap-2.html">NIS+ to LDAP Overview</a></p>
<p class="toc level3"><a href="nisplus2ldap-5.html">Getting Started With the NIS+ to LDAP Transition</a></p>
<p class="toc level3"><a href="nisplus2ldap-41.html">Masters and Replicas (NIS+ to LDAP)</a></p>
<p class="toc level3"><a href="nisplus2ldap-43.html">The Directory Server (NIS+ to LDAP)</a></p>
<p class="toc level3"><a href="nisplus2ldap-49.html">Mapping NIS+ Objects Other Than Table Entries</a></p>
<p class="toc level3"><a href="nisplus2ldap-50.html">NIS+ Entry Owner, Group, Access, and TTL</a></p>
<p class="toc level3"><a href="nisplus2ldap-56.html">Principal Names and Netnames (NIS+ to LDAP)</a></p>
<div class="onpage">
<p class="toc level3"><a href=""><tt>client_info</tt> and <tt>timezone</tt> Tables (NIS+ to LDAP)</a></p>
</div>
<p class="toc level3"><a href="nisplus2ldap-60.html">Adding New Object Mappings (NIS+ to LDAP)</a></p>
<p class="toc level3"><a href="nisplus2ldap-70.html">Storing Configuration Information in LDAP</a></p>
<p class="toc level1 tocsp"><a href="ghnmu.html">Part&nbsp;V&nbsp;Active Directory Naming Service</a></p>
<p class="toc level2"><a href="ghnov.html">17.&nbsp;&nbsp;Setting Up Solaris Active Directory Clients</a></p>
<p class="toc level1 tocsp"><a href="whatsnew-1.html">A.&nbsp;&nbsp;Solaris 10 Software Updates to DNS, NIS, and LDAP</a></p>
<p class="toc level2"><a href="whatsnew-5.html">Service Management Facility Changes</a></p>
<p class="toc level2"><a href="whatsnew-2.html">DNS BIND</a></p>
<p class="toc level2"><a href="schemas-290.html"><tt>pam_ldap</tt> Changes</a></p>
<p class="toc level2"><a href="whatsnew-3.html">Documentation Errors</a></p>
<p class="toc level1 tocsp"><a href="aagloss-87604.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="nisplus2ldap-57"></a><h3><tt>client_info</tt> and <tt>timezone</tt> Tables (NIS+ to LDAP)</h3>
<p>Because RFC 2307 does not provide schemas for the information kept in the
NIS+ <tt>client_info.org_dir</tt> and <tt>timezone.org_dir</tt> tables, mapping of these tables is not enabled by
default in the template mapping file (<tt>/var/nis/NIS+LDAPmapping.template</tt>). If you want to keep the <tt>client_info</tt>
and<tt>timezone</tt> information in LDAP, consult your LDAP server documentation, and create the new
attributes and object classes discussed in the following sections.</p>

<a name="nisplus2ldap-58"></a><h4><tt>client_info</tt> Attributes and Object Class</h4>
<p>Create attributes and object class as below, and then create the  container for
the client_info data. The suggested container name is <tt>ou=ClientInfo</tt>. LDIF data is for
<a href="http://docs.sun.com/doc/819-2239/ldapadd-1?a=view"><tt>ldapadd</tt>(1)</a>. The attribute and object class OIDs used in the following are examples
only.</p><pre>dn: cn=schema
changetype: modify
add: attributetypes
attributetypes:    ( 1.3.6.1.4.1.42.2.27.5.42.42.12.0 \
    NAME 'nisplusClientInfoAttr' \
    DESC 'NIS+ client_info table client column' \
    SYNTAX 1.3.6.1.4.1.1466.115.121.1.15 SINGLE-VALUE )
attributetypes:    ( 1.3.6.1.4.1.42.2.27.5.42.42.12.1 \
    NAME 'nisplusClientInfoInfo' \
    DESC 'NIS+ client_info table info column' \
    SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 SINGLE-VALUE )
attributetypes:    ( 1.3.6.1.4.1.42.2.27.5.42.42.12.2 \
    NAME 'nisplusClientInfoFlags' \
    DESC 'NIS+ client_info table flags column' \
    SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 SINGLE-VALUE )

dn: cn=schema
changetype: modify
add: objectclasses
objectclasses:    ( 1.3.6.1.4.1.42.2.27.5.42.42.13.0 \
    NAME 'nisplusClientInfoData' \
    DESC 'NIS+ client_info table data' \
    SUP top STRUCTURAL MUST ( cn ) \
    MAY ( nisplusClientInfoAttr $ nisplusClientInfoInfo $ nisplusClientInfoFlags ) )</pre><p>To create the container, put the following LDIF data in a file.
Substitute your actual search base for <i>searchBase</i>.</p><pre>dn: ou=ClientInfo, <i>searchBase</i></pre><pre>objectClass: organizationalUnit</pre><pre>ou: ClientInfo</pre><pre>objectClass: top</pre><p>Use the above file as input to the <tt>ldapadd</tt> command in order to
create the <tt>ou=ClientInfo</tt> container. For example, if your LDAP administrator DN is <tt>cn=directory manager</tt>, and
the file with the LDIF data is called <tt>cifile</tt>, do the following.</p><pre># <tt><b>ldapadd</b></tt> <tt>-D</tt> <tt><b></tt><i>cn="directory manager"</i><tt></b></tt> <tt>-f</tt> <tt><b>cifile</b></tt></pre><p>Depending on the authentication required, the <tt>ldapadd</tt> command might prompt for a password.</p><p>The <tt>/var/nis/NIS+LDAPmapping.template</tt> file contains commented-out definitions for the <tt>client_info.org_dir</tt> table. Copy these to the
actual mapping file, enable by removing the comment character '#', and restart the
<tt>rpc.nisd</tt> daemon.</p><pre># <tt><b>svcadm restart network/rpc/nisplus:default</b></tt></pre><p>If necessary, synchronize NIS+ and LDAP data as described in <a href="nisplus2ldap-5.html#nisplus2ldap-21">NIS+ to LDAP Migration Scenarios</a>.</p>

<a name="nisplus2ldap-59"></a><h4><tt>timezone</tt> Attributes and Object Class</h4>
<p>Create attributes and object class as below, and then create the container for
the timezone data. The suggested container name is <tt>ou=Timezone</tt>. (The LDIF data is
suitable for <a href="http://docs.sun.com/doc/819-2239/ldapadd-1?a=view"><tt>ldapadd</tt>(1)</a>. Attribute and object class OIDs are examples only.)</p><pre>dn: cn=schema
changetype: modify
add: attributetypes
attributetypes:    ( 1.3.6.1.4.1.42.2.27.5.42.42.15.0 NAME 'nisplusTimeZone' \
          DESC 'tzone column from NIS+ timezone table' \
          SYNTAX 1.3.6.1.4.1.1466.115.121.1.26 SINGLE-VALUE )

dn: cn=schema
changetype: modify
add: objectclasses
objectclasses:    ( 1.3.6.1.4.1.42.2.27.5.42.42.16.0 NAME 'nisplusTimeZoneData' \
          DESC 'NIS+ timezone table data' \
          SUP top STRUCTURAL MUST ( cn ) \
          MAY ( nisplusTimeZone $ description ) )</pre><p>To create the <tt>ou=Timezone</tt> container, put the following LDIF data in a file.
Substitute your actual search base for <i>searchBase</i>.</p><p><tt>dn: ou=Timezone,</tt><i>searchBase</i><tt></tt> <tt>ou: Timezone</tt> <tt>objectClass: top</tt></p><p><tt>objectClass: organizationalUnit</tt></p><p>Use the above file as input to <a href="http://docs.sun.com/doc/819-2239/ldapadd-1?a=view"><tt>ldapadd</tt>(1)</a> in order to create
the <tt>ou=Timezone</tt> container. For example, if your LDAP administrator DN is <tt>cn=directory manager</tt>,
and the file with the LDIF data is called <tt>tzfile</tt>.</p><pre># <tt><b>ldapadd -D </tt><i>cn="directory manager"</i><tt> -f tzfile</b></tt></pre><p>Depending on the authentication required, the <tt>ldapadd</tt> command might prompt for a password.</p><p>The <tt>/var/nis/NIS+LDAPmapping.template</tt> file contains commented-out definitions for the <tt>timezone.org_dir</tt> table. Copy these to the
actual mapping file, enable by removing the comment character '#', and restart the
<tt>rpc.nisd</tt> daemon.</p><pre># <tt><b>svcadm restart network/rpc/nisplus:default</b></tt></pre><p>If necessary, synchronize NIS+ and LDAP data as described in <a href="nisplus2ldap-5.html#nisplus2ldap-21">NIS+ to LDAP Migration Scenarios</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="nisplus2ldap-56.html">Previous</a>
             </td>
             <td align="right">
                 <a href="nisplus2ldap-60.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

