<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Service Search Descriptors (SSDs) and Schema Mapping - System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ldapsecure-88.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ldapsecure-103.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="intro-1.html">Part&nbsp;I&nbsp;About Naming and Directory Services</a></p>
<p class="toc level2"><a href="intro2ns-2.html">1.&nbsp;&nbsp;Naming and Directory Services (Overview)</a></p>
<p class="toc level2"><a href="a12swit-86415.html">2.&nbsp;&nbsp;The Name Service Switch (Overview)</a></p>
<p class="toc level1 tocsp"><a href="dnsadmin-1.html">Part&nbsp;II&nbsp;DNS Setup and Administration</a></p>
<p class="toc level2"><a href="dnsref-1.html">3.&nbsp;&nbsp;DNS Setup and Administration (Reference)</a></p>
<p class="toc level1 tocsp"><a href="nissetup-1.html">Part&nbsp;III&nbsp;NIS Setup and Administration</a></p>
<p class="toc level2"><a href="anis1-25461.html">4.&nbsp;&nbsp;Network Information Service (NIS) (Overview)</a></p>
<p class="toc level2"><a href="cnis1-25208.html">5.&nbsp;&nbsp;Setting Up and Configuring NIS Service</a></p>
<p class="toc level2"><a href="anis2-22217.html">6.&nbsp;&nbsp;Administering NIS (Tasks)</a></p>
<p class="toc level2"><a href="abtrbl-18694.html">7.&nbsp;&nbsp;NIS Troubleshooting</a></p>
<p class="toc level1 tocsp"><a href="ldapsetup-1.html">Part&nbsp;IV&nbsp;LDAP Naming Services Setup and Administration</a></p>
<p class="toc level2"><a href="overview-1.html">8.&nbsp;&nbsp;Introduction to LDAP Naming Services (Overview/Reference)</a></p>
<p class="toc level2"><a href="ldapsecure-1.html">9.&nbsp;&nbsp;LDAP Basic Components and Concepts (Overview)</a></p>
<p class="toc level3"><a href="ldapsecure-104.html">LDAP Data Interchange Format (LDIF)</a></p>
<p class="toc level3"><a href="ldapsecure-2.html">Using Fully Qualified Domain Names With LDAP</a></p>
<p class="toc level3"><a href="ldapsecure-89.html">Default Directory Information Tree (DIT)</a></p>
<p class="toc level3"><a href="ldapsecure-88.html">Default LDAP Schema</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Service Search Descriptors (SSDs) and Schema Mapping</a></p>
</div>
<p class="toc level3"><a href="ldapsecure-103.html">LDAP Client Profiles</a></p>
<p class="toc level3"><a href="ldapsecure-99.html"><tt>ldap_cachemgr</tt> Daemon</a></p>
<p class="toc level3"><a href="ldapsecure-66.html">LDAP Naming Services Security Model</a></p>
<p class="toc level2 tocsp"><a href="planldap-1.html">10.&nbsp;&nbsp;Planning Requirements for LDAP Naming Services (Tasks)</a></p>
<p class="toc level2"><a href="sundssetup-13.html">11.&nbsp;&nbsp;Setting Up Sun Java System Directory Server With LDAP Clients (Tasks)</a></p>
<p class="toc level2"><a href="clientsetup-1.html">12.&nbsp;&nbsp;Setting Up LDAP Clients (Tasks)</a></p>
<p class="toc level2"><a href="setupproblems-1.html">13.&nbsp;&nbsp;LDAP Troubleshooting (Reference)</a></p>
<p class="toc level2"><a href="schemas-1.html">14.&nbsp;&nbsp;LDAP General Reference (Reference)</a></p>
<p class="toc level2"><a href="nis2ldap-34.html">15.&nbsp;&nbsp;Transitioning From NIS to LDAP (Overview/Tasks)</a></p>
<p class="toc level2"><a href="nisplus2ldap-1.html">16.&nbsp;&nbsp;Transitioning From NIS+ to LDAP</a></p>
<p class="toc level1 tocsp"><a href="ghnmu.html">Part&nbsp;V&nbsp;Active Directory Naming Service</a></p>
<p class="toc level2"><a href="ghnov.html">17.&nbsp;&nbsp;Setting Up Solaris Active Directory Clients</a></p>
<p class="toc level1 tocsp"><a href="whatsnew-1.html">A.&nbsp;&nbsp;Solaris 10 Software Updates to DNS, NIS, and LDAP</a></p>
<p class="toc level2"><a href="whatsnew-5.html">Service Management Facility Changes</a></p>
<p class="toc level2"><a href="whatsnew-2.html">DNS BIND</a></p>
<p class="toc level2"><a href="schemas-290.html"><tt>pam_ldap</tt> Changes</a></p>
<p class="toc level2"><a href="whatsnew-3.html">Documentation Errors</a></p>
<p class="toc level1 tocsp"><a href="aagloss-87604.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="ldapsecure-65"></a><h3>Service Search Descriptors (SSDs) and Schema Mapping</h3>

<hr><p><b>Note - </b>If you use schema mapping, you must do so in a very
careful and consistent manner. Make sure the syntax of the mapped attribute is
consistent with the attribute it is mapped to. In other words, make sure
that single-valued attributes map to single-valued attributes, that the attribute syntaxes are in agreement,
and that mapped object classes have the correct mandatory (possibly mapped) attributes.</p>
<hr>
<p><a name="indexterm-474"></a>As previously discussed, LDAP naming services expect, by default, the DIT to be
structured in a certain way. If you want, you can instruct the Solaris
LDAP naming service to search in other locations than the default locations in
the DIT. Additionally, you can specify that different attributes and object classes be
used in place of those specified by the default schema. For a list
of default filters, see <a href="schemas-122.html">Default Filters Used by LDAP Naming Services</a>.</p>

<a name="ldapsecure-69"></a><h4>Description of SSDs</h4>
<p><a name="indexterm-475"></a><a name="indexterm-476"></a>The <tt>serviceSearchDescriptor</tt> attribute defines how and where an LDAP naming service client should
search for information for a particular service. The <tt>serviceSearchDescriptor</tt> contains a service name, followed
by one or more semicolon-separated base-scope-filter triples.  These base-scope-filter triples are used
to define searches only for the specific service and are searched in order.
 If multiple base-scope-filters are specified for a given service, then when that
service looks for a particular entry, it will search in each base with
the specified scope and filter.</p>
<hr><p><b>Note - </b>The default location is not searched for a service (database) with an SSD
unless it is included in the SSD.  Unpredictable behavior will result if
multiple SSDs are given for a service.</p>
<hr>
<p>In the following example, the Solaris LDAP naming service client performs a one-level
search in <tt>ou=west,dc=example,dc=com</tt> followed by a one-level search in <tt>ou=east,dc=example,dc=com</tt> for the <tt>passwd</tt> service.
To look up the <tt>passwd</tt> data for a user's <tt>username</tt>, the default LDAP
filter <tt>(&amp;(objectClass=posixAccount)(uid=username))</tt> is used for each <tt>BaseDN</tt>.</p><pre>serviceSearchDescriptor: passwd:ou=west,dc=example,dc=com;ou=east,
dc=example,dc=com </pre><p>In the following example, the Solaris LDAP naming service client would perform a
subtree search in <tt>ou=west,dc=example,dc=com</tt>  for the <tt>passwd</tt> service. To look up the
<tt>passwd</tt> data for user <tt>username</tt>, the subtree <tt>ou=west,dc=example,dc=com</tt> would be searched with the
LDAP filter <tt>(&amp;(fulltimeEmployee=TRUE)(uid=username))</tt>.</p><pre>serviceSearchDescriptor: passwd:ou=west,dc=example,
dc=com?sub?fulltimeEmployee=TRUE</pre><p>It is also possible to associate multiple containers with a particular service type.
In the following example, the service search descriptor specifies searching for the password
entries in three containers.</p><table><tr><td align="left" valign="top" scope="row"><p><tt>ou=myuser,dc=example,dc=com</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ou=newuser,dc=example,dc=com</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ou=extuser,dc=example,dc=com</tt></p></td>
</tr>
</table><p>Note that a trailing ',' in the example implies that the <tt>defaultSearchBase</tt>
is appended to the relative base in the SSD.</p><pre>defaultSearchBase: dc=example,dc=com
serviceSearchDescriptor: \
passwd:ou=myuser,;ou=newuser,;ou=extuser,dc=example,dc=com</pre>

<a name="ldapsecure-100"></a><h5>Attribute Map</h5>
<p><a name="indexterm-477"></a>The Solaris LDAP naming service allows one or more attribute names to be
remapped for any of its services. (The Solaris LDAP client uses the well-known
attributes documented in <a href="schemas-1.html">Chapter&nbsp;14, LDAP General Reference (Reference)</a>.)  If you map an attribute, you must be
sure that the attribute has the same meaning and syntax as the original
attribute. Note that mapping the <tt>userPassword</tt> attribute might cause problems.</p><p>There are a couple of reasons you might want to use schema
mappings.</p>
<ul><li><p>You want to map attributes in an existing directory server</p></li>
<li><p>If you have user names that differ only in case, you must map the <tt>uid</tt> attribute, which ignores case, to an attribute that does not ignore case</p></li></ul>
<p>The format for this attribute is <tt>service:attribute-name=mapped-attribute-name</tt>.</p><p>If you want to map more than one attribute for a given
service, you can define multiple <tt>attributeMap</tt> attributes.</p><p>In the following example, the <tt>employeeName</tt> and <tt>home</tt> attributes would be used
whenever the <tt>uid</tt> and <tt>homeDirectory</tt> attributes would be used for the <tt>passwd</tt>
service.</p><pre>attributeMap: passwd:uid=employeeName
attributeMap: passwd:homeDirectory=home</pre><p>There exists one special case where you can map the <tt>passwd</tt> service's
<tt>gecos</tt> attribute to several attributes. The following is an example.</p><pre>attributemap: gecos=cn sn title</pre><p>This maps the <tt>gecos</tt> values to a space separated list of the <tt>cn</tt>,
<tt>sn</tt>, and <tt>title</tt> attribute values.</p>

<a name="ldapsecure-101"></a><h5><tt>objectClass</tt> Map</h5>
<p><a name="indexterm-478"></a>The Solaris LDAP naming service allows object classes to be remapped for any
of its services. If you want to map more than one object class
for a given service, you can define multiple <tt>objectclassMap</tt> attributes. In the following example,
the <tt>myUnixAccount</tt> object class is used whenever the <tt>posixAccount</tt> object class is used.</p><pre>objectclassMap: passwd:posixAccount=myUnixAccount</pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ldapsecure-88.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ldapsecure-103.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

