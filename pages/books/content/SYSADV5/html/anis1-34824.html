<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>NIS Elements - System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="anis1-28089.html">Previous</a>
             </td>
             <td align="right">
                 <a href="anis1-17499.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="intro-1.html">Part&nbsp;I&nbsp;About Naming and Directory Services</a></p>
<p class="toc level2"><a href="intro2ns-2.html">1.&nbsp;&nbsp;Naming and Directory Services (Overview)</a></p>
<p class="toc level2"><a href="a12swit-86415.html">2.&nbsp;&nbsp;The Name Service Switch (Overview)</a></p>
<p class="toc level1 tocsp"><a href="dnsadmin-1.html">Part&nbsp;II&nbsp;DNS Setup and Administration</a></p>
<p class="toc level2"><a href="dnsref-1.html">3.&nbsp;&nbsp;DNS Setup and Administration (Reference)</a></p>
<p class="toc level1 tocsp"><a href="nissetup-1.html">Part&nbsp;III&nbsp;NIS Setup and Administration</a></p>
<p class="toc level2"><a href="anis1-25461.html">4.&nbsp;&nbsp;Network Information Service (NIS) (Overview)</a></p>
<p class="toc level3"><a href="anis1-36956.html">NIS Introduction</a></p>
<p class="toc level3"><a href="anis1-28089.html">NIS Machine Types</a></p>
<div class="onpage">
<p class="toc level3"><a href="">NIS Elements</a></p>
</div>
<p class="toc level3"><a href="anis1-17499.html">NIS Binding</a></p>
<p class="toc level2 tocsp"><a href="cnis1-25208.html">5.&nbsp;&nbsp;Setting Up and Configuring NIS Service</a></p>
<p class="toc level2"><a href="anis2-22217.html">6.&nbsp;&nbsp;Administering NIS (Tasks)</a></p>
<p class="toc level2"><a href="abtrbl-18694.html">7.&nbsp;&nbsp;NIS Troubleshooting</a></p>
<p class="toc level1 tocsp"><a href="ldapsetup-1.html">Part&nbsp;IV&nbsp;LDAP Naming Services Setup and Administration</a></p>
<p class="toc level2"><a href="overview-1.html">8.&nbsp;&nbsp;Introduction to LDAP Naming Services (Overview/Reference)</a></p>
<p class="toc level2"><a href="ldapsecure-1.html">9.&nbsp;&nbsp;LDAP Basic Components and Concepts (Overview)</a></p>
<p class="toc level2"><a href="planldap-1.html">10.&nbsp;&nbsp;Planning Requirements for LDAP Naming Services (Tasks)</a></p>
<p class="toc level2"><a href="sundssetup-13.html">11.&nbsp;&nbsp;Setting Up Sun Java System Directory Server With LDAP Clients (Tasks)</a></p>
<p class="toc level2"><a href="clientsetup-1.html">12.&nbsp;&nbsp;Setting Up LDAP Clients (Tasks)</a></p>
<p class="toc level2"><a href="setupproblems-1.html">13.&nbsp;&nbsp;LDAP Troubleshooting (Reference)</a></p>
<p class="toc level2"><a href="schemas-1.html">14.&nbsp;&nbsp;LDAP General Reference (Reference)</a></p>
<p class="toc level2"><a href="nis2ldap-34.html">15.&nbsp;&nbsp;Transitioning From NIS to LDAP (Overview/Tasks)</a></p>
<p class="toc level2"><a href="nisplus2ldap-1.html">16.&nbsp;&nbsp;Transitioning From NIS+ to LDAP</a></p>
<p class="toc level1 tocsp"><a href="ghnmu.html">Part&nbsp;V&nbsp;Active Directory Naming Service</a></p>
<p class="toc level2"><a href="ghnov.html">17.&nbsp;&nbsp;Setting Up Solaris Active Directory Clients</a></p>
<p class="toc level1 tocsp"><a href="whatsnew-1.html">A.&nbsp;&nbsp;Solaris 10 Software Updates to DNS, NIS, and LDAP</a></p>
<p class="toc level2"><a href="whatsnew-5.html">Service Management Facility Changes</a></p>
<p class="toc level2"><a href="whatsnew-2.html">DNS BIND</a></p>
<p class="toc level2"><a href="schemas-290.html"><tt>pam_ldap</tt> Changes</a></p>
<p class="toc level2"><a href="whatsnew-3.html">Documentation Errors</a></p>
<p class="toc level1 tocsp"><a href="aagloss-87604.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="anis1-34824"></a><h3>NIS Elements</h3>
<a name="indexterm-134"></a><p>The NIS naming service is composed of the following elements:</p>
<ul><li><p>Domains (see <a href="#anis1-24002">The NIS Domain</a>)</p></li>
<li><p>Daemons (see <a href="#anis1-34815">NIS Daemons</a>)</p></li>
<li><p>Utilities (see <a href="#anis1-25301">NIS Utilities</a>)</p></li>
<li><p>Maps (see <a href="#anis1-24268">NIS Maps</a>)</p></li>
<li><p>NIS Command Set (see <a href="#anis1-21939">NIS-Related Commands</a>)</p></li></ul>


<a name="anis1-24002"></a><h4>The NIS Domain</h4>
<a name="indexterm-135"></a><a name="indexterm-136"></a><p>An NIS <b>domain</b> is a collection of machines which share a common set
of NIS maps. Each domain has a domain name and each machine sharing
the common set of maps belongs to that domain.</p><p>Any machine can belong to a given domain, as long as there
is a server for that domain's maps in the same network. An NIS
client machine obtains its domain name and binds to an NIS server as
part of its boot process.</p>

<a name="anis1-34815"></a><h4>NIS Daemons</h4>
<a name="indexterm-137"></a><a name="indexterm-138"></a><a name="indexterm-139"></a><a name="indexterm-140"></a><p>NIS service is provided by five daemons as shown in <a href="#anis1-40197">Table&nbsp;4-1</a>. The
NIS service is managed by the Service Management Facility. Administrative actions on this
service, such as enabling, disabling, or restarting, can be performed by using the
<tt>svcadm</tt> command. For an overview of SMF, refer to <a href="http://docs.sun.com/doc/819-2379/hbrunlevels-25516?a=view">Chapter 16, Managing Services (Overview), in <i>System Administration Guide: Basic Administration</i></a>. Also refer to
the <a href="http://docs.sun.com/doc/819-2240/svcadm-1m?a=view"><tt>svcadm</tt>(1M)</a> and <a href="http://docs.sun.com/doc/819-2239/svcs-1?a=view"><tt>svcs</tt>(1)</a> man pages for more details.</p><a name="anis1-40197"></a><h6>Table&nbsp;4-1 NIS Daemons</h6><table><col width="33%"><col width="66%"><tr><th align="left" valign="top" scope="column"><p>Daemon</p></th>
<th align="left" valign="top" scope="column"><p>Function</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-141"></a><tt>ypserv</tt></p></td>
<td align="left" valign="top" scope="row"><p>Server process</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-142"></a><tt>ypbind</tt></p></td>
<td align="left" valign="top" scope="row"><p>Binding process</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-143"></a><tt>ypxfrd</tt></p></td>
<td align="left" valign="top" scope="row"><p>High speed
map transfer</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-144"></a><tt>rpc.yppasswdd</tt></p></td>
<td align="left" valign="top" scope="row"><p>NIS password update daemon</p><p>** See NOTE below.**</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-145"></a><tt>rpc.ypupdated</tt></p></td>
<td align="left" valign="top" scope="row"><p>Modifies other maps such as
<tt>publickey</tt></p></td>
</tr>
</table>
<hr><p><b>Note - </b><tt>rpc.yppasswdd</tt> considers all shells that begin with an <tt>r</tt> to be restricted. For
example, if you are in <tt>/bin/rksh</tt>, you are not allowed to change
from that shell to another one.  If you have a shell that
begins with <tt>r</tt> but is not intended to be restricted as such, refer
to <a href="abtrbl-18694.html">Chapter&nbsp;7, NIS Troubleshooting</a> for the workaround.</p>
<hr>


<a name="anis1-25301"></a><h4>NIS Utilities</h4>
<a name="indexterm-146"></a><p>NIS service is supported by nine utilities as shown in <a href="#anis1-11091">Table&nbsp;4-2</a>.</p><a name="anis1-11091"></a><h6>Table&nbsp;4-2 NIS Utilities</h6><table><col width="20%"><col width="79%"><tr><th align="left" valign="top" scope="column"><p>Utility</p></th>
<th align="left" valign="top" scope="column"><p>Function</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-147"></a><tt>makedbm</tt></p></td>
<td align="left" valign="top" scope="row"><p>Creates <tt>dbm</tt>
file for an NIS map</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-148"></a><tt>ypcat</tt></p></td>
<td align="left" valign="top" scope="row"><p>Lists data in a map</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-149"></a><tt>ypinit</tt></p></td>
<td align="left" valign="top" scope="row"><p>Builds and installs an
NIS database and initializes NIS client's <tt>ypservers</tt> list.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-150"></a><tt>ypmatch</tt></p></td>
<td align="left" valign="top" scope="row"><p>Finds a specific entry in
a map</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-151"></a><tt>yppoll</tt></p></td>
<td align="left" valign="top" scope="row"><p>Gets a map order number from a server</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-152"></a><tt>yppush</tt></p></td>
<td align="left" valign="top" scope="row"><p>Propagates data from NIS
master to NIS slave server</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-153"></a><tt>ypset</tt></p></td>
<td align="left" valign="top" scope="row"><p>Sets binding to a particular server</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-154"></a><tt>ypwhich</tt></p></td>
<td align="left" valign="top" scope="row"><p>Lists name of
the NIS server and nickname translation table</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-155"></a><tt>ypxfr</tt></p></td>
<td align="left" valign="top" scope="row"><p>Transfers data from master to slave
NIS server</p></td>
</tr>
</table>

<a name="anis1-24268"></a><h4>NIS Maps</h4>
<p><a name="indexterm-156"></a><a name="indexterm-157"></a><a name="indexterm-158"></a>The information in NIS maps is stored in <tt>ndbm</tt> format. <a href="http://docs.sun.com/doc/819-2251/ypfiles-4?a=view"><tt>ypfiles</tt>(4)</a> and
<a href="http://docs.sun.com/doc/819-2243/ndbm-3c?a=view"><tt>ndbm</tt>(3C)</a> explain the format of the map file.</p><p><a name="indexterm-159"></a>NIS maps were designed to replace UNIX <tt>/etc</tt> files, as well as other configuration
files, so they store much more than names and addresses. On a network
running NIS, the NIS master server for each NIS domain maintains a set
of NIS maps for other machines in the domain to query. NIS
slave servers also maintain duplicates of the master server's maps. NIS client machines can
obtain namespace information from either master or slave servers.</p><p><a name="indexterm-160"></a><a name="indexterm-161"></a><a name="indexterm-162"></a>NIS maps are essentially two-column tables. One column is the <b>key</b> and the other
column is information related to the key. NIS finds information for a client
by searching through the keys. Some information is stored in several maps because
each map uses a different key. For example, the names and addresses of
machines are stored in two maps: <tt>hosts.byname</tt> and <tt>hosts.byaddr</tt>. When a server
has a machine's name and needs to find its address, it looks in
the <tt>hosts.byname</tt> map. When it has the address and needs to find the
name, it looks in the <tt>hosts.byaddr</tt> map.</p><p><a name="indexterm-163"></a><a name="indexterm-164"></a><a name="indexterm-165"></a>An NIS <tt>Makefile</tt> is stored in the <tt>/var/yp</tt> directory of machines designated as an
NIS server at installation time. Running  <tt>make</tt> in that directory causes
<tt>makedbm</tt> to create or modify the default NIS maps from the input files.</p>
<hr><p><b>Note - </b>Always create maps on the master server, as maps created on a slave
will not automatically be pushed to the master server.</p>
<hr>


<a name="anis1-6"></a><h5>Default NIS Maps</h5>
<a name="indexterm-166"></a><p>A default set of NIS maps are provided in the Solaris system.
You might want to use all these maps or only some of them.
NIS can also use whatever maps you create or add when you install
other software products.</p><p><a name="indexterm-167"></a><a name="indexterm-168"></a><a name="indexterm-169"></a>Default maps for an NIS domain are located in each server's <tt>/var/yp/</tt><i>domainname</i>
directory. For example, the maps that belong to the domain <tt>test.com</tt> are located in
each server's <tt>/var/yp/test.com</tt> directory.</p><p><a href="#anis1-12508">Table&nbsp;4-3</a> describes the default NIS maps, information they contain, and whether the software
consults the corresponding administrative files when NIS is running.</p><a name="anis1-12508"></a><h6>Table&nbsp;4-3 NIS Map Descriptions</h6><table><col width="29%"><col width="24%"><col width="46%"><tr><th align="left" valign="top" scope="column"><p>Map Name</p></th>
<th align="left" valign="top" scope="column"><p>Corresponding NIS Admin File</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>audit_user</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>audit_user</tt></p></td>
<td align="left" valign="top" scope="row"><p>Contains
user auditing preselection data.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>auth_attr</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>auth_attr</tt></p></td>
<td align="left" valign="top" scope="row"><p>Contains authorization names and descriptions.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>bootparams</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>bootparams</tt></p></td>
<td align="left" valign="top" scope="row"><p>Contains path names of files
clients need during boot: root, swap, possibly others.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ethers.byaddr</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>ethers</tt></p></td>
<td align="left" valign="top" scope="row"><p>Contains machine names and Ethernet addresses.
The Ethernet address is the key in the map.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ethers.byname</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>ethers</tt></p></td>
<td align="left" valign="top" scope="row"><p>Same  as <tt>ethers.byaddr</tt>, except
the key is machine name instead of the Ethernet address.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>exec_attr</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>exec_attr</tt></p></td>
<td align="left" valign="top" scope="row"><p>Contains profile execution attributes.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>group.bygid</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>group</tt></p></td>
<td align="left" valign="top" scope="row"><p>Contains
group security information with group ID as key.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>group.byname</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>group</tt></p></td>
<td align="left" valign="top" scope="row"><p>Contains group security information with
group name as key.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>hosts.byaddr</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>hosts</tt></p></td>
<td align="left" valign="top" scope="row"><p>Contains machine name, and IP address, with IP address
as key.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>hosts.byname</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>hosts</tt></p></td>
<td align="left" valign="top" scope="row"><p>Contains machine name and IP address, with machine (host) name as
key.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>mail.aliases</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>aliases</tt></p></td>
<td align="left" valign="top" scope="row"><p>Contains aliases and mail addresses, with aliases as key.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>mail.byaddr</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>aliases</tt></p></td>
<td align="left" valign="top" scope="row"><p>Contains mail address and
alias, with mail address as key.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>netgroup.byhost</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>netgroup</tt></p></td>
<td align="left" valign="top" scope="row"><p>Contains group name, user name and machine
name.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>netgroup.byuser</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>netgroup</tt></p></td>
<td align="left" valign="top" scope="row"><p>Same as <tt>netgroup.byhost</tt>, except that key is user name.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>netgroup</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>netgroup</tt></p></td>
<td align="left" valign="top" scope="row"><p>Same as <tt>netgroup.byhost</tt>, except that
key is group name.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>netid.byname</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>passwd, hosts</tt></p><p><tt>group</tt></p></td>
<td align="left" valign="top" scope="row"><p>Used for UNIX-style authentication. Contains machine name and mail address (including
domain name). If there is a <tt>netid</tt> file available it is consulted in
addition to the data available through the other files.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>netmasks.byaddr</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>netmasks</tt></p></td>
<td align="left" valign="top" scope="row"><p>Contains network mask to
be used with IP submitting, with the address as key.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>networks.byaddr</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>networks</tt></p></td>
<td align="left" valign="top" scope="row"><p>Contains names of networks
known to your system and their IP addresses, with the address as key.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>networks.byname</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>networks</tt></p></td>
<td align="left" valign="top" scope="row"><p>Same
as <tt>networks.byaddr</tt>, except key is name of network.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>passwd.adjunct.byname</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>passwd</tt> and <tt>shadow</tt></p></td>
<td align="left" valign="top" scope="row"><p>Contains auditing information and
the hidden password information for C2 clients.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>passwd.byname</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>passwd</tt> and <tt>shadow</tt></p></td>
<td align="left" valign="top" scope="row"><p>Contains password information with user
name as key.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>passwd.byuid</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>passwd</tt> and <tt>shadow</tt></p></td>
<td align="left" valign="top" scope="row"><p>Same as <tt>passwd.byname</tt>, except that key is user ID.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>prof_attr</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>prof_attr</tt></p></td>
<td align="left" valign="top" scope="row"><p>Contains
attributes for execution profiles.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>protocols.byname</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>protocols</tt></p></td>
<td align="left" valign="top" scope="row"><p>Contains network protocols known to your network.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>protocols.bynumber</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>protocols</tt></p></td>
<td align="left" valign="top" scope="row"><p>Same as <tt>protocols.byname</tt>,
except that key is protocol number.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>rpc.bynumber</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>rpc</tt></p></td>
<td align="left" valign="top" scope="row"><p>Contains program number and name of RPCs known
to your system. Key is RPC program number.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>services.byname</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>services</tt></p></td>
<td align="left" valign="top" scope="row"><p>Lists Internet services known to your
network. Key is port or protocol.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>services.byservice</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>services</tt></p></td>
<td align="left" valign="top" scope="row"><p>Lists Internet services known to your network.
Key is service name.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>user_attr</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>user_attr</tt></p></td>
<td align="left" valign="top" scope="row"><p>Contains extended attributes for users and roles.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ypservers</tt></p></td>
<td align="left" valign="top" scope="row"><p>N/A</p></td>
<td align="left" valign="top" scope="row"><p>Lists NIS servers
known to your network.</p></td>
</tr>
</table><p>New <tt>ipnodes</tt> maps (<tt>ipnodes.byaddr</tt> and <tt>ipnodes.byname</tt>) are added to NIS. The maps
store both IPv4 and IPv6 addresses.</p>
<hr><p><b>Note - </b>Starting with Solaris Express 10/06, the Solaris OS does not have two separate
<tt>hosts</tt> files. The <tt>/etc/inet/hosts</tt> file is the single  <tt>hosts</tt> file that contains
both IPv4 and IPv6 entries. You do not need to maintain IPv4 entries
in two hosts files that always require synchronization. For backward compatibility, the <tt>/etc/inet/ipnodes</tt>
file is replaced with a symbolic link of the same name to the
 <tt>/etc/inet/hosts</tt> file.  </p><p>For more information, see the <a href="http://docs.sun.com/doc/819-2251/hosts-4?a=view"><tt>hosts</tt>(4)</a> man page.</p><p>NIS clients and servers can communicate using either IPv4 or IPv6 RPC transports.</p>
<hr>
<p>The <tt>ageing.byname</tt> mapping contains information used by <tt>yppasswdd</tt> to read and write password
aging information to the DIT when the NIS-to-LDAP transition is implemented. If password
aging is not being used, then it can be commented out of the
mapping file. For more information about the NIS-to-LDAP transition, see <a href="nis2ldap-34.html">Chapter&nbsp;15, Transitioning From NIS to LDAP (Overview/Tasks)</a>.</p>

<a name="anis1-7"></a><h5>Using NIS Maps</h5>
<a name="indexterm-170"></a><a name="indexterm-171"></a><p>NIS makes updating network databases much simpler than with the <tt>/etc</tt> files
system. You no longer have to change the administrative <tt>/etc</tt> files on
every machine each time you modify the network environment.</p><p><a name="indexterm-172"></a><a name="indexterm-173"></a>For example, when you add a new machine to a network running NIS,
you only have to update the input file in the master server
and run <tt>make</tt>. This automatically updates the <tt>hosts.byname</tt> and <tt>hosts.byaddr</tt> maps. These maps
are then transferred to any slave servers and are made available to all
of the domain's client machines and their programs. When a client machine or
application requests a machine name or address, the NIS server refers to the
<tt>hosts.byname</tt> or <tt>hosts.byaddr</tt> map as appropriate and sends the requested information to the
client.</p><p><a name="indexterm-174"></a><a name="indexterm-175"></a>You can use the <tt>ypcat</tt> command to display the values in a map.
The <tt>ypcat</tt> basic format is the following.</p><pre>% <tt><b>ypcat </tt><i>mapname</i><tt></b></tt></pre><p>where <i>mapname</i> is the name of the map you want to examine or
its <b>nickname</b>. If a map is composed only of keys, as in the
case of <tt>ypservers</tt>, use <tt>ypcat</tt> <tt>-k</tt>. Otherwise, <tt>ypcat</tt> prints blank lines. The <a href="http://docs.sun.com/doc/819-2239/ypcat-1?a=view"><tt>ypcat</tt>(1)</a>
man page describes more options for  <tt>ypcat</tt>.</p><p><a name="indexterm-176"></a><a name="indexterm-177"></a>You can use the <tt>ypwhich</tt> command to determine which server is the
master of a particular map. Type the following.</p><pre>% <tt><b>ypwhich</b></tt> <tt>-m</tt> <tt><b></tt><i>mapname</i><tt></b></tt></pre><p>where <i>mapname</i> is the name or the nickname of the map whose master
you want to find. <tt>ypwhich</tt> responds by displaying the name of the master
server. For complete information, refer to the <a href="http://docs.sun.com/doc/819-2239/ypwhich-1?a=view"><tt>ypwhich</tt>(1)</a> man page.</p>

<a name="anis1-8"></a><h5>NIS Map Nicknames</h5>
<a name="indexterm-178"></a><p><b>Nicknames</b> are aliases for full map names. To obtain a list of available
map nicknames, such as <tt>passwd</tt> for <tt>passwd.byname</tt>, type <tt>ypcat</tt> <tt>-x</tt> or <tt>ypwhich</tt>
<tt>-x</tt>.</p><p><a name="indexterm-179"></a><a name="indexterm-180"></a>Nicknames are stored in the <tt>/var/yp/nicknames</tt> file, which contains a map nickname followed
by the fully specified name for the map, separated by a space. This
list might be added to or modified. Currently, there is a limit of
500 nicknames. </p>

<a name="anis1-21939"></a><h4>NIS-Related Commands</h4>
<a name="indexterm-181"></a><p>The NIS service includes specialized daemons, system programs, and commands, which are summarized
in the following table.</p><a name="anis1-24921"></a><h6>Table&nbsp;4-4 NIS Command Summary</h6><table><col width="22%"><col width="77%"><tr><th align="left" valign="top" scope="column"><p>Command</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-182"></a><tt>ypserv</tt></p></td>
<td align="left" valign="top" scope="row"><p>Services NIS clients' requests for information from an NIS
map. <tt>ypserv</tt> is a daemon that runs on NIS servers with a
complete set of maps. At least one <tt>ypserv</tt> daemon must be present on
the network for NIS service to function.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-183"></a><tt>ypbind</tt></p></td>
<td align="left" valign="top" scope="row"><p>Provides NIS server binding information to clients.
It provides binding by finding a <tt>ypserv</tt> process that serves maps within the domain
of the requesting client. <tt>ypbind</tt> must run on all servers and clients.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-184"></a><tt>ypinit</tt></p></td>
<td align="left" valign="top" scope="row"><p>Automatically creates
maps for an NIS server from the input files. It is also used
to construct the initial <tt>/var/yp/binding/</tt><i>domain</i><tt>/ypservers</tt> file on the clients. Use <tt>ypinit</tt> to
set up the master NIS server and the slave NIS servers for the
first time.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-185"></a><tt>make</tt></p></td>
<td align="left" valign="top" scope="row"><p>Updates NIS maps by reading the <tt>Makefile</tt> (when run in the <tt>/var/yp</tt>
directory). You can use <tt>make</tt> to update all maps based on the input
files or to update individual maps. The <a href="http://docs.sun.com/doc/819-2240/ypmake-1m?a=view"><tt>ypmake</tt>(1M)</a> man page describes the functionality
of <tt>make</tt> for NIS.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-186"></a><tt>makedbm</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>makedbm</tt> takes an input file and converts it into
<tt>dbm.dir</tt> and <tt>dbm.pag</tt> files &ndash; valid <tt>dbm</tt> files that NIS can use
as maps. You can also use <tt>makedbm</tt> <tt>-u</tt> to disassemble a map,
so that you can see the key-value pairs that comprise it.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-187"></a><tt>ypxfr</tt></p></td>
<td align="left" valign="top" scope="row"><p>Pulls an NIS
map from a remote server to the local <tt>/var/yp/</tt><i>domain</i> directory, using NIS
itself as the transport medium. You can run <tt>ypxfr</tt> interactively, or periodically from
a <tt>crontab</tt> file. It is also called by <tt>ypserv</tt> to initiate a transfer.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-188"></a><tt>ypxfrd</tt></p></td>
<td align="left" valign="top" scope="row"><p>Provides
map transfers service for <tt>ypxfr</tt> requests (generally slave servers). It is run only
on the master server.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-189"></a><tt>yppush</tt></p></td>
<td align="left" valign="top" scope="row"><p>Copies a new version of an NIS map from
the NIS master server to its slaves. You run it on the master
NIS server.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-190"></a><tt>ypset</tt></p></td>
<td align="left" valign="top" scope="row"><p>Tells a <tt>ypbind</tt> process to bind to a named NIS server. This
is  not for casual use and its use is discouraged because
of security implications. See the <a href="http://docs.sun.com/doc/819-2240/ypset-1m?a=view"><tt>ypset</tt>(1M)</a> and <a href="http://docs.sun.com/doc/819-2240/ypbind-1m?a=view"><tt>ypbind</tt>(1M)</a> man pages for information about the
<tt>ypset</tt> and <tt>ypsetme</tt> options to the <tt>ypbind</tt> process.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>yppoll</tt></p></td>
<td align="left" valign="top" scope="row"><p>Tells which version of an
NIS map is running on a server that you specify. It also lists
the master server for the map.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-191"></a><tt>ypcat</tt></p></td>
<td align="left" valign="top" scope="row"><p>Displays the contents of an NIS map.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-192"></a><tt>ypmatch</tt></p></td>
<td align="left" valign="top" scope="row"><p>Prints
the value for one or more specified keys in an NIS map.
You cannot specify which version of the NIS server map you are seeing.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-193"></a><tt>ypwhich</tt></p></td>
<td align="left" valign="top" scope="row"><p>Shows
which NIS server a client is using at the moment for NIS
services, or, if invoked with the <tt>-m</tt> <i>mapname</i> option, which NIS server is master
of each of the maps. If only <tt>-m</tt> is used, it displays the
names of all the maps available and their respective master servers.</p></td>
</tr>
</table>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="anis1-28089.html">Previous</a>
             </td>
             <td align="right">
                 <a href="anis1-17499.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

