<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Planning the LDAP Data Population - System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="planldap-3.html">Previous</a>
             </td>
             <td align="right">
                 <a href="sundssetup-13.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="intro-1.html">Part&nbsp;I&nbsp;About Naming and Directory Services</a></p>
<p class="toc level2"><a href="intro2ns-2.html">1.&nbsp;&nbsp;Naming and Directory Services (Overview)</a></p>
<p class="toc level2"><a href="a12swit-86415.html">2.&nbsp;&nbsp;The Name Service Switch (Overview)</a></p>
<p class="toc level1 tocsp"><a href="dnsadmin-1.html">Part&nbsp;II&nbsp;DNS Setup and Administration</a></p>
<p class="toc level2"><a href="dnsref-1.html">3.&nbsp;&nbsp;DNS Setup and Administration (Reference)</a></p>
<p class="toc level1 tocsp"><a href="nissetup-1.html">Part&nbsp;III&nbsp;NIS Setup and Administration</a></p>
<p class="toc level2"><a href="anis1-25461.html">4.&nbsp;&nbsp;Network Information Service (NIS) (Overview)</a></p>
<p class="toc level2"><a href="cnis1-25208.html">5.&nbsp;&nbsp;Setting Up and Configuring NIS Service</a></p>
<p class="toc level2"><a href="anis2-22217.html">6.&nbsp;&nbsp;Administering NIS (Tasks)</a></p>
<p class="toc level2"><a href="abtrbl-18694.html">7.&nbsp;&nbsp;NIS Troubleshooting</a></p>
<p class="toc level1 tocsp"><a href="ldapsetup-1.html">Part&nbsp;IV&nbsp;LDAP Naming Services Setup and Administration</a></p>
<p class="toc level2"><a href="overview-1.html">8.&nbsp;&nbsp;Introduction to LDAP Naming Services (Overview/Reference)</a></p>
<p class="toc level2"><a href="ldapsecure-1.html">9.&nbsp;&nbsp;LDAP Basic Components and Concepts (Overview)</a></p>
<p class="toc level2"><a href="planldap-1.html">10.&nbsp;&nbsp;Planning Requirements for LDAP Naming Services (Tasks)</a></p>
<p class="toc level3"><a href="planldap-10.html">LDAP Planning Overview</a></p>
<p class="toc level3"><a href="planldap-11.html">Planning the LDAP Network Model</a></p>
<p class="toc level3"><a href="planldap-111111.html">Planning the Directory Information Tree (DIT)</a></p>
<p class="toc level3"><a href="sundssetup-8.html">LDAP and Replica Servers</a></p>
<p class="toc level3"><a href="planldap-2.html">Planning the LDAP Security Model</a></p>
<p class="toc level3"><a href="planldap-3.html">Planning Client Profiles and Default Attribute Values for LDAP</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Planning the LDAP Data Population</a></p>
</div>
<p class="toc level2 tocsp"><a href="sundssetup-13.html">11.&nbsp;&nbsp;Setting Up Sun Java System Directory Server With LDAP Clients (Tasks)</a></p>
<p class="toc level2"><a href="clientsetup-1.html">12.&nbsp;&nbsp;Setting Up LDAP Clients (Tasks)</a></p>
<p class="toc level2"><a href="setupproblems-1.html">13.&nbsp;&nbsp;LDAP Troubleshooting (Reference)</a></p>
<p class="toc level2"><a href="schemas-1.html">14.&nbsp;&nbsp;LDAP General Reference (Reference)</a></p>
<p class="toc level2"><a href="nis2ldap-34.html">15.&nbsp;&nbsp;Transitioning From NIS to LDAP (Overview/Tasks)</a></p>
<p class="toc level2"><a href="nisplus2ldap-1.html">16.&nbsp;&nbsp;Transitioning From NIS+ to LDAP</a></p>
<p class="toc level1 tocsp"><a href="ghnmu.html">Part&nbsp;V&nbsp;Active Directory Naming Service</a></p>
<p class="toc level2"><a href="ghnov.html">17.&nbsp;&nbsp;Setting Up Solaris Active Directory Clients</a></p>
<p class="toc level1 tocsp"><a href="whatsnew-1.html">A.&nbsp;&nbsp;Solaris 10 Software Updates to DNS, NIS, and LDAP</a></p>
<p class="toc level2"><a href="whatsnew-5.html">Service Management Facility Changes</a></p>
<p class="toc level2"><a href="whatsnew-2.html">DNS BIND</a></p>
<p class="toc level2"><a href="schemas-290.html"><tt>pam_ldap</tt> Changes</a></p>
<p class="toc level2"><a href="whatsnew-3.html">Documentation Errors</a></p>
<p class="toc level1 tocsp"><a href="aagloss-87604.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="planldap-4"></a><h3>Planning the LDAP Data Population</h3>
<p><a name="indexterm-502"></a>To populate the LDAP server with data, after the LDAP server has been
configured with the proper DIT and schema. Use the new <tt>ldapaddent</tt> tool. This tool
will create entries in LDAP containers from their corresponding <tt>/etc</tt> files. 
It can be used to populate data into the containers for the following
types of data: <tt>aliases</tt>, <tt>auto_*</tt>, <tt>bootparams</tt>,  <tt>ethers</tt>, <tt>group</tt>, <tt>hosts</tt> (including IPv6
addresses), <tt>netgroup</tt>, <tt>netmasks</tt>, <tt>networks</tt>, <tt>passwd</tt>, <tt>shadow</tt>, <tt>protocols</tt>, <tt>publickey</tt>, <tt>rpc</tt>, and <tt>services</tt>.</p><p>By default, <tt>ldapaddent</tt> reads from the standard input and adds this data to
the LDAP container associated with the database specified on the command line. But
an input file from which data should be read can be specified using
the <tt>-f</tt> option.</p><p>Because the entries are stored in the directory based on the client's configuration,
the client must be configured to use the LDAP naming services.</p><p>For better performance, load the databases in this order:</p>
<ol><li><p><tt>passwd</tt> database followed by <tt>shadow</tt> database</p></li>
<li><p><tt>networks</tt> database followed by <tt>netmasks</tt> database</p></li>
<li><p><tt>bootparams</tt> database followed by <tt>ethers</tt> database</p></li></ol>
<p>Note that when adding automounter entries, the database name is in the form
of <tt>auto_*</tt> (for example, <tt>auto_home</tt>).</p><p>If you have <tt>/etc</tt> files from different hosts to add to the LDAP
server, you can either merge all of them into the same <tt>/etc</tt>
file and then use <tt>ldapaddent</tt> on one host to add the files, or
perform <tt>ldapaddent</tt> on the different hosts one by one, with the expectation that
each host is already configured as a LDAP client.</p><p>If your naming service data is already in an NIS server, and
you want to move the data to the LDAP server for LDAP naming
services, use the <tt>ypcat</tt> (or <tt>niscat</tt>) command to dump the NIS map
into files. Then, run <tt>ldapaddent</tt> against these files to add the data to the
LDAP server.</p>
<hr><p><b>Note - </b><tt>ldapaddent</tt> can only be run on an LDAP client.</p>
<hr>
<p>The following procedure assumes that the tables are to be extracted from a
<tt>yp</tt> client.</p>

<a name="planldap-proc-17"></a><h4>How to Populate a Server With <tt>host</tt> Entries Using <tt>ldapaddent</tt></h4><ol>
<li><a name="planldap-step-21"></a><b>Make sure that Sun Java System Directory Server was set up using
<tt>idsconfig</tt>.</b></li>
<li><a name="planldap-step-18"></a><b>On a client machine, become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="http://docs.sun.com/doc/819-3321/rbactask-1?a=view">Chapter 9, Using Role-Based Access Control (Tasks), in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><a name="planldap-step-19"></a><b>Make the machine an LDAP client.</b><pre># <tt><b>ldapclient init</b></tt> <tt>-a</tt> <tt><b>profileName=new</b></tt> <tt>-a</tt> <tt><b>domainName=west.example.com \</b></tt>
<tt><b>192.168.0.1</b></tt> </pre></li>
<li><a name="planldap-step-20"></a><b>Populate the server with data.</b><pre># <tt><b>ldapaddent</b></tt> <tt>-D</tt> <tt><b>&ldquo;cn=directory manager&rdquo;</b></tt> <tt>-f</tt> <tt><b>/etc/hosts hosts</b></tt></pre><p>You will be prompted for a password.</p><p>In this example, <tt>ldapaddent</tt> will use the authentication method that has been
configured in the profile new. Selecting simple will cause the password to be
sent in the clear. For more information, refer to the <a href="http://docs.sun.com/doc/819-2240/ldapaddent-1m?a=view"><tt>ldapaddent</tt>(1M)</a> man page.</p></li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="planldap-3.html">Previous</a>
             </td>
             <td align="right">
                 <a href="sundssetup-13.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

