<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Running idsconfig - System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="sundssetup-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="sundssetup-70.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="intro-1.html">Part&nbsp;I&nbsp;About Naming and Directory Services</a></p>
<p class="toc level2"><a href="intro2ns-2.html">1.&nbsp;&nbsp;Naming and Directory Services (Overview)</a></p>
<p class="toc level2"><a href="a12swit-86415.html">2.&nbsp;&nbsp;The Name Service Switch (Overview)</a></p>
<p class="toc level1 tocsp"><a href="dnsadmin-1.html">Part&nbsp;II&nbsp;DNS Setup and Administration</a></p>
<p class="toc level2"><a href="dnsref-1.html">3.&nbsp;&nbsp;DNS Setup and Administration (Reference)</a></p>
<p class="toc level1 tocsp"><a href="nissetup-1.html">Part&nbsp;III&nbsp;NIS Setup and Administration</a></p>
<p class="toc level2"><a href="anis1-25461.html">4.&nbsp;&nbsp;Network Information Service (NIS) (Overview)</a></p>
<p class="toc level2"><a href="cnis1-25208.html">5.&nbsp;&nbsp;Setting Up and Configuring NIS Service</a></p>
<p class="toc level2"><a href="anis2-22217.html">6.&nbsp;&nbsp;Administering NIS (Tasks)</a></p>
<p class="toc level2"><a href="abtrbl-18694.html">7.&nbsp;&nbsp;NIS Troubleshooting</a></p>
<p class="toc level1 tocsp"><a href="ldapsetup-1.html">Part&nbsp;IV&nbsp;LDAP Naming Services Setup and Administration</a></p>
<p class="toc level2"><a href="overview-1.html">8.&nbsp;&nbsp;Introduction to LDAP Naming Services (Overview/Reference)</a></p>
<p class="toc level2"><a href="ldapsecure-1.html">9.&nbsp;&nbsp;LDAP Basic Components and Concepts (Overview)</a></p>
<p class="toc level2"><a href="planldap-1.html">10.&nbsp;&nbsp;Planning Requirements for LDAP Naming Services (Tasks)</a></p>
<p class="toc level2"><a href="sundssetup-13.html">11.&nbsp;&nbsp;Setting Up Sun Java System Directory Server With LDAP Clients (Tasks)</a></p>
<p class="toc level3"><a href="sundssetup-233.html">Configuring Sun Java System Directory Server Using <tt>idsconfig</tt></a></p>
<p class="toc level3"><a href="sundssetup-1.html">Using Service Search Descriptors to Modify Client Access to Various Services</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Running <tt>idsconfig</tt></a></p>
</div>
<p class="toc level3"><a href="sundssetup-70.html">Populating the Directory Server Using <tt>ldapaddent</tt></a></p>
<p class="toc level3"><a href="sundssetup-27.html">Managing Printer Entries</a></p>
<p class="toc level3"><a href="sundssetup-26.html">Populating the Directory Server With Additional Profiles</a></p>
<p class="toc level3"><a href="sundssetup-31.html">Configuring the Directory Server to Enable Account Management</a></p>
<p class="toc level3"><a href="sundssetup-40.html">Migrating Your Sun Java System Directory Server</a></p>
<p class="toc level2 tocsp"><a href="clientsetup-1.html">12.&nbsp;&nbsp;Setting Up LDAP Clients (Tasks)</a></p>
<p class="toc level2"><a href="setupproblems-1.html">13.&nbsp;&nbsp;LDAP Troubleshooting (Reference)</a></p>
<p class="toc level2"><a href="schemas-1.html">14.&nbsp;&nbsp;LDAP General Reference (Reference)</a></p>
<p class="toc level2"><a href="nis2ldap-34.html">15.&nbsp;&nbsp;Transitioning From NIS to LDAP (Overview/Tasks)</a></p>
<p class="toc level2"><a href="nisplus2ldap-1.html">16.&nbsp;&nbsp;Transitioning From NIS+ to LDAP</a></p>
<p class="toc level1 tocsp"><a href="ghnmu.html">Part&nbsp;V&nbsp;Active Directory Naming Service</a></p>
<p class="toc level2"><a href="ghnov.html">17.&nbsp;&nbsp;Setting Up Solaris Active Directory Clients</a></p>
<p class="toc level1 tocsp"><a href="whatsnew-1.html">A.&nbsp;&nbsp;Solaris 10 Software Updates to DNS, NIS, and LDAP</a></p>
<p class="toc level2"><a href="whatsnew-5.html">Service Management Facility Changes</a></p>
<p class="toc level2"><a href="whatsnew-2.html">DNS BIND</a></p>
<p class="toc level2"><a href="schemas-290.html"><tt>pam_ldap</tt> Changes</a></p>
<p class="toc level2"><a href="whatsnew-3.html">Documentation Errors</a></p>
<p class="toc level1 tocsp"><a href="aagloss-87604.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="sundssetup-33"></a><h3>Running <tt>idsconfig</tt></h3>

<hr><p><b>Note - </b>You do not need special rights to run <tt>idsconfig</tt>, nor do you need
to be an LDAP naming client. Remember to create a checklist as mentioned
in <a href="sundssetup-233.html#sundssetup-234">Creating a Checklist Based on Your Server Installation</a> in preparation for running <tt>idsconfig</tt>. You do not have to
run <tt>idsconfig</tt> from a server or an LDAP naming service client machine. You
can run <tt>idsconfig</tt> from any Solaris machine on the network.</p>
<hr>

<hr><p><b>Caution - </b><tt>idsconfig</tt> sends the Directory Manager's password in the clear. If you do not
want this to happen, you must run <tt>idsconfig</tt> on the directory server
itself, not on a client.</p>
<hr>


<a name="sundssetup-proc-224"></a><h4>How to Configure Sun Java System Directory Server Using <tt>idsconfig</tt></h4><ol>
<li><a name="sundssetup-step-15"></a><b>Make sure the target Sun Java System Directory Server is up and running.</b></li>
<li><a name="sundssetup-step-226"></a><b>Run <tt>idsconfig</tt>.</b><pre># <tt><b>/usr/lib/ldap/idsconfig</b></tt></pre><p>Refer to <a href="#sundssetup-ex-240">Example&nbsp;11-1</a> for an example run of <tt>idsconfig</tt> using the definitions listed in
the server and client checklists at the beginning of this chapter in
<a href="sundssetup-233.html#sundssetup-234">Creating a Checklist Based on Your Server Installation</a>.</p></li>
<li><a name="sundssetup-step-237"></a><b>Answer the questions when prompted.</b><p>Note that 'no' [n] is the default user input. If you need
clarification on any given question, type</p><pre><tt><b>h</b></tt></pre><p>and a brief help paragraph will appear.</p><p>After <tt>idsconfig</tt> has completed the setup of the directory, you need to
run the specified commands on the server before the server setup is complete
and the server is ready to serve clients.</p></li></ol>

<a name="sundssetup-39"></a><h4>Example <tt>idsconfig</tt> Setup</h4>
<p>This section provides an example of a simple <tt>idsconfig</tt> setup, without modifying many
of the defaults. The most complicated method of modifying client profiles is by
creating SSDs. Refer to <a href="sundssetup-1.html">Using Service Search Descriptors to Modify Client Access to Various Services</a> for a detailed discussion.</p><p>A carriage return sign after the prompt means that you are accepting the
[default] by hitting enter.</p>
<hr><p><b>Note - </b>Any parameters left blank in the summary screen will not be set up.</p>
<hr>
<p>After <tt>idsconfig</tt> has completed the setup of the directory, you need to run
the specified commands on the server before the server setup is complete and
the server is ready to serve clients.</p><a name="sundssetup-ex-240"></a><h6>Example&nbsp;11-1 Running <tt>idsconfig</tt> for the Example, Inc. Network</h6><pre># <tt><b>usr/lib/ldap/idsconfig</b></tt>
It is strongly recommended that you BACKUP the directory server
before running idsconfig.

Hit Ctrl-C at any time before the final confirmation to exit.

Do you wish to continue with server setup (y/n/h)? [n] <tt><b>Y</b></tt></pre><pre>Enter the directory server's hostname to setup: <tt><b>myserver</b></tt></pre><pre>Enter the Directory Server's port number (h=help): [389]
Enter the directory manager DN: [cn=Directory Manager] 
Enter passwd for cn=Directory Manager : 
Enter the domainname to be served (h=help): [west.example.com] 
Enter LDAP Base DN (h=help): [dc=west,dc=example,dc=com] 
Enter the profile name (h=help): [default] WestUserProfile
Default server list (h=help): [192.168.0.1] 
Preferred server list (h=help): 
Choose desired search scope (one, sub, h=help):  [one] 
The following are the supported credential levels:
  1  anonymous
  2  proxy
  3  proxy-anonymous
  4  self
  5  self proxy
  6  self proxy anonymous
Choose Credential level [h=help]: [1] <tt><b>2</b></tt></pre><pre>The following are the supported Authentication Methods:
  1  none
  2  simple
  3  sasl/DIGEST-MD5
  4  tls:simple
  5  tls:sasl/DIGEST-MD5
  6  sasl/GSSAPI
Choose Authentication Method (h=help): [1] <tt><b>2</b></tt></pre><pre>Current authenticationMethod: simple

Do you want to add another Authentication Method? <tt><b>N</b></tt></pre><pre>Do you want the clients to follow referrals (y/n/h)? [n] <tt><b>N</b></tt></pre><pre>Do you want to modify the server timelimit value (y/n/h)? [n] <tt><b>Y</b></tt></pre><pre>Enter the server time limit (current=3600): [-1]</pre><pre>Do you want to modify the server sizelimit value (y/n/h)? [n] <tt><b>Y</b></tt></pre><pre>Enter the server size limit (current=2000): [-1]</pre><pre>Do you want to store passwords in "crypt" format (y/n/h)? [n] <tt><b>Y</b></tt></pre><pre>Do you want to setup a Service Authentication Methods (y/n/h)? [n]
Client search time limit in seconds (h=help): [30] 
Profile Time To Live in seconds (h=help): [43200] </pre><pre>Bind time limit in seconds (h=help): [10]</pre><pre>Do you wish to setup Service Search Descriptors (y/n/h)? [n] 
 
              Summary of Configuration

  1  Domain to serve               : west.example.com
  2  Base DN to setup              : dc=west,dc=example,dc=com
  3  Profile name to create        : WestUserProfile
  4  Default Server List           : 192.168.0.1
  5  Preferred Server List         : 
  6  Default Search Scope          : one
  7  Credential Level              : proxy
  8  Authentication Method         : simple
  9  Enable Follow Referrals       : FALSE
 10  Server Time Limit             : -1
 11  Server Size Limit             : -1
 12  Enable crypt password storage : TRUE
 13  Service Auth Method pam_ldap  : 
 14  Service Auth Method keyserv   : 
 15  Service Auth Method passwd-cmd: 
 16  Search Time Limit             : 30
 17  Profile Time to Live          : 43200
 18  Bind Limit                    : 10
 19  Service Search Descriptors Menu

Enter config value to change: (1-19 0=commit changes) [0] 
Enter DN for proxy agent:[cn=proxyagent,ou=profile,dc=west,dc=example,dc=com]
Enter passwd for proxyagent: 
Re-enter passwd: 
 </pre><pre>WARNING: About to start committing changes. (y=continue, n=EXIT) <tt><b>Y</b></tt></pre><pre>1. Changed timelimit to -1 in cn=config.
2. Changed sizelimit to -1 in cn=config.
3. Changed passwordstoragescheme to "crypt" in cn=config.
4. Schema attributes have been updated.
5. Schema objectclass definitions have been added.
6. Created DN component dc=west.
7. NisDomainObject added to dc=west,dc=example,dc=com.
8. Top level "ou" containers complete.
9. automount maps: auto_home auto_direct auto_master auto_shared processed.
10. ACI for dc=west,dc=example,dc=com modified to disable self modify.
11. Add of VLV Access Control Information (ACI).
12. Proxy Agent cn=proxyagent,ou=profile,dc=west,dc=example,dc=com added.
13. Give cn=proxyagent,ou=profile,dc=west,dc=example,dc=com read permission for 
password.
14. Generated client profile and loaded on server.
15. Processing eq,pres indexes:
      uidNumber (eq,pres)   Finished indexing.
      ipNetworkNumber (eq,pres)   Finished indexing.
      gidnumber (eq,pres)   Finished indexing.
      oncrpcnumber (eq,pres)   Finished indexing.
      automountKey (eq,pres)   Finished indexing.
16. Processing eq,pres,sub indexes:
      ipHostNumber (eq,pres,sub)   Finished indexing.
      membernisnetgroup (eq,pres,sub)   Finished indexing.
      nisnetgrouptriple (eq,pres,sub)   Finished indexing.
17. Processing VLV indexes:
      west.example.com.getgrent vlv_index     Entry created
      west.example.com.gethostent vlv_index   Entry created
      west.example.com.getnetent vlv_index    Entry created
      west.example.com.getpwent vlv_index     Entry created
      west.example.com.getrpcent vlv_index    Entry created
      west.example.com.getspent vlv_index     Entry created
      west.example.com.getauhoent vlv_index   Entry created
      west.example.com.getsoluent vlv_index   Entry created
      west.example.com.getauduent vlv_index   Entry created
      west.example.com.getauthent vlv_index   Entry created
      west.example.com.getexecent vlv_index   Entry created
      west.example.com.getprofent vlv_index   Entry created
      west.example.com.getmailent vlv_index   Entry created
      west.example.com.getbootent vlv_index   Entry created
      west.example.com.getethent vlv_index    Entry created
      west.example.com.getngrpent vlv_index   Entry created
      west.example.com.getipnent vlv_index    Entry created
      west.example.com.getmaskent vlv_index   Entry created
      west.example.com.getprent vlv_index     Entry created
      west.example.com.getip4ent vlv_index    Entry created
      west.example.com.getip6ent vlv_index    Entry created

idsconfig: Setup of myserver is complete.

Note: idsconfig has created entries for VLV indexes.  Use the
      directoryserver(1m) script on myserver to stop
      the server and then enter the following vlvindex
      sub-commands to create the actual VLV indexes:

  directoryserver -s myserver vlvindex -n userRoot -T west.example.com.getgrent
  directoryserver -s myserver vlvindex -n userRoot -T west.example.com.gethostent
  directoryserver -s myserver vlvindex -n userRoot -T west.example.com.getnetent
  directoryserver -s myserver vlvindex -n userRoot -T west.example.com.getpwent
  directoryserver -s myserver vlvindex -n userRoot -T west.example.com.getrpcent
  directoryserver -s myserver vlvindex -n userRoot -T west.example.com.getspent
  directoryserver -s myserver vlvindex -n userRoot -T west.example.com.getauhoent
  directoryserver -s myserver vlvindex -n userRoot -T west.example.com.getsoluent
  directoryserver -s myserver vlvindex -n userRoot -T west.example.com.getauduent
  directoryserver -s myserver vlvindex -n userRoot -T west.example.com.getauthent
  directoryserver -s myserver vlvindex -n userRoot -T west.example.com.getexecent
  directoryserver -s myserver vlvindex -n userRoot -T west.example.com.getprofent
  directoryserver -s myserver vlvindex -n userRoot -T west.example.com.getmailent
  directoryserver -s myserver vlvindex -n userRoot -T west.example.com.getbootent
  directoryserver -s myserver vlvindex -n userRoot -T west.example.com.getethent
  directoryserver -s myserver vlvindex -n userRoot -T west.example.com.getngrpent
  directoryserver -s myserver vlvindex -n userRoot -T west.example.com.getipnent
  directoryserver -s myserver vlvindex -n userRoot -T west.example.com.getmaskent
  directoryserver -s myserver vlvindex -n userRoot -T west.example.com.getprent
  directoryserver -s myserver vlvindex -n userRoot -T west.example.com.getip4ent
  directoryserver -s myserver vlvindex -n userRoot -T west.example.com.getip6ent</pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="sundssetup-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="sundssetup-70.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

