<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Verifying the Interface Version - Memory and Thread Placement Optimization Developer's Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-06-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Memory and Thread Placement Optimization Developer's Guide</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="lgroups-2.html">Previous</a>
             </td>
             <td align="right">
                 <a href="lgroups-4.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="geshf.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="lgroups-1.html">1.&nbsp;&nbsp;Locality Group APIs</a></p>
<p class="toc level2"><a href="lgroups-2.html">Locality Groups Overview</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Verifying the Interface Version</a></p>
</div>
<p class="toc level2"><a href="lgroups-4.html">Initializing the Locality Group Interface</a></p>
<p class="toc level2"><a href="lgroups-29.html">Locality Group Hierarchy</a></p>
<p class="toc level2"><a href="lgroups-30.html">Locality Group Contents</a></p>
<p class="toc level2"><a href="lgroups-31.html">Locality Group Characteristics</a></p>
<p class="toc level2"><a href="lgroups-32.html">Locality Groups and Thread and Memory Placement</a></p>
<p class="toc level2"><a href="lgroups-33.html">Examples of API Usage</a></p>
<p class="toc level1 tocsp"><a href="gevrx.html">2.&nbsp;&nbsp;MPO Observability Tools</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="lgroups-27"></a><h3>Verifying the Interface Version</h3>
<p>The <a href="http://docs.sun.com/doc/816-5172/lgrp-version-3lgrp?a=view"><tt>lgrp_version</tt>(3LGRP)</a> function must be used to verify the presence of a supported
lgroup interface before using the lgroup API. The <tt>lgrp_version()</tt> function has the
following syntax:</p><pre>#include &lt;sys/lgrp_user.h>
int lgrp_version(const int version);</pre><p>The <tt>lgrp_version()</tt> function takes a version number for the lgroup interface as an
argument and returns the lgroup interface version that the system supports. When the
current implementation of the lgroup API supports the version number in the <tt>version</tt>
argument, the <tt>lgrp_version()</tt> function returns that version number. Otherwise, the <tt>lgrp_version()</tt> function
returns <tt>LGRP_VER_NONE</tt>.</p><a name="lgroups-ex-26"></a>Example&nbsp;1-1 Example of <tt>lgrp_version()</tt> Use<pre>#include &lt;sys/lgrp_user.h>
if (lgrp_version(LGRP_VER_CURRENT) != LGRP_VER_CURRENT) {
    fprintf(stderr, "Built with unsupported lgroup interface %d\n",
        LGRP_VER_CURRENT);
    exit (1);
    }</pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="lgroups-2.html">Previous</a>
             </td>
             <td align="right">
                 <a href="lgroups-4.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

