<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>The <tt>Solaris::lgrp</tt> Module - Memory and Thread Placement Optimization Developer's Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-06-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Memory and Thread Placement Optimization Developer's Guide</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gesuq.html">Previous</a>
             </td>
             <td align="right">
                 
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="geshf.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="lgroups-1.html">1.&nbsp;&nbsp;Locality Group APIs</a></p>
<p class="toc level1 tocsp"><a href="gevrx.html">2.&nbsp;&nbsp;MPO Observability Tools</a></p>
<p class="toc level2"><a href="gevsz.html">The <tt>pmadvise</tt> utility</a></p>
<p class="toc level2"><a href="gevog.html">The <tt>plgrp</tt> tool</a></p>
<p class="toc level2"><a href="gesuq.html">The <tt>lgrpinfo</tt> Tool</a></p>
<div class="onpage">
<p class="toc level2"><a href="">The <tt>Solaris::lgrp</tt> Module</a></p>
</div>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="gesvi"></a><h3>The <tt>Solaris::lgrp</tt> Module</h3>
<p>This Perl module provides a Perl interface to the lgroup APIs that
are in <tt>liblgrp</tt>. This interface provides a way to traverse the lgroup hierarchy, discover
its contents and characteristics, and set a thread's affinity for an lgroup. The
module gives access to various constants and functions defined in the <tt>lgrp_user.h</tt> header
file. The module provides the procedural interface and the object interface to the
library.</p><p>The default behavior of this module does not export anything. You can use
the following tags to selectively import the constants and functions that are defined
in this module:</p><dl><dt><tt>:LGRP_CONSTANTS</tt></dt>
<dd><p><tt>LGRP_AFF_NONE</tt>, <tt>LGRP_AFF_STRONG</tt>, <tt>LGRP_AFF_WEAK</tt>, <tt>LGRP_CONTENT_DIRECT</tt>, <tt>LGRP_CONTENT_HIERARCHY</tt>, <tt>LGRP_MEM_SZ_FREE</tt>, <tt>LGRP_MEM_SZ_INSTALLED</tt>, <tt>LGRP_VER_CURRENT</tt>, <tt>LGRP_VER_NONE</tt>, <tt>LGRP_VIEW_CALLER</tt>, <tt>LGRP_VIEW_OS</tt>, <tt>LGRP_NONE</tt>, <tt>LGRP_RSRC_CPU</tt>, <tt>LGRP_RSRC_MEM</tt>, <tt>LGRP_CONTENT_ALL</tt>, <tt>LGRP_LAT_CPU_TO_MEM</tt></p></dd>
<dt><tt>:PROC_CONSTANTS</tt></dt>
<dd><p><tt>P_PID</tt>, <tt>P_LWPID</tt>, <tt>P_MYID</tt></p></dd>
<dt><tt>:CONSTANTS</tt></dt>
<dd><p><tt>:LGRP_CONSTANTS</tt>, <tt>:PROC_CONSTANTS</tt></p></dd>
<dt><tt>:FUNCTIONS</tt></dt>
<dd><p><tt>lgrp_affinity_get()</tt>, <tt>lgrp_affinity_set()</tt>, <tt>lgrp_children()</tt>, <tt>lgrp_cookie_stale()</tt>, <tt>lgrp_cpus()</tt>, <tt>lgrp_fini()</tt>, <tt>lgrp_home()</tt>, <tt>lgrp_init()</tt>, <tt>lgrp_latency()</tt>, <tt>lgrp_latency_cookie()</tt>, <tt>lgrp_mem_size()</tt>, <tt>lgrp_nlgrps()</tt>, <tt>lgrp_parents()</tt>, <tt>lgrp_root()</tt>, <tt>lgrp_version()</tt>, <tt>lgrp_view()</tt>, <tt>lgrp_resources()</tt>, <tt>lgrp_lgrps()</tt>, <tt>lgrp_leaves()</tt>, <tt>lgrp_isleaf()</tt>, <tt>lgrp_lgrps()</tt>, <tt>lgrp_leaves()</tt>.</p></dd>
<dt><tt>:ALL()</tt></dt>
<dd><p><tt>:CONSTANTS()</tt>, <tt>:FUNCTIONS()</tt></p></dd>
</dl>
<p>The Perl module has the following methods:</p>
<ul><li><p><tt>new()</tt></p></li>
<li><p><tt>cookie()</tt></p></li>
<li><p><tt>stale()</tt></p></li>
<li><p><tt>view()</tt></p></li>
<li><p><tt>root()</tt></p></li>
<li><p><tt>children()</tt></p></li>
<li><p><tt>parents()</tt></p></li>
<li><p><tt>nlgrps()</tt></p></li>
<li><p><tt>mem_size()</tt></p></li>
<li><p><tt>cpus()</tt></p></li>
<li><p><tt>isleaf()</tt></p></li>
<li><p><tt>resources()</tt></p></li>
<li><p><tt>version()</tt></p></li>
<li><p><tt>home()</tt></p></li>
<li><p><tt>affinity_get()</tt></p></li>
<li><p><tt>affinity_set()</tt></p></li>
<li><p><tt>lgrps()</tt></p></li>
<li><p><tt>leaves()</tt></p></li>
<li><p><tt>latency()</tt></p></li></ul>
<p>You can export constants with the <tt>:CONSTANTS</tt> or <tt>:ALL</tt> tags. You can
use any of the constants in the following list in Perl programs.</p>
<ul><li><p><tt>LGRP_NONE</tt></p></li>
<li><p><tt>LGRP_VER_CURRENT</tt></p></li>
<li><p><tt>LGRP_VER_NONE</tt></p></li>
<li><p><tt>LGRP_VIEW_CALLER</tt></p></li>
<li><p><tt>LGRP_VIEW_OS</tt></p></li>
<li><p><tt>LGRP_AFF_NONE</tt></p></li>
<li><p><tt>LGRP_AFF_STRONG</tt></p></li>
<li><p><tt>LGRP_AFF_WEAK</tt></p></li>
<li><p><tt>LGRP_CONTENT_DIRECT</tt></p></li>
<li><p><tt>LGRP_CONTENT_HIERARCHY</tt></p></li>
<li><p><tt>LGRP_MEM_SZ_FREE</tt></p></li>
<li><p><tt>LGRP_MEM_SZ_INSTALLED</tt></p></li>
<li><p><tt>LGRP_RSRC_CPU</tt></p></li>
<li><p><tt>LGRP_RSRC_MEM</tt></p></li>
<li><p><tt>LGRP_CONTENT_ALL</tt></p></li>
<li><p><tt>LGRP_LAT_CPU_TO_MEM</tt></p></li>
<li><p><tt>P_PID</tt></p></li>
<li><p><tt>P_LWPID</tt></p></li>
<li><p><tt>P_MYID</tt></p></li></ul>
<p>When an underlying library function fails, the functions in this module return either
<tt>undef</tt> or an empty list. The module can use the following error codes:</p><dl><dt><tt>EINVAL</tt></dt>
<dd><p>The value supplied is not valid.</p></dd>
<dt><tt>ENOMEM</tt></dt>
<dd><p>There was not enough system memory to complete an operation.</p></dd>
<dt><tt>ESRCH</tt></dt>
<dd><p>The specified process or thread was not found.</p></dd>
<dt><tt>EPERM</tt></dt>
<dd><p>The effective user of the calling process does not have the appropriate privileges, and its real or effective user ID does not match the real or effective user ID of one of the threads.</p></dd>
</dl>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gesuq.html">Previous</a>
             </td>
             <td align="right">
                 
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

