<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>The <tt>pmadvise</tt> utility - Memory and Thread Placement Optimization Developer's Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-06-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Memory and Thread Placement Optimization Developer's Guide</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gevrx.html">Previous</a>
             </td>
             <td align="right">
                 <a href="gevog.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="geshf.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="lgroups-1.html">1.&nbsp;&nbsp;Locality Group APIs</a></p>
<p class="toc level1 tocsp"><a href="gevrx.html">2.&nbsp;&nbsp;MPO Observability Tools</a></p>
<div class="onpage">
<p class="toc level2"><a href="">The <tt>pmadvise</tt> utility</a></p>
</div>
<p class="toc level2"><a href="gevog.html">The <tt>plgrp</tt> tool</a></p>
<p class="toc level2"><a href="gesuq.html">The <tt>lgrpinfo</tt> Tool</a></p>
<p class="toc level2"><a href="gesvi.html">The <tt>Solaris::lgrp</tt> Module</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="gevsz"></a><h3>The <tt>pmadvise</tt> utility</h3>
<p>The <tt>pmadvise</tt> utility applies rules to a process that define how that process
uses memory. The <tt>pmadvise</tt> utility applies the rules, called <b>advice</b>, to the process
with the <a href="http://docs.sun.com/doc/816-5168/madvise-3c?a=view"><tt>madvise</tt>(3C)</a> tool. This tool can apply advice to a specific subrange of
locations in memory at a specific time. By contrast, the <a href="http://docs.sun.com/doc/816-5165/madv.so.1-1?a=view"><tt>madv.so.1</tt>(1)</a> tool applies
the advice throughout the execution of the target program to all segments of
a specified type.</p><p>The <tt>pmadvise</tt> utility has the following options:</p><dl><dt><tt>-f</tt></dt>
<dd><p>This option takes control of the target process. This option overrides the control of any other process. See the <a href="http://docs.sun.com/doc/816-5165/proc-1?a=view"><tt>proc</tt>(1)</a> manual page.</p></dd>
<dt><tt>-o</tt></dt>
<dd><p>This option specifies the advice to apply to the target process. Specify the advice in this format:</p><pre>private=<b>advice</b>
shared=<b>advice</b>
heap=<b>advice</b>
stack=<b>advice</b>
<b>address</b>:<b>length</b>=<b>advice</b></pre><p>The value of the <i>advice</i> term can be one of the following:</p><pre>normal
random
sequential
willneed
dontneed
free
access_lwp
access_many
access_default</pre><p>You can specify an address and length to specify the subrange where the advice applies. Specify the address in hexadecimal notation and the length in bytes.</p><p>If you do not specify the length and the starting address refers to the start of a segment, the <tt>pmadvise</tt> utility applies the advice to that segment. You can qualify the length by adding the letters K, M, G, T, P, or E to specify kilobytes, megabytes, gigabytes, terabytes, or exabytes, respectively.</p></dd>
<dt><tt>-v</tt></dt>
<dd><p>This option prints verbose output in the style of the <a href="http://docs.sun.com/doc/816-5165/pmap-1?a=view"><tt>pmap</tt>(1)</a> tool that shows the value and locations of the advice rules currently in force.</p></dd>
</dl>
<p>The <tt>pmadvise</tt> tool attempts to process all legal options. When the pmadvise tool
attempts to process an option that specifies an illegal address range, the tool
prints an error message and skips that option. When the <tt>pmadvise</tt> tool finds
a syntax error, it quits without processing any options and prints a usage
message.</p><p>When the advice for a specific region conflicts with the advice for a
more general region, the advice for the more specific region takes precedence. Advice
that specifies a particular address range has precedence over advice for the heap
and stack regions, and advice for the heap and stack regions has precedence
over advice for private and shared memory.</p><p>The advice rules in each of the following groups are mutually exclusive from
other advice rules within the same group:</p><pre>MADV_NORMAL, MADV_RANDOM, MADV_SEQUENTIAL
MADV_WILLNEED, MADV_DONTNEED, MADV_FREE   
MADV_ACCESS_DEFAULT, MADV_ACCESS_LWP, MADV_ACCESS_MANY</pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gevrx.html">Previous</a>
             </td>
             <td align="right">
                 <a href="gevog.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

