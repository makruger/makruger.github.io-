<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Administering Kerberos Principals - System Administration Guide: Security Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-08-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Security Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="aadmin-23.html">Previous</a>
             </td>
             <td align="right">
                 <a href="aadmin-68.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="oview-1.html">Part&nbsp;I&nbsp;Security Overview</a></p>
<p class="toc level2"><a href="secov-1.html">1.&nbsp;&nbsp;Security Services (Overview)</a></p>
<p class="toc level1 tocsp"><a href="sectm-1.html">Part&nbsp;II&nbsp;System, File, and Device Security</a></p>
<p class="toc level2"><a href="concept-1.html">2.&nbsp;&nbsp;Managing Machine Security (Overview)</a></p>
<p class="toc level2"><a href="secsys-1.html">3.&nbsp;&nbsp;Controlling Access to Systems (Tasks)</a></p>
<p class="toc level2"><a href="vscan-1.html">4.&nbsp;&nbsp;Virus Scanning Service (Tasks)</a></p>
<p class="toc level2"><a href="devtask-1.html">5.&nbsp;&nbsp;Controlling Access to Devices (Tasks)</a></p>
<p class="toc level2"><a href="bart-1.html">6.&nbsp;&nbsp;Using the Basic Audit Reporting Tool (Tasks)</a></p>
<p class="toc level2"><a href="secfile-1.html">7.&nbsp;&nbsp;Controlling Access to Files (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="prbactm-1.html">Part&nbsp;III&nbsp;Roles, Rights Profiles, and Privileges</a></p>
<p class="toc level2"><a href="prbac-1.html">8.&nbsp;&nbsp;Using Roles and Privileges (Overview)</a></p>
<p class="toc level2"><a href="rbactask-1.html">9.&nbsp;&nbsp;Using Role-Based Access Control (Tasks)</a></p>
<p class="toc level2"><a href="rbacref-1.html">10.&nbsp;&nbsp;Role-Based Access Control (Reference)</a></p>
<p class="toc level2"><a href="privtask-1.html">11.&nbsp;&nbsp;Privileges (Tasks)</a></p>
<p class="toc level2"><a href="privref-1.html">12.&nbsp;&nbsp;Privileges (Reference)</a></p>
<p class="toc level1 tocsp"><a href="scftm-1.html">Part&nbsp;IV&nbsp;Solaris Cryptographic Services</a></p>
<p class="toc level2"><a href="scf-1.html">13.&nbsp;&nbsp;Solaris Cryptographic Framework (Overview)</a></p>
<p class="toc level2"><a href="scftask-1.html">14.&nbsp;&nbsp;Solaris Cryptographic Framework (Tasks)</a></p>
<p class="toc level2"><a href="kmf-1.html">15.&nbsp;&nbsp;Solaris Key Management Framework</a></p>
<p class="toc level1 tocsp"><a href="authtm-1.html">Part&nbsp;V&nbsp;Authentication Services and Secure Communication</a></p>
<p class="toc level2"><a href="auth-1.html">16.&nbsp;&nbsp;Using Authentication Services (Tasks)</a></p>
<p class="toc level2"><a href="pam-1.html">17.&nbsp;&nbsp;Using PAM</a></p>
<p class="toc level2"><a href="sasl-1.html">18.&nbsp;&nbsp;Using SASL</a></p>
<p class="toc level2"><a href="sshuser-1.html">19.&nbsp;&nbsp;Using Solaris Secure Shell (Tasks)</a></p>
<p class="toc level2"><a href="sshref-1.html">20.&nbsp;&nbsp;Solaris Secure Shell (Reference)</a></p>
<p class="toc level1 tocsp"><a href="seamtm-1.html">Part&nbsp;VI&nbsp;Kerberos Service</a></p>
<p class="toc level2"><a href="intro-1.html">21.&nbsp;&nbsp;Introduction to the Kerberos Service</a></p>
<p class="toc level2"><a href="seamplan-1.html">22.&nbsp;&nbsp;Planning for the Kerberos Service</a></p>
<p class="toc level2"><a href="setup-8.html">23.&nbsp;&nbsp;Configuring the Kerberos Service (Tasks)</a></p>
<p class="toc level2"><a href="trouble-1.html">24.&nbsp;&nbsp;Kerberos Error Messages and Troubleshooting</a></p>
<p class="toc level2"><a href="aadmin-1.html">25.&nbsp;&nbsp;Administering Kerberos Principals and Policies (Tasks)</a></p>
<p class="toc level3"><a href="aadmin-171.html">Ways to Administer Kerberos Principals and Policies</a></p>
<p class="toc level3"><a href="aadmin-23.html">SEAM Administration Tool</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Administering Kerberos Principals</a></p>
</div>
<p class="toc level3"><a href="aadmin-68.html">Administering Kerberos Policies</a></p>
<p class="toc level3"><a href="aadmin-228.html">SEAM Tool Reference</a></p>
<p class="toc level3"><a href="aadmin-10.html">Administering Keytab Files</a></p>
<p class="toc level2 tocsp"><a href="user-7.html">26.&nbsp;&nbsp;Using Kerberos Applications (Tasks)</a></p>
<p class="toc level2"><a href="refer-1.html">27.&nbsp;&nbsp;The Kerberos Service (Reference)</a></p>
<p class="toc level1 tocsp"><a href="audittm-1.html">Part&nbsp;VII&nbsp;Solaris Auditing</a></p>
<p class="toc level2"><a href="auditov-1.html">28.&nbsp;&nbsp;Solaris Auditing (Overview)</a></p>
<p class="toc level2"><a href="auditplan-1.html">29.&nbsp;&nbsp;Planning for Solaris Auditing</a></p>
<p class="toc level2"><a href="audittask-1.html">30.&nbsp;&nbsp;Managing Solaris Auditing (Tasks)</a></p>
<p class="toc level2"><a href="auditref-1.html">31.&nbsp;&nbsp;Solaris Auditing (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-2.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="aadmin-9"></a><h3>Administering Kerberos Principals</h3>
<a name="indexterm-2677"></a><a name="indexterm-2678"></a><p>This section provides the step-by-step instructions used to administer principals with the SEAM
Tool. This section also provides examples of command-line equivalents, when available.</p>

<a name="aadmin-188"></a><h4>Administering Kerberos Principals (Task Map)</h4>
<a name="indexterm-2679"></a><a name="indexterm-2680"></a><table><col width="27%"><col width="42%"><col width="30%"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>View the
list of principals.</p></td>
<td align="left" valign="top" scope="row"><p>View the list of principals by clicking the Principals tab.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#aadmin-12">How to View the List of Kerberos Principals</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>View
a principal's attributes.</p></td>
<td align="left" valign="top" scope="row"><p>View a principal's attributes by selecting the Principal in the
Principal List, then clicking the Modify button.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#aadmin-16">How to View a Kerberos Principal's Attributes</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Create a new principal.</p></td>
<td align="left" valign="top" scope="row"><p>Create a new principal
by clicking the Create New button in the Principal List panel.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#aadmin-17">How to Create a New Kerberos Principal</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Duplicate a principal.</p></td>
<td align="left" valign="top" scope="row"><p>Duplicate
a principal by selecting the principal to duplicate in the Principal List, then
clicking the Duplicate button.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#aadmin-18">How to Duplicate a Kerberos Principal</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Modify a principal.</p></td>
<td align="left" valign="top" scope="row"><p>Modify a principal by selecting the principal
to modify in the Principal List, then clicking the Modify button.</p><p>Note that you
cannot modify a principal's name. To rename a principal, you must duplicate the
principal, specify a new name for it, save it, and then delete the
old principal.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#aadmin-19">How to Modify a Kerberos Principal</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Delete a principal.</p></td>
<td align="left" valign="top" scope="row"><p>Delete a principal by selecting the principal to delete
in the Principal List, then clicking the Delete button.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#aadmin-20">How to Delete a Kerberos Principal</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Set up defaults for creating
new principals.</p></td>
<td align="left" valign="top" scope="row"><p>Set up defaults for creating new principals by choosing Properties from the
Edit menu.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#aadmin-21">How to Set Up Defaults for Creating New Kerberos Principals</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Modify the Kerberos administration privileges (<tt>kadm5.acl</tt> file).</p></td>
<td align="left" valign="top" scope="row"><p><b>Command-line only.</b> The Kerberos administration privileges determine
what operations a principal can perform on the Kerberos database, such as add
and modify.</p><p>You need to edit the <tt>/etc/krb5/kadm5.acl</tt> file to modify the Kerberos administration
privileges for each principal.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#aadmin-14">How to Modify the Kerberos Administration Privileges</a></p></td>
</tr>
</table>

<a name="aadmin-192"></a><h4>Automating the Creation of New Kerberos Principals</h4>
<a name="indexterm-2681"></a><a name="indexterm-2682"></a><p><a name="indexterm-2683"></a>Even though the SEAM Tool provides ease-of-use, it doesn't provide a way to
automate the creation of new principals. Automation is especially useful if you need to
add 10 or even 100 new principals in a short time. However,
by using the <tt>kadmin.local</tt> command in a Bourne shell script, you can
do just that.</p><p>The following shell script line is an example of how to automate
the creation of new principals:</p><pre>awk '{ print "ank +needchange -pw", $2, $1 }' &lt; /tmp/princnames | 
        time /usr/sbin/kadmin.local&gt; /dev/null</pre><p>This example is split over two lines for readability. The script reads in
a file called <tt>princnames</tt> that contains principal names and their passwords, and adds
them to the Kerberos database. You would have to create the <tt>princnames</tt> file,
which contains a principal name and its password on each line, separated by
one or more spaces. The <tt>+needchange</tt> option configures the principal so that
the user is prompted for a new password during login with the principal
for the first time. This practice helps to ensure that the passwords in
the <tt>princnames</tt> file are not a security risk.</p><p>You can build more elaborate scripts. For example, your script could use the
information in the name service to obtain the list of user names
for the principal names. What you do and how you do it is
determined by your site's needs and your scripting expertise.</p>

<a name="aadmin-12"></a><h4>How to View the List of Kerberos Principals</h4><a name="indexterm-2684"></a><a name="indexterm-2685"></a><a name="indexterm-2686"></a><p>An example of the command-line equivalent follows this procedure.</p><ol>
<li><a name="seamgadmin-step-233"></a><b>If necessary, start the SEAM Tool.</b><p>See <a href="aadmin-23.html#aadmin-24">How to Start the SEAM Tool</a> for more information.</p><pre>$ <tt><b>/usr/sbin/gkadmin</b></tt></pre></li>
<li><a name="seamgadmin-step-234"></a><b>Click the Principals tab.</b><p>The list of principals is displayed.</p><br><img src="figures/SEAM-list-princ.gif" alt="Dialog box titled Seam Administration Tool shows a list of principals and a list filter. Shows Modify, Create New, Delete, and Duplicate buttons." width="726" height="781"></img></li>
<li><a name="seamgadmin-step-235"></a><b>Display a specific principal or a sublist of principals.</b><p><a name="indexterm-2687"></a><a name="indexterm-2688"></a><a name="indexterm-2689"></a><a name="indexterm-2690"></a>Type a filter string in the Filter field, and press Return. If the
filter succeeds, the list of principals that match the filter is displayed.</p><p>The filter string must consist of one or more characters. Because the filter
mechanism is case sensitive, you need to use the appropriate uppercase and lowercase
letters for the filter. For example, if you type the filter string <tt>ge</tt>,
the filter mechanism displays only the principals with the <tt>ge</tt> string in them
(for example, <tt>george</tt> or <tt>edge</tt>). </p><p>If you want to display the entire list of principals, click Clear
Filter.</p></li></ol><a name="egyta"></a><h6>Example&nbsp;25-1 Viewing the List of Kerberos Principals (Command Line)</h6><p>In the following example, the <tt>list_principals</tt> command of <tt>kadmin</tt> is used to list
all the principals that match <tt>test*</tt>. Wildcards can be used with the
<tt>list_principals</tt> command.</p><pre>kadmin: <tt><b>list_principals test*</b></tt>
test1@EXAMPLE.COM
test2@EXAMPLE.COM
kadmin: <tt><b>quit</b></tt></pre>

<a name="aadmin-16"></a><h4>How to View a Kerberos Principal's Attributes</h4><a name="indexterm-2691"></a><a name="indexterm-2692"></a><a name="indexterm-2693"></a><p>An example of the command-line equivalent follows this procedure.</p><ol>
<li><a name="seamgadmin-step-236"></a><b>If necessary, start the SEAM Tool.</b><p>See <a href="aadmin-23.html#aadmin-24">How to Start the SEAM Tool</a> for more information.</p><pre>$ <tt><b>/usr/sbin/gkadmin</b></tt></pre></li>
<li><a name="seamgadmin-step-237"></a><b>Click the Principals tab.</b></li>
<li><a name="seamgadmin-step-238"></a><b>Select the principal in the list that you want to view, then click
Modify. </b><p>The Principal Basics panel that contains some of the principal's attributes is displayed.</p></li>
<li><a name="seamgadmin-step-239"></a><b>Continue to click Next to view all the principal's attributes.</b><p>Three windows contain attribute information. Choose Context-Sensitive Help from the Help menu to
get information about the various attributes in each window. Or, for all the
principal attribute descriptions, go to <a href="aadmin-228.html#aadmin-223">SEAM Tool Panel Descriptions</a>.</p></li>
<li><a name="seamgadmin-step-240"></a><b>When you are finished viewing, click Cancel.</b></li></ol><a name="egytd"></a><h6>Example&nbsp;25-2 Viewing a Kerberos Principal's Attributes</h6><p>The following example shows the first window when you are viewing the
<tt>jdb/admin</tt> principal.</p><img src="figures/SEAM-view-princ.gif" alt="Dialog box titled SEAM Administration Tool shows account data for the jdb/admin principal. Shows account expiration date and comments." width="726" height="781"></img><a name="egytc"></a><h6>Example&nbsp;25-3 Viewing a Kerberos Principal's Attributes (Command Line)</h6><p>In the following example, the <tt>get_principal</tt> command of <tt>kadmin</tt> is used to view
the attributes of the <tt>jdb/admin</tt> principal.</p><pre>kadmin: <tt><b>getprinc jdb/admin</b></tt>
Principal: jdb/admin@EXAMPLE.COM
Expiration date: Fri Aug 25 17:19:05 PDT 2004
Last password change: [never]
Password expiration date: Wed Apr 14 11:53:10 PDT 2003
Maximum ticket life: 1 day 16:00:00
Maximum renewable life: 1 day 16:00:00
Last modified: Thu Jan 14 11:54:09 PST 2003 (admin/admin@EXAMPLE.COM)
Last successful authentication: [never]
Last failed authentication: [never]
Failed password attempts: 0
Number of keys: 1
Key: vno 1, DES cbc mode with CRC-32, no salt
Attributes: REQUIRES_HW_AUTH
Policy: [none]
kadmin: <tt><b>quit</b></tt></pre>

<a name="aadmin-17"></a><h4>How to Create a New Kerberos Principal</h4><a name="indexterm-2694"></a><a name="indexterm-2695"></a><a name="indexterm-2696"></a><p>An example of the command-line equivalent follows this procedure.</p><ol>
<li><a name="seamgadmin-step-241"></a><b>If necessary, start the SEAM Tool.</b><p>See <a href="aadmin-23.html#aadmin-24">How to Start the SEAM Tool</a> for more information.</p>
<hr><p><b>Note - </b><a name="indexterm-2697"></a><a name="indexterm-2698"></a><a name="indexterm-2699"></a>If you are creating a new principal that might need a new policy,
you should create the new policy before you create the new principal. Go
to <a href="aadmin-68.html#aadmin-70">How to Create a New Kerberos Policy</a>.</p>
<hr>
<pre>$ <tt><b>/usr/sbin/gkadmin</b></tt></pre></li>
<li><a name="seamgadmin-step-242"></a><b>Click the Principals tab.</b></li>
<li><a name="seamgadmin-step-243"></a><b>Click New.</b><p>The Principal Basics panel that contains some attributes for a principal is displayed.</p></li>
<li><a name="seamgadmin-step-244"></a><b>Specify a principal name and a password.</b><p>Both the principal name and the password are mandatory.</p></li>
<li><a name="seamgadmin-step-245"></a><b>Specify values for the principal's attributes, and continue to click Next to specify
more attributes.</b><p>Three windows contain attribute information. Choose Context-Sensitive Help from the Help menu to get
information about the various attributes in each window. Or, for all the principal
attribute descriptions, go to <a href="aadmin-228.html#aadmin-223">SEAM Tool Panel Descriptions</a>.</p></li>
<li><a name="seamgadmin-step-246"></a><b>Click Save to save the principal, or click Done on the last panel.</b></li>
<li><a name="seamgadmin-step-247"></a><b><a name="indexterm-2700"></a><a name="indexterm-2701"></a>If needed, set up Kerberos administration privileges for the new principal in the
<tt>/etc/krb5/kadm5.acl</tt> file.</b><p>See <a href="#aadmin-14">How to Modify the Kerberos Administration Privileges</a> for more details.</p></li></ol><a name="ehgai"></a><h6>Example&nbsp;25-4 Creating a New Kerberos Principal</h6><p>The following example shows the Principal Basics panel when a new principal called
<tt>pak</tt> is created. The policy is set to <tt>testuser</tt>.</p><img src="figures/SEAM-add-princ.gif" alt="Dialog box titled SEAM Administration Tool shows account data for the pak principal. Shows password, account expiration date, and testuser policy." width="726" height="781"></img><a name="ehgaj"></a><h6>Example&nbsp;25-5 Creating a New Kerberos Principal (Command Line)</h6><p>In the following example, the <tt>add_principal</tt> command of <tt>kadmin</tt> is used to create
a new principal called <tt>pak</tt>. The principal's policy is set to <tt>testuser</tt>.</p><pre>kadmin: <tt><b>add_principal -policy testuser pak</b></tt>
Enter password for principal "pak@EXAMPLE.COM": <i>&lt;Type the password&gt;</i>
Re-enter password for principal "pak@EXAMPLE.COM": <i>&lt;Type the password again&gt;</i>
Principal "pak@EXAMPLE.COM" created.
kadmin: <tt><b>quit</b></tt></pre>

<a name="aadmin-18"></a><h4>How to Duplicate a Kerberos Principal</h4><a name="indexterm-2702"></a><a name="indexterm-2703"></a><a name="indexterm-2704"></a><p>This procedure explains how to use all or some of the attributes
of an existing principal to create a new principal. No command-line equivalent exists for
this procedure.</p><ol>
<li><a name="seamgadmin-step-248"></a><b>If necessary, start the SEAM Tool.</b><p>See <a href="aadmin-23.html#aadmin-24">How to Start the SEAM Tool</a> for more information.</p><pre>$ <tt><b>/usr/sbin/gkadmin</b></tt></pre></li>
<li><a name="seamgadmin-step-249"></a><b>Click the Principals tab.</b></li>
<li><a name="seamgadmin-step-250"></a><b>Select the principal in the list that you want to duplicate, then click
Duplicate. </b><p>The Principal Basics panel is displayed. All the attributes of the selected principal
are duplicated, except for the Principal Name and Password fields, which are empty.</p></li>
<li><a name="seamgadmin-step-251"></a><b>Specify a principal name and a password.</b><p>Both the principal name and the password are mandatory. To make an
exact duplicate of the principal you selected, click Save and skip to <a href="#aadmin-dup-princ-1">Step&nbsp;7</a>.</p></li>
<li><a name="seamgadmin-step-252"></a><b>Specify different values for the principal's attributes, and continue to click Next to
specify more attributes.</b><p>Three windows contain attribute information. Choose Context-Sensitive Help from the Help menu to get
information about the various attributes in each window. Or, for all the principal
attribute descriptions, go to <a href="aadmin-228.html#aadmin-223">SEAM Tool Panel Descriptions</a>.</p></li>
<li><a name="seamgadmin-step-253"></a><b>Click Save to save the principal, or click Done on the last panel.</b></li>
<li><a name="aadmin-dup-princ-1"></a><b><a name="indexterm-2705"></a><a name="indexterm-2706"></a>If needed, set up Kerberos administration privileges for the principal in <tt>/etc/krb5/kadm5.acl</tt> file.</b><p>See <a href="#aadmin-14">How to Modify the Kerberos Administration Privileges</a> for more details.</p></li></ol>

<a name="aadmin-19"></a><h4>How to Modify a Kerberos Principal</h4><a name="indexterm-2707"></a><a name="indexterm-2708"></a><a name="indexterm-2709"></a><p>An example of the command-line equivalent follows this procedure.</p><ol>
<li><a name="seamgadmin-step-254"></a><b>If necessary, start the SEAM Tool.</b><p>See <a href="aadmin-23.html#aadmin-24">How to Start the SEAM Tool</a> for more information.</p><pre>$ <tt><b>/usr/sbin/gkadmin</b></tt></pre></li>
<li><a name="seamgadmin-step-255"></a><b>Click the Principals tab.</b></li>
<li><a name="seamgadmin-step-256"></a><b>Select the principal in the list that you want to modify, then click
Modify.</b><p>The Principal Basics panel that contains some of the attributes for the principal
is displayed. </p></li>
<li><a name="seamgadmin-step-257"></a><b>Modify the principal's attributes, and continue to click Next to modify more attributes.</b><p>Three windows contain attribute information. Choose Context-Sensitive Help from the Help menu to get
information about the various attributes in each window. Or, for all the principal
attribute descriptions, go to <a href="aadmin-228.html#aadmin-223">SEAM Tool Panel Descriptions</a>.</p>
<hr><p><b>Note - </b>You cannot modify a principal's name. To rename a principal, you must duplicate
the principal, specify a new name for it, save it, and then delete
the old principal.</p>
<hr>
</li>
<li><a name="seamgadmin-step-258"></a><b>Click Save to save the principal, or click Done on the last panel.</b></li>
<li><a name="seamgadmin-step-259"></a><b>Modify the Kerberos administration privileges for the principal in the <tt>/etc/krb5/kadm5.acl</tt> file.</b><p>See <a href="#aadmin-14">How to Modify the Kerberos Administration Privileges</a> for more details.</p></li></ol><a name="ehgal"></a><h6>Example&nbsp;25-6 Modifying a Kerberos Principal's Password (Command Line)</h6><a name="indexterm-2710"></a><a name="indexterm-2711"></a><p>In the following example, the <tt>change_password</tt> command of <tt>kadmin</tt> is used to modify
the password for the <tt>jdb</tt> principal. The <tt>change_password</tt> command does not let you
change the password to a password that is in the principal's password history.</p><pre>kadmin: <tt><b>change_password jdb</b></tt>
Enter password for principal "jdb": <i>&lt;Type the new password&gt;</i>
Re-enter password for principal "jdb": <i>&lt;Type the password again&gt;</i>
Password for "jdb@EXAMPLE.COM" changed.
kadmin: <tt><b>quit</b></tt></pre><p>To modify other attributes for a principal, you must use the <tt>modify_principal</tt>
command of <tt>kadmin</tt>.</p>

<a name="aadmin-20"></a><h4>How to Delete a Kerberos Principal</h4><a name="indexterm-2712"></a><a name="indexterm-2713"></a><a name="indexterm-2714"></a><p>An example of the command-line equivalent follows this procedure.</p><ol>
<li><a name="seamgadmin-step-260"></a><b>If necessary, start the SEAM Tool.</b><p>See <a href="aadmin-23.html#aadmin-24">How to Start the SEAM Tool</a> for more information.</p><pre>$ <tt><b>/usr/sbin/gkadmin</b></tt></pre></li>
<li><a name="seamgadmin-step-261"></a><b>Click the Principals tab.</b></li>
<li><a name="seamgadmin-step-262"></a><b>Select the principal in the list that you want to delete, then click
Delete. </b><p>After you confirm the deletion, the principal is deleted.</p></li>
<li><a name="seamgadmin-step-263"></a><b>Remove the principal from the Kerberos access control list (ACL) file, <tt>/etc/krb5/kadm5.acl</tt>.</b><p>See <a href="#aadmin-14">How to Modify the Kerberos Administration Privileges</a> for more details.</p></li></ol><a name="ehgan"></a><h6>Example&nbsp;25-7 Deleting a Kerberos Principal (Command Line)</h6><p>In the following example, the <tt>delete_principal</tt> command of <tt>kadmin</tt> is used to delete
the <tt>jdb</tt> principal.</p><pre>kadmin: <tt><b>delete_principal pak</b></tt>
Are you sure you want to delete the principal "pak@EXAMPLE.COM"? (yes/no): <tt><b>yes</b></tt>
Principal "pak@EXAMPLE.COM" deleted.
Make sure that you have removed this principal from all ACLs before reusing.
kadmin: <tt><b>quit</b></tt></pre>

<a name="aadmin-21"></a><h4>How to Set Up Defaults for Creating New Kerberos Principals</h4><a name="indexterm-2715"></a><a name="indexterm-2716"></a><a name="indexterm-2717"></a><p>No command-line equivalent exists for this procedure.</p><ol>
<li><a name="seamgadmin-step-264"></a><b>If necessary, start the SEAM Tool.</b><p>See <a href="aadmin-23.html#aadmin-24">How to Start the SEAM Tool</a> for more information.</p><pre>$ <tt><b>/usr/sbin/gkadmin</b></tt></pre></li>
<li><a name="seamgadmin-step-265"></a><b>Choose Properties from the Edit Menu.</b><p>The Properties window is displayed.</p><br><img src="figures/SEAM-princ-default.gif" alt="Dialog box titled Properties shows defaults for new principals and list controls. Defaults for principals cover security and other options." width="490" height="610"></img></li>
<li><a name="seamgadmin-step-266"></a><b>Select the defaults that you want to use when you create new principals.</b><p>Choose Context-Sensitive Help from the Help menu for information about the various attributes
in each window.</p></li>
<li><a name="seamgadmin-step-267"></a><b>Click Save.</b></li></ol>

<a name="aadmin-14"></a><h4>How to Modify the Kerberos Administration Privileges</h4><p>Even though your site probably has many user principals, you usually want only
a few users to be able to administer the Kerberos database. Privileges to
administer the Kerberos database are determined by the Kerberos access control list (ACL)
file, <tt>kadm5.acl</tt>. The <tt>kadm5.acl</tt> file enables you to allow or disallow privileges for
individual principals. Or, you can use the '*' wildcard in the principal name
to specify privileges for groups of principals.</p><ol>
<li><a name="seamgadmin-step-268"></a><b>Become superuser on the master KDC.</b></li>
<li><a name="seamgadmin-step-269"></a><b>Edit the <tt>/etc/krb5/kadm5.acl</tt> file.</b><p><a name="indexterm-2718"></a><a name="indexterm-2719"></a>An entry in the <tt>kadm5.acl</tt> file must have the following format:</p><pre><i>principal</i> <i>privileges</i> [<i>principal-target</i>]</pre><table><col width="20%"><col width="15%"><col width="65%"><tr><td align="left" valign="top" scope="row"><p><i>principal</i></p></td>
<td colspan="2" align="left" valign="top" scope="row"><p>Specifies the
principal to which the privileges are granted.  Any part of the principal
name can include the '*' wildcard, which is useful for providing the same
privileges for a group of principals. For example, if you want to specify
all principals with the <tt>admin</tt> instance, you would use <tt>*/admin@</tt><i>realm</i><tt></tt>.</p><p>Note that a common
use of an <tt>admin</tt> instance is to grant separate privileges  (such as
administration access to the Kerberos database) to a separate Kerberos principal.  For
example, the user <tt>jdb</tt> might have a principal for his administrative use, called
<tt>jdb/admin</tt>. This way, the user <tt>jdb</tt> obtains <tt>jdb/admin</tt> tickets only when he or she
actually needs to  use those privileges.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><i>privileges</i></p></td>
<td colspan="2" align="left" valign="top" scope="row"><p>Specifies which operations can or cannot
be performed by the principal.  This field consists of a string of
one or more of the following list of characters or their uppercase counterparts.
 If the character is uppercase (or not specified), then the operation is
disallowed.  If the character is lowercase, then the operation is permitted.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>a</tt></p></td>
<td align="left" valign="top" scope="row"><p>[Dis]allows the
addition of principals or policies.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>d</tt></p></td>
<td align="left" valign="top" scope="row"><p>[Dis]allows the deletion of principals or policies.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>m</tt></p></td>
<td align="left" valign="top" scope="row"><p>[Dis]allows the
modification of principals or polices.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>c</tt></p></td>
<td align="left" valign="top" scope="row"><p>[Dis]allows the changing of passwords for principals.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>i</tt></p></td>
<td align="left" valign="top" scope="row"><p>[Dis]allows inquiries
to the Kerberos database.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>l</tt></p></td>
<td align="left" valign="top" scope="row"><p>[Dis]allows the listing of principals or policies in the
Kerberos database.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>x</tt> or <tt>*</tt></p></td>
<td align="left" valign="top" scope="row"><p>Allows all privileges (<tt>admcil</tt>).</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><i>principal-target</i></p></td>
<td colspan="2" align="left" valign="top" scope="row"><p>When a principal is specified in
this field, the <i>privileges</i> apply to the <i>principal</i> only when the <i>principal</i> operates on
the <i>principal-target</i>. Any part of the principal name can include the '*' wildcard,
which is useful to group principals.</p></td>
</tr>
</table></li></ol><a name="ehgap"></a><h6>Example&nbsp;25-8 Modifying the Kerberos Administration Privileges</h6><p>The following entry in the <tt>kadm5.acl</tt> file gives any principal in the <tt>EXAMPLE.COM</tt>
realm with the <tt>admin</tt> instance all the privileges on the Kerberos database:</p><pre>*/admin@EXAMPLE.COM *</pre><p>The following entry in the <tt>kadm5.acl</tt> file gives the <tt>jdb@EXAMPLE.COM</tt> principal the privileges
to add, list, and inquire about any principal that has the <tt>root</tt> instance.</p><pre>jdb@EXAMPLE.COM ali */root@EXAMPLE.COM</pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="aadmin-23.html">Previous</a>
             </td>
             <td align="right">
                 <a href="aadmin-68.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

