<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Managing Privileges - System Administration Guide: Security Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-08-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Security Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="privtask-14.html">Previous</a>
             </td>
             <td align="right">
                 <a href="privtask-16.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="oview-1.html">Part&nbsp;I&nbsp;Security Overview</a></p>
<p class="toc level2"><a href="secov-1.html">1.&nbsp;&nbsp;Security Services (Overview)</a></p>
<p class="toc level1 tocsp"><a href="sectm-1.html">Part&nbsp;II&nbsp;System, File, and Device Security</a></p>
<p class="toc level2"><a href="concept-1.html">2.&nbsp;&nbsp;Managing Machine Security (Overview)</a></p>
<p class="toc level2"><a href="secsys-1.html">3.&nbsp;&nbsp;Controlling Access to Systems (Tasks)</a></p>
<p class="toc level2"><a href="vscan-1.html">4.&nbsp;&nbsp;Virus Scanning Service (Tasks)</a></p>
<p class="toc level2"><a href="devtask-1.html">5.&nbsp;&nbsp;Controlling Access to Devices (Tasks)</a></p>
<p class="toc level2"><a href="bart-1.html">6.&nbsp;&nbsp;Using the Basic Audit Reporting Tool (Tasks)</a></p>
<p class="toc level2"><a href="secfile-1.html">7.&nbsp;&nbsp;Controlling Access to Files (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="prbactm-1.html">Part&nbsp;III&nbsp;Roles, Rights Profiles, and Privileges</a></p>
<p class="toc level2"><a href="prbac-1.html">8.&nbsp;&nbsp;Using Roles and Privileges (Overview)</a></p>
<p class="toc level2"><a href="rbactask-1.html">9.&nbsp;&nbsp;Using Role-Based Access Control (Tasks)</a></p>
<p class="toc level2"><a href="rbacref-1.html">10.&nbsp;&nbsp;Role-Based Access Control (Reference)</a></p>
<p class="toc level2"><a href="privtask-1.html">11.&nbsp;&nbsp;Privileges (Tasks)</a></p>
<p class="toc level3"><a href="privtask-3.html">Managing and Using Privileges (Task Map)</a></p>
<p class="toc level3"><a href="privtask-14.html">Managing Privileges (Task Map)</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Managing Privileges</a></p>
</div>
<p class="toc level3"><a href="privtask-16.html">Determining Your Privileges (Task Map)</a></p>
<p class="toc level3"><a href="privtask-20.html">Determining Your Assigned Privileges</a></p>
<p class="toc level2 tocsp"><a href="privref-1.html">12.&nbsp;&nbsp;Privileges (Reference)</a></p>
<p class="toc level1 tocsp"><a href="scftm-1.html">Part&nbsp;IV&nbsp;Solaris Cryptographic Services</a></p>
<p class="toc level2"><a href="scf-1.html">13.&nbsp;&nbsp;Solaris Cryptographic Framework (Overview)</a></p>
<p class="toc level2"><a href="scftask-1.html">14.&nbsp;&nbsp;Solaris Cryptographic Framework (Tasks)</a></p>
<p class="toc level2"><a href="kmf-1.html">15.&nbsp;&nbsp;Solaris Key Management Framework</a></p>
<p class="toc level1 tocsp"><a href="authtm-1.html">Part&nbsp;V&nbsp;Authentication Services and Secure Communication</a></p>
<p class="toc level2"><a href="auth-1.html">16.&nbsp;&nbsp;Using Authentication Services (Tasks)</a></p>
<p class="toc level2"><a href="pam-1.html">17.&nbsp;&nbsp;Using PAM</a></p>
<p class="toc level2"><a href="sasl-1.html">18.&nbsp;&nbsp;Using SASL</a></p>
<p class="toc level2"><a href="sshuser-1.html">19.&nbsp;&nbsp;Using Solaris Secure Shell (Tasks)</a></p>
<p class="toc level2"><a href="sshref-1.html">20.&nbsp;&nbsp;Solaris Secure Shell (Reference)</a></p>
<p class="toc level1 tocsp"><a href="seamtm-1.html">Part&nbsp;VI&nbsp;Kerberos Service</a></p>
<p class="toc level2"><a href="intro-1.html">21.&nbsp;&nbsp;Introduction to the Kerberos Service</a></p>
<p class="toc level2"><a href="seamplan-1.html">22.&nbsp;&nbsp;Planning for the Kerberos Service</a></p>
<p class="toc level2"><a href="setup-8.html">23.&nbsp;&nbsp;Configuring the Kerberos Service (Tasks)</a></p>
<p class="toc level2"><a href="trouble-1.html">24.&nbsp;&nbsp;Kerberos Error Messages and Troubleshooting</a></p>
<p class="toc level2"><a href="aadmin-1.html">25.&nbsp;&nbsp;Administering Kerberos Principals and Policies (Tasks)</a></p>
<p class="toc level2"><a href="user-7.html">26.&nbsp;&nbsp;Using Kerberos Applications (Tasks)</a></p>
<p class="toc level2"><a href="refer-1.html">27.&nbsp;&nbsp;The Kerberos Service (Reference)</a></p>
<p class="toc level1 tocsp"><a href="audittm-1.html">Part&nbsp;VII&nbsp;Solaris Auditing</a></p>
<p class="toc level2"><a href="auditov-1.html">28.&nbsp;&nbsp;Solaris Auditing (Overview)</a></p>
<p class="toc level2"><a href="auditplan-1.html">29.&nbsp;&nbsp;Planning for Solaris Auditing</a></p>
<p class="toc level2"><a href="audittask-1.html">30.&nbsp;&nbsp;Managing Solaris Auditing (Tasks)</a></p>
<p class="toc level2"><a href="auditref-1.html">31.&nbsp;&nbsp;Solaris Auditing (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-2.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="privtask-10"></a><h3>Managing Privileges</h3>
<p>The most secure way to manage privileges for users and roles is
to confine use of privilege to commands in a rights profile. The rights
profile is then included in a role. The role is assigned to a
user. When the user assumes the assigned role, the privileged commands are available
to be run in a profile shell. The following procedures show how to
assign privileges, remove privileges, and debug privilege use.</p>

<a name="privtask-5"></a><h4>How to Determine the Privileges on a Process</h4><a name="indexterm-1422"></a><a name="indexterm-1423"></a><a name="indexterm-1424"></a><a name="indexterm-1425"></a><a name="indexterm-1426"></a><p><a name="indexterm-1427"></a>This procedure shows how to determine which privileges are available to your processes.
The listing does not include privileges that have been assigned to particular commands.</p><ul>
<li><b><a name="indexterm-1428"></a><a name="indexterm-1429"></a><a name="indexterm-1430"></a><a name="indexterm-1431"></a><a name="indexterm-1432"></a><a name="indexterm-1433"></a><a name="indexterm-1434"></a>List the privileges that are available to your shell's process.</b><pre>% ppriv <i>pid</i>
$ ppriv -v <i>pid</i></pre><dl><dt><i>pid</i></dt>
<dd><p>Is the process number. Use a double dollar sign (<tt>$$</tt>) to pass the process number of the parent shell to the command.</p></dd>
<dt><tt>-v</tt></dt>
<dd><p>Provides a verbose listing of the privilege names.</p></dd>
</dl>
</li></ul><a name="privtask-25"></a><h6>Example&nbsp;11-1 Determining the Privileges in Your Current Shell</h6><a name="indexterm-1435"></a><p>In the following example, the privileges in the parent process of the user's
shell process are listed. In the second example, the full names 
of the privileges are listed. The single letters in the output refer to
the following privilege sets:</p><dl><dt><tt>E</tt></dt>
<dd><p>Is the effective privilege set.</p></dd>
<dt><tt>I</tt></dt>
<dd><p>Is the inheritable privilege set.</p></dd>
<dt><tt>P</tt></dt>
<dd><p>Is the permitted privilege set.</p></dd>
<dt><tt>L</tt></dt>
<dd><p>Is the limit privilege set.</p></dd>
</dl>
<pre>% <tt><b>ppriv $$</b></tt>
1200:   -csh
flags = &lt;none&gt;
        E: basic
        I: basic
        P: basic
        L: all
% <tt><b>ppriv -v $$</b></tt>
1200:   -csh
flags = &lt;none&gt;
        E: file_link_any,proc_exec,proc_fork,proc_info,proc_session
        I: file_link_any,proc_exec,proc_fork,proc_info,proc_session
        P: file_link_any,proc_exec,proc_fork,proc_info,proc_session
        L: cpc_cpu,dtrace_kernel,dtrace_proc,dtrace_user,&hellip;,sys_time</pre><a name="privtask-21"></a><h6>Example&nbsp;11-2 Determining the Privileges of a Role That You Can Assume</h6><p>Roles use an administrative shell, or profile shell. You must assume a role
and use the role's shell to list the privileges that have been
directly assigned to the role. In the following example, the role <tt>sysadmin</tt> has no
directly assigned privileges.</p><pre>% <tt><b>su - sysadmin</b></tt>
Password: &lt;Type sysadmin password&gt;
$ <tt><b>/usr/ucb/whoami</b></tt>
sysadmin
$ <tt><b>ppriv -v $$</b></tt>
1400:   pfksh
flags = &lt;none&gt;
        E: file_link_any,proc_exec,proc_fork,proc_info,proc_session
        I: file_link_any,proc_exec,proc_fork,proc_info,proc_session
        P: file_link_any,proc_exec,proc_fork,proc_info,proc_session
        L: cpc_cpu,dtrace_kernel,dtrace_proc,dtrace_user,&hellip;,sys_time</pre>

<a name="privtask-6"></a><h4>How to Determine Which Privileges a Program Requires</h4><a name="indexterm-1436"></a><a name="indexterm-1437"></a><p><a name="indexterm-1438"></a><a name="indexterm-1439"></a><a name="indexterm-1440"></a>This procedure determines which privileges a command or process requires to succeed.</p><h6>Before You Begin</h6><p>The command or process must have failed for this procedure to work.</p><ol>
<li><b><a name="indexterm-1441"></a><a name="indexterm-1442"></a>Type the command that is failing as an argument to the <tt>ppriv</tt> debugging
command.</b><pre>% <tt><b>ppriv -eD touch /etc/acct/yearly</b></tt>
touch[11365]: missing privilege "file_dac_write" 
     (euid = 130, syscall = 224) needed at ufs_direnter_cm+0x27c
touch: /etc/acct/yearly cannot create</pre></li>
<li><b>Determine which system call is failing by finding the <tt>syscall</tt> number in
the <tt>/etc/name_to_sysnum</tt> file.</b><pre>% <tt><b>grep 224 /etc/name_to_sysnum</b></tt>
creat64                 224</pre></li></ol><a name="privtask-31"></a><h6>Example&nbsp;11-3 Using the <tt>truss</tt> Command to Examine Privilege Use</h6><a name="indexterm-1443"></a><a name="indexterm-1444"></a><p>The <tt>truss</tt> command can debug privilege use in a regular shell. For example,
the following command debugs the failing <tt>touch</tt> process:</p><pre>% <tt><b>truss -t creat touch /etc/acct/yearly</b></tt>
creat64("/etc/acct/yearly", 0666)            
                       Err#13 EACCES [<tt><b>file_dac_write</b></tt>]
touch: /etc/acct/yearly cannot create</pre><p>The extended <tt>/proc</tt> interfaces report the missing privilege after the error code in
<tt>truss</tt> output.</p><a name="privtask-33"></a><h6>Example&nbsp;11-4 Using the <tt>ppriv</tt> Command to Examine Privilege Use in a Profile Shell</h6><a name="indexterm-1445"></a><p>The <tt>ppriv</tt> command can debug privilege use in a profile shell. If you
assign a rights profile to a user, and the rights profile includes commands
with privileges, the commands must be typed in a profile shell. When the
privileged commands are typed in a regular shell, the commands do not execute
with privilege. </p><p>In this example, the <tt>jdoe</tt> user can assume the role <tt>objadmin</tt>. The
<tt>objadmin</tt> role includes the Object Access Management rights profile. This rights profile allows
the <tt>objadmin</tt> role to change permissions on files that <tt>objadmin</tt> does not own.</p><p>In the following excerpt, <tt>jdoe</tt> fails to change the permissions on the <tt>useful.script</tt>
file:</p><pre>jdoe% <tt><b>ls -l useful.script</b></tt>
-rw-r--r--  1 aloe  staff  2303 Mar 11 05:29 useful.script
jdoe% <tt><b>chown objadmin useful.script</b></tt>
chown: useful.script: Not owner
jdoe% <tt><b>ppriv -eD chown objadmin useful.script</b></tt>
chown[11444]: missing privilege "file_chown" 
            (euid = 130, syscall = 16) needed at ufs_setattr+0x258
chown: useful.script: Not owner</pre><p>When <tt>jdoe</tt> assumes the <tt>objadmin</tt> role, the permissions on the file are changed:</p><pre>jdoe% <tt><b>su - objadmin</b></tt>
Password: &lt;Type objadmin password&gt;
$ <tt><b>ls -l useful.script</b></tt>
-rw-r--r--  1 aloe  staff  2303 Mar 11 05:29 useful.script
$ <tt><b>chown objadmin useful.script</b></tt>
$ <tt><b>ls -l useful.script</b></tt>
-rw-r--r--  1 objadmin  staff  2303 Mar 11 05:29 useful.script
$ <tt><b>chgrp admin useful.script</b></tt>
$ <tt><b>ls -l objadmin.script</b></tt>
-rw-r--r--  1 objadmin  admin  2303 Mar 11 05:31 useful.script</pre><a name="privtask-35"></a><h6>Example&nbsp;11-5 Changing a File Owned by the <tt>root</tt> User</h6><p>This example illustrates the protections against privilege escalation. For a discussion, see <a href="privref-20.html">Prevention of Privilege Escalation</a>.
The file is owned by the <tt>root</tt> user. The less powerful role, <tt>objadmin</tt>
role needs all privileges to change the file's ownership, so the operation fails.</p><pre>jdoe% <tt><b>su - objadmin</b></tt>
Password: &lt;Type objadmin password&gt;
$ <tt><b>cd /etc; ls -l system</b></tt>
-rw-r--r--  1 root  sys   1883 Mar 20 14:04 system
$ <tt><b>chown objadmin system</b></tt>
chown: system: Not owner
$ <tt><b>ppriv -eD chown objadmin system</b></tt>
chown[11481]: missing privilege "ALL" 
     (euid = 101, syscall = 16) needed at ufs_setattr+0x258
chown: system: Not owner</pre>

<a name="privtask-7"></a><h4>How to Add Privileges to a Command</h4><a name="indexterm-1446"></a><a name="indexterm-1447"></a><a name="indexterm-1448"></a><p>You add privileges to a command when you are adding the command
to a rights profile. The privileges enable the role that includes the rights
profile to run the administrative command, while not gaining any other superuser capabilities.</p><h6>Before You Begin</h6><p>The command or program must be privilege-aware. For a fuller discussion, see <a href="prbac-2.html#prbac-19">How Processes Get Privileges</a>.</p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see <a href="rbactask-15.html">Configuring RBAC (Task Map)</a>.</p></li>
<li><b>Open the Solaris Management Console GUI.</b><p>For instructions, see <a href="rbactask-42.html#rbactask-21">How to Assume a Role in the Solaris Management Console</a>.</p></li>
<li><b>Use the Rights tool to update an appropriate profile.</b><p>Select the command to include. For each included command, add the privileges that the
command requires.</p>
<hr><p><b>Caution - </b>When you include commands in a rights profile and add privileges to the
commands, the commands execute with those privileges when the commands are run in
a profile shell.</p><p>The order of profiles is important. The profile shell executes a command or
action with the security attributes that are specified in the earliest profile in
the account's list of profiles. For example, if the <tt>chgrp</tt> command is in
the Object Access Management rights profile with privileges, and Object Access Management is the
first profile in which the <tt>chgrp</tt> command is found, then the <tt>chgrp</tt> command
executes with the privileges specified in the Object Access Management profile.</p>
<hr>
</li></ol>

<a name="privtask-8"></a><h4>How to Assign Privileges to a User or Role</h4><a name="indexterm-1449"></a><a name="indexterm-1450"></a><a name="indexterm-1451"></a><a name="indexterm-1452"></a><a name="indexterm-1453"></a><a name="indexterm-1454"></a><p>You might trust some users with a particular privilege all the time. Very
specific privileges that affect a small part of the system are good
candidates for assigning to a user. For a discussion of the implications of
directly assigned privileges, see <a href="rbac-1.html#rbac-10">Security Considerations When Directly Assigning Security Attributes</a>.</p><p>The following procedure enables user <tt>jdoe</tt> to use high resolution timers.</p><ol>
<li><b>Assume the Primary Administrator role, or become superuser.</b><p>The Primary Administrator role includes the Primary Administrator profile. To create the role
and assign the role to a user, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><b><a name="indexterm-1455"></a><a name="indexterm-1456"></a>Add the privilege that affects high resolution times to the user's initial inheritable set
of privileges.</b><pre>$ <tt><b>usermod -K defaultpriv=basic,proc_clock_highres jdoe</b></tt></pre></li>
<li><b>Read the resulting <tt>user_attr</tt> entry.</b><pre>$ <tt><b>grep jdoe /etc/user_attr</b></tt>
jdoe::::type=normal;defaultpriv=basic,proc_clock_highres</pre></li></ol><a name="privtask-17"></a><h6>Example&nbsp;11-6 Creating a Role With Privileges to Configure System Time</h6><p><a name="indexterm-1457"></a>In this example, a role is created whose only task is to handle
time on the system.</p><pre>$ <tt><b>/usr/sadm/bin/smrole -D nisplus:/examplehost/example.domain \</b></tt>
<tt><b>-r primaryadm -l</b></tt> <i>&lt;Type primaryadm password&gt;</i> <tt><b>\</b></tt>
<tt><b>add -- -n clockmgr \</b></tt>
<tt><b>-c "Role that sets system time" \</b></tt>
<tt><b>-F "Clock Manager" \</b></tt>
<tt><b>-s /bin/pfksh \</b></tt>
<tt><b>-u 108 \</b></tt>
<tt><b>-P</b></tt> <i>&lt;Type clockmgr password&gt;</i> <tt><b>\</b></tt>
<tt><b>-K defaultpriv=basic,proc_priocntl,sys_cpu_config,</b></tt>
<tt><b>proc_clock_highres,sys_time</b></tt></pre><p>The <tt>-K</tt> line is wrapped for display purposes.</p><p>If the role was created locally, the <tt>user_attr</tt> entry for the role would
appear similar to the following:</p><pre>clockmgr:::Role that sets system time:
type=role;defaultpriv=basic,proc_priocntl,sys_cpu_config,
proc_clock_highres,sys_time</pre>

<a name="privtask-4"></a><h4>How to Limit a User's or Role's Privileges</h4><a name="indexterm-1458"></a><a name="indexterm-1459"></a><p>You can limit the privileges that are available to a user or
role by reducing the basic set, or by reducing the limit set. You
should have good reason to limit the user's privileges in this way, because
such limitations can have unintended side effects.</p>
<hr><p><b>Caution - </b>You should thoroughly test any user's capabilities where the basic set or the
limit set has been modified for a user.</p>
<ul><li><p>When the basic set is less than the default, users can be prevented from using the system.</p></li>
<li><p>When the limit set is less than all privileges, processes that need to run with an effective <tt>UID=0</tt> might fail.</p></li></ul>

<hr>
<ol>
<li><b>Determine the privileges in a user's basic set and limit set.</b><p>For the procedure, see <a href="#privtask-5">How to Determine the Privileges on a Process</a>.</p></li>
<li>(Optional) <b><a name="indexterm-1460"></a><a name="indexterm-1461"></a><a name="indexterm-1462"></a><a name="indexterm-1463"></a>Remove one of the privileges from the basic set.</b><pre>$ usermod -K defaultpriv=basic,!<i>priv-name username</i></pre><p>By removing the <tt>proc_session</tt> privilege, you prevent the user from examining any processes
outside the user's current session. By removing the <tt>file_link_any</tt> privilege, you prevent the user
from making hard links to files that are not owned by the
user.</p>
<hr><p><b>Caution - </b>Do not remove the <tt>proc_fork</tt> or the <tt>proc_exec</tt> privilege. Without these privileges,
the user would not be able to use the system. In fact, these
two privileges are only reasonably removed from daemons that should not <tt>fork()</tt> or
<tt>exec()</tt> other processes.</p>
<hr>
</li>
<li>(Optional) <b>Remove one of the privileges from the limit set.</b><pre>$ usermod -K limitpriv=all,!<i>priv-name username</i></pre></li>
<li><b>Test the capabilities of <i>username</i>.</b><p>Log in as <i>username</i> and try to perform the tasks that <i>username</i> must
perform on the system.</p></li></ol><a name="privtask-37"></a><h6>Example&nbsp;11-7 Removing Privileges From a User's Limit Set</h6><p><a name="indexterm-1464"></a><a name="indexterm-1465"></a>In the following example, all sessions that originate from <tt>jdoe</tt>'s initial login are
prevented from using the <tt>sys_linkdir</tt> privilege. That is, the user cannot make hard links
to directories, nor can the user unlink directories, even after the user runs
the <tt>su</tt> command.</p><pre>$ <tt><b>usermod -K limitpriv=all,!sys_linkdir jdoe</b></tt>
$ <tt><b>grep jdoe /etc/user_attr</b></tt>
jdoe::::type=normal;defaultpriv=basic;limitpriv=all,!sys_linkdir</pre><a name="privtask-39"></a><h6>Example&nbsp;11-8 Removing Privileges From a User's Basic Set</h6><p>In the following example, all sessions that originate from <tt>jdoe</tt>'s initial login are
prevented from using the <tt>proc_session</tt> privilege. That is, the user cannot examine any
processes outside the user's session, even after the user runs the <tt>su</tt> command.</p><pre>$ <tt><b>usermod -K defaultpriv=basic,!proc_session jdoe</b></tt></pre><pre>$ <tt><b>grep jdoe /etc/user_attr</b></tt>
jdoe::::type=normal;defaultpriv=basic,!proc_session;limitpriv=all</pre>

<a name="privtask-15"></a><h4>How to Run a Shell Script With Privileged Commands</h4><a name="indexterm-1466"></a><a name="indexterm-1467"></a><a name="indexterm-1468"></a>
<hr><p><b>Note - </b>When you create a shell script that runs commands with inherited privileges, the
appropriate rights profile must contain the commands with privileges assigned to them.</p>
<hr>
<ol>
<li><b><a name="indexterm-1469"></a>Start the script with <tt>/bin/pfsh</tt>, or any other profile shell, on the first
line.</b><pre>#!/bin/pfsh
# Copyright (c) 2003 by Sun Microsystems, Inc.</pre></li>
<li><b>Determine the privileges that the commands in the script need.</b><pre>% ppriv -eD <i>script-full-path</i></pre></li>
<li><b>Open the Solaris Management Console GUI.</b><p>For instructions, see <a href="rbactask-42.html#rbactask-21">How to Assume a Role in the Solaris Management Console</a>. Choose a role, such as Primary Administrator, that can
create a rights profile.</p></li>
<li><b>Use the Rights tool to create or update an appropriate profile.</b><p>Select the script, and include in the rights profile each of the
commands in the shell script that need privileges to run. For each included
command, add the privileges that the command requires.</p>
<hr><p><b>Caution - </b>The order of rights profiles is important. The profile shell executes the earliest
instance of a command in the list of profiles. For example, if the
<tt>chgrp</tt> command is in the Object Access Management rights profile, and Object Access
Management is the first profile in which the <tt>chgrp</tt> command is found, then
the <tt>chgrp</tt> command executes with the privileges that are specified in the Object
Access Management profile.</p>
<hr>
</li>
<li><b>Add the rights profile to a role and assign the role to
a user.</b><p>To execute the profile, the user assumes the role and runs the
script in the role's profile shell.</p></li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="privtask-14.html">Previous</a>
             </td>
             <td align="right">
                 <a href="privtask-16.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

