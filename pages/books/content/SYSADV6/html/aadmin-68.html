<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Administering Kerberos Policies - System Administration Guide: Security Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-08-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Security Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="aadmin-9.html">Previous</a>
             </td>
             <td align="right">
                 <a href="aadmin-228.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="oview-1.html">Part&nbsp;I&nbsp;Security Overview</a></p>
<p class="toc level2"><a href="secov-1.html">1.&nbsp;&nbsp;Security Services (Overview)</a></p>
<p class="toc level1 tocsp"><a href="sectm-1.html">Part&nbsp;II&nbsp;System, File, and Device Security</a></p>
<p class="toc level2"><a href="concept-1.html">2.&nbsp;&nbsp;Managing Machine Security (Overview)</a></p>
<p class="toc level2"><a href="secsys-1.html">3.&nbsp;&nbsp;Controlling Access to Systems (Tasks)</a></p>
<p class="toc level2"><a href="vscan-1.html">4.&nbsp;&nbsp;Virus Scanning Service (Tasks)</a></p>
<p class="toc level2"><a href="devtask-1.html">5.&nbsp;&nbsp;Controlling Access to Devices (Tasks)</a></p>
<p class="toc level2"><a href="bart-1.html">6.&nbsp;&nbsp;Using the Basic Audit Reporting Tool (Tasks)</a></p>
<p class="toc level2"><a href="secfile-1.html">7.&nbsp;&nbsp;Controlling Access to Files (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="prbactm-1.html">Part&nbsp;III&nbsp;Roles, Rights Profiles, and Privileges</a></p>
<p class="toc level2"><a href="prbac-1.html">8.&nbsp;&nbsp;Using Roles and Privileges (Overview)</a></p>
<p class="toc level2"><a href="rbactask-1.html">9.&nbsp;&nbsp;Using Role-Based Access Control (Tasks)</a></p>
<p class="toc level2"><a href="rbacref-1.html">10.&nbsp;&nbsp;Role-Based Access Control (Reference)</a></p>
<p class="toc level2"><a href="privtask-1.html">11.&nbsp;&nbsp;Privileges (Tasks)</a></p>
<p class="toc level2"><a href="privref-1.html">12.&nbsp;&nbsp;Privileges (Reference)</a></p>
<p class="toc level1 tocsp"><a href="scftm-1.html">Part&nbsp;IV&nbsp;Solaris Cryptographic Services</a></p>
<p class="toc level2"><a href="scf-1.html">13.&nbsp;&nbsp;Solaris Cryptographic Framework (Overview)</a></p>
<p class="toc level2"><a href="scftask-1.html">14.&nbsp;&nbsp;Solaris Cryptographic Framework (Tasks)</a></p>
<p class="toc level2"><a href="kmf-1.html">15.&nbsp;&nbsp;Solaris Key Management Framework</a></p>
<p class="toc level1 tocsp"><a href="authtm-1.html">Part&nbsp;V&nbsp;Authentication Services and Secure Communication</a></p>
<p class="toc level2"><a href="auth-1.html">16.&nbsp;&nbsp;Using Authentication Services (Tasks)</a></p>
<p class="toc level2"><a href="pam-1.html">17.&nbsp;&nbsp;Using PAM</a></p>
<p class="toc level2"><a href="sasl-1.html">18.&nbsp;&nbsp;Using SASL</a></p>
<p class="toc level2"><a href="sshuser-1.html">19.&nbsp;&nbsp;Using Solaris Secure Shell (Tasks)</a></p>
<p class="toc level2"><a href="sshref-1.html">20.&nbsp;&nbsp;Solaris Secure Shell (Reference)</a></p>
<p class="toc level1 tocsp"><a href="seamtm-1.html">Part&nbsp;VI&nbsp;Kerberos Service</a></p>
<p class="toc level2"><a href="intro-1.html">21.&nbsp;&nbsp;Introduction to the Kerberos Service</a></p>
<p class="toc level2"><a href="seamplan-1.html">22.&nbsp;&nbsp;Planning for the Kerberos Service</a></p>
<p class="toc level2"><a href="setup-8.html">23.&nbsp;&nbsp;Configuring the Kerberos Service (Tasks)</a></p>
<p class="toc level2"><a href="trouble-1.html">24.&nbsp;&nbsp;Kerberos Error Messages and Troubleshooting</a></p>
<p class="toc level2"><a href="aadmin-1.html">25.&nbsp;&nbsp;Administering Kerberos Principals and Policies (Tasks)</a></p>
<p class="toc level3"><a href="aadmin-171.html">Ways to Administer Kerberos Principals and Policies</a></p>
<p class="toc level3"><a href="aadmin-23.html">SEAM Administration Tool</a></p>
<p class="toc level3"><a href="aadmin-9.html">Administering Kerberos Principals</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Administering Kerberos Policies</a></p>
</div>
<p class="toc level3"><a href="aadmin-228.html">SEAM Tool Reference</a></p>
<p class="toc level3"><a href="aadmin-10.html">Administering Keytab Files</a></p>
<p class="toc level2 tocsp"><a href="user-7.html">26.&nbsp;&nbsp;Using Kerberos Applications (Tasks)</a></p>
<p class="toc level2"><a href="refer-1.html">27.&nbsp;&nbsp;The Kerberos Service (Reference)</a></p>
<p class="toc level1 tocsp"><a href="audittm-1.html">Part&nbsp;VII&nbsp;Solaris Auditing</a></p>
<p class="toc level2"><a href="auditov-1.html">28.&nbsp;&nbsp;Solaris Auditing (Overview)</a></p>
<p class="toc level2"><a href="auditplan-1.html">29.&nbsp;&nbsp;Planning for Solaris Auditing</a></p>
<p class="toc level2"><a href="audittask-1.html">30.&nbsp;&nbsp;Managing Solaris Auditing (Tasks)</a></p>
<p class="toc level2"><a href="auditref-1.html">31.&nbsp;&nbsp;Solaris Auditing (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-2.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="aadmin-68"></a><h3>Administering Kerberos Policies</h3>
<a name="indexterm-2720"></a><a name="indexterm-2721"></a><p>This section provides step-by-step instructions used to administer policies with the SEAM Tool.
This section also provides examples of command-line equivalents, when available.</p>

<a name="aadmin-189"></a><h4>Administering Kerberos Policies (Task Map)</h4>
<a name="indexterm-2722"></a><a name="indexterm-2723"></a><table><col width="27%"><col width="42%"><col width="30%"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>View the list
of policies.</p></td>
<td align="left" valign="top" scope="row"><p>View the list of policies by clicking the Policies tab.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#aadmin-69">How to View the List of Kerberos Policies</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>View a
policy's attributes.</p></td>
<td align="left" valign="top" scope="row"><p>View a policy's attributes by selecting the policy in the Policy
List, then clicking the Modify button.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#aadmin-76">How to View a Kerberos Policy's Attributes</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Create a new policy.</p></td>
<td align="left" valign="top" scope="row"><p>Create a new policy by
clicking the Create New button in the Policy List panel.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#aadmin-70">How to Create a New Kerberos Policy</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Duplicate a policy.</p></td>
<td align="left" valign="top" scope="row"><p>Duplicate a
policy by selecting the policy to duplicate in the Policy List, then clicking
the Duplicate button.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#aadmin-82">How to Duplicate a Kerberos Policy</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Modify a policy.</p></td>
<td align="left" valign="top" scope="row"><p>Modify a policy by selecting the policy to
modify in the Policy List, then clicking the Modify button.</p><p>Note that you cannot
modify a policy's name. To rename a policy, you must duplicate the policy,
specify a new name for it, save it, and then delete the old
policy.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#aadmin-71">How to Modify a Kerberos Policy</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Delete a policy.</p></td>
<td align="left" valign="top" scope="row"><p>Delete a policy by selecting the policy to delete in
the Policy List, then clicking the Delete button.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#aadmin-72">How to Delete a Kerberos Policy</a></p></td>
</tr>
</table>

<a name="aadmin-69"></a><h4>How to View the List of Kerberos Policies</h4><a name="indexterm-2724"></a><a name="indexterm-2725"></a><a name="indexterm-2726"></a><p>An example of the command-line equivalent follows this procedure.</p><ol>
<li><a name="seamgadmin-step-270"></a><b>If necessary, start the SEAM Tool.</b><p>See <a href="aadmin-23.html#aadmin-24">How to Start the SEAM Tool</a> for more information.</p><pre>$ <tt><b>/usr/sbin/gkadmin</b></tt></pre></li>
<li><a name="seamgadmin-step-271"></a><b>Click the Policies tab.</b><p>The list of policies is displayed.</p><br><img src="figures/SEAM-list-pol.gif" alt="Dialog box titled SEAM Administration Tool shows a list of policies and a policy filter. Shows Modify, Create New, Delete, and Duplicate buttons." width="726" height="781"></img></li>
<li><a name="seamgadmin-step-272"></a><b>Display a specific policy or a sublist of policies.</b><p>Type a filter string in the Filter field, and press Return. If the
filter succeeds, the list of policies that match the filter is displayed.</p><p>The filter string must consist of one or more characters. Because the filter
mechanism is case sensitive, you need to use the appropriate uppercase and lowercase
letters for the filter. For example, if you type the filter string <tt>ge</tt>,
the filter mechanism displays only the policies with the <tt>ge</tt> string in them
(for example, <tt>george</tt> or <tt>edge</tt>). </p><p>If you want to display the entire list of policies, click Clear
Filter.</p></li></ol><a name="ehgak"></a><h6>Example&nbsp;25-9 Viewing the List of Kerberos Policies (Command Line)</h6><p>In the following example, the <tt>list_policies</tt> command of <tt>kadmin</tt> is used to list
all the policies that match <tt>*user*</tt>. Wildcards can be used with the
<tt>list_policies</tt> command.</p><pre>kadmin: <tt><b>list_policies *user*</b></tt>
testuser
enguser
kadmin: <tt><b>quit</b></tt></pre>

<a name="aadmin-76"></a><h4>How to View a Kerberos Policy's Attributes</h4><a name="indexterm-2727"></a><a name="indexterm-2728"></a><a name="indexterm-2729"></a><p>An example of the command-line equivalent follows this procedure.</p><ol>
<li><a name="seamgadmin-step-273"></a><b>If necessary, start the SEAM Tool.</b><p>See <a href="aadmin-23.html#aadmin-24">How to Start the SEAM Tool</a> for more information.</p><pre>$ <tt><b>/usr/sbin/gkadmin</b></tt></pre></li>
<li><a name="seamgadmin-step-274"></a><b>Click the Policies tab.</b></li>
<li><a name="seamgadmin-step-275"></a><b>Select the policy in the list that you want to view, then click
Modify. </b><p>The Policy Details panel is displayed.</p></li>
<li><a name="seamgadmin-step-276"></a><b>When you are finished viewing, click Cancel.</b></li></ol><a name="ehgao"></a><h6>Example&nbsp;25-10 Viewing a Kerberos Policy's Attributes</h6><p>The following example shows the Policy Details panel when you are viewing the
<tt>test</tt> policy.</p><img src="figures/SEAM-view-pol.gif" alt="Dialog box titled SEAM Administration Tool shows policy details of the enguser policy. Shows Save, Previous, Done, and Cancel buttons" width="726" height="781"></img><a name="ehgam"></a><h6>Example&nbsp;25-11 Viewing a Kerberos Policy's Attributes (Command Line)</h6><p>In the following example, the <tt>get_policy</tt> command of <tt>kadmin</tt> is used to view
the attributes of the <tt>enguser</tt> policy.</p><pre>kadmin: <tt><b>get_policy enguser</b></tt>
Policy: enguser
Maximum password life: 2592000
Minimum password life: 0
Minimum password length: 8
Minimum number of password character classes: 2
Number of old keys kept: 3
Reference count: 0
kadmin: <tt><b>quit</b></tt></pre><p>The Reference count is the number of principals that use this policy.</p>

<a name="aadmin-70"></a><h4>How to Create a New Kerberos Policy</h4><a name="indexterm-2730"></a><a name="indexterm-2731"></a><a name="indexterm-2732"></a><p>An example of the command-line equivalent follows this procedure.</p><ol>
<li><a name="seamgadmin-step-277"></a><b>If necessary, start the SEAM Tool.</b><p>See <a href="aadmin-23.html#aadmin-24">How to Start the SEAM Tool</a> for more information.</p><pre>$ <tt><b>/usr/sbin/gkadmin</b></tt></pre></li>
<li><a name="seamgadmin-step-278"></a><b>Click the Policies tab.</b></li>
<li><a name="seamgadmin-step-279"></a><b>Click New.</b><p>The Policy Details panel is displayed.</p></li>
<li><a name="seamgadmin-step-280"></a><b>Specify a name for the policy in the Policy Name field.</b><p>The policy name is mandatory.</p></li>
<li><a name="seamgadmin-step-281"></a><b>Specify values for the policy's attributes.</b><p>Choose Context-Sensitive Help from the Help menu for information about the various attributes
in this window. Or, go to <a href="aadmin-228.html#aadmin-tbl-226">Table&nbsp;25-5</a> for all the policy attribute descriptions.</p></li>
<li><a name="seamgadmin-step-282"></a><b>Click Save to save the policy, or click Done.</b></li></ol><a name="ehgas"></a><h6>Example&nbsp;25-12 Creating a New Kerberos Policy</h6><p>In the following example, a new policy called <tt>build11</tt> is created. The Minimum
Password Classes is set to 3.</p><img src="figures/SEAM-add-pol.gif" alt="Dialog box titled SEAM Administration Tool shows policy details of the build11 policy. Shows Save, Previous, Done, and Cancel buttons." width="726" height="781"></img><a name="ehgaq"></a><h6>Example&nbsp;25-13 Creating a New Kerberos Policy (Command Line)</h6><p>In the following example, the <tt>add_policy</tt> command of <tt>kadmin</tt> is used to create
the <tt>build11</tt> policy. This policy requires at least 3 character classes in a
password.</p><pre>$ <tt><b>kadmin</b></tt>
kadmin: <tt><b>add_policy -minclasses 3 build11</b></tt>
kadmin: <tt><b>quit</b></tt></pre>

<a name="aadmin-82"></a><h4>How to Duplicate a Kerberos Policy</h4><p>This procedure explains how to use all or some of the attributes
of an existing policy to create a new policy. No command-line equivalent exists for
this procedure.</p><ol>
<li><a name="seamgadmin-step-283"></a><b>If necessary, start the SEAM Tool.</b><p>See <a href="aadmin-23.html#aadmin-24">How to Start the SEAM Tool</a> for more information.</p><pre>$ <tt><b>/usr/sbin/gkadmin</b></tt></pre></li>
<li><a name="seamgadmin-step-284"></a><b>Click the Policies tab.</b></li>
<li><a name="seamgadmin-step-285"></a><b>Select the policy in the list that you want to duplicate, then click
Duplicate. </b><p>The Policy Details panel is displayed. All the attributes of the selected policy
are duplicated, except for the Policy Name field, which is empty.</p></li>
<li><a name="seamgadmin-step-286"></a><b>Specify a name for the duplicated policy in the Policy Name field.</b><p>The policy name is mandatory. To make an exact duplicate of the policy
you selected, skip to <a href="#aadmin-pol-done-1">Step&nbsp;6</a>.</p></li>
<li><a name="seamgadmin-step-287"></a><b>Specify different values for the policy's attributes.</b><p>Choose Context-Sensitive Help from the Help menu for information about the various attributes
in this window. Or, go to <a href="aadmin-228.html#aadmin-tbl-226">Table&nbsp;25-5</a> for all the policy attribute descriptions.</p></li>
<li><a name="aadmin-pol-done-1"></a><b>Click Save to save the policy, or click Done.</b></li></ol>

<a name="aadmin-71"></a><h4>How to Modify a Kerberos Policy</h4><a name="indexterm-2733"></a><a name="indexterm-2734"></a><a name="indexterm-2735"></a><p>An example of the command-line equivalent follows this procedure.</p><ol>
<li><a name="seamgadmin-step-288"></a><b>If necessary, start the SEAM Tool.</b><p>See <a href="aadmin-23.html#aadmin-24">How to Start the SEAM Tool</a> for details.</p><pre>$ <tt><b>/usr/sbin/gkadmin</b></tt></pre></li>
<li><a name="seamgadmin-step-289"></a><b>Click the Policies tab.</b></li>
<li><a name="seamgadmin-step-290"></a><b>Select the policy in the list that you want to modify, then click
Modify. </b><p>The Policy Details panel is displayed.</p></li>
<li><a name="seamgadmin-step-291"></a><b>Modify the policy's attributes.</b><p>Choose Context-Sensitive Help from the Help menu for information about the various attributes
in this window. Or, go to <a href="aadmin-228.html#aadmin-tbl-226">Table&nbsp;25-5</a> for all the policy attribute descriptions.</p>
<hr><p><b>Note - </b>You cannot modify a policy's name. To rename a policy, you must duplicate
the policy, specify a new name for it, save it, and then
delete the old policy.</p>
<hr>
</li>
<li><a name="seamgadmin-step-292"></a><b>Click Save to save the policy, or click Done.</b></li></ol><a name="ehgar"></a><h6>Example&nbsp;25-14 Modifying a Kerberos Policy (Command Line)</h6><p>In the following example, the <tt>modify_policy</tt> command of <tt>kadmin</tt> is used to modify
the minimum length of a password to five characters for the <tt>build11</tt> policy.</p><pre>$ <tt><b>kadmin</b></tt>
kadmin: <tt><b>modify_policy -minlength 5 build11</b></tt>
kadmin: <tt><b>quit</b></tt></pre>

<a name="aadmin-72"></a><h4>How to Delete a Kerberos Policy</h4><a name="indexterm-2736"></a><a name="indexterm-2737"></a><a name="indexterm-2738"></a><p>An example of the command-line equivalent follows this procedure.</p>
<hr><p><b>Note - </b>Before you delete a policy, you must cancel the policy from all principals
that are currently using it. To do so, you need to modify
the principals' Policy attribute. The policy cannot be deleted if any principal is
using it.</p>
<hr>
<ol>
<li><a name="seamgadmin-step-293"></a><b>If necessary, start the SEAM Tool.</b><p>See <a href="aadmin-23.html#aadmin-24">How to Start the SEAM Tool</a> for more information.</p><pre>$ <tt><b>/usr/sbin/gkadmin</b></tt></pre></li>
<li><a name="seamgadmin-step-294"></a><b>Click the Policies tab.</b></li>
<li><a name="seamgadmin-step-295"></a><b>Select the policy in the list that you want to delete, then click
Delete. </b><p>After you confirm the deletion, the policy is deleted.</p></li></ol><a name="ehgba"></a><h6>Example&nbsp;25-15 Deleting a Kerberos Policy (Command Line)</h6><p>In the following example, the <tt>delete_policy</tt> command of the <tt>kadmin</tt> command is used
to delete the <tt>build11</tt> policy.</p><pre>kadmin: <tt><b>delete_policy build11</b></tt> 
Are you sure you want to delete the policy "build11"? (yes/no): <tt><b>yes</b></tt>
kadmin: <tt><b>quit</b></tt></pre><p>Before you delete a policy, you must cancel the policy from all
principals that are currently using it. To do so, you need to use
the <tt>modify_principal <tt>-policy</tt></tt> command of <tt>kadmin</tt> on the affected principals. The <tt>delete_policy</tt> command fails
if the policy is in use by a principal.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="aadmin-9.html">Previous</a>
             </td>
             <td align="right">
                 <a href="aadmin-228.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

