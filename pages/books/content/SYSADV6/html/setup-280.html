<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Increasing Security on Kerberos Servers - System Administration Guide: Security Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-08-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Security Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ggklp.html">Previous</a>
             </td>
             <td align="right">
                 <a href="trouble-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="oview-1.html">Part&nbsp;I&nbsp;Security Overview</a></p>
<p class="toc level2"><a href="secov-1.html">1.&nbsp;&nbsp;Security Services (Overview)</a></p>
<p class="toc level1 tocsp"><a href="sectm-1.html">Part&nbsp;II&nbsp;System, File, and Device Security</a></p>
<p class="toc level2"><a href="concept-1.html">2.&nbsp;&nbsp;Managing Machine Security (Overview)</a></p>
<p class="toc level2"><a href="secsys-1.html">3.&nbsp;&nbsp;Controlling Access to Systems (Tasks)</a></p>
<p class="toc level2"><a href="vscan-1.html">4.&nbsp;&nbsp;Virus Scanning Service (Tasks)</a></p>
<p class="toc level2"><a href="devtask-1.html">5.&nbsp;&nbsp;Controlling Access to Devices (Tasks)</a></p>
<p class="toc level2"><a href="bart-1.html">6.&nbsp;&nbsp;Using the Basic Audit Reporting Tool (Tasks)</a></p>
<p class="toc level2"><a href="secfile-1.html">7.&nbsp;&nbsp;Controlling Access to Files (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="prbactm-1.html">Part&nbsp;III&nbsp;Roles, Rights Profiles, and Privileges</a></p>
<p class="toc level2"><a href="prbac-1.html">8.&nbsp;&nbsp;Using Roles and Privileges (Overview)</a></p>
<p class="toc level2"><a href="rbactask-1.html">9.&nbsp;&nbsp;Using Role-Based Access Control (Tasks)</a></p>
<p class="toc level2"><a href="rbacref-1.html">10.&nbsp;&nbsp;Role-Based Access Control (Reference)</a></p>
<p class="toc level2"><a href="privtask-1.html">11.&nbsp;&nbsp;Privileges (Tasks)</a></p>
<p class="toc level2"><a href="privref-1.html">12.&nbsp;&nbsp;Privileges (Reference)</a></p>
<p class="toc level1 tocsp"><a href="scftm-1.html">Part&nbsp;IV&nbsp;Solaris Cryptographic Services</a></p>
<p class="toc level2"><a href="scf-1.html">13.&nbsp;&nbsp;Solaris Cryptographic Framework (Overview)</a></p>
<p class="toc level2"><a href="scftask-1.html">14.&nbsp;&nbsp;Solaris Cryptographic Framework (Tasks)</a></p>
<p class="toc level2"><a href="kmf-1.html">15.&nbsp;&nbsp;Solaris Key Management Framework</a></p>
<p class="toc level1 tocsp"><a href="authtm-1.html">Part&nbsp;V&nbsp;Authentication Services and Secure Communication</a></p>
<p class="toc level2"><a href="auth-1.html">16.&nbsp;&nbsp;Using Authentication Services (Tasks)</a></p>
<p class="toc level2"><a href="pam-1.html">17.&nbsp;&nbsp;Using PAM</a></p>
<p class="toc level2"><a href="sasl-1.html">18.&nbsp;&nbsp;Using SASL</a></p>
<p class="toc level2"><a href="sshuser-1.html">19.&nbsp;&nbsp;Using Solaris Secure Shell (Tasks)</a></p>
<p class="toc level2"><a href="sshref-1.html">20.&nbsp;&nbsp;Solaris Secure Shell (Reference)</a></p>
<p class="toc level1 tocsp"><a href="seamtm-1.html">Part&nbsp;VI&nbsp;Kerberos Service</a></p>
<p class="toc level2"><a href="intro-1.html">21.&nbsp;&nbsp;Introduction to the Kerberos Service</a></p>
<p class="toc level2"><a href="seamplan-1.html">22.&nbsp;&nbsp;Planning for the Kerberos Service</a></p>
<p class="toc level2"><a href="setup-8.html">23.&nbsp;&nbsp;Configuring the Kerberos Service (Tasks)</a></p>
<p class="toc level3"><a href="setup-306.html">Configuring the Kerberos Service (Task Map)</a></p>
<p class="toc level3"><a href="ezecs.html">Configuring Additional Kerberos Services (Task Map)</a></p>
<p class="toc level3"><a href="setup-9.html">Configuring KDC Servers</a></p>
<p class="toc level3"><a href="setup-87.html">Configuring Cross-Realm Authentication</a></p>
<p class="toc level3"><a href="setup-119.html">Configuring Kerberos Network Application Servers</a></p>
<p class="toc level3"><a href="setup-97.html">Configuring Kerberos NFS Servers</a></p>
<p class="toc level3"><a href="setup-148.html">Configuring Kerberos Clients</a></p>
<p class="toc level3"><a href="setup-192.html">Synchronizing Clocks Between KDCs and Kerberos Clients</a></p>
<p class="toc level3"><a href="aadmin-2.html">Swapping a Master KDC and a Slave KDC</a></p>
<p class="toc level3"><a href="aadmin-3.html">Administering the Kerberos Database</a></p>
<p class="toc level3"><a href="ggklp.html">Managing a KDC on an LDAP Directory Server</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Increasing Security on Kerberos Servers</a></p>
</div>
<p class="toc level2 tocsp"><a href="trouble-1.html">24.&nbsp;&nbsp;Kerberos Error Messages and Troubleshooting</a></p>
<p class="toc level2"><a href="aadmin-1.html">25.&nbsp;&nbsp;Administering Kerberos Principals and Policies (Tasks)</a></p>
<p class="toc level2"><a href="user-7.html">26.&nbsp;&nbsp;Using Kerberos Applications (Tasks)</a></p>
<p class="toc level2"><a href="refer-1.html">27.&nbsp;&nbsp;The Kerberos Service (Reference)</a></p>
<p class="toc level1 tocsp"><a href="audittm-1.html">Part&nbsp;VII&nbsp;Solaris Auditing</a></p>
<p class="toc level2"><a href="auditov-1.html">28.&nbsp;&nbsp;Solaris Auditing (Overview)</a></p>
<p class="toc level2"><a href="auditplan-1.html">29.&nbsp;&nbsp;Planning for Solaris Auditing</a></p>
<p class="toc level2"><a href="audittask-1.html">30.&nbsp;&nbsp;Managing Solaris Auditing (Tasks)</a></p>
<p class="toc level2"><a href="auditref-1.html">31.&nbsp;&nbsp;Solaris Auditing (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-2.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="setup-280"></a><h3>Increasing Security on Kerberos Servers</h3>
<p>Follow these steps to increase security on Kerberos application servers and on KDC
servers. </p>

<a name="setup-281"></a><h4>How to Enable Only Kerberized Applications</h4><a name="indexterm-2638"></a><a name="indexterm-2639"></a><a name="indexterm-2640"></a><p>This procedure restricts network access to the server that is running <tt>telnet</tt>,
<tt>ftp</tt>, <tt>rcp</tt>, <tt>rsh</tt>, and <tt>rlogin</tt> to use Kerberos authenticated transactions only.</p><ol>
<li><b>Change the <tt>exec</tt> property for the <tt>telnet</tt> service.</b><p>Add the <tt>-a user</tt> option to the <tt>exec</tt> property for <tt>telnet</tt> to restrict access
to those users who can provide valid authentication information.</p><pre># inetadm -m svc:/network/telnet:default exec="/usr/sbin/in.telnetd -a user"</pre></li>
<li>(Optional) <b>If not already configured, change the <tt>exec</tt> property for the <tt>telnet</tt> service.</b><p>Add the <tt>-a</tt> option to the <tt>exec</tt> property for <tt>ftp</tt> to permit only
Kerberos authenticated connections.</p><pre># inetadm -m svc:/network/ftp:default exec="/usr/sbin/in.ftpd -a"</pre></li>
<li><b>Disable other services.</b><p>The <tt>in.rshd</tt> and <tt>in.rlogind</tt> daemons should be disabled.</p><pre># <tt><b>svcadm disable network/shell</b></tt>
# <tt><b>svcadm disable network/login:rlogin</b></tt></pre></li></ol>

<a name="setup-246"></a><h4>How to Restrict Access to KDC Servers</h4><a name="indexterm-2641"></a><a name="indexterm-2642"></a><a name="indexterm-2643"></a><p>Both master KDC servers and slave KDC servers have copies of the
KDC database stored locally. Restricting access to these servers so that the databases are
secure is important to the overall security of the Kerberos installation.</p><ol>
<li><a name="seamtask-step-431"></a><b>Disable remote services, as needed.</b><p>To provide a secure KDC server, all nonessential network services should be disabled
. Depending on your configuration, some of these services may already be disabled.
Check the service status with the <tt>svcs</tt> command. In most circumstances, the only
services that would need to run would be <tt>krb5kdc</tt> and <tt>krdb5_kprop</tt> if
the KDC is a slave or only <tt>kadmin</tt> if the KDC is a
master. In addition, any services that use loopback tli (<tt>ticlts</tt>, <tt>ticotsord</tt>, and
<tt>ticots</tt>) can be left enabled. </p><pre># <tt><b>svcadm disable network/comsat</b></tt>
# <tt><b>svcadm disable network/dtspc/tcp</b></tt>
# <tt><b>svcadm disable network/finger</b></tt>
# <tt><b>svcadm disable network/login:rlogin</b></tt>
# <tt><b>svcadm disable network/rexec</b></tt>
# <tt><b>svcadm disable network/shell</b></tt>
# <tt><b>svcadm disable network/talk</b></tt>
# <tt><b>svcadm disable network/tname</b></tt>
# <tt><b>svcadm disable network/uucp</b></tt>
# <tt><b>svcadm disable network/rpc_100068_2-5/rpc_udp</b></tt></pre></li>
<li><a name="seamtask-step-432"></a><b>Restrict access to the hardware that supports the KDC.</b><p>To restrict physical access, make sure that the KDC server and its monitor
are located in a secure facility. Users should not be able to access
this server in any way.</p></li>
<li><a name="seamtask-step-433"></a><b>Store KDC database backups on local disks or on the KDC slaves.</b><p>Make tape backups of your KDC only if the tapes are stored securely.
Follow the same practice for copies of keytab files. It would be best
to store these files on a local file system that is not
shared with other systems. The storage file system can be on either the
master KDC server or any of the slave KDCs.</p></li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ggklp.html">Previous</a>
             </td>
             <td align="right">
                 <a href="trouble-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

