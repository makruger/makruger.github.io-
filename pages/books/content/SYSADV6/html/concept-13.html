<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Controlling Access to Machine Resources - System Administration Guide: Security Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-08-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Security Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="concept-42.html">Previous</a>
             </td>
             <td align="right">
                 <a href="concept-36.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="oview-1.html">Part&nbsp;I&nbsp;Security Overview</a></p>
<p class="toc level2"><a href="secov-1.html">1.&nbsp;&nbsp;Security Services (Overview)</a></p>
<p class="toc level1 tocsp"><a href="sectm-1.html">Part&nbsp;II&nbsp;System, File, and Device Security</a></p>
<p class="toc level2"><a href="concept-1.html">2.&nbsp;&nbsp;Managing Machine Security (Overview)</a></p>
<p class="toc level3"><a href="concept-50.html">Enhancements to Machine Security in the Solaris 10 Release</a></p>
<p class="toc level3"><a href="concept-28.html">Controlling Access to a Computer System</a></p>
<p class="toc level3"><a href="concept-42.html">Controlling Access to Devices</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Controlling Access to Machine Resources</a></p>
</div>
<p class="toc level3"><a href="concept-36.html">Controlling Access to Files</a></p>
<p class="toc level3"><a href="concept-4.html">Controlling Network Access</a></p>
<p class="toc level3"><a href="concept-10.html">Reporting Security Problems</a></p>
<p class="toc level2 tocsp"><a href="secsys-1.html">3.&nbsp;&nbsp;Controlling Access to Systems (Tasks)</a></p>
<p class="toc level2"><a href="vscan-1.html">4.&nbsp;&nbsp;Virus Scanning Service (Tasks)</a></p>
<p class="toc level2"><a href="devtask-1.html">5.&nbsp;&nbsp;Controlling Access to Devices (Tasks)</a></p>
<p class="toc level2"><a href="bart-1.html">6.&nbsp;&nbsp;Using the Basic Audit Reporting Tool (Tasks)</a></p>
<p class="toc level2"><a href="secfile-1.html">7.&nbsp;&nbsp;Controlling Access to Files (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="prbactm-1.html">Part&nbsp;III&nbsp;Roles, Rights Profiles, and Privileges</a></p>
<p class="toc level2"><a href="prbac-1.html">8.&nbsp;&nbsp;Using Roles and Privileges (Overview)</a></p>
<p class="toc level2"><a href="rbactask-1.html">9.&nbsp;&nbsp;Using Role-Based Access Control (Tasks)</a></p>
<p class="toc level2"><a href="rbacref-1.html">10.&nbsp;&nbsp;Role-Based Access Control (Reference)</a></p>
<p class="toc level2"><a href="privtask-1.html">11.&nbsp;&nbsp;Privileges (Tasks)</a></p>
<p class="toc level2"><a href="privref-1.html">12.&nbsp;&nbsp;Privileges (Reference)</a></p>
<p class="toc level1 tocsp"><a href="scftm-1.html">Part&nbsp;IV&nbsp;Solaris Cryptographic Services</a></p>
<p class="toc level2"><a href="scf-1.html">13.&nbsp;&nbsp;Solaris Cryptographic Framework (Overview)</a></p>
<p class="toc level2"><a href="scftask-1.html">14.&nbsp;&nbsp;Solaris Cryptographic Framework (Tasks)</a></p>
<p class="toc level2"><a href="kmf-1.html">15.&nbsp;&nbsp;Solaris Key Management Framework</a></p>
<p class="toc level1 tocsp"><a href="authtm-1.html">Part&nbsp;V&nbsp;Authentication Services and Secure Communication</a></p>
<p class="toc level2"><a href="auth-1.html">16.&nbsp;&nbsp;Using Authentication Services (Tasks)</a></p>
<p class="toc level2"><a href="pam-1.html">17.&nbsp;&nbsp;Using PAM</a></p>
<p class="toc level2"><a href="sasl-1.html">18.&nbsp;&nbsp;Using SASL</a></p>
<p class="toc level2"><a href="sshuser-1.html">19.&nbsp;&nbsp;Using Solaris Secure Shell (Tasks)</a></p>
<p class="toc level2"><a href="sshref-1.html">20.&nbsp;&nbsp;Solaris Secure Shell (Reference)</a></p>
<p class="toc level1 tocsp"><a href="seamtm-1.html">Part&nbsp;VI&nbsp;Kerberos Service</a></p>
<p class="toc level2"><a href="intro-1.html">21.&nbsp;&nbsp;Introduction to the Kerberos Service</a></p>
<p class="toc level2"><a href="seamplan-1.html">22.&nbsp;&nbsp;Planning for the Kerberos Service</a></p>
<p class="toc level2"><a href="setup-8.html">23.&nbsp;&nbsp;Configuring the Kerberos Service (Tasks)</a></p>
<p class="toc level2"><a href="trouble-1.html">24.&nbsp;&nbsp;Kerberos Error Messages and Troubleshooting</a></p>
<p class="toc level2"><a href="aadmin-1.html">25.&nbsp;&nbsp;Administering Kerberos Principals and Policies (Tasks)</a></p>
<p class="toc level2"><a href="user-7.html">26.&nbsp;&nbsp;Using Kerberos Applications (Tasks)</a></p>
<p class="toc level2"><a href="refer-1.html">27.&nbsp;&nbsp;The Kerberos Service (Reference)</a></p>
<p class="toc level1 tocsp"><a href="audittm-1.html">Part&nbsp;VII&nbsp;Solaris Auditing</a></p>
<p class="toc level2"><a href="auditov-1.html">28.&nbsp;&nbsp;Solaris Auditing (Overview)</a></p>
<p class="toc level2"><a href="auditplan-1.html">29.&nbsp;&nbsp;Planning for Solaris Auditing</a></p>
<p class="toc level2"><a href="audittask-1.html">30.&nbsp;&nbsp;Managing Solaris Auditing (Tasks)</a></p>
<p class="toc level2"><a href="auditref-1.html">31.&nbsp;&nbsp;Solaris Auditing (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-2.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="concept-13"></a><h3>Controlling Access to Machine Resources</h3>
<a name="indexterm-95"></a><a name="indexterm-96"></a><p>As system administrator, you can control and monitor system activity. You can set
limits on who can use what resources. You can log resource use, and
you can monitor who is using the resources. You can also set
up your machines to minimize improper use of resources.</p>

<a name="concept-8"></a><h4>Limiting and Monitoring Superuser</h4>
<a name="indexterm-97"></a><a name="indexterm-98"></a><a name="indexterm-99"></a><a name="indexterm-100"></a><a name="indexterm-101"></a><a name="indexterm-102"></a><a name="indexterm-103"></a><a name="indexterm-104"></a><p>Your system requires a <tt>root</tt> password for superuser access. In the default configuration,
a user cannot remotely log in to a system as <tt>root</tt>. When logging
in remotely, a user must log in with the user's user name and
then use the <tt>su</tt> command to become <tt>root</tt>. You can monitor who
has been using the <tt>su</tt> command, especially those users who are trying to
gain superuser access. For procedures that monitor superuser and limit access to superuser,
see <a href="secsys-37.html">Monitoring and Restricting Superuser (Task Map)</a>.</p>

<a name="concept-39"></a><h4>Configuring Role-Based Access Control to Replace Superuser</h4>
<p><a name="indexterm-105"></a>Role-based access control, or RBAC, is designed to limit the capabilities of superuser.
Superuser, the <tt>root</tt> user, has access to every resource in the system. With
RBAC, you can replace <tt>root</tt> with a set of roles with discrete
powers. For example, you can set up one role to handle user account
creation, and another role to handle system file modification. When you have established
a role to handle a function or set of functions, you can remove
those functions from <tt>root</tt>'s capabilities.</p><p>Each role requires that a known user log in with their user
name and password. After logging in, the user then assumes the role with
a specific role password. As a consequence, someone who learns the <tt>root</tt> password has
limited ability to damage your system. For more on RBAC, see <a href="rbac-1.html">Role-Based Access Control (Overview)</a>.</p>

<a name="concept-6"></a><h4>Preventing Unintentional Misuse of Machine Resources</h4>
<p>You can prevent you and your users from making unintentional errors in the
following ways:</p>
<ul><li><p><a name="indexterm-106"></a>You can keep from running a Trojan horse by correctly setting the <tt>PATH</tt> variable.</p></li>
<li><p>You can assign a restricted shell to users. A restricted shell prevents user error by steering users to those parts of the system that the users need for their jobs. In fact, through careful setup, you can ensure that users access only those parts of the system that help the users work efficiently.</p></li>
<li><p>You can set restrictive permissions on files that users do not need to access.</p></li></ul>


<a name="concept-26"></a><h5>Setting the <tt>PATH</tt> Variable</h5>
<p><a name="indexterm-107"></a><a name="indexterm-108"></a><a name="indexterm-109"></a><a name="indexterm-110"></a>You should take care to correctly set the <tt>PATH</tt> variable. Otherwise, you can
accidentally run a program that was introduced by someone else. The intruding program
can corrupt your data or harm your system. This kind of program, which
creates a security hazard, is referred to as a <b>Trojan horse</b>. For example, a substitute
<tt>su</tt> program could be placed in a public directory where you, as system
administrator, might run the substitute program. Such a script would look just like
the regular <tt>su</tt> command. Because the script removes itself after execution, you would
have little evidence to show that you have actually run a Trojan horse.</p><p><a name="indexterm-111"></a><a name="indexterm-112"></a>The <tt>PATH</tt> variable is automatically set at login time. The path is set
through the startup files: <tt>.login</tt>, <tt>.profile</tt>, and <tt>.cshrc</tt>. When you set up
the user search path so that the current directory (<tt>.</tt>) comes last, you are
protected from running this type of Trojan horse. The <tt>PATH</tt> variable for superuser
should not include the current directory at all.</p>

<a name="concept-27"></a><h5>Assigning a Restricted Shell to Users</h5>
<p><a name="indexterm-113"></a><a name="indexterm-114"></a><a name="indexterm-115"></a>The standard shell allows a user to open files, execute commands, and so
on. The restricted shell limits the ability of a user to change directories
and to execute commands. The restricted shell is invoked with the <tt>/usr/lib/rsh</tt> command.
Note that the restricted shell is not the remote shell, which is <tt>/usr/sbin/rsh</tt>.</p><p>The restricted shell differs from the standard shell in the following ways:</p>
<ul><li><p>The user is limited to the user's home directory, so the user cannot use the <tt>cd</tt> command to change directories. Therefore, the user cannot browse system files.</p></li>
<li><p>The user cannot change the <tt>PATH</tt> variable, so the user can use only commands in the path that is set by the system administrator. The user also cannot execute commands or scripts by using a complete path name.</p></li>
<li><p><a name="indexterm-116"></a><a name="indexterm-117"></a><a name="indexterm-118"></a><a name="indexterm-119"></a>The user cannot redirect output with <tt>&gt;</tt> or <tt>&gt;&gt;</tt>.</p></li></ul>
<p>The restricted shell enables you to limit a user's ability to stray into
system files. The shell creates a limited environment for a user who needs
to perform specific tasks. The restricted shell is not completely secure, however, and
is only intended to keep unskilled users from inadvertently doing damage.</p><p><a name="indexterm-120"></a>For information about the restricted shell, use the <tt>man -s1m rsh</tt> command to see
the <a href="http://docs.sun.com/doc/819-2240/rsh-1m?a=view"><tt>rsh</tt>(1M)</a> man page.</p>

<a name="concept-3"></a><h5>Restricting Access to Data in Files</h5>
<p><a name="indexterm-121"></a><a name="indexterm-122"></a>Because the Solaris OS is a multiuser environment, file system security is the
most basic security risk on a system. You can use traditional UNIX file
protections to protect your files. You can also use the more secure access
control lists (ACLs).</p><p><a name="indexterm-123"></a><a name="indexterm-124"></a>You might want to allow some users to read some files, and
give other users permission to change or delete some files. You might have
some data that you do not want anyone else to see. <a href="secfile-1.html">Chapter&nbsp;7, Controlling Access to Files (Tasks)</a> discusses
how to set file permissions.</p>

<a name="concept-7"></a><h4>Restricting <tt>setuid</tt> Executable Files</h4>
<p><a name="indexterm-125"></a><a name="indexterm-126"></a>Executable files can be security risks. Many executable programs have to be run
as <tt>root</tt>, that is, as superuser, to work properly. These <tt>setuid</tt> programs run with
the user ID set to <tt>0</tt>. Anyone who is running these programs runs
the programs with the <tt>root</tt> ID. A program that runs with the <tt>root</tt>
ID creates a potential security problem if the program was not written with
security in mind.</p><p>Except for the executables that Sun ships with the <tt>setuid</tt> bit set to
<tt>root</tt>, you should disallow the use of <tt>setuid</tt> programs. If you cannot disallow
the use of <tt>setuid</tt> programs, then you should at least restrict their use.
Secure administration requires few <tt>setuid</tt> programs.</p><p>For more information, see <a href="secfile-68.html">Preventing Executable Files From Compromising Security</a>. For procedures, see <a href="secfile-40.html">Protecting Against Programs With Security Risk (Task Map)</a>.</p>

<a name="concept-37"></a><h4>Using the Solaris Security Toolkit</h4>
<a name="indexterm-127"></a><a name="indexterm-128"></a><p>the Solaris Security Toolkit provides a flexible and extensible mechanism to minimize, harden,
and secure a Solaris system. The Solaris Security Toolkit, informally known as the
JASS toolkit, is a tool that enables the user to perform security modifications
to a system. The tool can provide a report on the security status
of a system. The tool also has the ability to undo previous runs
of the tool. The JASS toolkit can be downloaded from the Sun web
site, <a href="http://wwws.sun.com/security/jass">http://wwws.sun.com/security/jass</a>. The web site contains pointers to online documentation.</p><p>The toolkit is described in detail in <i>Securing Systems with the Solaris Security Toolkit</i>, by Alex Noordergraaf and
Glenn Brunette, ISBN 0-13-141071-7, June 2003. The book is part of the Sun
BluePrints Series, which is published by Sun Microsystems Press.</p>

<a name="concept-46"></a><h4>Using the <tt>netservices limited</tt> Configuration</h4>
<a name="indexterm-129"></a><a name="indexterm-130"></a><p>By default, when the Solaris 10 release is installed, a large set
of network services are enabled. To limit a system's network connectivity, you run
the <tt>netservices limited</tt> command. Then, the only network service that accepts network requests is
the <tt>sshd</tt> daemon. All other network services are disabled or handle local requests
only. To enable individual network services, such as <tt>ftp</tt>, you use the Solaris
Service Management Facility (SMF). For more information, see the <a href="http://docs.sun.com/doc/819-2240/netservices-1m?a=view"><tt>netservices</tt>(1M)</a> and <a href="http://docs.sun.com/doc/819-2252/smf-5?a=view"><tt>smf</tt>(5)</a> man pages.</p>

<a name="concept-35"></a><h4>Using Solaris Resource Management Features</h4>
<p><a name="indexterm-131"></a><a name="indexterm-132"></a>Solaris software provides sophisticated resource management features. Using these features, you can allocate, schedule,
monitor, and cap resource use by applications in a server consolidation environment. The
resource controls framework enables you to set constraints on system resources that are
consumed by processes. Such constraints help to prevent denial-of-service attacks by a script
that attempts to flood a system's resources.</p><p>With Solaris resource management features, you can designate resources for particular projects. You
can also dynamically adjust the resources that are available. For more information, see
<a href="http://docs.sun.com/doc/819-2450/resource?a=view">Part&nbsp;I, Resource Management, in <i>System Administration Guide: Virtualization Using the Solaris Operating System</i></a>.</p>

<a name="concept-38"></a><h4>Using Solaris Zones</h4>
<p>Solaris zones provide an application execution environment in which processes are isolated 
from the rest of the system within a single instance of the Solaris
OS. This isolation prevents processes that are running in one zone from monitoring
or affecting processes that are running in other zones. Even a process running
with superuser capabilities cannot view or affect activity in other zones.</p><p>Solaris zones are ideal for environments that place several applications on a single
server. For more information, see <a href="http://docs.sun.com/doc/819-2450/zone?a=view">Part&nbsp;II, Zones, in <i>System Administration Guide: Virtualization Using the Solaris Operating System</i></a>.</p>

<a name="concept-29"></a><h4>Monitoring Use of Machine Resources</h4>
<p><a name="indexterm-133"></a><a name="indexterm-134"></a>As a system administrator, you need to monitor system activity. You need to
be aware of all aspects of your machines, including the following:</p>
<ul><li><p>What is the normal load?</p></li>
<li><p>Who has access to the system?</p></li>
<li><p>When do individuals access the system?</p></li>
<li><p>What programs normally run on the system?</p></li></ul>
<p>With this kind of knowledge, you can use the available tools to
audit system use and monitor the activities of individual users. Monitoring is very useful
when a breach in security is suspected. For more information on the auditing
service, see <a href="auditov-1.html">Chapter&nbsp;28, Solaris Auditing (Overview)</a>.</p>

<a name="concept-44"></a><h4>Monitoring File Integrity</h4>
<p><a name="indexterm-135"></a><a name="indexterm-136"></a>As a system administrator, you need assurance that the files that were installed
on the systems that you administer have not changed in unexpected ways. In
large installations, a comparison and reporting tool about the software stack on each
of your systems enables you to track your systems. The Basic Audit Reporting
Tool (BART) enables you to comprehensively validate systems by performing file-level checks of one
or more systems over time. Changes in a BART <b>manifest</b> across systems, or
for one system over time, can validate the integrity of your systems. BART
provides manifest creation, manifest comparison, and rules for scripting reports. For more information,
see <a href="bart-1.html">Chapter&nbsp;6, Using the Basic Audit Reporting Tool (Tasks)</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="concept-42.html">Previous</a>
             </td>
             <td align="right">
                 <a href="concept-36.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

