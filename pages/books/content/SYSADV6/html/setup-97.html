<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Configuring Kerberos NFS Servers - System Administration Guide: Security Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-08-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Security Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="setup-119.html">Previous</a>
             </td>
             <td align="right">
                 <a href="setup-148.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="oview-1.html">Part&nbsp;I&nbsp;Security Overview</a></p>
<p class="toc level2"><a href="secov-1.html">1.&nbsp;&nbsp;Security Services (Overview)</a></p>
<p class="toc level1 tocsp"><a href="sectm-1.html">Part&nbsp;II&nbsp;System, File, and Device Security</a></p>
<p class="toc level2"><a href="concept-1.html">2.&nbsp;&nbsp;Managing Machine Security (Overview)</a></p>
<p class="toc level2"><a href="secsys-1.html">3.&nbsp;&nbsp;Controlling Access to Systems (Tasks)</a></p>
<p class="toc level2"><a href="vscan-1.html">4.&nbsp;&nbsp;Virus Scanning Service (Tasks)</a></p>
<p class="toc level2"><a href="devtask-1.html">5.&nbsp;&nbsp;Controlling Access to Devices (Tasks)</a></p>
<p class="toc level2"><a href="bart-1.html">6.&nbsp;&nbsp;Using the Basic Audit Reporting Tool (Tasks)</a></p>
<p class="toc level2"><a href="secfile-1.html">7.&nbsp;&nbsp;Controlling Access to Files (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="prbactm-1.html">Part&nbsp;III&nbsp;Roles, Rights Profiles, and Privileges</a></p>
<p class="toc level2"><a href="prbac-1.html">8.&nbsp;&nbsp;Using Roles and Privileges (Overview)</a></p>
<p class="toc level2"><a href="rbactask-1.html">9.&nbsp;&nbsp;Using Role-Based Access Control (Tasks)</a></p>
<p class="toc level2"><a href="rbacref-1.html">10.&nbsp;&nbsp;Role-Based Access Control (Reference)</a></p>
<p class="toc level2"><a href="privtask-1.html">11.&nbsp;&nbsp;Privileges (Tasks)</a></p>
<p class="toc level2"><a href="privref-1.html">12.&nbsp;&nbsp;Privileges (Reference)</a></p>
<p class="toc level1 tocsp"><a href="scftm-1.html">Part&nbsp;IV&nbsp;Solaris Cryptographic Services</a></p>
<p class="toc level2"><a href="scf-1.html">13.&nbsp;&nbsp;Solaris Cryptographic Framework (Overview)</a></p>
<p class="toc level2"><a href="scftask-1.html">14.&nbsp;&nbsp;Solaris Cryptographic Framework (Tasks)</a></p>
<p class="toc level2"><a href="kmf-1.html">15.&nbsp;&nbsp;Solaris Key Management Framework</a></p>
<p class="toc level1 tocsp"><a href="authtm-1.html">Part&nbsp;V&nbsp;Authentication Services and Secure Communication</a></p>
<p class="toc level2"><a href="auth-1.html">16.&nbsp;&nbsp;Using Authentication Services (Tasks)</a></p>
<p class="toc level2"><a href="pam-1.html">17.&nbsp;&nbsp;Using PAM</a></p>
<p class="toc level2"><a href="sasl-1.html">18.&nbsp;&nbsp;Using SASL</a></p>
<p class="toc level2"><a href="sshuser-1.html">19.&nbsp;&nbsp;Using Solaris Secure Shell (Tasks)</a></p>
<p class="toc level2"><a href="sshref-1.html">20.&nbsp;&nbsp;Solaris Secure Shell (Reference)</a></p>
<p class="toc level1 tocsp"><a href="seamtm-1.html">Part&nbsp;VI&nbsp;Kerberos Service</a></p>
<p class="toc level2"><a href="intro-1.html">21.&nbsp;&nbsp;Introduction to the Kerberos Service</a></p>
<p class="toc level2"><a href="seamplan-1.html">22.&nbsp;&nbsp;Planning for the Kerberos Service</a></p>
<p class="toc level2"><a href="setup-8.html">23.&nbsp;&nbsp;Configuring the Kerberos Service (Tasks)</a></p>
<p class="toc level3"><a href="setup-306.html">Configuring the Kerberos Service (Task Map)</a></p>
<p class="toc level3"><a href="ezecs.html">Configuring Additional Kerberos Services (Task Map)</a></p>
<p class="toc level3"><a href="setup-9.html">Configuring KDC Servers</a></p>
<p class="toc level3"><a href="setup-87.html">Configuring Cross-Realm Authentication</a></p>
<p class="toc level3"><a href="setup-119.html">Configuring Kerberos Network Application Servers</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Configuring Kerberos NFS Servers</a></p>
</div>
<p class="toc level3"><a href="setup-148.html">Configuring Kerberos Clients</a></p>
<p class="toc level3"><a href="setup-192.html">Synchronizing Clocks Between KDCs and Kerberos Clients</a></p>
<p class="toc level3"><a href="aadmin-2.html">Swapping a Master KDC and a Slave KDC</a></p>
<p class="toc level3"><a href="aadmin-3.html">Administering the Kerberos Database</a></p>
<p class="toc level3"><a href="ggklp.html">Managing a KDC on an LDAP Directory Server</a></p>
<p class="toc level3"><a href="setup-280.html">Increasing Security on Kerberos Servers</a></p>
<p class="toc level2 tocsp"><a href="trouble-1.html">24.&nbsp;&nbsp;Kerberos Error Messages and Troubleshooting</a></p>
<p class="toc level2"><a href="aadmin-1.html">25.&nbsp;&nbsp;Administering Kerberos Principals and Policies (Tasks)</a></p>
<p class="toc level2"><a href="user-7.html">26.&nbsp;&nbsp;Using Kerberos Applications (Tasks)</a></p>
<p class="toc level2"><a href="refer-1.html">27.&nbsp;&nbsp;The Kerberos Service (Reference)</a></p>
<p class="toc level1 tocsp"><a href="audittm-1.html">Part&nbsp;VII&nbsp;Solaris Auditing</a></p>
<p class="toc level2"><a href="auditov-1.html">28.&nbsp;&nbsp;Solaris Auditing (Overview)</a></p>
<p class="toc level2"><a href="auditplan-1.html">29.&nbsp;&nbsp;Planning for Solaris Auditing</a></p>
<p class="toc level2"><a href="audittask-1.html">30.&nbsp;&nbsp;Managing Solaris Auditing (Tasks)</a></p>
<p class="toc level2"><a href="auditref-1.html">31.&nbsp;&nbsp;Solaris Auditing (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-2.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="setup-97"></a><h3>Configuring Kerberos NFS Servers</h3>
<p><a name="indexterm-2601"></a>NFS services use UNIX user IDs (UIDs) to identify a user and cannot
directly use GSS credentials. To translate the credential to a UID, a credential
table that maps user credentials to UNIX UIDs might need to be created.
See <a href="ezlsz.html">Mapping GSS Credentials to UNIX Credentials</a> for more information on the default credential mapping. The procedures in
this section focus on the tasks that are necessary to configure a Kerberos
NFS server, to administer the credential table, and to initiate Kerberos security modes
for NFS-mounted file systems. The following task map describes the tasks that are
covered in this section.</p><a name="seamtask-tbl-12"></a><h6>Table&nbsp;23-2 Configuring Kerberos NFS Servers (Task Map)</h6><table><col width="27%"><col width="42%"><col width="30%"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Configure a Kerberos NFS server.</p></td>
<td align="left" valign="top" scope="row"><p>Enables a server to
share a file system that requires Kerberos authentication.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#setup-237">How to Configure Kerberos NFS Servers</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Create a credential table.</p></td>
<td align="left" valign="top" scope="row"><p>Generates a
credential table which can be used to provide mapping from GSS credentials to
UNIX user IDs, if the default mapping is not sufficient.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#setup-133">How to Create a Credential Table</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Change the credential
table that maps user credentials to UNIX UIDs.</p></td>
<td align="left" valign="top" scope="row"><p>Updates information in the credential
table.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#setup-137">How to Add a Single Entry to the Credential Table</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Create credential mappings between two like realms.</p></td>
<td align="left" valign="top" scope="row"><p>Provides instructions on how to map
UIDs from one realm to another if the realms share a password file.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#ezltf">How to Provide Credential Mapping Between Realms</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Share
a file system with Kerberos authentication.</p></td>
<td align="left" valign="top" scope="row"><p>Shares a file system with security modes
so that Kerberos authentication is required.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#setup-275">How to Set Up a Secure NFS Environment With Multiple Kerberos Security Modes</a></p></td>
</tr>
</table>

<a name="setup-237"></a><h4>How to Configure Kerberos NFS Servers</h4><a name="indexterm-2602"></a><a name="indexterm-2603"></a><p>In this procedure, the following configuration parameters are used: </p>
<ul><li><p>Realm name = <tt>EXAMPLE.COM</tt></p></li>
<li><p>DNS domain name = <tt>example.com</tt></p></li>
<li><p>NFS server = <tt>denver.example.com</tt></p></li>
<li><p><tt>admin</tt> principal = <tt>kws/admin</tt></p></li></ul>
<ol>
<li><a name="seamtask-step-386"></a><b>Complete the prerequisites for configuring a Kerberos NFS server.</b><p>The master KDC must be configured. To fully test the process, you need
several clients. </p></li>
<li><a name="setup-step-270"></a>(Optional) <b>Install the NTP client or another clock synchronization mechanism.</b><p>Installing and using the Network Time Protocol (NTP) is not required. However, every
clock must be synchronized with the time on the KDC server within a
maximum difference defined by the <tt>clockskew</tt> relation in the <tt>krb5.conf</tt> file for authentication to
succeed. See <a href="setup-192.html">Synchronizing Clocks Between KDCs and Kerberos Clients</a> for information about NTP.</p></li>
<li><b>Configure the NFS server as a Kerberos client.</b><p>Follow the instructions in <a href="setup-148.html">Configuring Kerberos Clients</a>.</p></li>
<li><a name="seamtask-step-387"></a><b>Start <tt>kadmin</tt>.</b><p>You can use the Graphical Kerberos Administration Tool to add a principal, as explained
in <a href="aadmin-9.html#aadmin-17">How to Create a New Kerberos Principal</a>. To do so, you must log in with one of the
<tt>admin</tt> principal names that you created when you configured the master KDC. However,
the following example shows how to add the required principals by using the
command line. </p><pre>denver # <tt><b>/usr/sbin/kadmin -p kws/admin</b></tt>
Enter password: &lt;Type kws/admin password&gt;
kadmin: </pre><ol style="list-style-type: lower-alpha">
				 
<li><a name="seamtask-step-388"></a><b>Create the server's NFS service principal.</b><p>Note that when the principal instance is a host name, the FQDN
must be specified in lowercase letters, regardless of the case of the domain
name in the <tt>/etc/resolv.conf</tt> file.</p><p>Repeat this step for each unique interface on the system that might be
used to access NFS data. If a host has multiple interfaces with
unique names, each unique name must have its own NFS service principal.</p><pre>kadmin: <tt><b>addprinc -randkey nfs/denver.example.com</b></tt>
Principal "nfs/denver.example.com" created.
kadmin:</pre></li>
<li><a name="seamtask-step-389"></a><b>Add the server's NFS service principal to the server's keytab file.</b><p>Repeat this step for each unique service principal created in <a href="#seamtask-step-388">Step&nbsp;a</a>.</p><pre>kadmin: <tt><b>ktadd nfs/denver.example.com</b></tt>
Entry for principal nfs/denver.example.com with kvno 3, encryption type AES-256 CTS mode
          with 96-bit SHA-1 HMAC added to keytab WRFILE:/etc/krb5/krb5.keytab.
Entry for principal nfs/denver.example.com with kvno 3, encryption type AES-128 CTS mode
          with 96-bit SHA-1 HMAC added to keytab WRFILE:/etc/krb5/krb5.keytab.
Entry for principal nfs/denver.example.com with kvno 3, encryption type Triple DES cbc
          mode with HMAC/sha1 added to keytab WRFILE:/etc/krb5/krb5.keytab.
Entry for principal nfs denver.example.com with kvno 3, encryption type ArcFour
          with HMAC/md5 added to keytab WRFILE:/etc/krb5/krb5.keytab.
Entry for principal nfs/denver.example.com with kvno 3, encryption type DES cbc mode
          with RSA-MD5 added to keytab WRFILE:/etc/krb5/krb5.keytab.
kadmin:</pre></li>
<li><a name="seamtask-step-390"></a><b>Quit <tt>kadmin</tt>.</b><pre>kadmin: <tt><b>quit</b></tt></pre></li></ol></li>
<li><a name="seamtask-step-391"></a>(Optional) <b>Create special GSS credential maps, if needed.</b><p>Normally, the Kerberos service generates appropriate maps between the GSS credentials and the
UNIX UIDs. The default mapping is described in <a href="ezlsz.html">Mapping GSS Credentials to UNIX Credentials</a>. If the default mapping
is not sufficient, see <a href="#setup-133">How to Create a Credential Table</a> for more information.</p></li>
<li><a name="seamtask-step-392"></a><b>Share the NFS file system with Kerberos security modes.</b><p>See <a href="#setup-275">How to Set Up a Secure NFS Environment With Multiple Kerberos Security Modes</a> for more information.</p></li></ol>

<a name="setup-133"></a><h4>How to Create a Credential Table</h4><a name="indexterm-2604"></a><a name="indexterm-2605"></a><a name="indexterm-2606"></a><p>The <tt>gsscred</tt> credential table is used by an NFS server to map Kerberos
credentials to a UID. By default, the primary part of the principal name
is matched to a UNIX login name. For NFS clients to mount
file systems from an NFS server with Kerberos authentication, this table must be created
if the default mapping is not sufficient.</p><ol>
<li><a name="seamtask-step-394"></a><b>Edit <tt>/etc/gss/gsscred.conf</tt> and change the security mechanism.</b><p>Change the mechanism to <tt>files</tt>.</p></li>
<li><a name="seamtask-step-395"></a><b>Create the credential table by using the <tt>gsscred</tt> command.</b><pre># <tt><b>gsscred -m kerberos_v5 -a</b></tt></pre><p>The <tt>gsscred</tt> command gathers information from all sources that are listed with the
<tt>passwd</tt> entry in the <tt>/etc/nsswitch.conf</tt> file. You might need to temporarily remove
the <tt>files</tt> entry, if you do not want the local password entries
included in the credential table. See the <a href="http://docs.sun.com/doc/819-2240/gsscred-1m?a=view"><tt>gsscred</tt>(1M)</a> man page for more information.</p></li></ol>

<a name="setup-137"></a><h4>How to Add a Single Entry to the Credential Table</h4><a name="indexterm-2607"></a><h6>Before You Begin</h6><p>This procedure requires that the <tt>gsscred</tt> table has already been created on the
NFS server. See <a href="#setup-133">How to Create a Credential Table</a> for instructions.</p><ol>
<li><a name="seamtask-step-396"></a><b>Become superuser on the NFS server.</b></li>
<li><a name="seamtask-step-397"></a><b>Add an entry to the credential table by using the <tt>gsscred</tt> command.</b><pre># <tt><b>gsscred -m </tt><i>mech</i><tt> [ -n </tt><i>name</i><tt> [ -u </tt><i>uid</i><tt> ]] -a</b></tt></pre><dl><dt><i>mech</i></dt>
<dd><p>Defines the security mechanism to be used.</p></dd>
<dt><i>name</i></dt>
<dd><p>Defines the principal name for the user, as defined in the KDC.</p></dd>
<dt><i>uid</i></dt>
<dd><p>Defines the UID for the user, as defined in the password database.</p></dd>
<dt><tt>-a</tt></dt>
<dd><p>Adds the UID to principal name mapping.</p></dd>
</dl>
</li></ol><a name="ehgax"></a><h6>Example&nbsp;23-2 Adding a Multiple Component Principal to the Credential Table</h6><p>In the following example, an entry is added for a principal named
<tt>sandy/admin</tt>, which is mapped to UID <tt>3736</tt>.</p><pre># <tt><b>gsscred -m kerberos_v5 -n sandy/admin -u 3736 -a</b></tt></pre><a name="fgonl"></a><h6>Example&nbsp;23-3 Adding a Principal in a Different Domain to the Credential Table</h6><p>In the following example, an entry is added for a principal named
<tt>sandy/admin@EXAMPLE.COM</tt>, which is mapped to UID <tt>3736</tt>.</p><pre># <tt><b>gsscred -m kerberos_v5 -n sandy/admin@EXAMPLE.COM -u 3736 -a</b></tt></pre>

<a name="ezltf"></a><h4>How to Provide Credential Mapping Between Realms</h4><p>This procedure provides appropriate credential mapping between realms that use the same password
file. In this example, the realms <tt>CORP.EXAMPLE.COM</tt> and <tt>SALES.EXAMPLE.COM</tt> use the same
password file. The credentials for <tt>bob@CORP.EXAMPLE.COM</tt> and <tt>bob@SALES.EXAMPLE.COM</tt> are mapped to the same
UID.</p><ol>
<li><b>Become superuser.</b></li>
<li><b>On the client system, add entries to the <tt>krb5.conf</tt> file.</b><pre># <tt><b>cat /etc/krb5/krb5.conf</b></tt>
[libdefaults]
        <tt><b>default_realm = CORP.EXAMPLE.COM</b></tt>
 .
<tt><b>[realms]</b></tt>
    <tt><b>CORP.EXAMPLE.COM = {</b></tt>
        .
        <tt><b>auth_to_local_realm = SALES.EXAMPLE.COM</b></tt>
        .
    }</pre></li></ol><a name="gfywy"></a><h6>Example&nbsp;23-4 Mapping Credentials Between Realms Using the Same Password File</h6><p>This example provides appropriate credential mapping between realms that use the same password
file. In this example, the realms <tt>CORP.EXAMPLE.COM</tt> and <tt>SALES.EXAMPLE.COM</tt> use the same
password file. The credentials for <tt>bob@CORP.EXAMPLE.COM</tt> and <tt>bob@SALES.EXAMPLE.COM</tt> are mapped to the same
UID. On the client system, add entries to the <tt>krb5.conf</tt> file.</p><pre># <tt><b>cat /etc/krb5/krb5.conf</b></tt>
[libdefaults]
        <tt><b>default_realm = CORP.EXAMPLE.COM</b></tt>
 .
<tt><b>[realms]</b></tt>
    <tt><b>CORP.EXAMPLE.COM = {</b></tt>
        .
        <tt><b>auth_to_local_realm = SALES.EXAMPLE.COM</b></tt>
        .
    }</pre><h6>Troubleshooting</h6><p>See <a href="trouble-5.html#fabaf">Observing Mapping from GSS Credentials to UNIX Credentials</a> to help with the process of troubleshooting credential mapping problems.</p>

<a name="setup-275"></a><h4>How to Set Up a Secure NFS Environment With Multiple Kerberos Security Modes</h4><a name="indexterm-2608"></a><p>This procedure enables a NFS server to provide secure NFS access using different
security modes or flavors. When a client negotiates a security flavor with the
NFS server, the first flavor that is offered by the server that
the client has access to is used. This flavor is used for all
subsequent client requests of the file system shared by the NFS server.</p><ol>
<li><a name="seamtask-step-398"></a><b>Become superuser on the NFS server.</b></li>
<li><a name="seamtask-step-399"></a><b>Verify that there is an NFS service principal in the keytab file.</b><p>The <tt>klist</tt> command reports if there is a keytab file and displays the
principals. If the results show that no keytab file exists or that no
NFS service principal exists, you need to verify the completion of all the
steps in <a href="#setup-237">How to Configure Kerberos NFS Servers</a>.</p><pre># <tt><b>klist -k</b></tt>
Keytab name: FILE:/etc/krb5/krb5.keytab
KVNO Principal
---- ---------------------------------------------------------
   3 nfs/denver.example.com@EXAMPLE.COM
   3 nfs/denver.example.com@EXAMPLE.COM
   3 nfs/denver.example.com@EXAMPLE.COM
   3 nfs/denver.example.com@EXAMPLE.COM</pre></li>
<li><a name="seamtask-step-400"></a><b>Enable Kerberos security modes in the <tt>/etc/nfssec.conf</tt> file.</b><p>Edit the <tt>/etc/nfssec.conf</tt> file and remove the &ldquo;#&rdquo; that is placed in
front of the Kerberos security modes.</p><pre># <tt><b>cat /etc/nfssec.conf</b></tt>
 .
 .
#
# Uncomment the following lines to use Kerberos V5 with NFS
#
krb5            390003  kerberos_v5     default -               # RPCSEC_GSS
krb5i           390004  kerberos_v5     default integrity       # RPCSEC_GSS
krb5p           390005  kerberos_v5     default privacy         # RPCSEC_GSS</pre></li>
<li><a name="seamtask-step-401"></a><b>Share the file systems with the appropriate security modes.</b><pre><tt><b>sharemgr share -o sec=</tt><i>mode</i><tt> </tt><i>file-system</i><tt></b></tt></pre><dl><dt><i>mode</i></dt>
<dd><p>Specifies the security modes to be used when sharing the file system. When using multiple security modes, the first mode in the list is used as the default.</p></dd>
<dt><i>file-system</i></dt>
<dd><p>Defines the path to the file system to be shared.</p></dd>
</dl>
<p>All clients that attempt to access files from the named file system require
Kerberos authentication. To access files, the user principal on the NFS client should
be authenticated.</p></li>
<li><a name="setup-step-278"></a>(Optional) <b>If the automounter is being used, edit the <tt>auto_master</tt> database to select a security
mode other than the default.</b><p>You need not follow this procedure if you are not using the automounter
to access the file system or if the default selection for the security
mode is acceptable.</p><pre><i>file-system</i>  auto_home  -nosuid,sec=<i>mode</i></pre></li>
<li><a name="setup-step-241"></a>(Optional) <b>Manually issue the <tt>mount</tt> command to access the file system by using
a non-default mode.</b><p>Alternatively, you could use the <tt>mount</tt> command to specify the security mode, but
this alternative does not take advantage of the automounter.</p><pre># <tt><b>mount -F nfs -o sec=</tt><i>mode</i><tt> </tt><i>file-system</i><tt></b></tt></pre></li></ol><a name="ehgaz"></a><h6>Example&nbsp;23-5 Sharing a File System With One Kerberos Security Mode</h6><p>In this example, Kerberos authentication must succeed before any files can be accessed
through the NFS service.</p><pre># <tt><b>sharemgr share -F nfs -p -o sec=krb5 /export/hom</b></tt>e</pre><a name="ehgbc"></a><h6>Example&nbsp;23-6 Sharing a File System With Multiple Kerberos Security Modes</h6><p>In this example, all three Kerberos security modes have been selected. Which mode
is used is negotiated between the client and the NFS server. If the
first mode in the command fails, then the next is tried. See
the <a href="http://docs.sun.com/doc/819-2252/nfssec-5?a=view"><tt>nfssec</tt>(5)</a> man page for more information.</p><pre># <tt><b>sharemgr share -F nfs -p -o sec=krb5:krb5i:krb5p /export/home</b></tt></pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="setup-119.html">Previous</a>
             </td>
             <td align="right">
                 <a href="setup-148.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

