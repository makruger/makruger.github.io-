<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Kerberos Terminology - System Administration Guide: Security Services</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-08-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">System Administration Guide: Security Services</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="refer-9.html">Previous</a>
             </td>
             <td align="right">
                 <a href="refer-14.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="oview-1.html">Part&nbsp;I&nbsp;Security Overview</a></p>
<p class="toc level2"><a href="secov-1.html">1.&nbsp;&nbsp;Security Services (Overview)</a></p>
<p class="toc level1 tocsp"><a href="sectm-1.html">Part&nbsp;II&nbsp;System, File, and Device Security</a></p>
<p class="toc level2"><a href="concept-1.html">2.&nbsp;&nbsp;Managing Machine Security (Overview)</a></p>
<p class="toc level2"><a href="secsys-1.html">3.&nbsp;&nbsp;Controlling Access to Systems (Tasks)</a></p>
<p class="toc level2"><a href="vscan-1.html">4.&nbsp;&nbsp;Virus Scanning Service (Tasks)</a></p>
<p class="toc level2"><a href="devtask-1.html">5.&nbsp;&nbsp;Controlling Access to Devices (Tasks)</a></p>
<p class="toc level2"><a href="bart-1.html">6.&nbsp;&nbsp;Using the Basic Audit Reporting Tool (Tasks)</a></p>
<p class="toc level2"><a href="secfile-1.html">7.&nbsp;&nbsp;Controlling Access to Files (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="prbactm-1.html">Part&nbsp;III&nbsp;Roles, Rights Profiles, and Privileges</a></p>
<p class="toc level2"><a href="prbac-1.html">8.&nbsp;&nbsp;Using Roles and Privileges (Overview)</a></p>
<p class="toc level2"><a href="rbactask-1.html">9.&nbsp;&nbsp;Using Role-Based Access Control (Tasks)</a></p>
<p class="toc level2"><a href="rbacref-1.html">10.&nbsp;&nbsp;Role-Based Access Control (Reference)</a></p>
<p class="toc level2"><a href="privtask-1.html">11.&nbsp;&nbsp;Privileges (Tasks)</a></p>
<p class="toc level2"><a href="privref-1.html">12.&nbsp;&nbsp;Privileges (Reference)</a></p>
<p class="toc level1 tocsp"><a href="scftm-1.html">Part&nbsp;IV&nbsp;Solaris Cryptographic Services</a></p>
<p class="toc level2"><a href="scf-1.html">13.&nbsp;&nbsp;Solaris Cryptographic Framework (Overview)</a></p>
<p class="toc level2"><a href="scftask-1.html">14.&nbsp;&nbsp;Solaris Cryptographic Framework (Tasks)</a></p>
<p class="toc level2"><a href="kmf-1.html">15.&nbsp;&nbsp;Solaris Key Management Framework</a></p>
<p class="toc level1 tocsp"><a href="authtm-1.html">Part&nbsp;V&nbsp;Authentication Services and Secure Communication</a></p>
<p class="toc level2"><a href="auth-1.html">16.&nbsp;&nbsp;Using Authentication Services (Tasks)</a></p>
<p class="toc level2"><a href="pam-1.html">17.&nbsp;&nbsp;Using PAM</a></p>
<p class="toc level2"><a href="sasl-1.html">18.&nbsp;&nbsp;Using SASL</a></p>
<p class="toc level2"><a href="sshuser-1.html">19.&nbsp;&nbsp;Using Solaris Secure Shell (Tasks)</a></p>
<p class="toc level2"><a href="sshref-1.html">20.&nbsp;&nbsp;Solaris Secure Shell (Reference)</a></p>
<p class="toc level1 tocsp"><a href="seamtm-1.html">Part&nbsp;VI&nbsp;Kerberos Service</a></p>
<p class="toc level2"><a href="intro-1.html">21.&nbsp;&nbsp;Introduction to the Kerberos Service</a></p>
<p class="toc level2"><a href="seamplan-1.html">22.&nbsp;&nbsp;Planning for the Kerberos Service</a></p>
<p class="toc level2"><a href="setup-8.html">23.&nbsp;&nbsp;Configuring the Kerberos Service (Tasks)</a></p>
<p class="toc level2"><a href="trouble-1.html">24.&nbsp;&nbsp;Kerberos Error Messages and Troubleshooting</a></p>
<p class="toc level2"><a href="aadmin-1.html">25.&nbsp;&nbsp;Administering Kerberos Principals and Policies (Tasks)</a></p>
<p class="toc level2"><a href="user-7.html">26.&nbsp;&nbsp;Using Kerberos Applications (Tasks)</a></p>
<p class="toc level2"><a href="refer-1.html">27.&nbsp;&nbsp;The Kerberos Service (Reference)</a></p>
<p class="toc level3"><a href="refer-2.html">Kerberos Files</a></p>
<p class="toc level3"><a href="refer-5.html">Kerberos Commands</a></p>
<p class="toc level3"><a href="refer-9.html">Kerberos Daemons</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Kerberos Terminology</a></p>
</div>
<p class="toc level3"><a href="refer-14.html">How the Kerberos Authentication System Works</a></p>
<p class="toc level3"><a href="refer-15.html">Gaining Access to a Service Using Kerberos</a></p>
<p class="toc level3"><a href="egric.html">Using Kerberos Encryption Types</a></p>
<p class="toc level3"><a href="refer-19.html">Using the <tt>gsscred</tt> Table</a></p>
<p class="toc level3"><a href="works-11.html">Notable Differences Between Solaris Kerberos and MIT Kerberos</a></p>
<p class="toc level1 tocsp"><a href="audittm-1.html">Part&nbsp;VII&nbsp;Solaris Auditing</a></p>
<p class="toc level2"><a href="auditov-1.html">28.&nbsp;&nbsp;Solaris Auditing (Overview)</a></p>
<p class="toc level2"><a href="auditplan-1.html">29.&nbsp;&nbsp;Planning for Solaris Auditing</a></p>
<p class="toc level2"><a href="audittask-1.html">30.&nbsp;&nbsp;Managing Solaris Auditing (Tasks)</a></p>
<p class="toc level2"><a href="auditref-1.html">31.&nbsp;&nbsp;Solaris Auditing (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-2.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="refer-11"></a><h3>Kerberos Terminology</h3>
<a name="indexterm-3011"></a><a name="indexterm-3012"></a><p>The following section presents Kerberos terms and their definitions. These terms are used
throughout the Kerberos documentation. To grasp Kerberos concepts, an understanding of these terms
is essential.</p>

<a name="refer-12"></a><h4>Kerberos-Specific Terminology</h4>
<a name="indexterm-3013"></a><a name="indexterm-3014"></a><p>You need to understand the terms in this section in order to
administer KDCs.</p><p><a name="indexterm-3015"></a><a name="indexterm-3016"></a><a name="indexterm-3017"></a><a name="indexterm-3018"></a>The <b>Key Distribution Center</b> or <b>KDC</b> is the component of Kerberos that is responsible for
issuing credentials. These credentials are created by using information that is stored in
the KDC database. Each realm needs at least two KDCs, a master and
at least one slave. All KDCs generate credentials, but only the master KDC
handles any changes to the KDC database.</p><p><a name="indexterm-3019"></a><a name="indexterm-3020"></a><a name="indexterm-3021"></a>A <b>stash file</b> contains the master key for the KDC. This key is
used when a server is rebooted to automatically authenticate the KDC before starting the
<tt>kadmind</tt> and <tt>krb5kdc</tt> commands. Because this file includes the master key, the file
and any backups of the file should be kept secure. The file is
created with read-only permissions for <tt>root</tt>. To keep the file secure, do not
change the permissions. If the file is compromised, then the key could be
used to access or modify the KDC database.</p>

<a name="refer-13"></a><h4>Authentication-Specific Terminology</h4>
<a name="indexterm-3022"></a><a name="indexterm-3023"></a><p>You need to know the terms in this section to understand the
authentication process. Programmers and system administrators should be familiar with these terms.</p><p><a name="indexterm-3024"></a>A <b>client</b> is the software that runs on a user's workstation. The Kerberos
software that runs on the client makes many requests during this process. So,
differentiating the actions of this software from the user is important.</p><p><a name="indexterm-3025"></a><a name="indexterm-3026"></a>The terms <i>server</i> and <i>service</i> are often used interchangeably. To clarify, the
term <b>server</b> is used to define the physical system that Kerberos software is
running on. The term <b>service</b> corresponds to a particular function that is being
supported on a server (for example, <tt>ftp</tt> or <tt>nfs</tt>). Documentation often mentions
servers as part of a service, but this definition clouds the meaning of
the terms. Therefore, the term <i>server</i> refers to the physical system. The
term <i>service</i> refers to the software.</p><p><a name="indexterm-3027"></a><a name="indexterm-3028"></a><a name="indexterm-3029"></a><a name="indexterm-3030"></a>The Kerberos product uses two types of keys.  One type of key
is a password derived key.  The password derived key is given to
each user principal and is known only to the user and to the
KDC.  The other type of key used by the Kerberos product is
a random key that is not associated with a password and so
is not suitable for use by user principals.  Random keys are typically
used for service principals that have entries in a keytab and session keys
generated by the KDC.  Service principals can use random keys since the
service can access the key in the keytab which allows it to run
non-interactively.  Session keys are generated by the KDC (and shared between the
client and service) to provide secure transactions between a client and a service.</p><p><a name="indexterm-3031"></a>A <b>ticket</b> is an information packet that is used to securely pass the
identity of a user to a server or service. A ticket is valid
for only a single client and a particular service on a specific
server. A ticket contains:</p>
<ul><li><p>Principal name of the service</p></li>
<li><p>Principal name of the user</p></li>
<li><p>IP address of the user's host</p></li>
<li><p>Timestamp</p></li>
<li><p>Value which defines the lifetime of the ticket</p></li>
<li><p>Copy of the session key</p></li></ul>
<p>All of this data is encrypted in the server's service key. 
Note, the KDC issues the ticket embedded in a credential described below. 
After a ticket has been issued, it can be reused until the ticket
expires.</p><p><a name="indexterm-3032"></a>A <b>credential</b> is a packet of information that includes a ticket and a
matching session key. The credential is encrypted with the requesting principal's key. Typically,
the KDC generates a credential in response to a ticket request from a
client.</p><p><a name="indexterm-3033"></a>An <b>authenticator</b> is information used by the server to authenticate the client user
principal.  An authenticator includes the principal name of the user, a timestamp,
and other data.  Unlike a ticket, an authenticator can be used once
only, usually when access to a service is requested.  An authenticator is
encrypted by using the session key shared by the client and server. 
Typically, the client creates the authenticator and sends it with the server's or
service's ticket in order to authenticate to the server or service.</p>

<a name="refer-123456"></a><h4>Types of Tickets</h4>
<a name="indexterm-3034"></a><a name="indexterm-3035"></a><p>Tickets have properties that govern how they can be used. These properties are
assigned to the ticket when it is created, although you can modify
a ticket's properties later. For example, a ticket can change from being <tt>forwardable</tt>
to being <tt>forwarded</tt>. You can view ticket properties with the <tt>klist</tt> command. See
<a href="user-8.html#user-1">Viewing Kerberos Tickets</a>.</p><p>Tickets can be described by one or more of the following terms:</p><dl><dt>Forwardable/forwarded</dt>
<dd><p><a name="indexterm-3036"></a><a name="indexterm-3037"></a>A forwardable ticket can be sent from one host to another host, obviating the need for a client to reauthenticate itself. For example, if the user <tt>david</tt> obtains a forwardable ticket while on user <tt>jennifer</tt>'s machine, he can log in to his own machine without having to get a new ticket (and thus authenticate himself again). See <a href="user-8.html#user-21">Example&nbsp;26-1</a> for an example of a forwardable ticket.</p></dd>
<dt>Initial</dt>
<dd><p><a name="indexterm-3038"></a><a name="indexterm-3039"></a>An initial ticket is a ticket that is issued directly, not based on a ticket-granting ticket. Some services, such as applications that change passwords, can require tickets to be marked initial in order to assure themselves that the client can demonstrate a knowledge of its secret key. An initial ticket indicates that the client has recently authenticated itself, instead of relying on a ticket-granting ticket, which might have been around for a long time.</p></dd>
<dt>Invalid</dt>
<dd><p><a name="indexterm-3040"></a><a name="indexterm-3041"></a>An invalid ticket is a postdated ticket that has not yet become usable. An invalid ticket will be rejected by an application server until it becomes validated. To be validated, a ticket must be presented to the KDC by the client in a ticket&ndash;granting service request, with the <tt>VALIDATE</tt> flag set, after its start time has passed.</p></dd>
<dt>Postdatable/postdated</dt>
<dd><p><a name="indexterm-3042"></a><a name="indexterm-3043"></a>A postdated ticket is a ticket that does not become valid until some specified time after its creation. Such a ticket is useful, for example, for batch jobs that are intended to be run late at night, because the ticket, if stolen, cannot be used until the batch job is to be run. When a postdated ticket is issued, it is issued as invalid and remains that way until its start time has passed, and the client requests validation by the KDC. A postdated ticket is normally valid until the expiration time of the ticket-granting ticket. However, if the ticket is marked renewable, its lifetime is normally set to be equal to the duration of the full life of the ticket-granting ticket.</p></dd>
<dt>Proxiable/proxy</dt>
<dd><p>At times, it is necessary for a principal to allow a service to perform an operation on its behalf. The principal name of the proxy must be specified when the ticket is created. The Solaris release does not support proxiable or proxy tickets.</p><p><a name="indexterm-3044"></a><a name="indexterm-3045"></a><a name="indexterm-3046"></a><a name="indexterm-3047"></a>A proxiable ticket is similar to a forwardable ticket, except that it is valid only for a single service, whereas a forwardable ticket grants the service the complete use of the client's identity. A forwardable ticket can therefore be thought of as a sort of super-proxy.</p></dd>
<dt>Renewable</dt>
<dd><p><a name="indexterm-3048"></a><a name="indexterm-3049"></a>Because it is a security risk to have tickets with very long lives, tickets can be designated as renewable. A renewable ticket has two expiration times: the time at which the current instance of the ticket expires, and the maximum lifetime for any ticket, which is one week. If a client wants to continue to use a ticket, the client renews it before the first expiration occurs. For example, a ticket can be valid for one hour, with all tickets having a maximum lifetime of 10 hours. If the client that is holding the ticket wants to keep it for more than an hour, the client must renew it within that hour. When a ticket reaches the maximum ticket lifetime (10 hours), it automatically expires and cannot be renewed.</p></dd>
</dl>
<p>For information on how to view the attributes of tickets, see <a href="user-8.html#user-1">Viewing Kerberos Tickets</a>.</p>

<a name="refer-502"></a><h5>Ticket Lifetimes</h5>
<a name="indexterm-3050"></a><a name="indexterm-3051"></a><p>Any time a principal obtains a ticket, including a ticket&ndash;granting ticket (TGT), the
ticket's lifetime is set as the smallest of the following lifetime values:</p>
<ul><li><p><a name="indexterm-3052"></a>The lifetime value that is specified by the <tt>-l</tt> option of <tt>kinit</tt>, if <tt>kinit</tt> is used to get the ticket. By default, <tt>kinit</tt> used the maximum lifetime value.</p></li>
<li><p><a name="indexterm-3053"></a><a name="indexterm-3054"></a><a name="indexterm-3055"></a>The maximum lifetime value (<tt>max_life</tt>) that is specified in the <tt>kdc.conf</tt> file.</p></li>
<li><p>The maximum lifetime value that is specified in the Kerberos database for the service principal that provides the ticket. In the case of <tt>kinit</tt>, the service principal is <tt>krbtgt/</tt><i>realm</i><tt></tt>.</p></li>
<li><p>The maximum lifetime value that is specified in the Kerberos database for the user principal that requests the ticket.</p></li></ul>
<p><a href="#refer-fig-501">Figure&nbsp;27-1</a> shows how a TGT's lifetime is determined and where the four lifetime
values come from. Even though this figure shows how a TGT's lifetime is
determined, basically the same thing happens when any principal obtains a ticket. The
only differences are that <tt>kinit</tt> doesn't provide a lifetime value, and the service principal
that provides the ticket provides a maximum lifetime value (instead of the <tt>krbtgt/</tt><i>realm</i><tt></tt>
principal).</p><a name="refer-fig-501"></a><h6>Figure&nbsp;27-1 How a TGT's Lifetime is Determined</h6><img src="figures/lifetime.gif" alt="Diagram shows that a ticket lifetime is the smallest value allowed by the kinit command, the user principal, the site default, and the ticket granter."></img><p>The renewable ticket lifetime is also determined from the minimum of four values,
but renewable lifetime values are used instead, as follows:</p>
<ul><li><p>The renewable lifetime value that is specified by the <tt>-r</tt> option of <tt>kinit</tt>, if <tt>kinit</tt> is used to obtain or renew the ticket.</p></li>
<li><p><a name="indexterm-3056"></a><a name="indexterm-3057"></a>The maximum renewable lifetime value (<tt>max_renewable_life</tt>) that is specified in the <tt>kdc.conf</tt> file.</p></li>
<li><p>The maximum lifetime renewable value that is specified in the Kerberos database for the service principal that provides the ticket. In the case of <tt>kinit</tt>, the service principal is <tt>krbtgt/</tt><i>realm</i><tt></tt>.</p></li>
<li><p>The maximum lifetime renewable value that is specified in the Kerberos database for the user principal that requests the ticket.</p></li></ul>


<a name="refer-31"></a><h5>Kerberos Principal Names</h5>
<p>Each ticket is identified by a principal name. The principal name can identify
a user or a service. Here are examples of several principal names.</p><a name="seamref-tbl-33"></a><h6>Table&nbsp;27-4 Examples of Kerberos Principal Names</h6><table><col width="50%"><col width="49%"><tr><th align="left" valign="top" scope="column"><p>Principal
Name</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>changepw/kdc1.example.com@EXAMPLE.COM</tt> </p></td>
<td align="left" valign="top" scope="row"><p>A principal for the master KDC server that allows access to
the KDC when you are changing passwords.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>clntconfig/admin@EXAMPLE.COM</tt> </p></td>
<td align="left" valign="top" scope="row"><p>A principal that is used by
the <tt>kclient</tt> installation utility.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ftp/boston.example.com@EXAMPLE.COM</tt></p></td>
<td align="left" valign="top" scope="row"><p>A principal used by the <tt>ftp</tt> service. This principal can be
used instead of a <tt>host</tt> principal.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>host/boston.example.com@EXAMPLE.COM</tt></p></td>
<td align="left" valign="top" scope="row"><p>A principal that is used by the
Kerberized applications (<tt>klist</tt> and <tt>kprop</tt>, for example) and services (such as <tt>ftp</tt>
and <tt>telnet</tt>). This principal is called a <tt>host</tt> or service principal. The principal
is used to authenticate NFS mounts.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>K/M@EXAMPLE.COM</tt> </p></td>
<td align="left" valign="top" scope="row"><p>The master key name principal. One
master key name principal is associated with each master KDC.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>kadmin/history@EXAMPLE.COM</tt></p></td>
<td align="left" valign="top" scope="row"><p>A principal that includes
a key used to keep password histories for other principals. Each master KDC
has one of these principals.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>kadmin/kdc1.example.com@EXAMPLE.COM</tt> </p></td>
<td align="left" valign="top" scope="row"><p>A principal for the master KDC server
that allows access to the KDC by using <tt>kadmind</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>kadmin/changepw.example.com@EXAMPLE.COM</tt> </p></td>
<td align="left" valign="top" scope="row"><p>A principal that is
used to accept password change requests from clients that are not running a
Solaris release.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>krbtgt/EXAMPLE.COM@EXAMPLE.COM</tt> </p></td>
<td align="left" valign="top" scope="row"><p>This principal is used when you generate a ticket-granting ticket.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>krbtgt/EAST.EXAMPLE.COM@WEST.EXAMPLE.COM</tt>
</p></td>
<td align="left" valign="top" scope="row"><p>This principal is an example of a cross-realm ticket-granting ticket.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>nfs/boston.example.com@EXAMPLE.COM</tt></p></td>
<td align="left" valign="top" scope="row"><p>A principal that
is used by the NFS service. This principal can be used instead of
a <tt>host</tt> principal.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>root/boston.example.com@EXAMPLE.COM</tt></p></td>
<td align="left" valign="top" scope="row"><p>A principal that is associated with the <tt>root</tt> account on a
client. This principal is called a <tt>root</tt> principal and provides <tt>root</tt> access to
NFS mounted file systems..</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><i>username</i><tt>@EXAMPLE.COM</tt></p></td>
<td align="left" valign="top" scope="row"><p>A principal for a user.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><i>username</i><tt>/admin@EXAMPLE.COM</tt></p></td>
<td align="left" valign="top" scope="row"><p>An <tt>admin</tt> principal that can
be used to administer the KDC database.</p></td>
</tr>
</table>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="refer-9.html">Previous</a>
             </td>
             <td align="right">
                 <a href="refer-14.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

