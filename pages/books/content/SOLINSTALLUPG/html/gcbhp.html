<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Setting Package Parameters For Zones - Solaris Express Installation Guide:  Solaris Live Upgrade and Upgrade Planning</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Express Installation Guide:  Solaris Live Upgrade and Upgrade Planning</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="package-90.html">Previous</a>
             </td>
             <td align="right">
                 <a href="package-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="esqbt.html">Part&nbsp;I&nbsp;Upgrading With Solaris Live Upgrade</a></p>
<p class="toc level2"><a href="intro-1.html">1.&nbsp;&nbsp;Where to Find Solaris Installation Planning Information</a></p>
<p class="toc level2"><a href="luoverview-1.html">2.&nbsp;&nbsp;Solaris Live Upgrade (Overview)</a></p>
<p class="toc level2"><a href="luplanning-1.html">3.&nbsp;&nbsp;Solaris Live Upgrade (Planning)</a></p>
<p class="toc level2"><a href="lucreate-1.html">4.&nbsp;&nbsp;Using Solaris Live Upgrade to Create a Boot Environment (Tasks)</a></p>
<p class="toc level2"><a href="liveupgrade-1.html">5.&nbsp;&nbsp;Upgrading With Solaris Live Upgrade (Tasks)</a></p>
<p class="toc level2"><a href="luupgrade-85.html">6.&nbsp;&nbsp;Failure Recovery: Falling Back to the Original Boot Environment (Tasks)</a></p>
<p class="toc level2"><a href="lumaintainence-1.html">7.&nbsp;&nbsp;Maintaining Solaris Live Upgrade Boot Environments (Tasks)</a></p>
<p class="toc level2"><a href="grub-101.html">8.&nbsp;&nbsp;x86: Locating the GRUB Menu's <tt>menu.lst</tt> File (Tasks)</a></p>
<p class="toc level2"><a href="gdzlc.html">9.&nbsp;&nbsp;Upgrading the Solaris OS on a System With Non-Global  Zones Installed</a></p>
<p class="toc level2"><a href="luexample-1.html">10.&nbsp;&nbsp;Solaris Live Upgrade (Examples)</a></p>
<p class="toc level2"><a href="lureference-1.html">11.&nbsp;&nbsp;Solaris Live Upgrade (Command Reference)</a></p>
<p class="toc level1 tocsp"><a href="esqcb.html">Part&nbsp;II&nbsp;Appendices</a></p>
<p class="toc level2"><a href="troubleshooting-9.html">A.&nbsp;&nbsp;Troubleshooting (Tasks)</a></p>
<p class="toc level2"><a href="package-9.html">B.&nbsp;&nbsp;Additional SVR4 Packaging Requirements (Reference)</a></p>
<p class="toc level3"><a href="package-12.html">Preventing Modification of the Current OS</a></p>
<p class="toc level3"><a href="package-90.html">Preventing User Interaction When Installing or Upgrading</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Setting Package Parameters For Zones</a></p>
</div>
<p class="toc level3"><a href="package-1.html">For Background Information</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="gcbhp"></a><h3>Setting Package Parameters For Zones</h3>
<p>Packages have parameters that control how their content is distributed and made visible
on a system with non-global zones installed. The <tt>SUNW_PKG_ALLZONES</tt>, <tt>SUNW_PKG_HOLLOW</tt>, and <tt>SUNW_PKG_THISZONE</tt>
package parameters define the characteristics of packages on a system with zones installed. These
parameters must be set so that packages can be administered in a
system with non-global zones.</p><p>The following table lists the four valid combinations for setting package parameters. If
you choose setting combinations that are not listed in the following table, those
settings are invalid and result in the package failing to install.</p>
<hr><p><b>Note - </b>Ensure that you have set all three package parameters. You can leave all
three package parameters blank. The package tools interpret a missing zone package parameter
as if the setting were &ldquo;false,&rdquo; but not setting the parameters is strongly
discouraged. By setting all three package parameters, you specify the exact behavior the
package tools should exhibit when installing or removing the package. </p>
<hr>
<a name="gcbgl"></a><h6>Table&nbsp;B-3 Valid Package Parameter Settings For Zones</h6><table><col width="21.13*"><col width="19.83*"><col width="22.79*"><col width="68.26*"><tr><th align="left" valign="top" scope="column"><p><tt>SUNW_PKG_ALLZONES</tt> Setting</p></th>
<th align="left" valign="top" scope="column"><p><tt>SUNW_PKG_HOLLOW</tt> Setting</p></th>
<th align="left" valign="top" scope="column"><p><tt>SUNW_PKG_THISZONE</tt>
Setting</p></th>
<th align="left" valign="top" scope="column"><p>Package Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>false</p></td>
<td align="left" valign="top" scope="row"><p>false</p></td>
<td align="left" valign="top" scope="row"><p>false</p></td>
<td align="left" valign="top" scope="row"><p>This is the default setting for packages that do not specify
values for all the zone package parameters.</p><p>A package with these settings can be
installed in either the global zone or a non-global zone. </p>
<ul><li><p>If the <tt>pkgadd</tt> command is run in the global zone, the package is installed in the global zone and in all non-global zones.</p></li>
<li><p>If the <tt>pkgadd</tt> command is run in a non-global zone, the package is installed in the non-global zone only. </p></li></ul>
<p>In both cases,
the entire contents of the package is visible in all zones where the
package is installed.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>false</p></td>
<td align="left" valign="top" scope="row"><p>false</p></td>
<td align="left" valign="top" scope="row"><p>true</p></td>
<td align="left" valign="top" scope="row"><p>A package with these settings can be installed in either
the global zone or a non-global zone. If new non-global zones are created
after the installation, the package is not propagated to these new non-global zones.</p>
<ul><li><p>If the <tt>pkgadd</tt> command is run in the global zone, the package is installed in the global zone only.</p></li>
<li><p>If the <tt>pkgadd</tt> command is run in a non-global zone, the package is installed in the non-global zone only.</p></li></ul>
<p>
In both cases, the entire contents of the package is visible in
the zone where the package is installed.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>true</p></td>
<td align="left" valign="top" scope="row"><p>false</p></td>
<td align="left" valign="top" scope="row"><p>false</p></td>
<td align="left" valign="top" scope="row"><p>A package with these settings can be
installed in the global zone only. When the <tt>pkgadd</tt> command is run, the
package is installed in the global zone and in all non-global zones. The
entire contents of the package is visible in all zones.</p>
<hr><p><b>Note - </b>Any attempt to install
the package in a non-global zone fails.</p>
<hr>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>true</p></td>
<td align="left" valign="top" scope="row"><p>true</p></td>
<td align="left" valign="top" scope="row"><p>false</p></td>
<td align="left" valign="top" scope="row"><p>A package with these settings can
only be installed in the global zone, by the global administrator.  When
the <tt>pkgadd</tt> command is run, the contents of the package is fully installed
in the global zone. If a package has the package parameters set to
these values, the package content itself is not delivered on any non-global zone.
Only the package installation information necessary to make the package appear to be
installed is installed on all non-global zones. This enables the installation of other
packages to be installed that depend on this package. For more information on
&ldquo;hollow&rdquo; packages, see <a href="http://docs.sun.com/doc/819-2450/z.pkginst.ov-1?a=view">Chapter 24, About Packages and Patches on a Solaris System With Zones Installed (Overview), in <i>System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</i></a>.</p><p>For package dependency checking purposes, the package appears to be installed
in all zones.</p>
<ul><li><p>In the global zone, the entire contents of the package is visible.</p></li>
<li><p>In whole root non-global zones, the entire contents of the package is not visible.</p></li>
<li><p>When a non-global zone inherits a file system from the global zone, a package installed in this file system is visible in a non-global zone. All other files delivered by the package are not visible within the non-global zone. </p><p>For example, a sparse root non-global zone shares certain directories with the global zone. These directories are read-only. Sparse root non-global zones share the <tt>/platform</tt> file system among others. Another example is packages that deliver files relevant only to booting hardware.</p></li></ul>

<hr><p><b>Note - </b>Any attempt to install the package in a non-global zone
fails.</p>
<hr>
</td>
</tr>
</table><table><col width="50*"><col width="50*"><tr><th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For More Information</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>For more details on packages and zones</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-2450/z.pkginst.ov-1?a=view">Chapter 24, About Packages and Patches on a Solaris System With Zones Installed (Overview), in <i>System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</i></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>For an overview of
sparse and whole root zones</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-2450/zones.intro-1?a=view">Chapter 16, Introduction to Solaris Zones, in <i>System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</i></a> </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>For information about package characteristics and parameters</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-2251/pkginfo-4?a=view"><tt>pkginfo</tt>(4)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>For
information about displaying package parameter values</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-2239/pkgparam-1?a=view"><tt>pkgparam</tt>(1)</a></p></td>
</tr>
</table>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="package-90.html">Previous</a>
             </td>
             <td align="right">
                 <a href="package-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

