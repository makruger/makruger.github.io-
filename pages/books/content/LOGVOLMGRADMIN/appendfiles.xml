<appendix id="appendfiles-1"><title>Important Solaris Volume Manager Files</title><highlights><para>This appendix contains information about Solaris Volume Manager files for reference
purposes. This appendix contains the following:</para><itemizedlist><listitem><para><olink targetptr="basics-27978" remap="internal">System Files and Startup Files</olink></para>
</listitem><listitem><para><olink targetptr="basics-27" remap="internal">Manually Configured Files</olink></para>
</listitem>
</itemizedlist>
</highlights><sect1 id="basics-27978"><title>System Files and Startup Files</title><para>This section explains the files that are necessary for Solaris Volume Manager to
operate correctly. With the exception of a few specialized configuration changes,
you do not need to access or modify these files. </para><itemizedlist><listitem><para><filename>/etc/lvm/mddb.cf</filename> </para><caution><para>Do not edit this file. If you change this file, you could corrupt
your Solaris Volume Manager configuration.</para>
</caution><para>The <filename>/etc/lvm/mddb.cf</filename> file records the locations
of state database replicas. When state database replica locations change, Solaris Volume Manager makes
an entry in the <filename>mddb.cf</filename> file that records the locations
of all state databases. See the <olink targetdoc="refman4" targetptr="mddb.cf-4" remap="external"><citerefentry><refentrytitle>mddb.cf</refentrytitle><manvolnum>4</manvolnum></citerefentry></olink> man
page for more information.</para>
</listitem><listitem><para><filename>/etc/lvm/md.cf</filename> </para><para>The <filename>/etc/lvm/md.cf</filename> file contains automatically generated configuration
information for the default (unspecified or local) disk set. When you change
the Solaris Volume Manager configuration, Solaris Volume Manager automatically updates the <filename>md.cf</filename> file (except for information about hot spares in use). See
the <olink targetdoc="refman4" targetptr="md.cf-4" remap="external"><citerefentry><refentrytitle>md.cf</refentrytitle><manvolnum>4</manvolnum></citerefentry></olink> man page
for more information.</para><caution><para>Do not edit this file. If you change this file, you could corrupt
or be unable to recover your Solaris Volume Manager configuration.</para>
</caution><para>If your system loses
the information that is maintained in the state database, and as long as no
volumes were changed or created in the meantime, you can use the <filename>md.cf</filename> file to recover your configuration. See <olink targetptr="troubleshoottasks-23827" remap="internal">How to Initialize Solaris Volume Manager From
a Configuration File</olink>. </para>
</listitem><listitem><para><filename>/kernel/drv/md.conf</filename> </para><para>The <filename>md.conf</filename> configuration file is read by Solaris Volume Manager at
startup. The <filename>md.conf</filename> file contains the state database
replica configuration information. As of Solaris 10, the <literal>nmd</literal> and <literal>md_nsets</literal> parameters are no longer edited manually. Solaris Volume Manager has
been enhanced to configure volumes dynamically, as needed.</para>
</listitem><listitem><para><filename>/etc/rcS.d/S35svm.init</filename> </para><para>This file configures and starts Solaris Volume Manager at boot and allows administrators to start and stop the daemons. </para>
</listitem><listitem><para><filename>/etc/rc2.d/S95svm.sync</filename> </para><para>This file checks the Solaris Volume Manager configuration at boot, starts resynchronization of mirrors if necessary, and starts the active monitoring daemon. (For more information, see <olink targetdoc="refman1m" targetptr="mdmonitord-1m" remap="external"><citerefentry><refentrytitle>mdmonitord</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink>.) </para>
</listitem>
</itemizedlist>
</sect1><sect1 id="basics-27"><title>Manually Configured Files</title><sect2 id="basics-28"><title>Overview of the <filename>md.tab</filename> File</title><para>The <filename>/etc/lvm/md.tab</filename> file contains Solaris Volume Manager configuration
information that can be used to reconstruct your Solaris Volume Manager configuration. Solaris Volume Manager can
use this file as input to the command-line utilities <command>metainit</command>, <command>metadb</command>, and <command>metahs</command> to reconstruct a configuration.
Volumes, disk sets, and hot spare pools might have entries in this file. See <olink targetptr="tasks-basics-1" remap="internal">How to Create Configuration Files</olink> for instructions
on creating this file (by using the <command>metastat <option>p</option> >
/etc/lvm/md.tab</command> command).</para><note><para>The configuration information in the <filename>/etc/lvm/md.tab</filename> file might differ from the current volumes, hot spares, and state
database replicas in use. This file is used manually, by the system administrator,
to capture the intended configuration. After you change your Solaris Volume Manager configuration,
recreate this file and preserve a backup copy.</para>
</note><para>Once you have created and updated the file, the <command>metainit</command>, <command>metahs</command>, and <command>metadb</command> commands then activate the
volumes, hot spare pools, and state database replicas defined in the file.</para><para>In the <filename>/etc/lvm/md.tab</filename> file, one complete configuration
entry for a single volume appears on each line using the syntax of the <command>metainit</command>, <command>metadb</command>, and <command>metahs</command> commands.</para><note><para>If you use the <command>metainit <option>an</option></command> command
to simulate initializing all of the volumes in the <filename>md.tab</filename> file,
you might see error messages for volumes that have dependencies on other volumes
defined in <filename>md.tab</filename>. These error messages occur because Solaris Volume Manager does
not maintain state of the volumes that would have been created when running <command>metainit <option>an</option></command>. Each line is evaluated based on the
existing configuration, if a configuration exists. Therefore, even if it appears
that the <command>metainit <option>an</option></command> command
would fail, it might succeed without the <command><option>n</option></command> option.</para>
</note><para>You then run the <command>metainit</command> command with either the <option>a</option> option, to activate all volumes in the <filename>/etc/lvm/md.tab</filename> file, or with the volume name that corresponds to a specific entry
in the file.</para><note><para>Solaris Volume Manager does not write to or store configuration information
in the <filename>/etc/lvm/md.tab</filename> file. You must manually edit the
file and run the <command>metainit</command>, <command>metahs</command>, or <command>metadb</command> commands to create Solaris Volume Manager components.</para>
</note><para>For more information, see the <olink targetdoc="refman4" targetptr="md.tab-4" remap="external"><citerefentry><refentrytitle>md.tab</refentrytitle><manvolnum>4</manvolnum></citerefentry></olink> man
page.</para>
</sect2>
</sect1>
</appendix>