<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Device ID Discrepancies After Upgrading to the Solaris 10 Release - Solaris Volume Manager Administration Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2006-06-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Volume Manager Administration Guide</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="tasks-basics-7.html">Previous</a>
             </td>
             <td align="right">
                 <a href="troubleshoottasks-29.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="roadmap-10.html">1.&nbsp;&nbsp;Getting Started With Solaris Volume Manager</a></p>
<p class="toc level1 tocsp"><a href="storage-overview-1.html">2.&nbsp;&nbsp;Storage Management Concepts</a></p>
<p class="toc level1 tocsp"><a href="basics-23185.html">3.&nbsp;&nbsp;Solaris Volume Manager Overview</a></p>
<p class="toc level1 tocsp"><a href="eoqra.html">4.&nbsp;&nbsp;Solaris Volume Manager for Sun Cluster (Overview)</a></p>
<p class="toc level1 tocsp"><a href="svm-scenario-1.html">5.&nbsp;&nbsp;Configuring and Using Solaris Volume Manager (Scenario)</a></p>
<p class="toc level1 tocsp"><a href="about-state-db-replicas-1.html">6.&nbsp;&nbsp;State Database (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-state-db-replicas-1.html">7.&nbsp;&nbsp;State Database (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-metadevices-22802.html">8.&nbsp;&nbsp;RAID-0 (Stripe and Concatenation) Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-metadevices-1.html">9.&nbsp;&nbsp;RAID-0 (Stripe and Concatenation) Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-mirrors-2.html">10.&nbsp;&nbsp;RAID-1 (Mirror) Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-mirrors-1.html">11.&nbsp;&nbsp;RAID-1 (Mirror) Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-softpart-1.html">12.&nbsp;&nbsp;Soft Partitions (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-softpart-1.html">13.&nbsp;&nbsp;Soft Partitions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-raid5-1.html">14.&nbsp;&nbsp;RAID-5 Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-raid5-1.html">15.&nbsp;&nbsp;RAID-5 Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-hotspares-40444.html">16.&nbsp;&nbsp;Hot Spare Pools (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-hotspares-1.html">17.&nbsp;&nbsp;Hot Spare Pools (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-disksets-31856.html">18.&nbsp;&nbsp;Disk Sets (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-disksets-1.html">19.&nbsp;&nbsp;Disk Sets (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tasks-basics-2.html">20.&nbsp;&nbsp;Maintaining Solaris Volume Manager (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="best-practices-1.html">21.&nbsp;&nbsp;Best Practices for Solaris Volume Manager</a></p>
<p class="toc level1 tocsp"><a href="topdown-overview.html">22.&nbsp;&nbsp;Top-Down Volume Creation (Overview)</a></p>
<p class="toc level1 tocsp"><a href="topdown-tasks-chap.html">23.&nbsp;&nbsp;Top-Down Volume Creation (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tasks-snmp-1.html">24.&nbsp;&nbsp;Monitoring and Error Reporting (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="troubleshoottasks-33506.html">25.&nbsp;&nbsp;Troubleshooting Solaris Volume Manager (Tasks)</a></p>
<p class="toc level2"><a href="troubleshoottasks-83.html">Troubleshooting Solaris Volume Manager (Task Map)</a></p>
<p class="toc level2"><a href="troubleshoottasks-1.html">Overview of Troubleshooting the System</a></p>
<p class="toc level2"><a href="troubleshoottasks-95.html">Replacing Disks</a></p>
<p class="toc level3"><a href="troubleshoottasks-95.html#troubleshoottasks-96">How to Replace a Failed Disk</a></p>
<p class="toc level2 tocsp"><a href="tasks-basics-7.html">Recovering From Disk Movement Problems</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Device ID Discrepancies After Upgrading to the Solaris 10 Release</a></p>
</div>
<p class="toc level2"><a href="troubleshoottasks-29.html">Recovering From Boot Problems</a></p>
<p class="toc level3"><a href="troubleshoottasks-29.html#troubleshoottasks-82">Recovering the root (<tt>/</tt>) RAID-1 (Mirror) Volume</a></p>
<p class="toc level3"><a href="troubleshoottasks-29.html#troubleshoottasks-21051">How to Recover From a Boot Device Failure</a></p>
<p class="toc level2 tocsp"><a href="tasks-state-db-replicas-11.html">Recovering From State Database Replica Failures</a></p>
<p class="toc level3"><a href="tasks-state-db-replicas-11.html#troubleshoottasks-31036">How to Recover From Insufficient State Database Replicas</a></p>
<p class="toc level2 tocsp"><a href="tasks-softpart-26.html">Recovering From Soft Partition Problems</a></p>
<p class="toc level3"><a href="tasks-softpart-26.html#tasks-softpart-27">How to Recover Configuration Data for a Soft Partition</a></p>
<p class="toc level2 tocsp"><a href="troubleshoottasks-84.html">Recovering Storage From a Different System</a></p>
<p class="toc level3"><a href="troubleshoottasks-84.html#eqqcz">How to Recover Storage From a Local Disk Set</a></p>
<p class="toc level2 tocsp"><a href="egcpz.html">Recovering From Disk Set Problems</a></p>
<p class="toc level2"><a href="exlvv.html">Performing Mounted Filesystem Backups Using the <tt>ufsdump</tt> Command</a></p>
<p class="toc level3"><a href="exlvv.html#exlvw">How to Perform a Backup of a Mounted Filesystem Located on a RAID-1 Volume</a></p>
<p class="toc level2 tocsp"><a href="fsujr.html">Performing System Recovery</a></p>
<p class="toc level3"><a href="fsujr.html#fsujq">How to Recover a System Using a Solaris Volume Manager Configuration</a></p>
<p class="toc level1 tocsp"><a href="appendfiles-1.html">A.&nbsp;&nbsp;Important Solaris Volume Manager Files</a></p>
<p class="toc level1 tocsp"><a href="quick-reference-1.html">B.&nbsp;&nbsp;Solaris Volume Manager Quick Reference</a></p>
<p class="toc level1 tocsp"><a href="append-cim-wbem-1.html">C.&nbsp;&nbsp;Solaris Volume Manager CIM/WBEM API</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="extkh"></a><h3>Device ID Discrepancies After Upgrading to the Solaris 10 Release</h3>
<a name="indexterm-243"></a><a name="indexterm-244"></a><a name="indexterm-245"></a><p>Beginning with the Solaris 10 release, device ID output is displayed in a
new format. Solaris Volume Manager may display the device ID output in
a new or old format depending on when the device id information was
added to the state database replica.</p><p>Previously, the device ID was displayed as a hexadecimal value. The new format
displays the device ID as an ASCII string. In many cases, the
change is negligible, as in the following example:</p><dl><dt>old format:</dt>
<dd><p><tt>id1,ssd@</tt><b>w</b><tt>600c0ff00000000007ecd255a9336d00</tt></p></dd>
<dt>new format:</dt>
<dd><p><tt>id1,ssd@</tt><b>n</b><tt>600c0ff00000000007ecd255a9336d00</tt></p></dd>
</dl>
<p>In other cases, the change is more noticeable, as in the following
example:</p><dl><dt>old format:</dt>
<dd><p><tt>id1,sd@w4849544143484920444b3332454a2d33364e4320202020203433334239383939</tt></p></dd>
<dt>new format:</dt>
<dd><p><tt>id1,ssd@n600c0ff00000000007ecd255a9336d00</tt></p></dd>
</dl>
<p>When you upgrade to the Solaris 10 release, the format of the
device IDs that are associated with existing disk sets that were created in
a previous Solaris release are not updated in the Solaris Volume Manager configuration.
If you need to revert back to a previous Solaris release, configuration changes
made to disk sets after the upgrade might not available to that release.
These configuration changes include:</p>
<ul><li><p>Adding a new disk to a disk set that existed before the upgrade</p></li>
<li><p>Creating a new disk set</p></li>
<li><p>Creating state database replicas</p></li></ul>
<p>These configuration changes can affect all disk sets that you are able to
create in Solaris Volume Manager, including the local set. For example, if
you implement any of these changes to a disk set created in the
Solaris 10 release, you cannot import the disk set to a previous Solaris
release. As another example, you might upgrade one side of a mirrored root
to the Solaris 10 release and then make configuration changes to the local
set. These changes would not be recognized if you then incorporated the submirror
back into the previous Solaris release.</p><p>The Solaris 10 OS configuration always displays the new format of the device
ID, even in the case of an upgrade. You can display this
information using the <tt>prtconf</tt> <tt>-v</tt> command. Conversely, Solaris Volume Manager displays either the old
or the new format. Which format is displayed in Solaris Volume Manager
depends on which version of the Solaris OS you were running when you
began using the disk. To determine if Solaris Volume Manager is displaying a
different, but equivalent, form of the device ID from that of the Solaris
OS configuration, compare the output from the <tt>metastat</tt> command with the output from
the <tt>prtconf</tt> <tt>-v</tt> command.</p><p>In the following example, the <tt>metastat</tt> command output displays a different, but equivalent,
form of the device ID for <tt>c1t6d0</tt> from the <tt>prtconf</tt> <tt>-v</tt> command output
for the same disk.</p><pre># <tt><b>metastat</b></tt>
d127: Concat/Stripe
    Size: 17629184 blocks (8.4 GB)
    Stripe 0:
        Device     Start Block  Dbase   Reloc
        c1t6d0s2      32768     Yes     Yes

Device Relocation Information:
Device   Reloc  Device ID <b>c1t6d0 Yes id1,sd@w4849544143484920444b3332454a2d33364e4320202020203433334239383939</b></pre><pre># <tt><b>prtconf -v</b></tt>
.(output truncated)

.
.
sd, <b>instance #6</b>
         System properties:
              name='lun' type=int items=1
                 value=00000000
              name='target' type=int items=1
                 value=00000006
              name='class' type=string items=1
                 value='scsi'
         Driver properties:
              name='pm-components' type=string items=3 dev=none
                 value='NAME=spindle-motor' + '0=off' + '1=on'
              name='pm-hardware-state' type=string items=1 dev=none
                 value='needs-suspend-resume'
              name='ddi-failfast-supported' type=boolean dev=none
              name='ddi-kernel-ioctl' type=boolean dev=none
              Hardware properties:
              name='devid' type=string items=1
                 value='<b>id1,@THITACHI_DK32EJ-36NC_____433B9899</b>'
.
.
.
(output truncated)</pre><p>The line containing &ldquo;instance #6&rdquo; in the output from the <tt>prtconf</tt> <tt>-v</tt>
command correlates to the disk <tt>c1t6d0</tt> in the output from the <tt>metastat</tt>
command. The device id, <tt>id1,@THITACHI_DK32EJ-36NC_____433B9899</tt>, in the output from the <tt>prtconf</tt> <tt>-v</tt> command correlates to
the device id, id1,sd@w4849544143484920444b3332454a2d33364e4320202020203433334239383939, in the output from the <tt>metastat</tt> command. This difference in
output indicates that Solaris Volume Manager is displaying the hexadecimal form of the
device ID in the output from the <tt>metastat</tt> command, while the Solaris 10
OS configuration is displaying an ASCII string in the output from the <tt>prtconf</tt>
command.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="tasks-basics-7.html">Previous</a>
             </td>
             <td align="right">
                 <a href="troubleshoottasks-29.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

