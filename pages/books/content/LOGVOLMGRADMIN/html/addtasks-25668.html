<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Background Information for Creating RAID-5 Volumes - Solaris Volume Manager Administration Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2006-06-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Volume Manager Administration Guide</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="about-metadevices-18901.html">Previous</a>
             </td>
             <td align="right">
                 <a href="egcls.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="roadmap-10.html">1.&nbsp;&nbsp;Getting Started With Solaris Volume Manager</a></p>
<p class="toc level1 tocsp"><a href="storage-overview-1.html">2.&nbsp;&nbsp;Storage Management Concepts</a></p>
<p class="toc level1 tocsp"><a href="basics-23185.html">3.&nbsp;&nbsp;Solaris Volume Manager Overview</a></p>
<p class="toc level1 tocsp"><a href="eoqra.html">4.&nbsp;&nbsp;Solaris Volume Manager for Sun Cluster (Overview)</a></p>
<p class="toc level1 tocsp"><a href="svm-scenario-1.html">5.&nbsp;&nbsp;Configuring and Using Solaris Volume Manager (Scenario)</a></p>
<p class="toc level1 tocsp"><a href="about-state-db-replicas-1.html">6.&nbsp;&nbsp;State Database (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-state-db-replicas-1.html">7.&nbsp;&nbsp;State Database (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-metadevices-22802.html">8.&nbsp;&nbsp;RAID-0 (Stripe and Concatenation) Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-metadevices-1.html">9.&nbsp;&nbsp;RAID-0 (Stripe and Concatenation) Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-mirrors-2.html">10.&nbsp;&nbsp;RAID-1 (Mirror) Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-mirrors-1.html">11.&nbsp;&nbsp;RAID-1 (Mirror) Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-softpart-1.html">12.&nbsp;&nbsp;Soft Partitions (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-softpart-1.html">13.&nbsp;&nbsp;Soft Partitions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-raid5-1.html">14.&nbsp;&nbsp;RAID-5 Volumes (Overview)</a></p>
<p class="toc level2"><a href="about-metadevices-18901.html">Overview of RAID-5 Volumes</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Background Information for Creating RAID-5 Volumes</a></p>
</div>
<p class="toc level2"><a href="egcls.html">Overview of Checking Status of RAID-5 Volumes</a></p>
<p class="toc level2"><a href="about-raid5-2.html">Overview of Replacing and Enabling Slices in RAID-5 Volumes</a></p>
<p class="toc level2"><a href="about-raid5-9a.html">Scenario--RAID-5 Volumes</a></p>
<p class="toc level1 tocsp"><a href="tasks-raid5-1.html">15.&nbsp;&nbsp;RAID-5 Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-hotspares-40444.html">16.&nbsp;&nbsp;Hot Spare Pools (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-hotspares-1.html">17.&nbsp;&nbsp;Hot Spare Pools (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-disksets-31856.html">18.&nbsp;&nbsp;Disk Sets (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-disksets-1.html">19.&nbsp;&nbsp;Disk Sets (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tasks-basics-2.html">20.&nbsp;&nbsp;Maintaining Solaris Volume Manager (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="best-practices-1.html">21.&nbsp;&nbsp;Best Practices for Solaris Volume Manager</a></p>
<p class="toc level1 tocsp"><a href="topdown-overview.html">22.&nbsp;&nbsp;Top-Down Volume Creation (Overview)</a></p>
<p class="toc level1 tocsp"><a href="topdown-tasks-chap.html">23.&nbsp;&nbsp;Top-Down Volume Creation (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tasks-snmp-1.html">24.&nbsp;&nbsp;Monitoring and Error Reporting (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="troubleshoottasks-33506.html">25.&nbsp;&nbsp;Troubleshooting Solaris Volume Manager (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="appendfiles-1.html">A.&nbsp;&nbsp;Important Solaris Volume Manager Files</a></p>
<p class="toc level1 tocsp"><a href="quick-reference-1.html">B.&nbsp;&nbsp;Solaris Volume Manager Quick Reference</a></p>
<p class="toc level1 tocsp"><a href="append-cim-wbem-1.html">C.&nbsp;&nbsp;Solaris Volume Manager CIM/WBEM API</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="addtasks-25668"></a><h3>Background Information for Creating RAID-5 Volumes</h3>
<a name="indexterm-106"></a><p>When you work with RAID-5 volumes, consider the <a href="#about-raid5-8">Requirements for RAID-5 Volumes</a> and <a href="#about-raid5-9">Guidelines for RAID-5 Volumes</a>. Many
striping guidelines also apply to RAID-5 volume configurations. See <a href="addtasks-14796.html#about-metadevices-40">RAID-0 Volume Requirements</a>. </p>

<a name="about-raid5-8"></a><h4>Requirements for RAID-5 Volumes</h4>

<ul><li><p>A RAID-5 volume must consist of at least three components. The more components a RAID-5 volume contains, however, the longer read and write operations take when a component fails.</p></li>
<li><p>RAID-5 volumes cannot be striped, concatenated, or mirrored.</p></li>
<li><p>Do not create a RAID-5 volume from a component that contains an existing file system. Doing so will erase the data during the RAID-5 initialization process.</p></li>
<li><p><a name="addtasks-ix98"></a>When you create a RAID-5 volume, you can define the interlace value. If not specified, the interlace value defaults to 512 Kbytes. This value is reasonable for most applications.</p></li>
<li><p>A RAID-5 volume (with no hot spares) can only handle a single component failure.</p></li>
<li><p>When you create RAID-5 volumes, use components across separate controllers. Controllers and associated cables tend to fail more often than disks.</p></li>
<li><p>Use components of the same size. Creating a RAID-5 volume with components of different sizes results in unused disk space.</p></li></ul>


<a name="about-raid5-9"></a><h4>Guidelines for RAID-5 Volumes</h4>

<ul><li><p><a name="indexterm-107"></a><a name="addtasks-ix97"></a>Because of the complexity of parity calculations, volumes with greater than about 20 percent writes should probably not be RAID-5 volumes. If data redundancy on a write-heavy volume is needed, consider mirroring.</p></li>
<li><p>If the different components in a RAID-5 volume reside on different controllers and the accesses to the volume are primarily large sequential accesses, then setting the interlace value to 32 Kbytes might improve performance.</p></li>
<li><p>You can expand a RAID-5 volume by concatenating additional components to the volume. Concatenating a new component to an existing RAID-5 volume decreases the overall performance of the volume because the data on concatenations is sequential. Data is not striped across all components. The original components of the volume have data and parity striped across all components. This striping is lost for the concatenated component. However, the data is still recoverable from errors because the parity is used during the component I/O. The resulting RAID-5 volume continues to handle a single component failure.</p><p>Concatenated components also differ in the sense that they do not have parity striped on any of the regions. Thus, the entire contents of the component are available for data.</p><p>Any performance enhancements for large or sequential writes are lost when components are concatenated.</p></li>
<li><p>You can create a RAID-5 volume without having to &ldquo;zero out&rdquo; the data blocks. To do so, do one of the following:</p>
<ul><li><p>Use the <tt>metainit</tt> command with the <tt>-k</tt> option. The <tt>-k</tt> option recreates the RAID-5 volume without initializing it, and sets the disk blocks to the &ldquo;Okay&rdquo; state. This option is potentially dangerous, as any errors that exist on disk blocks within the volume will cause unpredictable behavior from Solaris Volume Manager, including the possibility of fabricated data. </p></li>
<li><p>Initialize the device and restore data from tape. See the <a href="http://docs.sun.com/doc/819-2240/metainit-1m?a=view"><tt>metainit</tt>(1M)</a> man page for more information.</p></li></ul>
</li></ul>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="about-metadevices-18901.html">Previous</a>
             </td>
             <td align="right">
                 <a href="egcls.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

