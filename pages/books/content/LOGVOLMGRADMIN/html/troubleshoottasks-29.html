<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Recovering From Boot Problems - Solaris Volume Manager Administration Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2006-06-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Volume Manager Administration Guide</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="extkh.html">Previous</a>
             </td>
             <td align="right">
                 <a href="tasks-state-db-replicas-11.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="roadmap-10.html">1.&nbsp;&nbsp;Getting Started With Solaris Volume Manager</a></p>
<p class="toc level1 tocsp"><a href="storage-overview-1.html">2.&nbsp;&nbsp;Storage Management Concepts</a></p>
<p class="toc level1 tocsp"><a href="basics-23185.html">3.&nbsp;&nbsp;Solaris Volume Manager Overview</a></p>
<p class="toc level1 tocsp"><a href="eoqra.html">4.&nbsp;&nbsp;Solaris Volume Manager for Sun Cluster (Overview)</a></p>
<p class="toc level1 tocsp"><a href="svm-scenario-1.html">5.&nbsp;&nbsp;Configuring and Using Solaris Volume Manager (Scenario)</a></p>
<p class="toc level1 tocsp"><a href="about-state-db-replicas-1.html">6.&nbsp;&nbsp;State Database (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-state-db-replicas-1.html">7.&nbsp;&nbsp;State Database (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-metadevices-22802.html">8.&nbsp;&nbsp;RAID-0 (Stripe and Concatenation) Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-metadevices-1.html">9.&nbsp;&nbsp;RAID-0 (Stripe and Concatenation) Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-mirrors-2.html">10.&nbsp;&nbsp;RAID-1 (Mirror) Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-mirrors-1.html">11.&nbsp;&nbsp;RAID-1 (Mirror) Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-softpart-1.html">12.&nbsp;&nbsp;Soft Partitions (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-softpart-1.html">13.&nbsp;&nbsp;Soft Partitions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-raid5-1.html">14.&nbsp;&nbsp;RAID-5 Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-raid5-1.html">15.&nbsp;&nbsp;RAID-5 Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-hotspares-40444.html">16.&nbsp;&nbsp;Hot Spare Pools (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-hotspares-1.html">17.&nbsp;&nbsp;Hot Spare Pools (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-disksets-31856.html">18.&nbsp;&nbsp;Disk Sets (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-disksets-1.html">19.&nbsp;&nbsp;Disk Sets (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tasks-basics-2.html">20.&nbsp;&nbsp;Maintaining Solaris Volume Manager (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="best-practices-1.html">21.&nbsp;&nbsp;Best Practices for Solaris Volume Manager</a></p>
<p class="toc level1 tocsp"><a href="topdown-overview.html">22.&nbsp;&nbsp;Top-Down Volume Creation (Overview)</a></p>
<p class="toc level1 tocsp"><a href="topdown-tasks-chap.html">23.&nbsp;&nbsp;Top-Down Volume Creation (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tasks-snmp-1.html">24.&nbsp;&nbsp;Monitoring and Error Reporting (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="troubleshoottasks-33506.html">25.&nbsp;&nbsp;Troubleshooting Solaris Volume Manager (Tasks)</a></p>
<p class="toc level2"><a href="troubleshoottasks-83.html">Troubleshooting Solaris Volume Manager (Task Map)</a></p>
<p class="toc level2"><a href="troubleshoottasks-1.html">Overview of Troubleshooting the System</a></p>
<p class="toc level2"><a href="troubleshoottasks-95.html">Replacing Disks</a></p>
<p class="toc level3"><a href="troubleshoottasks-95.html#troubleshoottasks-96">How to Replace a Failed Disk</a></p>
<p class="toc level2 tocsp"><a href="tasks-basics-7.html">Recovering From Disk Movement Problems</a></p>
<p class="toc level2"><a href="extkh.html">Device ID Discrepancies After Upgrading to the Solaris 10 Release</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Recovering From Boot Problems</a></p>
<p class="toc level3"><a href="#troubleshoottasks-82">Recovering the root (<tt>/</tt>) RAID-1 (Mirror) Volume</a></p>
<p class="toc level3"><a href="#troubleshoottasks-21051">How to Recover From a Boot Device Failure</a></p>
</div>
<p class="toc level2 tocsp"><a href="tasks-state-db-replicas-11.html">Recovering From State Database Replica Failures</a></p>
<p class="toc level3"><a href="tasks-state-db-replicas-11.html#troubleshoottasks-31036">How to Recover From Insufficient State Database Replicas</a></p>
<p class="toc level2 tocsp"><a href="tasks-softpart-26.html">Recovering From Soft Partition Problems</a></p>
<p class="toc level3"><a href="tasks-softpart-26.html#tasks-softpart-27">How to Recover Configuration Data for a Soft Partition</a></p>
<p class="toc level2 tocsp"><a href="troubleshoottasks-84.html">Recovering Storage From a Different System</a></p>
<p class="toc level3"><a href="troubleshoottasks-84.html#eqqcz">How to Recover Storage From a Local Disk Set</a></p>
<p class="toc level2 tocsp"><a href="egcpz.html">Recovering From Disk Set Problems</a></p>
<p class="toc level2"><a href="exlvv.html">Performing Mounted Filesystem Backups Using the <tt>ufsdump</tt> Command</a></p>
<p class="toc level3"><a href="exlvv.html#exlvw">How to Perform a Backup of a Mounted Filesystem Located on a RAID-1 Volume</a></p>
<p class="toc level2 tocsp"><a href="fsujr.html">Performing System Recovery</a></p>
<p class="toc level3"><a href="fsujr.html#fsujq">How to Recover a System Using a Solaris Volume Manager Configuration</a></p>
<p class="toc level1 tocsp"><a href="appendfiles-1.html">A.&nbsp;&nbsp;Important Solaris Volume Manager Files</a></p>
<p class="toc level1 tocsp"><a href="quick-reference-1.html">B.&nbsp;&nbsp;Solaris Volume Manager Quick Reference</a></p>
<p class="toc level1 tocsp"><a href="append-cim-wbem-1.html">C.&nbsp;&nbsp;Solaris Volume Manager CIM/WBEM API</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="troubleshoottasks-29"></a><h3>Recovering From Boot Problems</h3>
<a name="troubleshoottasks-ix444"></a><a name="indexterm-246"></a><p>Because Solaris Volume Manager enables you to mirror the root (<tt>/</tt>), <tt>swap</tt>,
and <tt>/usr</tt> directories, special problems can arise when you boot the system. These
problems can arise either through hardware failures or operator error. The procedures in
this section provide solutions to such potential problems.</p><p>The following table describes these problems and points you to the appropriate solution.</p><a name="troubleshoottasks-12449"></a><h6>Table&nbsp;25-1 Common Boot Problems With Solaris Volume Manager</h6><table><col width="165*"><col width="231*"><tr><th align="left" valign="top" scope="column"><p>Reason
for the Boot Problem</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>The <tt>/etc/vfstab</tt> file contains incorrect information.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#troubleshoottasks-35369">How to Recover From Improper <tt>/etc/vfstab</tt> Entries</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Not enough state
database replicas have been defined.</p></td>
<td align="left" valign="top" scope="row"><p><a href="tasks-state-db-replicas-11.html#troubleshoottasks-31036">How to Recover From Insufficient State Database Replicas</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>A boot device (disk) has failed.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#troubleshoottasks-21051">How to Recover From a Boot Device Failure</a></p></td>
</tr>
</table>

<a name="troubleshoottasks-30"></a><h4>Background Information for Boot Problems</h4>

<ul><li><p>If Solaris Volume Manager takes a volume offline due to errors, unmount all file systems on the disk where the failure occurred.</p><p>Because each disk slice is independent, multiple file systems can be mounted on a single disk. If the software has encountered a failure, other slices on the same disk will likely experience failures soon. File systems that are mounted directly on disk slices do not have the protection of Solaris Volume Manager error handling. Leaving such file systems mounted can leave you vulnerable to crashing the system and losing data.</p></li>
<li><p>Minimize the amount of time you run with submirrors that are disabled or offline. During resynchronization and online backup intervals, the full protection of mirroring is gone.</p></li></ul>


<a name="troubleshoottasks-35369"></a><h4>How to Recover From Improper <tt>/etc/vfstab</tt> Entries</h4>
<p><a name="troubleshoottasks-ix445"></a><a name="indexterm-247"></a>If you have made an incorrect entry in the <tt>/etc/vfstab</tt> file, for example,
when mirroring the root (<tt>/</tt>) file system, the system appears at first to
be booting properly. Then, the system fails. To remedy this situation, you need
to edit the <tt>/etc/vfstab</tt> file while in single-user mode. </p><p>The high-level steps to recover from improper <tt>/etc/vfstab</tt> file entries are as follows:</p>
<ol><li><p>Booting the system to single-user mode</p></li>
<li><p>Running the <tt>fsck</tt> command on the mirror volume</p></li>
<li><p>Remounting file system read-write options enabled</p></li>
<li><p>Optional: running the <tt>metaroot</tt> command for a root (<tt>/</tt>) mirror</p></li>
<li><p>Verifying that the <tt>/etc/vfstab</tt> file correctly references the volume for the file system entry</p></li>
<li><p>Rebooting the system</p></li></ol>


<a name="troubleshoottasks-82"></a><h4>Recovering the root (<tt>/</tt>) RAID-1 (Mirror) Volume</h4><p>In the following example, the root (<tt>/</tt>) file system is mirrored with a
two-way mirror, <tt>d0</tt>. The root (<tt>/</tt>) entry in the <tt>/etc/vfstab</tt> file has
somehow reverted back to the original slice of the file system. However, the
information in the <tt>/etc/system</tt> file still shows booting to be from the mirror <tt>d0</tt>.
The most likely reason is that the <tt>metaroot</tt> command was not used
to maintain the <tt>/etc/system</tt> and <tt>/etc/vfstab</tt> files. Another possible reason is that
an old copy of the<tt>/etc/vfstab</tt> file was copied back into the current <tt>/etc/vfstab</tt>
file.</p><p>The incorrect <tt>/etc/vfstab</tt> file looks similar to the following:</p><pre>#device        device          mount          FS      fsck   mount    mount
#to mount      to fsck         point          type    pass   at boot  options
#
/dev/dsk/c0t3d0s0 /dev/rdsk/c0t3d0s0  /       ufs      1     no       -
/dev/dsk/c0t3d0s1 -                   -       swap     -     no       -
/dev/dsk/c0t3d0s6 /dev/rdsk/c0t3d0s6  /usr    ufs      2     no       -
#
/proc             -                  /proc    proc     -     no       -
swap              -                  /tmp     tmpfs    -     yes      -</pre><p>Because of the errors, you automatically go into single-user mode when the system
is booted: </p><pre>ok <tt><b>boot</b></tt>
...
configuring network interfaces: hme0.
Hostname: host1
mount: /dev/dsk/c0t3d0s0 is not this fstype.
setmnt: Cannot open /etc/mnttab for writing

INIT: Cannot create /var/adm/utmp or /var/adm/utmpx

INIT: failed write of utmpx entry:"  "

INIT: failed write of utmpx entry:"  "

INIT: SINGLE USER MODE

Type Ctrl-d to proceed with normal startup,
(or give root password for system maintenance): &lt;<i>root-password</i>></pre><p>At this point, the root (<tt>/</tt>) and <tt>/usr</tt> file systems are mounted read-only.
Follow these steps:</p><ol>
<li><a name="troubleshoottasks-step-33"></a><b>Run the <tt>fsck</tt> command on the root (<tt>/</tt>) mirror.</b>
<hr><p><b>Note - </b>Be careful to use the correct volume for the root (<tt>/</tt>) mirror.</p>
<hr>
<pre># <tt><b>fsck /dev/md/rdsk/d0</b></tt>
** /dev/md/rdsk/d0
** Currently Mounted on /
** Phase 1 - Check Blocks and Sizes
** Phase 2 - Check Pathnames
** Phase 3 - Check Connectivity
** Phase 4 - Check Reference Counts
** Phase 5 - Check Cyl groups
2274 files, 11815 used, 10302 free (158 frags, 1268 blocks,
0.7% fragmentation)</pre></li>
<li><a name="troubleshoottasks-step-34"></a><b>Remount the root (<tt>/</tt>) file system as read/write file system so that you
can edit the <tt>/etc/vfstab</tt> file.</b><pre># <tt><b>mount -o rw,remount /dev/md/dsk/d0 /</b></tt>
mount: warning: cannot lock temp file &lt;/etc/.mnt.lock></pre></li>
<li><a name="troubleshoottasks-step-35"></a><b>Run the <tt>metaroot</tt> command.</b><pre># <tt><b>metaroot d0</b></tt></pre><p>This command edits the <tt>/etc/system</tt> and <tt>/etc/vfstab</tt> files to specify that the
root (<tt>/</tt>) file system is now on volume <tt>d0</tt>.</p></li>
<li><a name="troubleshoottasks-step-36"></a><b>Verify that the <tt>/etc/vfstab</tt> file contains the correct volume entries.</b><p>The root (<tt>/</tt>) entry in the <tt>/etc/vfstab</tt> file should appear as follows so that
the entry for the file system correctly references the RAID-1 volume:</p><pre>#device           device              mount    FS      fsck   mount   mount
#to mount         to fsck             point    type    pass   at boot options
#
/dev/md/dsk/d0    /dev/md/rdsk/d0     /        ufs     1      no      -
/dev/dsk/c0t3d0s1 -                   -        swap    -      no      -
/dev/dsk/c0t3d0s6 /dev/rdsk/c0t3d0s6  /usr     ufs     2      no      -
#
/proc             -                  /proc     proc    -      no      -
swap              -                  /tmp      tmpfs   -      yes     -</pre></li>
<li><a name="troubleshoottasks-step-37"></a><b>Reboot the system.</b><p>The system returns to normal operation.</p></li></ol>

<a name="troubleshoottasks-21051"></a><h4>How to Recover From a Boot Device Failure</h4><p>If you have a root (<tt>/</tt>) mirror and your boot device fails, you
need to set up an alternate boot device.</p><p>The high-level steps in this task are as follows:</p>
<ul><li><p>Booting from the alternate root (<tt>/</tt>) submirror</p></li>
<li><p>Determining the erred state database replicas and volumes</p></li>
<li><p>Repairing the failed disk</p></li>
<li><p>Restoring state database replicas and volumes to their original state</p></li></ul>
<p>Initially, when the boot device fails, you'll see a message similar to the
following. This message might differ among various architectures.</p><pre>Rebooting with command:
Boot device: /iommu/sbus/dma@f,81000/esp@f,80000/sd@3,0   
The selected SCSI device is not responding
Can't open boot device
...</pre><p>When you see this message, note the device. Then, follow these steps:</p><ol>
<li><a name="troubleshoottasks-step-49"></a><b>Boot from another root (<tt>/</tt>) submirror.</b><p>Since only two of the six state database replicas in this example are
in error, you can still boot. If this were not the case, you
would need to delete the inaccessible state database replicas in single-user mode. This
procedure is described in <a href="tasks-state-db-replicas-11.html#troubleshoottasks-31036">How to Recover From Insufficient State Database Replicas</a>.</p><p>When you created the mirror for the root (<tt>/</tt>) file system, you should have
recorded the alternate boot device as part of that procedure. In this example,
<tt>disk2</tt> is that alternate boot device.</p><pre>ok <tt><b>boot disk2</b></tt>
SunOS Release 5.9 Version s81_51 64-bit
Copyright 1983-2001 Sun Microsystems, Inc.  All rights reserved.
Hostname: demo
...
demo console login: <tt><b>root</b></tt>
Password: &lt;<i>root-password</i>>
Dec 16 12:22:09 host1 login: ROOT LOGIN /dev/console
Last login: Wed Dec 12 10:55:16 on console
Sun Microsystems Inc.   SunOS 5.9       s81_51  May 2002
...</pre></li>
<li><a name="troubleshoottasks-step-50"></a><b>Determine how many state database replicas have failed by using the <tt>metadb</tt> command.</b><pre># <tt><b>metadb</b></tt>
       flags         first blk    block count
    M     p          unknown      unknown      /dev/dsk/c0t3d0s3
    M     p          unknown      unknown      /dev/dsk/c0t3d0s3
    a m  p  luo      16           1034         /dev/dsk/c0t2d0s3
    a    p  luo      1050         1034         /dev/dsk/c0t2d0s3
    a    p  luo      16           1034         /dev/dsk/c0t1d0s3
    a    p  luo      1050         1034         /dev/dsk/c0t1d0s3</pre><p>In this example, the system can no longer detect state database replicas on
slice <tt>/dev/dsk/c0t3d0s3</tt>, which is part of the failed disk.</p></li>
<li><a name="troubleshoottasks-step-51"></a><b>Determine that half of the root (<tt>/</tt>), <tt>swap</tt>, and <tt>/usr</tt> mirrors have failed by
using the <tt>metastat</tt> command.</b><pre># <tt><b>metastat</b></tt>
d0: Mirror
    Submirror 0: d10
      State: Needs maintenance
    Submirror 1: d20
      State: Okay
...
 
d10: Submirror of d0
    State: Needs maintenance
    Invoke: "metareplace d0 /dev/dsk/c0t3d0s0 &lt;new device>"
    Size: 47628 blocks
    Stripe 0:
    Device              Start Block  Dbase State        Hot Spare
    /dev/dsk/c0t3d0s0          0     No    Maintenance 
 
d20: Submirror of d0
    State: Okay
    Size: 47628 blocks
    Stripe 0:
    Device              Start Block  Dbase State        Hot Spare
    /dev/dsk/c0t2d0s0          0     No    Okay  
 
d1: Mirror
    Submirror 0: d11
      State: Needs maintenance
    Submirror 1: d21
      State: Okay
...
 
d11: Submirror of d1
    State: Needs maintenance
    Invoke: "metareplace d1 /dev/dsk/c0t3d0s1 &lt;new device>"
    Size: 69660 blocks
    Stripe 0:
    Device              Start Block  Dbase State        Hot Spare
    /dev/dsk/c0t3d0s1          0     No    Maintenance 
 
d21: Submirror of d1
    State: Okay
    Size: 69660 blocks
    Stripe 0:
    Device              Start Block  Dbase State        Hot Spare
    /dev/dsk/c0t2d0s1          0     No    Okay        
 
d2: Mirror
    Submirror 0: d12
      State: Needs maintenance
    Submirror 1: d22
      State: Okay
...
 
d12: Submirror of d2
    State: Needs maintenance
    Invoke: "metareplace d2 /dev/dsk/c0t3d0s6 &lt;new device>"
    Size: 286740 blocks
    Stripe 0:
    Device              Start Block  Dbase State        Hot Spare
    /dev/dsk/c0t3d0s6          0     No    Maintenance 
 
 
d22: Submirror of d2
    State: Okay
    Size: 286740 blocks
    Stripe 0:
    Device              Start Block  Dbase State        Hot Spare
    /dev/dsk/c0t2d0s6          0     No    Okay  </pre><p>In this example, the <tt>metastat</tt> command shows that the following submirrors need maintenance:</p>
<ul><li><p>Submirror <tt>d10</tt>, device <tt>c0t3d0s0</tt></p></li>
<li><p>Submirror <tt>d11</tt>, device <tt>c0t3d0s1</tt></p></li>
<li><p>Submirror <tt>d12</tt>, device <tt>c0t3d0s6</tt></p></li></ul>
</li>
<li><a name="troubleshoottasks-step-52"></a><b><a name="troubleshoottasks-ix453"></a><a name="troubleshoottasks-ix454"></a>Halt the system, replace the disk. Use the <tt>format</tt> command or the <tt>fmthard</tt>
command, to partition the disk as it was before the failure.  </b>
<hr><p><b>Tip - </b>If the new disk is identical to the existing disk (the intact
side of the mirror, in this example), quickly format the new disk. To
do so, use the <tt>prtvtoc /dev/rdsk/c0t2d0s2 | fmthard -s - /dev/rdsk/c0t3d0s2</tt> command (<tt>c0t3d0</tt>, in this example).</p>
<hr>
<pre># <tt><b>halt</b></tt>
...
Halted
...
ok <tt><b>boot</b></tt>
...
# <tt><b>format /dev/rdsk/c0t3d0s0</b></tt></pre></li>
<li><a name="troubleshoottasks-step-53"></a><b>Reboot the system.</b><p>Note that you must reboot from the other half of the root (<tt>/</tt>) mirror.
You should have recorded the alternate boot device when you created the mirror.</p><pre># <tt><b>halt</b></tt>
...
ok <tt><b>boot disk2</b></tt></pre></li>
<li><a name="troubleshoottasks-step-54"></a><b>To delete the failed state database replicas and then add them back, use
the <tt>metadb</tt> command. </b><pre># <tt><b>metadb</b></tt>
       flags         first blk    block count
    M     p          unknown      unknown      /dev/dsk/c0t3d0s3
    M     p          unknown      unknown      /dev/dsk/c0t3d0s3
    a m  p  luo      16           1034         /dev/dsk/c0t2d0s3
    a    p  luo      1050         1034         /dev/dsk/c0t2d0s3
    a    p  luo      16           1034         /dev/dsk/c0t1d0s3
    a    p  luo      1050         1034         /dev/dsk/c0t1d0s3
# <tt><b>metadb -d c0t3d0s3</b></tt>
# <tt><b>metadb -c 2 -a c0t3d0s3</b></tt>
# <tt><b>metadb</b></tt>
       flags         first blk    block count
     a m  p  luo     16           1034         /dev/dsk/c0t2d0s3
     a    p  luo     1050         1034         /dev/dsk/c0t2d0s3
     a    p  luo     16           1034         /dev/dsk/c0t1d0s3
     a    p  luo     1050         1034         /dev/dsk/c0t1d0s3
     a        u      16           1034         /dev/dsk/c0t3d0s3
     a        u      1050         1034         /dev/dsk/c0t3d0s3</pre></li>
<li><a name="troubleshoottasks-step-55"></a><b><a name="troubleshoottasks-ix456"></a>Re-enable the submirrors by using the <tt>metareplace</tt> command.</b><pre># <tt><b>metareplace -e d0 c0t3d0s0</b></tt>
Device /dev/dsk/c0t3d0s0 is enabled
 
# <tt><b>metareplace -e d1 c0t3d0s1</b></tt>
Device /dev/dsk/c0t3d0s1 is enabled
 
# <tt><b>metareplace -e d2 c0t3d0s6</b></tt>
Device /dev/dsk/c0t3d0s6 is enabled</pre><p>After some time, the resynchronization will complete. You can now return to booting
from the original device.</p></li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="extkh.html">Previous</a>
             </td>
             <td align="right">
                 <a href="tasks-state-db-replicas-11.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

