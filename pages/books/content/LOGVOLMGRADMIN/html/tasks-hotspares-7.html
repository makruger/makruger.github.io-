<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Associating a Hot Spare Pool With Volumes - Solaris Volume Manager Administration Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2006-06-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Volume Manager Administration Guide</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="tasks-hotspares-6.html">Previous</a>
             </td>
             <td align="right">
                 <a href="tasks-hotspares-8.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="roadmap-10.html">1.&nbsp;&nbsp;Getting Started With Solaris Volume Manager</a></p>
<p class="toc level1 tocsp"><a href="storage-overview-1.html">2.&nbsp;&nbsp;Storage Management Concepts</a></p>
<p class="toc level1 tocsp"><a href="basics-23185.html">3.&nbsp;&nbsp;Solaris Volume Manager Overview</a></p>
<p class="toc level1 tocsp"><a href="eoqra.html">4.&nbsp;&nbsp;Solaris Volume Manager for Sun Cluster (Overview)</a></p>
<p class="toc level1 tocsp"><a href="svm-scenario-1.html">5.&nbsp;&nbsp;Configuring and Using Solaris Volume Manager (Scenario)</a></p>
<p class="toc level1 tocsp"><a href="about-state-db-replicas-1.html">6.&nbsp;&nbsp;State Database (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-state-db-replicas-1.html">7.&nbsp;&nbsp;State Database (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-metadevices-22802.html">8.&nbsp;&nbsp;RAID-0 (Stripe and Concatenation) Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-metadevices-1.html">9.&nbsp;&nbsp;RAID-0 (Stripe and Concatenation) Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-mirrors-2.html">10.&nbsp;&nbsp;RAID-1 (Mirror) Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-mirrors-1.html">11.&nbsp;&nbsp;RAID-1 (Mirror) Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-softpart-1.html">12.&nbsp;&nbsp;Soft Partitions (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-softpart-1.html">13.&nbsp;&nbsp;Soft Partitions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-raid5-1.html">14.&nbsp;&nbsp;RAID-5 Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-raid5-1.html">15.&nbsp;&nbsp;RAID-5 Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-hotspares-40444.html">16.&nbsp;&nbsp;Hot Spare Pools (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-hotspares-1.html">17.&nbsp;&nbsp;Hot Spare Pools (Tasks)</a></p>
<p class="toc level2"><a href="tasks-hotspares-10.html">Hot Spare Pools (Task Map)</a></p>
<p class="toc level2"><a href="tasks-hotspares-6.html">Creating a Hot Spare Pool</a></p>
<p class="toc level3"><a href="tasks-hotspares-6.html#addtasks-14933">How to Create a Hot Spare Pool</a></p>
<p class="toc level3"><a href="tasks-hotspares-6.html#addtasks-42201">How to Add Additional Slices to a Hot Spare Pool</a></p>
<div class="onpage">
<p class="toc level2 tocsp"><a href="">Associating a Hot Spare Pool With Volumes</a></p>
<p class="toc level3"><a href="#addtasks-32105">How to Associate a Hot Spare Pool With a Volume</a></p>
<p class="toc level3"><a href="#addtasks-38399">How to Change the Associated Hot Spare Pool</a></p>
</div>
<p class="toc level2 tocsp"><a href="tasks-hotspares-8.html">Maintaining Hot Spare Pools</a></p>
<p class="toc level3"><a href="tasks-hotspares-8.html#maintaintasksnew-26732">How to Check the Status of Hot Spares and Hot Spare Pools</a></p>
<p class="toc level3"><a href="tasks-hotspares-8.html#maintaintasksnew-10276">How to Replace a Hot Spare in a Hot Spare Pool</a></p>
<p class="toc level3"><a href="tasks-hotspares-8.html#maintaintasksnew-10276a">How to Delete a Hot Spare From a Hot Spare Pool</a></p>
<p class="toc level3"><a href="tasks-hotspares-8.html#maintaintasksnew-23845">How to Enable a Hot Spare</a></p>
<p class="toc level1 tocsp"><a href="about-disksets-31856.html">18.&nbsp;&nbsp;Disk Sets (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-disksets-1.html">19.&nbsp;&nbsp;Disk Sets (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tasks-basics-2.html">20.&nbsp;&nbsp;Maintaining Solaris Volume Manager (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="best-practices-1.html">21.&nbsp;&nbsp;Best Practices for Solaris Volume Manager</a></p>
<p class="toc level1 tocsp"><a href="topdown-overview.html">22.&nbsp;&nbsp;Top-Down Volume Creation (Overview)</a></p>
<p class="toc level1 tocsp"><a href="topdown-tasks-chap.html">23.&nbsp;&nbsp;Top-Down Volume Creation (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tasks-snmp-1.html">24.&nbsp;&nbsp;Monitoring and Error Reporting (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="troubleshoottasks-33506.html">25.&nbsp;&nbsp;Troubleshooting Solaris Volume Manager (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="appendfiles-1.html">A.&nbsp;&nbsp;Important Solaris Volume Manager Files</a></p>
<p class="toc level1 tocsp"><a href="quick-reference-1.html">B.&nbsp;&nbsp;Solaris Volume Manager Quick Reference</a></p>
<p class="toc level1 tocsp"><a href="append-cim-wbem-1.html">C.&nbsp;&nbsp;Solaris Volume Manager CIM/WBEM API</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="tasks-hotspares-7"></a><h3>Associating a Hot Spare Pool With Volumes</h3>
<a name="indexterm-123"></a><a name="indexterm-124"></a>

<a name="addtasks-32105"></a><h4>How to Associate a Hot Spare Pool With a Volume</h4><h6>Before You Begin</h6><p>Check <a href="addtasks-1.html#addtasks-20933">Prerequisites for Creating Solaris Volume Manager Components</a>.</p><ol>
<li><a name="tasks-hotspares-step-16"></a><b>Become superuser.</b></li>
<li><a name="tasks-hotspares-step-17"></a><b>To associate a hot spare pool with a RAID-5 volume or submirror, use
one of the following methods:</b>
<ul><li><p>From the Enhanced Storage tool within the Solaris Management Console, open the Volumes and choose a volume. Choose Action&rArr;Properties. Then, choose the Hot Spare Pool panel. Finally, choose Attach HSP. For more information, see the online help.</p></li>
<li><p>Use the following form of the <tt>metaparam</tt> command:</p><pre># <tt><b>metaparam -h </tt><i>hot-spare-pool</i><tt> </tt><i>component</i><tt></b></tt></pre><dl><dt><tt>-h</tt></dt>
<dd><p>Specifies to modify the named hot spare pooll.</p></dd>
<dt><i>hot-spare-pool</i></dt>
<dd><p>Specifies the name of the hot spare pool.</p></dd>
<dt><i>component</i></dt>
<dd><p>Specifies the name of the submirror or RAID-5 volume to which the hot spare pool is being associated.</p></dd>
</dl>
<p>See the <a href="http://docs.sun.com/doc/819-2240/metaparam-1m?a=view"><tt>metaparam</tt>(1M)</a> man page for more information. </p></li></ul>
</li></ol><a name="egjwp"></a>Example&nbsp;17-4 Associating a Hot Spare Pool With Submirrors<p>In the following example, the <tt>-h</tt> option associates a hot spare pool, <tt>hsp100</tt>,
with two submirrors, <tt>d10</tt> and <tt>d11</tt>, of mirror, <tt>d0</tt>. The <tt>metastat</tt> command shows
that the hot spare pool is associated with the submirrors.</p><pre># <tt><b>metaparam -h hsp100 d10</b></tt>
# <tt><b>metaparam -h hsp100 d11</b></tt>
# <tt><b>metastat d0</b></tt>
d0: Mirror
    Submirror 0: d10
      State: Okay        
    Submirror 1: d11
      State: Okay        
...
 
d10: Submirror of d0
    State: Okay        
    Hot spare pool: hsp100
...
 
 
d11: Submirror of d0
    State: Okay        
    Hot spare pool: hsp100
...</pre><a name="egjwu"></a>Example&nbsp;17-5 Associating a Hot Spare Pool With a RAID-5 Volume<p><a name="addtasks-ix142"></a>In the following example, the <tt>-h</tt> option associates a hot spare, <tt>hsp001</tt>,
with a RAID-5 volume,<tt>d10</tt>. The <tt>metastat</tt> command shows that the hot spare pool is
associated with the RAID-5 volume. </p><pre># <tt><b>metaparam -h hsp001 d10</b></tt>
# <tt><b>metastat d10</b></tt>
d10: RAID
    State: Okay        
    Hot spare pool: hsp001
...</pre>

<a name="addtasks-38399"></a><h4>How to Change the Associated Hot Spare Pool</h4><a name="indexterm-125"></a><a name="indexterm-126"></a><h6>Before You Begin</h6><p>Check <a href="addtasks-1.html#addtasks-20933">Prerequisites for Creating Solaris Volume Manager Components</a>.</p><ol>
<li><a name="tasks-hotspares-step-19"></a><b>Become superuser.</b></li>
<li><a name="tasks-hotspares-step-20"></a><b>To change a volume's associated hot spare pool, use one of the following
methods:</b>
<ul><li><p>From the Enhanced Storage tool within the Solaris Management Console, open the Volumes node and choose the volume. Choose Action&rArr;Properties. Then choose the Hot Spare Pool panel. Detach the unwanted hot spare pool and attach the new hot spare pool by following the onscreen instructions. For more information, see the online help.</p></li>
<li><p>Use the following form of the <tt>metaparam</tt> command:</p><pre># <tt><b>metaparam -h </tt><i>hot-spare-pool-name</i><tt> </tt><i>RAID5-volume-or-submirror-name</i><tt></b></tt></pre><dl><dt><tt>-h</tt></dt>
<dd><p>Specifies to modify the hot spare pool named.</p></dd>
<dt><i>hot-spare-pool</i></dt>
<dd><p>Specifies the name of the new hot spare pool, or the special keyword <tt>none</tt> to remove hot spare pool associations.</p></dd>
<dt><i>component</i></dt>
<dd><p>Specifies the name of the submirror or RAID-5 volume to which the hot spare pool is being attached.</p></dd>
</dl>
<p>See the <a href="http://docs.sun.com/doc/819-2240/metaparam-1m?a=view"><tt>metaparam</tt>(1M)</a> man page for more information. </p></li></ul>
</li></ol><a name="egjwx"></a>Example&nbsp;17-6 Changing the Hot Spare Pool Association<p><a name="addtasks-ix149"></a>In the following example, the hot spare pool, <tt>hsp001</tt>, is initially associated with a
RAID-5 volume,<tt>d4</tt>. The hot spare pool association for the volume is then changed
to <tt>hsp002</tt>. The <tt>metastat</tt> command shows the hot spare pool association before
and after this change.</p><pre># <tt><b>metastat d4</b></tt>
d4: RAID
    State: Okay        
    Hot spare pool: hsp001
...
# <tt><b>metaparam -h hsp002 d4</b></tt>
# <tt><b>metastat d4</b></tt>
d4: RAID
    State: Okay        
    Hot spare pool: hsp002
...</pre><a name="egjwh"></a>Example&nbsp;17-7 Removing a Volume's Hot Spare Pool Association<p>In the following example, the hot spare pool, <tt>hsp001</tt>, is initially associated with
a RAID-5 volume, <tt>d4</tt>. The hot spare pool association is then changed to
<tt>none</tt>, which indicates that no hot spare pool should be associated with this
volume. The <tt>metastat</tt> command shows the hot spare pool association before and after
this change.</p><pre># <tt><b>metastat d4</b></tt>
d4: RAID
    State: Okay        
    Hot spare pool: hsp001
...
# <tt><b>metaparam -h none d4</b></tt>
# <tt><b>metastat d4</b></tt>
d4: RAID
    State: Okay        
    Hot spare pool:
...</pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="tasks-hotspares-6.html">Previous</a>
             </td>
             <td align="right">
                 <a href="tasks-hotspares-8.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

