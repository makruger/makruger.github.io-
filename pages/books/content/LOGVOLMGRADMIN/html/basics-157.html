<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Upgrading to Solaris Volume Manager - Solaris Volume Manager Administration Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2006-06-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Volume Manager Administration Guide</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="large-volume-overview.html">Previous</a>
             </td>
             <td align="right">
                 <a href="eoqra.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="roadmap-10.html">1.&nbsp;&nbsp;Getting Started With Solaris Volume Manager</a></p>
<p class="toc level1 tocsp"><a href="storage-overview-1.html">2.&nbsp;&nbsp;Storage Management Concepts</a></p>
<p class="toc level1 tocsp"><a href="basics-23185.html">3.&nbsp;&nbsp;Solaris Volume Manager Overview</a></p>
<p class="toc level2"><a href="fwabv.html">What's New in Solaris Volume Manager</a></p>
<p class="toc level2"><a href="basics-41810.html">Introduction to Solaris Volume Manager</a></p>
<p class="toc level2"><a href="exlwh.html">How to Administer Solaris Volume Manager</a></p>
<p class="toc level3"><a href="exlwh.html#tasks-basics-19">How to Access the Solaris Volume Manager Graphical User Interface (GUI)</a></p>
<p class="toc level2 tocsp"><a href="sds41installrel-156.html">Solaris Volume Manager Requirements</a></p>
<p class="toc level2"><a href="basics-42385.html">Overview of Solaris Volume Manager Components</a></p>
<p class="toc level2"><a href="basics-15.html">Solaris Volume Manager Configuration Guidelines</a></p>
<p class="toc level2"><a href="addtasks-1.html">Overview of Creating Solaris Volume Manager Components</a></p>
<p class="toc level2"><a href="large-volume-overview.html">Overview of Multi-Terabyte Support in Solaris Volume Manager</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Upgrading to Solaris Volume Manager</a></p>
</div>
<p class="toc level1 tocsp"><a href="eoqra.html">4.&nbsp;&nbsp;Solaris Volume Manager for Sun Cluster (Overview)</a></p>
<p class="toc level1 tocsp"><a href="svm-scenario-1.html">5.&nbsp;&nbsp;Configuring and Using Solaris Volume Manager (Scenario)</a></p>
<p class="toc level1 tocsp"><a href="about-state-db-replicas-1.html">6.&nbsp;&nbsp;State Database (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-state-db-replicas-1.html">7.&nbsp;&nbsp;State Database (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-metadevices-22802.html">8.&nbsp;&nbsp;RAID-0 (Stripe and Concatenation) Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-metadevices-1.html">9.&nbsp;&nbsp;RAID-0 (Stripe and Concatenation) Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-mirrors-2.html">10.&nbsp;&nbsp;RAID-1 (Mirror) Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-mirrors-1.html">11.&nbsp;&nbsp;RAID-1 (Mirror) Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-softpart-1.html">12.&nbsp;&nbsp;Soft Partitions (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-softpart-1.html">13.&nbsp;&nbsp;Soft Partitions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-raid5-1.html">14.&nbsp;&nbsp;RAID-5 Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-raid5-1.html">15.&nbsp;&nbsp;RAID-5 Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-hotspares-40444.html">16.&nbsp;&nbsp;Hot Spare Pools (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-hotspares-1.html">17.&nbsp;&nbsp;Hot Spare Pools (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-disksets-31856.html">18.&nbsp;&nbsp;Disk Sets (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-disksets-1.html">19.&nbsp;&nbsp;Disk Sets (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tasks-basics-2.html">20.&nbsp;&nbsp;Maintaining Solaris Volume Manager (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="best-practices-1.html">21.&nbsp;&nbsp;Best Practices for Solaris Volume Manager</a></p>
<p class="toc level1 tocsp"><a href="topdown-overview.html">22.&nbsp;&nbsp;Top-Down Volume Creation (Overview)</a></p>
<p class="toc level1 tocsp"><a href="topdown-tasks-chap.html">23.&nbsp;&nbsp;Top-Down Volume Creation (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tasks-snmp-1.html">24.&nbsp;&nbsp;Monitoring and Error Reporting (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="troubleshoottasks-33506.html">25.&nbsp;&nbsp;Troubleshooting Solaris Volume Manager (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="appendfiles-1.html">A.&nbsp;&nbsp;Important Solaris Volume Manager Files</a></p>
<p class="toc level1 tocsp"><a href="quick-reference-1.html">B.&nbsp;&nbsp;Solaris Volume Manager Quick Reference</a></p>
<p class="toc level1 tocsp"><a href="append-cim-wbem-1.html">C.&nbsp;&nbsp;Solaris Volume Manager CIM/WBEM API</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="basics-157"></a><h3>Upgrading to Solaris Volume Manager</h3>
<a name="indexterm-15"></a><a name="indexterm-16"></a><a name="indexterm-17"></a><p>Solaris Volume Manager fully supports seamless upgrade from Solstice DiskSuite versions 4.1, 4.2,
and 4.2.1. Make sure that all volumes are in Okay state (not &ldquo;Needs
Maintenance&rdquo; or &ldquo;Last Erred&rdquo;) and that no hot spares are in use. You
do not need to do anything else special to Solaris Volume Manager
for the upgrade to work&mdash;it is not necessary to change the configuration or break
down the root mirror. When you upgrade your system, the Solstice DiskSuite configuration
will be brought forward and will be accessible after upgrade through Solaris Volume
Manager tools. </p><p>The Solaris 10 OS introduced the Service Management Facility (SMF), which provides an
infrastructure that augments the traditional UNIX start-up scripts, <tt>init</tt> run levels, and configuration
files. When upgrading from a previous version of the Solaris OS, verify that
the SMF services associated with Solaris Volume Manager are online. If the SMF
services are not online, you might encounter problems when administering Solaris Volume Manager.</p><p>To check the SMF services associated with Solaris Volume Manager, use the
following form of the <tt>svcs</tt> command:</p><pre># <tt><b>svcs -a |egrep "md|meta"</b></tt>
disabled       12:05:45 svc:/network/rpc/mdcomm:default
disabled       12:05:45 svc:/network/rpc/metamed:default
disabled       12:05:45 svc:/network/rpc/metamh:default
online         12:05:39 svc:/system/metainit:default
online         12:05:46 svc:/network/rpc/meta:default
online         12:05:48 svc:/system/fmd:default
online         12:05:51 svc:/system/mdmonitor:default</pre><p>If the Solaris Volume Manager configuration consists of a local set only,
then these services should be online:</p><table><tr><td align="left" valign="top" scope="row"><p><tt>svc:/system/metainit</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>svc:/network/rpc/meta</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>svc:/system/mdmonitor</tt></p></td>
</tr>
</table><p>If the Solaris Volume Manager configuration includes disk sets, then these additional services
should be online:</p><table><tr><td align="left" valign="top" scope="row"><p><tt>svc:/network/rpc/metamed</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>svc:/network/rpc/metamh</tt></p></td>
</tr>
</table><p>If the Solaris Volume Manager includes multi-node disk sets, then this service should
be online in addition to the other services already mentioned:</p><table><tr><td align="left" valign="top" scope="row"><p><tt>svc:/network/rpc/mdcomm</tt></p></td>
</tr>
</table><p>For more information on SMF, see <a href="http://docs.sun.com/doc/819-2379/hbrunlevels-25516?a=view">Chapter 14, Managing Services (Overview), in <i>System Administration Guide: Basic Administration</i></a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="large-volume-overview.html">Previous</a>
             </td>
             <td align="right">
                 <a href="eoqra.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

