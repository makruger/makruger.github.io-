<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Maintaining Soft Partitions - Solaris Volume Manager Administration Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2006-06-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Volume Manager Administration Guide</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="tasks-softpart-2a.html">Previous</a>
             </td>
             <td align="right">
                 <a href="about-raid5-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="roadmap-10.html">1.&nbsp;&nbsp;Getting Started With Solaris Volume Manager</a></p>
<p class="toc level1 tocsp"><a href="storage-overview-1.html">2.&nbsp;&nbsp;Storage Management Concepts</a></p>
<p class="toc level1 tocsp"><a href="basics-23185.html">3.&nbsp;&nbsp;Solaris Volume Manager Overview</a></p>
<p class="toc level1 tocsp"><a href="eoqra.html">4.&nbsp;&nbsp;Solaris Volume Manager for Sun Cluster (Overview)</a></p>
<p class="toc level1 tocsp"><a href="svm-scenario-1.html">5.&nbsp;&nbsp;Configuring and Using Solaris Volume Manager (Scenario)</a></p>
<p class="toc level1 tocsp"><a href="about-state-db-replicas-1.html">6.&nbsp;&nbsp;State Database (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-state-db-replicas-1.html">7.&nbsp;&nbsp;State Database (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-metadevices-22802.html">8.&nbsp;&nbsp;RAID-0 (Stripe and Concatenation) Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-metadevices-1.html">9.&nbsp;&nbsp;RAID-0 (Stripe and Concatenation) Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-mirrors-2.html">10.&nbsp;&nbsp;RAID-1 (Mirror) Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-mirrors-1.html">11.&nbsp;&nbsp;RAID-1 (Mirror) Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-softpart-1.html">12.&nbsp;&nbsp;Soft Partitions (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-softpart-1.html">13.&nbsp;&nbsp;Soft Partitions (Tasks)</a></p>
<p class="toc level2"><a href="tasks-softpart-2.html">Soft Partitions (Task Map)</a></p>
<p class="toc level2"><a href="tasks-softpart-2a.html">Creating Soft Partitions</a></p>
<p class="toc level3"><a href="tasks-softpart-2a.html#tasks-softpart-3">How to Create a Soft Partition</a></p>
<div class="onpage">
<p class="toc level2 tocsp"><a href="">Maintaining Soft Partitions</a></p>
<p class="toc level3"><a href="#tasks-softpart-16">How to Check the Status of a Soft Partition</a></p>
<p class="toc level3"><a href="#tasks-softpart-19">How to Expand a Soft Partition</a></p>
<p class="toc level3"><a href="#tasks-softpart-25">How to Remove a Soft Partition</a></p>
</div>
<p class="toc level1 tocsp"><a href="about-raid5-1.html">14.&nbsp;&nbsp;RAID-5 Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-raid5-1.html">15.&nbsp;&nbsp;RAID-5 Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-hotspares-40444.html">16.&nbsp;&nbsp;Hot Spare Pools (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-hotspares-1.html">17.&nbsp;&nbsp;Hot Spare Pools (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-disksets-31856.html">18.&nbsp;&nbsp;Disk Sets (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-disksets-1.html">19.&nbsp;&nbsp;Disk Sets (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tasks-basics-2.html">20.&nbsp;&nbsp;Maintaining Solaris Volume Manager (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="best-practices-1.html">21.&nbsp;&nbsp;Best Practices for Solaris Volume Manager</a></p>
<p class="toc level1 tocsp"><a href="topdown-overview.html">22.&nbsp;&nbsp;Top-Down Volume Creation (Overview)</a></p>
<p class="toc level1 tocsp"><a href="topdown-tasks-chap.html">23.&nbsp;&nbsp;Top-Down Volume Creation (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tasks-snmp-1.html">24.&nbsp;&nbsp;Monitoring and Error Reporting (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="troubleshoottasks-33506.html">25.&nbsp;&nbsp;Troubleshooting Solaris Volume Manager (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="appendfiles-1.html">A.&nbsp;&nbsp;Important Solaris Volume Manager Files</a></p>
<p class="toc level1 tocsp"><a href="quick-reference-1.html">B.&nbsp;&nbsp;Solaris Volume Manager Quick Reference</a></p>
<p class="toc level1 tocsp"><a href="append-cim-wbem-1.html">C.&nbsp;&nbsp;Solaris Volume Manager CIM/WBEM API</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="tasks-softpart-5"></a><h3>Maintaining Soft Partitions</h3>
<a name="indexterm-100"></a><a name="indexterm-101"></a><p>Maintaining soft partitions is no different from maintaining other logical volumes.</p>

<a name="tasks-softpart-16"></a><h4>How to Check the Status of a Soft Partition</h4><h6>Before You Begin</h6><p>Read the <a href="about-softpart-8.html">Configuration Guidelines for Soft Partitions</a>.</p><ul>
<li><a name="tasks-softpart-step-35"></a><b>Use one of the following methods to check the status of a soft
partition:</b>
<ul><li><p>From the Enhanced Storage tool within the Solaris Management Console, open the Volumes node. Choose the soft partition that you want to monitor. Then, choose Action&rArr;Properties. Follow the onscreen instructions . For more information, see the online help.</p></li>
<li><p>To view the existing configuration, use the following form of the <tt>metastat</tt> command:</p><pre># <tt><b>metastat </tt><i>soft-partition</i><tt></b></tt></pre><dl><dt><i>soft-partition</i></dt>
<dd><p>Specifies the name of the partition you want to check.</p></dd>
</dl>
</li></ul>
</li></ul><a name="egjvo"></a>Example&nbsp;13-3 Checking the Status of a Soft Partition<p>In the following example, the status of soft partition <tt>d1</tt> is checked. This
soft partition includes two extents and is built on the RAID-1 volume <tt>d100</tt>.</p><pre># <tt><b>metastat d1</b></tt>
d1: soft partition 
    component:  d100 
    state: OKAY 
    size:  42674285 blocks 
             Extent              Start Block                Block Count 
             0                          10234                   40674285 
             1                       89377263                    2000000 
d100: Mirror 
    Submirror 0: d10 
    State: OKAY 
    Read option: roundrobin (default) 
    Write option: parallel (default) 
    Size: 426742857 blocks 

d10: Submirror of d100 
    State:  OKAY 
    Hot spare pool: hsp002 
    Size: 426742857 blocks 
    Stripe 0: (interlace: 32 blocks) 
        Device              Start Block  Dbase State        Hot Spare 
        c3t3d0s0                  0             No    Okay 
  </pre>

<a name="tasks-softpart-19"></a><h4>How to Expand a Soft Partition</h4><a name="indexterm-102"></a><p>When no other logical volumes have been built on a soft partition,
you can add space to the soft partition. Free space is located and
used to extend the partition.  Existing data is not moved. </p>
<hr><p><b>Note - </b>If a soft partition has been used to create another volume (for example,
if it is a component of a RAID-0 volume), the soft partition
cannot be expanded. In most cases, the same objective (providing more space for
the device that contains the soft partition) can be achieved by concatenating other volumes
onto the containing device. See <a href="tasks-metadevices-27.html">Expanding Storage Capacity</a> for more information.</p>
<hr>
<h6>Before You Begin</h6><p>Read the <a href="about-softpart-8.html">Configuration Guidelines for Soft Partitions</a>.</p><ul>
<li><a name="tasks-softpart-step-38"></a><b>Use one of the following methods to expand a soft partition:</b>
<ul><li><p>From the Enhanced Storage tool within the Solaris Management Console, open the Volumes node. Choose the soft partition that you want to expand, then choose Action&rArr;Properties. Follow the onscreen instructions. For more information, see the online help.</p></li>
<li><p>To add space to a soft partition, use the following form of the <tt>metattach</tt> command:</p><pre># <tt><b>metattach [-s diskset] </tt><i>soft-partition</i><tt> </tt><i>size</i><tt></b></tt></pre><dl><dt><i>diskset</i></dt>
<dd><p>Specifies the name of the disk set in which the soft partition exists.</p></dd>
<dt><i>soft-partition</i></dt>
<dd><p>Specifies the name of an existing soft partition.</p></dd>
<dt><i>size</i></dt>
<dd><p>Specifies the amount of storage space to add.</p></dd>
</dl>
</li></ul>
</li></ul><a name="egjvk"></a>Example&nbsp;13-4 Expanding a Soft Partition<p>The following example shows how to attach space to a soft partition. The
file system is then expanded using the <tt><b>growfs</b></tt> command while the soft partition
is online and mounted.</p><pre># <tt><b>mount /dev/md/dsk/d20 /home2</b></tt>
# <tt><b>metattach d20 10g</b></tt>
# <tt><b>growfs -M /home2 /dev/md/rdsk/d20</b></tt></pre><p>For more information on the <tt>growfs</tt> command, see <a href="tasks-metadevices-41.html">Expanding a File System Using the <tt>growfs</tt> Command</a>.</p>

<a name="tasks-softpart-25"></a><h4>How to Remove a Soft Partition</h4><a name="indexterm-103"></a><a name="indexterm-104"></a><h6>Before You Begin</h6><p>Read the <a href="about-softpart-8.html">Configuration Guidelines for Soft Partitions</a>.</p><ul>
<li><a name="tasks-softpart-step-44"></a><b>Use one of the following methods to delete a soft partition:</b>
<ul><li><p>From the Enhanced Storage tool within the Solaris Management Console, open the Volumes node. Choose the soft partition that you want to delete. Then choose Action&rArr;Properties. Follow the onscreen instructions. For more information, see the online help.</p></li>
<li><p>To delete a soft partition, use one of the following forms of the <tt>metaclear</tt> command:</p><pre># <tt><b>metaclear [-s diskset] </tt><i>component</i><tt></b></tt>
# <tt><b>metaclear [-s diskset] -r </tt><i>soft-partition</i><tt></b></tt>
# <tt><b>metaclear [-s diskset] -p </tt><i>component</i><tt></b></tt></pre><dl><dt><i>diskset</i></dt>
<dd><p>Specifies the disk set in which the soft partition exists.</p></dd>
<dt><i>soft-partition</i></dt>
<dd><p>Specifies the soft partition to delete.</p></dd>
<dt><tt>-r</tt></dt>
<dd><p>Specifies to recursively delete logical volumes, but not volumes on which others depend.</p></dd>
<dt><tt>-p</tt></dt>
<dd><p>Specifies to purge all soft partitions on the specified component, except those soft partitions that are open.</p></dd>
<dt><i>component</i></dt>
<dd><p>Specifies the component from which to clear all of the soft partitions.</p></dd>
</dl>
</li></ul>
</li></ul><a name="egjvm"></a>Example&nbsp;13-5 Removing a Soft Partition<p>This example shows how to delete all soft partitions on <tt>c1t4d2s0</tt>.</p><pre># <tt><b>metaclear -p c1t4d2s0</b></tt></pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="tasks-softpart-2a.html">Previous</a>
             </td>
             <td align="right">
                 <a href="about-raid5-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

