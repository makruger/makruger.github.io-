<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Renaming Volumes - Solaris Volume Manager Administration Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2006-06-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Volume Manager Administration Guide</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="tasks-basics-28.html">Previous</a>
             </td>
             <td align="right">
                 <a href="tasks-basics-6.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="roadmap-10.html">1.&nbsp;&nbsp;Getting Started With Solaris Volume Manager</a></p>
<p class="toc level1 tocsp"><a href="storage-overview-1.html">2.&nbsp;&nbsp;Storage Management Concepts</a></p>
<p class="toc level1 tocsp"><a href="basics-23185.html">3.&nbsp;&nbsp;Solaris Volume Manager Overview</a></p>
<p class="toc level1 tocsp"><a href="eoqra.html">4.&nbsp;&nbsp;Solaris Volume Manager for Sun Cluster (Overview)</a></p>
<p class="toc level1 tocsp"><a href="svm-scenario-1.html">5.&nbsp;&nbsp;Configuring and Using Solaris Volume Manager (Scenario)</a></p>
<p class="toc level1 tocsp"><a href="about-state-db-replicas-1.html">6.&nbsp;&nbsp;State Database (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-state-db-replicas-1.html">7.&nbsp;&nbsp;State Database (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-metadevices-22802.html">8.&nbsp;&nbsp;RAID-0 (Stripe and Concatenation) Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-metadevices-1.html">9.&nbsp;&nbsp;RAID-0 (Stripe and Concatenation) Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-mirrors-2.html">10.&nbsp;&nbsp;RAID-1 (Mirror) Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-mirrors-1.html">11.&nbsp;&nbsp;RAID-1 (Mirror) Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-softpart-1.html">12.&nbsp;&nbsp;Soft Partitions (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-softpart-1.html">13.&nbsp;&nbsp;Soft Partitions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-raid5-1.html">14.&nbsp;&nbsp;RAID-5 Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-raid5-1.html">15.&nbsp;&nbsp;RAID-5 Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-hotspares-40444.html">16.&nbsp;&nbsp;Hot Spare Pools (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-hotspares-1.html">17.&nbsp;&nbsp;Hot Spare Pools (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-disksets-31856.html">18.&nbsp;&nbsp;Disk Sets (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-disksets-1.html">19.&nbsp;&nbsp;Disk Sets (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tasks-basics-2.html">20.&nbsp;&nbsp;Maintaining Solaris Volume Manager (Tasks)</a></p>
<p class="toc level2"><a href="tasks-basics-33.html">Solaris Volume Manager Maintenance (Task Map)</a></p>
<p class="toc level2"><a href="tasks-basics-28.html">Viewing the Solaris Volume Manager Configuration</a></p>
<p class="toc level3"><a href="tasks-basics-28.html#tasks-basics-29">How to View the Solaris Volume Manager Volume Configuration</a></p>
<div class="onpage">
<p class="toc level2 tocsp"><a href="">Renaming Volumes</a></p>
<p class="toc level3"><a href="#tasks-metadevices-9">How to Rename a Volume</a></p>
</div>
<p class="toc level2 tocsp"><a href="tasks-basics-6.html">Working With Configuration Files</a></p>
<p class="toc level3"><a href="tasks-basics-6.html#tasks-basics-1">How to Create Configuration Files</a></p>
<p class="toc level3"><a href="tasks-basics-6.html#troubleshoottasks-23827">How to Initialize Solaris Volume Manager From a Configuration File</a></p>
<p class="toc level2 tocsp"><a href="troubleshoottasks-13.html">Changing Solaris Volume Manager Default Values</a></p>
<p class="toc level2"><a href="tasks-metadevices-41.html">Expanding a File System Using the <tt>growfs</tt> Command</a></p>
<p class="toc level3"><a href="tasks-metadevices-41.html#tasks-metadevices-7">How to Expand a File System</a></p>
<p class="toc level2 tocsp"><a href="replace-enable-1.html">Overview of Replacing and Enabling Components in RAID-1 and RAID-5 Volumes</a></p>
<p class="toc level1 tocsp"><a href="best-practices-1.html">21.&nbsp;&nbsp;Best Practices for Solaris Volume Manager</a></p>
<p class="toc level1 tocsp"><a href="topdown-overview.html">22.&nbsp;&nbsp;Top-Down Volume Creation (Overview)</a></p>
<p class="toc level1 tocsp"><a href="topdown-tasks-chap.html">23.&nbsp;&nbsp;Top-Down Volume Creation (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tasks-snmp-1.html">24.&nbsp;&nbsp;Monitoring and Error Reporting (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="troubleshoottasks-33506.html">25.&nbsp;&nbsp;Troubleshooting Solaris Volume Manager (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="appendfiles-1.html">A.&nbsp;&nbsp;Important Solaris Volume Manager Files</a></p>
<p class="toc level1 tocsp"><a href="quick-reference-1.html">B.&nbsp;&nbsp;Solaris Volume Manager Quick Reference</a></p>
<p class="toc level1 tocsp"><a href="append-cim-wbem-1.html">C.&nbsp;&nbsp;Solaris Volume Manager CIM/WBEM API</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="tasks-basics-5"></a><h3>Renaming Volumes</h3>


<a name="maintaintasksnew-34278"></a><h4>Background Information for Renaming Volumes</h4>
<p><a name="maintaintasksnew-ix299"></a>Solaris Volume Manager enables you to rename most types of volumes at any
time, subject to some constraints. You can use either the Enhanced Storage
tool within the Solaris Management Console or the command line (the <a href="http://docs.sun.com/doc/819-2240/metarename-1m?a=view"><tt>metarename</tt>(1M)</a> command)
to rename volumes. </p><p>Renaming volumes or switching volume names is an administrative convenience for the management
of volume names. For example, you could arrange all file system mount points
in a desired numeric range. You might rename volumes to maintain a naming
scheme for your logical volumes or to allow a transactional volume to use
the same name as the name of the underlying volume.</p>
<hr><p><b>Note - </b>Transactional volumes are no longer valid in Solaris Volume Manager. You can rename
transactional volumes to replace them.</p>
<hr>
<p>Before you rename a volume, make sure that it is not currently
in use. For a file system, make sure that it is not mounted
or being used as <tt>swap</tt>. Other applications that use the raw device,
such as a database, should have their own way of stopping access to
the data.</p><p>Specific considerations for renaming volumes include the following:</p>
<ul><li><p>You can rename any volume except the following:</p>
<ul><li><p>Soft partitions</p></li>
<li><p>Volumes on which soft partitions are directly built</p></li>
<li><p>Volumes that are being used as log devices</p></li>
<li><p>Hot spare pools </p></li></ul>
</li>
<li><p>You can rename volumes within a disk set. However, you cannot rename volumes to move them from one disk set to another disk set.</p></li></ul>


<a name="basics-23"></a><h4>Exchanging Volume Names</h4>
<a name="indexterm-195"></a><a name="indexterm-196"></a><a name="indexterm-197"></a><p>Using the <tt>metarename</tt> command with the <tt><tt>-x</tt></tt> option exchanges the names of
volumes that have a parent-child relationship. For more information, see <a href="#tasks-metadevices-9">How to Rename a Volume</a> and the
<a href="http://docs.sun.com/doc/819-2240/metarename-1m?a=view"><tt>metarename</tt>(1M)</a> man page. The name of an existing volume is exchanged with one
of its subcomponents. For example, this type of exchange can occur between a
mirror and one of its submirrors. The <tt>metarename <tt>-x</tt></tt> command can make it
easier to mirror or unmirror an existing volume.</p>
<hr><p><b>Note - </b>You must use the command line to exchange volume names. This functionality is
currently unavailable in the Solaris Volume Manager GUI. However, you can rename a
volume with either the command line or the GUI.</p>
<hr>
<p>Consider the following guidelines when you want to rename a volume:</p>
<ul><li><p>You cannot rename a volume that is currently in use. This restriction includes volumes that are used as mounted file systems, as <tt>swap</tt>, or as active storage for applications or databases. Thus, before you use the <tt>metarename</tt> command, stop all access to the volume that is being renamed. For example, unmount a mounted file system. </p></li>
<li><p>You cannot exchange volumes in a failed state.</p></li>
<li><p>You cannot exchange volumes that are using a hot spare replacement.</p></li>
<li><p>An exchange can only take place between volumes with a direct parent-child relationship. </p></li>
<li><p>You cannot exchange (or rename) a log device. The workaround is to detach the log device and attach another log device of the desired name.</p></li>
<li><p>Only volumes can be exchanged. You cannot exchange slices or hot spares. </p></li></ul>


<a name="tasks-metadevices-9"></a><h4>How to Rename a Volume</h4><h6>Before You Begin</h6><p>Check the volume name requirements (<a href="basics-42385.html#basics-34">Volume Names</a>), and <a href="#maintaintasksnew-34278">Background Information for Renaming Volumes</a>.</p><ol>
<li><a name="tasks-basics-step-12"></a><b>Unmount the file system that uses the volume.</b><pre># <tt><b>umount /</tt><i>filesystem</i><tt></b></tt></pre></li>
<li><a name="tasks-basics-step-13"></a><b>To rename the volume, use one of the following methods:</b>
<ul><li><p>From the Enhanced Storage tool within the Solaris Management Console, open the Volumes. Select the volume you want to rename. Click the right mouse on the icon. Choose the Properties option. Then, follow the onscreen instructions. For more information, see the online help.</p></li>
<li><p>Use the following form of the <tt>metarename</tt> command:</p><pre># <tt><b>metarename </tt><i>old-volume-name</i><tt> </tt><i>new-volume-name</i><tt></b></tt></pre><dl><dt><i>old-volume-name</i></dt>
<dd><p>Specifies the name of the existing volume.</p></dd>
<dt><i>new-volume-name</i></dt>
<dd><p>Specifies the new name for the existing volume.</p></dd>
</dl>
<p>See the <a href="http://docs.sun.com/doc/819-2240/metarename-1m?a=view"><tt>metarename</tt>(1M)</a> man page for more information.</p></li></ul>
</li>
<li><a name="tasks-basics-step-14"></a><b>Edit the <tt>/etc/vfstab</tt> file to refer to the new volume name, if necessary.</b></li>
<li><a name="tasks-basics-step-15"></a><b>Remount the file system.</b><pre># <tt><b>mount /</tt><i>filesystem</i><tt></b></tt></pre></li></ol><a name="egjvq"></a>Example&nbsp;20-3 Renaming a Volume Used for a File System<p>In the following example, the volume, <tt>d10</tt>, is renamed to <tt>d100</tt>.</p><pre># <tt><b>umount /home</b></tt>
# <tt><b>metarename d10 d100</b></tt>
d10: has been renamed to d100
(Edit the /etc/vfstab file so that the file system references the new volume)
# <tt><b>mount /home</b></tt></pre><p><a name="indexterm-198"></a>Because <tt>d10</tt> contains a mounted file system, the file system must be unmounted
before the volume can be renamed. If the volume is used for a
file system with an entry in the <tt>/etc/vfstab</tt> file, the entry must be
changed to reference the new volume name.</p><p>For example, if the <tt>/etc/vfstab file</tt> contains the following entry for the file system:</p><pre>/dev/md/dsk/d10 /dev/md/rdsk/d10 /docs home 2 yes -</pre><p>Change the entry to read as follows:</p><pre>/dev/md/dsk/d100 /dev/md/rdsk/d100 /docs home 2 yes -</pre><p><a name="indexterm-199"></a>Then, remount the file system.</p><p>If you have an existing mirror or transactional volume, you can use the
<tt>metarename <tt>-x</tt></tt> command to remove the mirror or transactional volume and keep data on
the underlying volume. For a transactional volume, as long as the master device
is a volume ( either a RAID-0, RAID-1, or RAID-5 volume), you can
keep data on that volume.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="tasks-basics-28.html">Previous</a>
             </td>
             <td align="right">
                 <a href="tasks-basics-6.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

