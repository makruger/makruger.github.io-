<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Creating a Hot Spare Pool - Solaris Volume Manager Administration Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2006-06-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Volume Manager Administration Guide</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="tasks-hotspares-10.html">Previous</a>
             </td>
             <td align="right">
                 <a href="tasks-hotspares-7.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="roadmap-10.html">1.&nbsp;&nbsp;Getting Started With Solaris Volume Manager</a></p>
<p class="toc level1 tocsp"><a href="storage-overview-1.html">2.&nbsp;&nbsp;Storage Management Concepts</a></p>
<p class="toc level1 tocsp"><a href="basics-23185.html">3.&nbsp;&nbsp;Solaris Volume Manager Overview</a></p>
<p class="toc level1 tocsp"><a href="eoqra.html">4.&nbsp;&nbsp;Solaris Volume Manager for Sun Cluster (Overview)</a></p>
<p class="toc level1 tocsp"><a href="svm-scenario-1.html">5.&nbsp;&nbsp;Configuring and Using Solaris Volume Manager (Scenario)</a></p>
<p class="toc level1 tocsp"><a href="about-state-db-replicas-1.html">6.&nbsp;&nbsp;State Database (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-state-db-replicas-1.html">7.&nbsp;&nbsp;State Database (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-metadevices-22802.html">8.&nbsp;&nbsp;RAID-0 (Stripe and Concatenation) Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-metadevices-1.html">9.&nbsp;&nbsp;RAID-0 (Stripe and Concatenation) Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-mirrors-2.html">10.&nbsp;&nbsp;RAID-1 (Mirror) Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-mirrors-1.html">11.&nbsp;&nbsp;RAID-1 (Mirror) Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-softpart-1.html">12.&nbsp;&nbsp;Soft Partitions (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-softpart-1.html">13.&nbsp;&nbsp;Soft Partitions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-raid5-1.html">14.&nbsp;&nbsp;RAID-5 Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-raid5-1.html">15.&nbsp;&nbsp;RAID-5 Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-hotspares-40444.html">16.&nbsp;&nbsp;Hot Spare Pools (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-hotspares-1.html">17.&nbsp;&nbsp;Hot Spare Pools (Tasks)</a></p>
<p class="toc level2"><a href="tasks-hotspares-10.html">Hot Spare Pools (Task Map)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Creating a Hot Spare Pool</a></p>
<p class="toc level3"><a href="#addtasks-14933">How to Create a Hot Spare Pool</a></p>
<p class="toc level3"><a href="#addtasks-42201">How to Add Additional Slices to a Hot Spare Pool</a></p>
</div>
<p class="toc level2 tocsp"><a href="tasks-hotspares-7.html">Associating a Hot Spare Pool With Volumes</a></p>
<p class="toc level3"><a href="tasks-hotspares-7.html#addtasks-32105">How to Associate a Hot Spare Pool With a Volume</a></p>
<p class="toc level3"><a href="tasks-hotspares-7.html#addtasks-38399">How to Change the Associated Hot Spare Pool</a></p>
<p class="toc level2 tocsp"><a href="tasks-hotspares-8.html">Maintaining Hot Spare Pools</a></p>
<p class="toc level3"><a href="tasks-hotspares-8.html#maintaintasksnew-26732">How to Check the Status of Hot Spares and Hot Spare Pools</a></p>
<p class="toc level3"><a href="tasks-hotspares-8.html#maintaintasksnew-10276">How to Replace a Hot Spare in a Hot Spare Pool</a></p>
<p class="toc level3"><a href="tasks-hotspares-8.html#maintaintasksnew-10276a">How to Delete a Hot Spare From a Hot Spare Pool</a></p>
<p class="toc level3"><a href="tasks-hotspares-8.html#maintaintasksnew-23845">How to Enable a Hot Spare</a></p>
<p class="toc level1 tocsp"><a href="about-disksets-31856.html">18.&nbsp;&nbsp;Disk Sets (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-disksets-1.html">19.&nbsp;&nbsp;Disk Sets (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tasks-basics-2.html">20.&nbsp;&nbsp;Maintaining Solaris Volume Manager (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="best-practices-1.html">21.&nbsp;&nbsp;Best Practices for Solaris Volume Manager</a></p>
<p class="toc level1 tocsp"><a href="topdown-overview.html">22.&nbsp;&nbsp;Top-Down Volume Creation (Overview)</a></p>
<p class="toc level1 tocsp"><a href="topdown-tasks-chap.html">23.&nbsp;&nbsp;Top-Down Volume Creation (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tasks-snmp-1.html">24.&nbsp;&nbsp;Monitoring and Error Reporting (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="troubleshoottasks-33506.html">25.&nbsp;&nbsp;Troubleshooting Solaris Volume Manager (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="appendfiles-1.html">A.&nbsp;&nbsp;Important Solaris Volume Manager Files</a></p>
<p class="toc level1 tocsp"><a href="quick-reference-1.html">B.&nbsp;&nbsp;Solaris Volume Manager Quick Reference</a></p>
<p class="toc level1 tocsp"><a href="append-cim-wbem-1.html">C.&nbsp;&nbsp;Solaris Volume Manager CIM/WBEM API</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="tasks-hotspares-6"></a><h3>Creating a Hot Spare Pool</h3>


<a name="addtasks-14933"></a><h4>How to Create a Hot Spare Pool</h4><a name="indexterm-119"></a><a name="indexterm-120"></a>
<hr><p><b>Caution - </b>Do not create volumes or hot spares larger than 1 Tbyte if you
expect to run the Solaris software with a 32&ndash;bit kernel or if
you expect to use a version of the Solaris OS prior to the
Solaris 9 4/03 release. See <a href="large-volume-overview.html">Overview of Multi-Terabyte Support in Solaris Volume Manager</a> for more information about multiterabyte volume support in
Solaris Volume Manager.</p>
<hr>

<hr><p><b>Caution - </b>Solaris Volume Manager does not warn you if you create a hot
spare that is not large enough. If the hot spare is not equal
to, or larger than, the volume to which it is attached, the hot
spare will not work.</p>
<hr>
<h6>Before You Begin</h6><p>Check <a href="addtasks-1.html#addtasks-20933">Prerequisites for Creating Solaris Volume Manager Components</a>.</p><ol>
<li><a name="tasks-hotspares-step-10"></a><b>Become superuser.</b></li>
<li><a name="tasks-hotspares-step-11"></a><b>To create a hot spare pool, use one of the following methods:</b>
<ul><li><p>From the Enhanced Storage tool within the Solaris Management Console, open the Hot Spare Pools node. Then, choose Action&rArr;Create Hot Spare Pool. For more information, see the online help.</p></li>
<li><p>Use the following form of the <tt>metainit</tt> command:</p><pre># <tt><b>metainit </tt><i>hot-spare-pool-name</i><tt> </tt><i>ctds-for-slice</i><tt></b></tt></pre><dl><dt><i>hot-spare-pool-name</i></dt>
<dd><p>Specifies the name of the hot spare pool.</p></dd>
<dt><i>ctds-for-slice</i></dt>
<dd><p>Specifies the slice being added to the hot spare pool. The option is repeated for each slice being added to the hot spare pool.</p></dd>
</dl>
<p>See the <a href="http://docs.sun.com/doc/819-2240/metainit-1m?a=view"><tt>metainit</tt>(1M)</a> man page for more information.</p></li></ul>

<hr><p><b>Note - </b>The <tt>metahs</tt> command can also be used to create hot spare pools. </p>
<hr>
</li></ol><a name="egjwr"></a>Example&nbsp;17-1 Creating a Hot Spare Pool<pre># <tt><b>metainit hsp001 c2t2d0s2 c3t2d0s2</b></tt>
hsp001: Hotspare pool is setup</pre><p>In this example, the hot spare pool <tt>hsp001</tt> contains two disks as the
hot spares. The system confirms that the hot spare pool has been set
up.</p><h6>See Also</h6><p>To add more hot spares to the hot spare pool, see <a href="#addtasks-42201">How to Add Additional Slices to a Hot Spare Pool</a>.
After you create the hot spare pool, you need to associate it with
a submirror or RAID-5 volume. See <a href="tasks-hotspares-7.html#addtasks-32105">How to Associate a Hot Spare Pool With a Volume</a>. </p>

<a name="addtasks-42201"></a><h4>How to Add Additional Slices to a Hot Spare Pool</h4><a name="indexterm-121"></a><a name="indexterm-122"></a><h6>Before You Begin</h6><p>Check <a href="addtasks-1.html#addtasks-20933">Prerequisites for Creating Solaris Volume Manager Components</a>.</p><ol>
<li><a name="tasks-hotspares-step-13"></a><b>Become superuser.</b></li>
<li><a name="tasks-hotspares-step-14"></a><b>To add a slice to an existing hot spare pool, use one of
the following methods:</b>
<ul><li><p>From the Enhanced Storage tool within the Solaris Management Console, open the Hot Spare Pools node. Choose the hot spare pool you want to change. Choose Action&rArr;Properties. Then, choose the Hot Spares panel. For more information, see the online help.</p></li>
<li><p>Use one of the following forms of the <tt>metahs</tt> command:</p><pre># <tt><b>metahs -a </tt><i>hot-spare-pool-name</i><tt> </tt><i>slice-to-add</i><tt></b></tt></pre><pre># <tt><b>metahs -a -all </tt><i>hot-spare-pool-name</i><tt> </tt><i>slice-to-add</i><tt></b></tt></pre><dl><dt><tt>-a</tt> <i>hot-spare-pool-name</i></dt>
<dd><p>Specifies to add the slice to the specified hot spare pool.</p></dd>
<dt><tt>-a</tt> <tt>all</tt></dt>
<dd><p>Specifies to add the slice to all hot spare pools.</p></dd>
<dt><i>slice-to-add</i></dt>
<dd><p>Specifies the slice to add to the hot spare pool.</p></dd>
</dl>
<p>See the <a href="http://docs.sun.com/doc/819-2240/metahs-1m?a=view"><tt>metahs</tt>(1M)</a> man page for more information.</p></li></ul>

<hr><p><b>Note - </b>You can add a hot spare to one or more hot spare
pools. When you add a hot spare to a hot spare pool, the
hot spare is added to the end of the list of slices in
the hot spare pool.</p>
<hr>
</li></ol><a name="egjwm"></a>Example&nbsp;17-2 Adding a Hot Spare Slice to One Hot Spare Pool<p>In this example, the <tt>-a</tt> option adds the slice <tt>/dev/dsk/c3t0d0s2</tt> to hot
spare pool <tt>hsp001</tt>. The system verifies that the slice has been added to
the hot spare pool.</p><pre># <tt><b>metahs -a hsp001 /dev/dsk/c3t0d0s2</b></tt>
hsp001: Hotspare is added</pre><a name="egjwt"></a>Example&nbsp;17-3 Adding a Hot Spare Slice to All Hot Spare Pools<p><a name="addtasks-ix145"></a><a name="addtasks-ix146"></a>In this example, the <tt>-a</tt> option used with <tt>all</tt> adds the slice
<tt>/dev/dsk/c3t0d0s2</tt> to all hot spare pools configured on the system. The system verifies
that the slice has been added to all hot spare pools.</p><pre># <tt><b>metahs -a -all /dev/dsk/c3t0d0s2</b></tt>
hsp001: Hotspare is added
hsp002: Hotspare is added
hsp003: Hotspare is added</pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="tasks-hotspares-10.html">Previous</a>
             </td>
             <td align="right">
                 <a href="tasks-hotspares-7.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

