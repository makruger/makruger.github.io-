<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Overview of RAID-5 Volumes - Solaris Volume Manager Administration Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2006-06-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Volume Manager Administration Guide</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="about-raid5-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="addtasks-25668.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="roadmap-10.html">1.&nbsp;&nbsp;Getting Started With Solaris Volume Manager</a></p>
<p class="toc level1 tocsp"><a href="storage-overview-1.html">2.&nbsp;&nbsp;Storage Management Concepts</a></p>
<p class="toc level1 tocsp"><a href="basics-23185.html">3.&nbsp;&nbsp;Solaris Volume Manager Overview</a></p>
<p class="toc level1 tocsp"><a href="eoqra.html">4.&nbsp;&nbsp;Solaris Volume Manager for Sun Cluster (Overview)</a></p>
<p class="toc level1 tocsp"><a href="svm-scenario-1.html">5.&nbsp;&nbsp;Configuring and Using Solaris Volume Manager (Scenario)</a></p>
<p class="toc level1 tocsp"><a href="about-state-db-replicas-1.html">6.&nbsp;&nbsp;State Database (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-state-db-replicas-1.html">7.&nbsp;&nbsp;State Database (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-metadevices-22802.html">8.&nbsp;&nbsp;RAID-0 (Stripe and Concatenation) Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-metadevices-1.html">9.&nbsp;&nbsp;RAID-0 (Stripe and Concatenation) Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-mirrors-2.html">10.&nbsp;&nbsp;RAID-1 (Mirror) Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-mirrors-1.html">11.&nbsp;&nbsp;RAID-1 (Mirror) Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-softpart-1.html">12.&nbsp;&nbsp;Soft Partitions (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-softpart-1.html">13.&nbsp;&nbsp;Soft Partitions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-raid5-1.html">14.&nbsp;&nbsp;RAID-5 Volumes (Overview)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Overview of RAID-5 Volumes</a></p>
</div>
<p class="toc level2"><a href="addtasks-25668.html">Background Information for Creating RAID-5 Volumes</a></p>
<p class="toc level2"><a href="egcls.html">Overview of Checking Status of RAID-5 Volumes</a></p>
<p class="toc level2"><a href="about-raid5-2.html">Overview of Replacing and Enabling Slices in RAID-5 Volumes</a></p>
<p class="toc level2"><a href="about-raid5-9a.html">Scenario--RAID-5 Volumes</a></p>
<p class="toc level1 tocsp"><a href="tasks-raid5-1.html">15.&nbsp;&nbsp;RAID-5 Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-hotspares-40444.html">16.&nbsp;&nbsp;Hot Spare Pools (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-hotspares-1.html">17.&nbsp;&nbsp;Hot Spare Pools (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-disksets-31856.html">18.&nbsp;&nbsp;Disk Sets (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-disksets-1.html">19.&nbsp;&nbsp;Disk Sets (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tasks-basics-2.html">20.&nbsp;&nbsp;Maintaining Solaris Volume Manager (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="best-practices-1.html">21.&nbsp;&nbsp;Best Practices for Solaris Volume Manager</a></p>
<p class="toc level1 tocsp"><a href="topdown-overview.html">22.&nbsp;&nbsp;Top-Down Volume Creation (Overview)</a></p>
<p class="toc level1 tocsp"><a href="topdown-tasks-chap.html">23.&nbsp;&nbsp;Top-Down Volume Creation (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tasks-snmp-1.html">24.&nbsp;&nbsp;Monitoring and Error Reporting (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="troubleshoottasks-33506.html">25.&nbsp;&nbsp;Troubleshooting Solaris Volume Manager (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="appendfiles-1.html">A.&nbsp;&nbsp;Important Solaris Volume Manager Files</a></p>
<p class="toc level1 tocsp"><a href="quick-reference-1.html">B.&nbsp;&nbsp;Solaris Volume Manager Quick Reference</a></p>
<p class="toc level1 tocsp"><a href="append-cim-wbem-1.html">C.&nbsp;&nbsp;Solaris Volume Manager CIM/WBEM API</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="about-metadevices-18901"></a><h3>Overview of RAID-5 Volumes</h3>
<a name="indexterm-105"></a><p><a name="about-metadevices-ix134"></a>RAID level 5 is similar to striping, but with parity data distributed across
all components (disk or logical volume). If a component fails, the data on
the failed component can be rebuilt from the distributed data and parity information
on the other components. In Solaris Volume Manager, a <b>RAID-5 volume</b> is a
volume that supports RAID level 5.</p><p>A RAID-5 volume uses storage capacity equivalent to one component in the volume
to store redundant information (parity). This parity information contains information about user data
stored on the remainder of the RAID-5 volume's components. That is, if you
have three components, the equivalent of one component is used for the parity
information. If you have five components, then the equivalent of one component is
used for parity information. The parity information is distributed across all components in
the volume. Similar to a mirror, a RAID-5 volume increases data availability, but
with a minimum of cost in terms of hardware and only a moderate
penalty for write operations. However, you cannot use a RAID-5 volume for the
root (<tt>/</tt>), <tt>/usr</tt>, and <tt>swap</tt> file systems, or for other existing file systems.</p><p><a name="about-metadevices-ix136"></a>Solaris Volume Manager automatically resynchronizes a RAID-5 volume when you replace an existing
component. Solaris Volume Manager also resynchronizes RAID-5 volumes during rebooting if a system
failure or panic took place.  </p>

<a name="about-metadevices-23"></a><h4>Example&mdash;RAID-5 Volume</h4>
<p><a name="about-metadevices-ix141"></a><a href="#about-metadevices-fig-24">Figure&nbsp;14-1</a> illustrates a RAID-5 volume that consists of four disks (components).</p><p>The first three data segments are written to Component A (interlace 1), Component
B (interlace 2), and Component C (interlace 3). The next data segment that
is written is a parity segment. This parity segment is written to Component
D (P 1&ndash;3). This segment consists of an exclusive OR of the first
three segments of data. The next three data segments are written to Component
A (interlace 4), Component B (interlace 5), and Component D (interlace 6). Then,
another parity segment is written to Component C (P 4&ndash;6).</p><p>This pattern of writing data and parity segments results in both data and
parity being spread across all disks in the RAID-5 volume. Each drive can
be read independently. The parity protects against a single disk failure. If each
disk in this example were 2 Gbytes, the total capacity of the
RAID-5 volume would be 6 Gbytes. One drive's worth of space is allocated
to parity.</p><a name="about-metadevices-fig-24"></a><h6>Figure&nbsp;14-1 RAID-5 Volume Example</h6><img src="figures/ch2_metadevices.fig79.gif" alt="Diagram shows an example of a RAID-5 volume. Several components are used to write data segments in combination with a parity segment ."></img>

<a name="about-metadevices-14226"></a><h4>Example&mdash;Concatenated (Expanded) RAID-5 Volume</h4>
<p><a name="about-metadevices-ix142"></a>The following figure shows an example of an RAID-5 volume that initially consisted
of four disks (components). A fifth disk has been dynamically concatenated to the
volume to expand the RAID-5 volume.</p><a name="about-metadevices-fig-25"></a><h6>Figure&nbsp;14-2 Expanded RAID-5 Volume Example</h6><img src="figures/ch2_metadevices.fig80.gif" alt="Diagram shows an additional component concatenated onto a RAID-5 volume to provide a larger volume with redundancy."></img><p><a name="about-metadevices-ix143"></a>The parity areas are allocated when the initial RAID-5 volume is created. One
component's worth of space is allocated to parity, although the actual parity blocks
are distributed across all of the original components to distribute I/O. When additional
components are concatenated to the RAID-5 volume, the additional space is devoted entirely
to data. No new parity blocks are allocated. The data on the concatenated
component is, however, included in the parity calculations, so the data is protected
against single device failures. </p><p>Concatenated RAID-5 volumes are not suited for long-term use. Use a concatenated RAID-5
volume until it is possible to reconfigure a larger RAID-5 volume. Then, copy
the data to the larger volume.</p>
<hr><p><b>Note - </b>When you add a new component to a RAID-5 volume, Solaris Volume
Manager &ldquo;zeros&rdquo; all the blocks in that component. This process ensures that the
parity protects the new data. As data is written to the additional space,
Solaris Volume Manager includes the data in the parity calculations.</p>
<hr>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="about-raid5-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="addtasks-25668.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

