<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Types of Disk Sets - Solaris Volume Manager Administration Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2006-06-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Volume Manager Administration Guide</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="about-disksets-39080.html">Previous</a>
             </td>
             <td align="right">
                 <a href="about-disksets-39970.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="roadmap-10.html">1.&nbsp;&nbsp;Getting Started With Solaris Volume Manager</a></p>
<p class="toc level1 tocsp"><a href="storage-overview-1.html">2.&nbsp;&nbsp;Storage Management Concepts</a></p>
<p class="toc level1 tocsp"><a href="basics-23185.html">3.&nbsp;&nbsp;Solaris Volume Manager Overview</a></p>
<p class="toc level1 tocsp"><a href="eoqra.html">4.&nbsp;&nbsp;Solaris Volume Manager for Sun Cluster (Overview)</a></p>
<p class="toc level1 tocsp"><a href="svm-scenario-1.html">5.&nbsp;&nbsp;Configuring and Using Solaris Volume Manager (Scenario)</a></p>
<p class="toc level1 tocsp"><a href="about-state-db-replicas-1.html">6.&nbsp;&nbsp;State Database (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-state-db-replicas-1.html">7.&nbsp;&nbsp;State Database (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-metadevices-22802.html">8.&nbsp;&nbsp;RAID-0 (Stripe and Concatenation) Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-metadevices-1.html">9.&nbsp;&nbsp;RAID-0 (Stripe and Concatenation) Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-mirrors-2.html">10.&nbsp;&nbsp;RAID-1 (Mirror) Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-mirrors-1.html">11.&nbsp;&nbsp;RAID-1 (Mirror) Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-softpart-1.html">12.&nbsp;&nbsp;Soft Partitions (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-softpart-1.html">13.&nbsp;&nbsp;Soft Partitions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-raid5-1.html">14.&nbsp;&nbsp;RAID-5 Volumes (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-raid5-1.html">15.&nbsp;&nbsp;RAID-5 Volumes (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-hotspares-40444.html">16.&nbsp;&nbsp;Hot Spare Pools (Overview)</a></p>
<p class="toc level1 tocsp"><a href="tasks-hotspares-1.html">17.&nbsp;&nbsp;Hot Spare Pools (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="about-disksets-31856.html">18.&nbsp;&nbsp;Disk Sets (Overview)</a></p>
<p class="toc level2"><a href="ftzhv.html">What's New in Disk Sets</a></p>
<p class="toc level2"><a href="about-disksets-39080.html">Introduction to Disk Sets</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Types of Disk Sets</a></p>
</div>
<p class="toc level2"><a href="about-disksets-39970.html">Solaris Volume Manager Disk Set Administration</a></p>
<p class="toc level2"><a href="egjyp.html">Guidelines for Working With Disk Sets</a></p>
<p class="toc level2"><a href="egjyq.html">Asynchronous Shared Storage in Disk Sets</a></p>
<p class="toc level2"><a href="about-disksets-2.html">Scenario--Disk Sets</a></p>
<p class="toc level1 tocsp"><a href="tasks-disksets-1.html">19.&nbsp;&nbsp;Disk Sets (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tasks-basics-2.html">20.&nbsp;&nbsp;Maintaining Solaris Volume Manager (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="best-practices-1.html">21.&nbsp;&nbsp;Best Practices for Solaris Volume Manager</a></p>
<p class="toc level1 tocsp"><a href="topdown-overview.html">22.&nbsp;&nbsp;Top-Down Volume Creation (Overview)</a></p>
<p class="toc level1 tocsp"><a href="topdown-tasks-chap.html">23.&nbsp;&nbsp;Top-Down Volume Creation (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="tasks-snmp-1.html">24.&nbsp;&nbsp;Monitoring and Error Reporting (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="troubleshoottasks-33506.html">25.&nbsp;&nbsp;Troubleshooting Solaris Volume Manager (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="appendfiles-1.html">A.&nbsp;&nbsp;Important Solaris Volume Manager Files</a></p>
<p class="toc level1 tocsp"><a href="quick-reference-1.html">B.&nbsp;&nbsp;Solaris Volume Manager Quick Reference</a></p>
<p class="toc level1 tocsp"><a href="append-cim-wbem-1.html">C.&nbsp;&nbsp;Solaris Volume Manager CIM/WBEM API</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="eqqda"></a><h3>Types of Disk Sets</h3>
<p>This section discusses the different types of disk sets available in Solaris
Volume Manager.</p>

<a name="eqbhy"></a><h4>Local Disk Sets</h4>
<p>Each host has a local disk set. The local disk set consists
of all of the disks on a host that are not in a
named disk set. A local disk set belongs exclusively to a specific host.
The local disk set contains the state database for that specific host's configuration.
Volumes and hot spare pools in the local disk set consist only of
drives from within the local disk set.</p>

<a name="eqbia"></a><h4>Named Disk Sets</h4>
<p>In addition to local disk sets, hosts can participate in named disk sets.
A named disk set is any disk set that is not in
the local disk set. You can implement the following types of named disk
sets to manage volumes, depending on the configuration of your system.</p>

<a name="eqbib"></a><h5>Shared Disk Sets</h5>
<p>A <b>shared disk set</b> can be shared by multiple hosts. Although a shared disk set
is visible from all the participating hosts, only the owner of the disk
set can access it. Each host can control a shared disk set, but
only one host can control it at a time. Additionally, shared disk sets
provide a distinct namespace within which the volume is managed.</p><p>A shared disk set supports data redundancy and data availability. If one host
fails, another host can take over the failed host's disk set (this type
of configuration is known as a <b>failover configuration</b>).</p>
<hr><p><b>Note - </b>Shared disk sets are intended, in part, for use with Sun Cluster, Solstice
HA (High Availability), or another supported third-party HA framework. Solaris Volume Manager by
itself does not provide all the functionality necessary to implement a failover configuration.</p>
<hr>
<p>Although each host can control the set of disks, only one host
can control it at a time.</p>

<a name="eqbhz"></a><h5>Autotake Disk Sets</h5>
<p>Before the autotake feature became available in the Solaris 9 4/04 release,
Solaris Volume Manager did not support the automatic mounting of file systems on
disk sets through the <tt>/etc/vfstab</tt> file. Solaris Volume Manager required the system
administrator to manually issue a disk set take command by using the <tt>metaset <tt>-s</tt> <i>setname</i> <tt>-t</tt></tt>
command before the file systems on the disk set could be accessed.</p><p>With the autotake feature, you can set a disk set to be
automatically accessed at boot time by using the <tt>metaset</tt> <tt>-s</tt> <i>setname</i> <tt>-A</tt> <tt>enable</tt>
command. The autotake feature makes it possible for you to define at boot
the mount options for a file system in the <tt>/etc/vfstab</tt> file. This feature allows
you to define the mount options in the <tt>/etc/vfstab</tt> file for file systems
on volumes in the enabled disk set.</p><p>Only single-host disk sets support the autotake feature. The autotake feature requires that
the disk set is not shared with any other systems. A disk set
that is shared cannot be set to use the autotake feature, and
the <tt>metaset</tt> <tt>-A</tt> command will fail. However, after other hosts are removed from
the disk set, it may then be set to autotake. Similarly, an autotake
disk set cannot have other hosts added to it. If the autotake feature
is disabled, additional hosts can then be added to the disk 
set. </p>
<hr><p><b>Note - </b>In a Sun Cluster environment, the autotake feature is disabled. Sun Cluster handles
the take and release of a disk set.</p>
<hr>
<p>For more information on the autotake feature see the <tt>-A</tt> option of the
<a href="http://docs.sun.com/doc/819-2240/metaset-1m?a=view"><tt>metaset</tt>(1M)</a> command.</p>

<a name="eqbid"></a><h5>Multi-Owner Disk Sets</h5>
<p>Named disk sets created in a Sun Cluster environment are called multi-owner disk
sets. Multi-owner disk sets allow multiple nodes to share the ownership of the
disk sets and to simultaneously access the shared disks. All disks and volumes
in a multi-owner disk set can be directly accessed by all the nodes
in a cluster. Each multi-owner disk set contains a list of hosts
that have been added to the disk set. Consequently, each multi-owner disk set
within a cluster configuration can have a different (and sometimes overlapping) set of hosts.</p><p>Each multi-owner disk set has a master node. The function of the
master node is to manage and update the state database replica changes. Since
there is a master node per disk set, multiple masters can exist simultaneously. There
are two ways that the master is chosen. The first way is
that a node becomes the master if it is the first node to
add a disk to the disk set. The second way is when a
master node panics and fails. The node with the lowest node id becomes
the master node.</p><p>Multi-owner disk set functionality is enabled only in a Sun Cluster environment to
manage multi-owner disk set storage. The Solaris Volume Manager for Sun Cluster
feature works with releases of Sun Cluster beginning with the Sun Cluster 10/04
software collection and with applications like Oracle Real Applications Clusters. For more information on
Solaris Volume Manager for Sun Cluster, see Chapter&nbsp;4, Solaris Volume Manager for Sun
Cluster (Overview).</p><p>Before you can configure multi-owner disk sets, the following software must be installed
in addition to the Solaris OS:</p>
<ul><li><p>Sun Cluster initial cluster framework</p></li>
<li><p>Sun Cluster Support for Oracle Real Application Clusters software</p></li>
<li><p>Oracle Real Application Clusters software</p></li></ul>

<hr><p><b>Note - </b>For information on setting up Sun Cluster and Oracle Real Application Clusters software,
see <a href="http://docs.sun.com/doc/819-2970"><i>Sun Cluster Software Installation Guide for Solaris OS</i></a> and <a href="http://docs.sun.com/doc/819-2981"><i>Sun Cluster Data Service for Oracle Real Application Clusters Guide for Solaris OS</i></a>.</p>
<hr>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="about-disksets-39080.html">Previous</a>
             </td>
             <td align="right">
                 <a href="about-disksets-39970.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

