<chapter id="netinstall-28995"><title>Installing From the Network With CD Media
(Tasks)</title><highlights><para>This chapter describes how to use CD media to set up your network and
systems to install the Solaris software from the network. Network installations
enable you to install the Solaris software from a system that has access to
the current Solaris release disc images, called an install server, to other systems on the
network. You copy the contents of the CD media to the install server's hard
disk. Then, you can install the Solaris software from the network by using
any of the Solaris installation methods. This chapter covers the following
topics:</para><itemizedlist><listitem><para><olink targetptr="netinstall-23938" remap="internal">Task Map: Installing From
the Network With CD Media</olink></para>
</listitem><listitem><para><olink targetptr="netinstallcd-94672" remap="internal">Creating a SPARC Install
Server With CD Media</olink></para>
</listitem><listitem><para><olink targetptr="netinstallcd-iaia" remap="internal">Creating an x86 Install
Server With CD Media</olink></para>
</listitem><listitem><para><olink targetptr="netinstall-35" remap="internal">Creating a Cross-Platform
Install Server for CD Media</olink></para>
</listitem><listitem><para><olink targetptr="netinstall-38" remap="internal">Creating a Boot Server on
a Subnet With a CD Image</olink></para>
</listitem><listitem><para><olink targetptr="netinstall-40778" remap="internal">Adding Systems to Be Installed
From the Network With a CD Image</olink></para>
</listitem><listitem><para><olink targetptr="eyavd" remap="internal">Installing the System From the Network
With a CD Image</olink></para>
</listitem>
</itemizedlist><note><para><emphasis role="strong">Starting
with the Solaris Express
7/06 release</emphasis>, the generic installation has been
changed so that all network services except Secure Shell are disabled or restricted
to respond to local requests only. For further information, see <olink targetdoc="solinstallpbiu" targetptr="gdpgj" remap="external"><citetitle remap="section">Planning Network Security</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Planning for Installation and Upgrade</citetitle></olink>.</para>
</note>
</highlights><sect1 id="netinstall-23938"><title>Task Map: Installing From the Network
With CD Media</title><table frame="all" pgwide="0" id="netinstall-tbl-172"><title>Task Map: Setting
Up an Install Server With CD Media</title><tgroup cols="3" colsep="1" rowsep="1"><colspec colname="colspec0" colwidth="23.60*"/><colspec colname="colspec1" colwidth="47.60*"/><colspec colname="colspec2" colwidth="27.80*"/><thead><row><entry><para>Task</para>
</entry><entry><para>Description</para>
</entry><entry><para>For Instructions</para>
</entry>
</row>
</thead><tbody><row><entry><para>(x86 only): Verify that your system supports PXE.</para>
</entry><entry><para>If you want to install an x86 based system over the network, confirm
that your machine can use PXE to boot without local boot media.</para><para>If your x86 based system does not support PXE, you must boot the system
from a local DVD or CD.</para>
</entry><entry colsep="0"><para>Check your hardware manufacturer's documentation or the system BIOS.</para>
</entry>
</row><row><entry><para>Choose an installation method.</para>
</entry><entry><para>The Solaris OS provides several methods for installation or upgrade.
Choose the installation method that is most appropriate for your environment.</para>
</entry><entry colsep="0"><para><olink targetdoc="solinstallpbiu" targetptr="planning-222" remap="external"><citetitle remap="section">Choosing a Solaris Installation Method</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Planning for Installation and Upgrade</citetitle></olink></para>
</entry>
</row><row><entry><para>Gather information about your system.</para>
</entry><entry><para>Use the checklist and complete the worksheet to collect all of the information
that you need to install or upgrade.</para>
</entry><entry colsep="0"><para><olink targetdoc="solinstallpbiu" targetptr="gatherinfo-1" remap="external">Chapter 5, <citetitle remap="chapter">Gathering Information Before Installation or Upgrade (Planning),</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Planning for Installation and Upgrade</citetitle></olink></para>
</entry>
</row><row><entry><para>(Optional) Preconfigure system information.</para>
</entry><entry><para>You can preconfigure system information to avoid being prompted for
the information during the installation or upgrade.</para>
</entry><entry><para><olink targetptr="preconsysid-15630" remap="internal">Chapter&nbsp;2, Preconfiguring
System Configuration Information (Tasks)</olink></para>
</entry>
</row><row><entry><para>Create an install server.</para>
</entry><entry><para>Use the <olink targetdoc="refman1m" targetptr="setup-install-server-1m" remap="external"><citerefentry><refentrytitle>setup_install_server</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink> command to copy the Solaris Software - 1 CD to the
install server's hard disk.</para><para>Use the <olink targetdoc="refman1m" targetptr="add-to-install-server-1m" remap="external"><citerefentry><refentrytitle>add_to_install_server</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink> command to copy additional Solaris Software CDs
and Solaris Languages CDs to the install server's hard disk.</para>
</entry><entry><itemizedlist><listitem><para><olink targetptr="netinstallcd-94672" remap="internal">Creating a SPARC Install
Server With CD Media</olink></para>
</listitem><listitem><para><olink targetptr="netinstallcd-iaiaserver" remap="internal">To Create an x86
Install Server With x86 CD Media</olink></para>
</listitem><listitem><para><olink targetptr="netinstall-35" remap="internal">Creating a Cross-Platform
Install Server for CD Media</olink></para>
</listitem>
</itemizedlist>
</entry>
</row><row><entry><para>(Optional) Create boot servers.</para>
</entry><entry><para>If you want to install systems from the network that are not on the
same subnet as the install server, you must create a boot server on the subnet
to boot the systems. Use the <command>setup_install_server</command> command
with the <option>b</option> option to set up a boot server.If you are using
Dynamic Host Configuration Protocol (DHCP), a boot server is not necessary.</para>
</entry><entry><para><olink targetptr="netinstall-38" remap="internal">Creating a Boot Server on a Subnet
With a CD Image</olink></para>
</entry>
</row><row><entry><para>Add systems to be installed from the network.</para>
</entry><entry><para>Use the <command>add_install_client</command> command to set up each
system that you want to install from the network. Each system that you want
to install needs to find the install server, the boot server if required,
and configuration information on the network.</para>
</entry><entry><para><olink targetptr="netinstall-40778" remap="internal">Adding Systems to Be Installed From
the Network With a CD Image</olink></para>
</entry>
</row><row><entry><para>(Optional)
Configure the DHCP server.</para>
</entry><entry><para>If you want to use DHCP to provide system configuration and installation
parameters, configure the DHCP server, then create the appropriate options
and macros for your installation.</para><note><para>If you want to install an x86 based system from the network with
PXE, you must configure a DHCP server.</para>
</note>
</entry><entry><para><olink targetdoc="sysadv3" targetptr="chap2-26" remap="external">Chapter 15, <citetitle remap="chapter">Planning for DHCP Service (Tasks),</citetitle> in <citetitle remap="book">System Administration Guide: IP Services</citetitle></olink></para><para><olink targetptr="dhcp-admin-38" remap="internal">Preconfiguring System Configuration
Information With the DHCP Service (Tasks)</olink></para>
</entry>
</row><row><entry><para>Install the system over the network.</para>
</entry><entry><para>Begin the installation by booting the system from the network.</para>
</entry><entry><para><olink targetptr="eyavd" remap="internal">Installing the System From the Network With
a CD Image</olink></para>
</entry>
</row>
</tbody>
</tgroup>
</table>
</sect1><sect1 id="netinstallcd-94672" arch="sparc"><title>Creating a SPARC Install
Server With CD Media</title><para>The install server contains the installation image needed to install
systems from the network. You must create an install server to install the
Solaris software on a system from the network. You do not always need to set
up a separate boot server.</para><itemizedlist><listitem><para>If you are using DHCP to set installation parameters or your
install server and client are on the same subnet, you do not need a separate
boot server.</para>
</listitem><listitem><para>If your install server and your client are
not on the same subnet and you are not using DHCP, you must create separate
boot servers for each subnet. You could create an install server for each
subnet; however, install servers require more disk space.</para>
</listitem>
</itemizedlist><task id="netinstall-50" arch="sparc"><title>To Create a SPARC Install Server
With SPARC or x86 CD Media</title><tasksummary><para>Use this procedure to create a SPARC install server with SPARC or x86
CD media.</para><note><para>This procedure assumes
that the system is running the Volume Manager. If you are not using the Volume
Manager to manage media, refer to <olink targetdoc="sagdfs" remap="external"><citetitle remap="book">System Administration Guide: Devices and File Systems</citetitle></olink>.</para>
</note>
</tasksummary><procedure><step id="netinstall-step-52"><para>On the system that is to become the install
server, become superuser or assume an equivalent role.</para><para>The system
must include a CD-ROM drive and be part of the site's network and naming service.
If you use a naming service, the system must already be in a naming service,
such as NIS, NIS+, DNS, or LDAP. If you do not use a naming service, you must
distribute information about this system by following your site's policies.</para>
</step><step id="netinstall-step-53"><para>Insert the Solaris Software - 1 CD in
the system's drive.</para>
</step><step id="netinstall-step-102"><para>Create a directory for the CD image.</para><screen># <userinput>mkdir -p <replaceable>install_dir_path</replaceable></userinput></screen><variablelist><varlistentry><term><replaceable>install_dir_path</replaceable></term><listitem><para>Specifies the directory where the CD image is to be copied</para>
</listitem>
</varlistentry>
</variablelist>
</step><step id="netinstall-step-55"><para>Change to the <filename>Tools</filename> directory
on the mounted disc.</para><stepalternatives><step><para>If you are creating an installation image from the Solaris Software for SPARC Platforms - 1 CD,
type the following command.</para><screen># <userinput>cd /cdrom/cdrom0/s0/Solaris_11/Tools</userinput></screen>
</step><step><para>If you are creating an installation image from the Solaris Software for x86 Platforms - 1 CD,
type the following command.</para><screen># <userinput>cd /cdrom/cdrom0/Solaris_11/Tools</userinput></screen>
</step>
</stepalternatives>
</step><step id="netinstall-step-56"><para>Copy the image in the drive to the install
server's hard disk.</para><screen># <userinput>./setup_install_server <replaceable>install_dir_path</replaceable></userinput></screen><variablelist><varlistentry><term><replaceable>install_dir_path</replaceable></term><listitem><para>Specifies the directory where the CD image is to be copied</para>
</listitem>
</varlistentry>
</variablelist><note><para>The <command>setup_install_server</command> command indicates
whether you have enough disk space available for the Solaris Software disc
images. To determine available disk space, use the <command>df -kl</command> command.</para>
</note>
</step><step id="netinstall-step-200"><para>Decide if you need to make the install
server available for mounting.</para><stepalternatives><step><para>If the install server is on the same subnet as the system to be
installed or you are using DHCP, you do not need to create a boot server.
Proceed to <olink targetptr="netinstall-step-6601" remap="internal">Step&nbsp;7</olink>.</para>
</step><step><para>If the install server is not on the same subnet as the system
to be installed and you are not using DHCP, complete the following steps.</para><substeps><step id="netinstallcd-step-151"><para>Verify that the path to the install
server's image is shared appropriately.</para><para>Use either
the <command>share</command> command or the <command>sharemgr</command> utility
to complete the verification.</para><screen># <userinput>share | grep</userinput> <replaceable>install_dir_path</replaceable></screen><screen># <userinput># sharemgr show</userinput> <option>v</option> <userinput>| grep</userinput> <replaceable>install_dir_path</replaceable></screen><note><para><emphasis role="strong">Starting with the 5/07 Developer release,</emphasis> the <command>sharemgr</command> utility introduces the concept of share groups. See <olink targetdoc="sysadv4" targetptr="gcrvu" remap="external"><citetitle remap="section">sharemgr Command</citetitle> in <citetitle remap="book">System Administration Guide: Network Services</citetitle></olink>.</para>
</note><variablelist termlength="medium"><varlistentry><term><replaceable>install_dir_path</replaceable></term><listitem><para>Specifies the path to the installation image where the CD
image was copied</para>
</listitem>
</varlistentry>
</variablelist><stepalternatives><step><para>If the path to the install server's directory is displayed and
anon=0 is displayed in the options, proceed to <olink type="auto-generated" targetptr="netinstall-step-6601" remap="internal">Step&nbsp;7</olink>. </para>
</step><step><para>If the path to the install server's directory is not displayed
or you do not have anon=0 in the options, continue.</para>
</step>
</stepalternatives>
</step><step id="netinstall-step-300"><para>Make the install server available to the boot server by using
either the <command>share</command> command or the <command>sharemgr</command> utility.</para><itemizedlist><listitem><para>Using the <command>share</command> command,  add this entry
to the <filename>/etc/dfs/dfstab</filename> file.</para><screen>share -F nfs -o ro,anon=0 -d "install server directory" <replaceable>install_dir_path</replaceable></screen>
</listitem><listitem><para>Using the <command>sharemgr</command> utility, enter the following
commands:</para><para><literal>#</literal> <userinput>sharemgr add-share</userinput> <option>d</option> &ldquo;install server directory&rdquo; <option>s</option> <replaceable>install_dir_path default</replaceable></para><para><literal>#</literal> <userinput>sharemgr set</userinput> <option>P</option> <replaceable>nfs</replaceable> <option>S</option> <replaceable>sys</replaceable> <option>p</option> <userinput>ro="*"</userinput> <option>s</option> <replaceable>install_dir_path default</replaceable></para><para><literal>#</literal> <userinput>sharemgr set</userinput> <option>P</option> <replaceable>nfs</replaceable> <option>p</option> <userinput>anon=0</userinput> <option>s</option> <replaceable>install_dir_path default</replaceable></para>
</listitem>
</itemizedlist>
</step><step><para>Verify that the <command>nfsd</command> daemon is running.</para><stepalternatives><step><para>If the install server is running the current Solaris release, or compatible
version, type the following command.</para><screen># <userinput>svcs -l svc:/network/nfs/server:default</userinput></screen><para>If the <command>nfsd</command> daemon is online, continue to <olink targetptr="netinstall-step-7896" remap="internal">Step&nbsp;d</olink>. If the  <command>nfsd</command> daemon
is not online, start it.</para><screen># <userinput>svcadm enable svc:/network/nfs/server</userinput></screen>
</step><step><para>If the install server is running the Solaris 9 OS, or compatible
version, type the following command.</para><screen># <userinput>ps -ef | grep nfsd</userinput></screen><para>If the <command>nfsd</command> daemon is running, continue to <olink targetptr="netinstall-step-7896" remap="internal">Step&nbsp;d</olink>. If the  <command>nfsd</command> daemon
is not running, start it.</para><screen># <userinput>/etc/init.d/nfs.server start</userinput></screen>
</step>
</stepalternatives>
</step><step id="netinstall-step-7896"><para>If you are using the <command>share</command> command instead of the <command>sharemgr</command> utility, share
the install server.</para><screen># <userinput>shareall</userinput></screen>
</step>
</substeps>
</step>
</stepalternatives>
</step><step id="netinstall-step-6601"><para>Change directories to root (<filename>/</filename>).</para><screen># <userinput>cd /</userinput></screen>
</step><step id="netinstall-step-57"><para>Eject the Solaris Software - 1 CD.</para>
</step><step id="netinstall-step-58"><para>Insert the Solaris Software - 2 CD in
the system's CD-ROM drive.</para>
</step><step id="netinstall-step-59"><para>Change to the <filename>Tools</filename> directory
on the mounted CD.</para><substeps><step><para>If you are creating an installation image from the Solaris Software for SPARC Platforms - 1 CD,
type the following command.</para><screen># <userinput>cd /cdrom/cdrom0/s0/Solaris_11/Tools</userinput></screen>
</step><step><para>If you are creating an installation image from the Solaris Software for x86 Platforms - 1 CD,
type the following command.</para><screen># <userinput>cd /cdrom/cdrom0/Solaris_11/Tools</userinput></screen>
</step>
</substeps>
</step><step id="netinstall-step-60"><para>Copy the CD in the CD-ROM drive to the
install server's hard disk.</para><screen># <userinput>./add_to_install_server</userinput> <replaceable>install_dir_path</replaceable></screen><variablelist><varlistentry><term><replaceable>install_dir_path</replaceable></term><listitem><para>Specifies the directory where the CD image is to be copied</para>
</listitem>
</varlistentry>
</variablelist>
</step><step id="netinstall-step-600"><para>Change directories to root (<filename>/</filename>).</para><screen># <userinput>cd /</userinput></screen>
</step><step id="netinstall-step-61"><para>Eject the Solaris Software - 2 CD.</para>
</step><step><para>Repeat <olink targetptr="netinstall-step-58" remap="internal">Step&nbsp;9</olink> through <olink type="auto-generated" targetptr="netinstall-step-61" remap="internal">Step&nbsp;13</olink> for
each Solaris Software CD that you want to install.</para>
</step><step id="netinstall-step-62"><para>Insert the first Solaris Languages CD in
the system's CD-ROM drive.</para>
</step><step id="netinstall-step-63"><para>Change to the <filename>Tools</filename> directory
on the mounted CD.</para><itemizedlist><listitem><para>For SPARC CD media, type:</para><screen># <userinput>cd /cdrom/cdrom0/s0/Solaris_11/Tools</userinput></screen>
</listitem><listitem><para>For x86 CD media, type:</para><screen># <userinput>cd /cdrom/cdrom0/Solaris_11/Tools</userinput></screen>
</listitem>
</itemizedlist>
</step><step id="netinstall-step-64"><para>Copy the CD in the CD-ROM drive to the
install server's hard disk.</para><screen># <userinput>./add_to_install_server</userinput> <replaceable>install_dir_path</replaceable></screen><variablelist><varlistentry><term><replaceable>install_dir_path</replaceable></term><listitem><para>Specifies the directory where the CD image is to be copied</para>
</listitem>
</varlistentry>
</variablelist>
</step><step><para>Eject CD.</para>
</step><step><para>Repeat Steps 15&ndash;18 for the second Solaris Languages CD.</para>
</step><step id="netinstall-step-661"><para>Change directories to root (<filename>/</filename>).</para><screen># <userinput>cd /</userinput></screen>
</step><step performance="optional" id="netinstall-step-69"><para>Patch the files
that are located in the miniroot on the net install image that was created
by <command>setup_install_server</command>. Patching a file might be necessary
if a boot image has problems.</para><stepalternatives><step><para>For SPARC based installation images, use the <command>patchadd
-C</command> command to patch the files that are located in the miniroot.</para><screen># <userinput>patchadd -C <replaceable>install_dir_path</replaceable> <replaceable>path-to-patch</replaceable>/<replaceable>patch-id</replaceable></userinput></screen><variablelist><varlistentry><term><replaceable>install_dir_path</replaceable></term><listitem><para>Specifies the path to the network installation miniroot.</para>
</listitem>
</varlistentry><varlistentry><term><replaceable>path-to-patch</replaceable></term><listitem><para>Specifies the path to the patch that you want to add, for
example, <filename>/var/sadm/spool</filename>.</para>
</listitem>
</varlistentry><varlistentry><term><replaceable>patch-id</replaceable></term><listitem><para>Specifies the patch ID that you want to apply.</para>
</listitem>
</varlistentry>
</variablelist><caution><para>Don't use the <command>patchadd -C</command> command unless
you have read the <filename>Patch README</filename> instructions or have contacted
your local Sun support office.</para>
</caution>
</step><step><para>For x86 based installation images, follow these steps to patch
an x86 network installation miniroot.</para><note><para>These steps assume that you have a system on your network that
is running the current Solaris release for x86 systems, and that system is accessible over
the network.</para>
</note><substeps><step><para>On a system that is running the current Solaris release for x86 systems, log
in as superuser or assume an equivalent role.</para>
</step><step><para>Change to the <filename>Tools</filename> directory of the installation
image you created in <olink targetptr="netinstall-step-55" remap="internal">Step&nbsp;4</olink>.</para><screen># <userinput>cd <replaceable>install-server-path</replaceable>/<replaceable>install-dir-path</replaceable>/Solaris_11/Tools</userinput></screen><variablelist><varlistentry><term><replaceable>install-server-path</replaceable></term><listitem><para>Specifies the path to the install server system on your network,
for example, <filename>/net/installserver-1</filename>.</para>
</listitem>
</varlistentry>
</variablelist>
</step><step><para>Create a new installation image, and place that image on the system
that is running the current Solaris release for x86 systems.</para><screen># <userinput>./setup_install_server <replaceable>remote_install_dir_path</replaceable></userinput></screen><variablelist><varlistentry><term><replaceable>remote_install_dir_path</replaceable></term><listitem><para>Specifies the path on the current Solaris release for x86 systems in which
to create the new installation image.</para>
</listitem>
</varlistentry>
</variablelist><para>This command creates a new installation image on the current Solaris release for x86
systems. In order to patch this image, you must temporarily place this image
on a system that is running the current Solaris release for x86 systems.</para>
</step><step><para>On the current Solaris release for x86 systems, unpack the network installation
boot archive.</para><screen># <userinput>/boot/solaris/bin/root_archive unpackmedia <replaceable>remote_install_dir_path</replaceable> \
  <replaceable>destination_dir</replaceable></userinput></screen><variablelist><varlistentry><term><replaceable>remote_install_dir_path</replaceable></term><listitem><para>Specifies the path to the x86 network installation image on
the current Solaris release for x86 systems.</para>
</listitem>
</varlistentry><varlistentry><term><replaceable>destination_dir</replaceable></term><listitem><para>Specifies the path to the directory to contain the unpacked
boot archive.</para>
</listitem>
</varlistentry>
</variablelist>
</step><step><para>On the current Solaris release for x86 systems, patch the unpacked boot archive.</para><screen># <userinput>patchadd -C <replaceable>destination_dir</replaceable> <replaceable>path-to-patch</replaceable>/<replaceable>patch-id</replaceable></userinput></screen><variablelist><varlistentry><term><replaceable>path-to-patch</replaceable></term><listitem><para>Specifies the path to the patch that you want to add, for
example, <filename>/var/sadm/spool</filename>.</para>
</listitem>
</varlistentry><varlistentry><term><replaceable>patch-id</replaceable></term><listitem><para>Specifies the patch ID that you want to apply.</para><para>You can specify multiple patches with the <command>patchadd -M</command> option.
For more information, see <olink targetdoc="refman1m" targetptr="patchadd-1m" remap="external"><citerefentry><refentrytitle>patchadd</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink>.</para>
</listitem>
</varlistentry>
</variablelist><caution><para>Don't use the <command>patchadd -C</command> command unless
you have read the <filename>Patch README</filename> instructions or have contacted
your local Sun support office.</para>
</caution>
</step><step><para>On the current Solaris release for x86 systems, pack the x86 boot archive.</para><screen># <userinput>/boot/solaris/bin/root_archive packmedia <replaceable>destination_dir</replaceable> \
  <replaceable>remote_install_dir_path</replaceable></userinput></screen>
</step><step><para>Copy the patched miniroot to the installation image on the install
server.</para><screen># <userinput>cp <replaceable>remote_install_dir_path</replaceable>/boot/x86.miniroot \
  <replaceable>install-server-path</replaceable>/<replaceable>install_dir_path</replaceable>/boot/x86.miniroot</userinput></screen>
</step>
</substeps>
</step>
</stepalternatives>
</step><step id="netinstallcd-step-1000"><para>Decide if you need to create a boot
server.</para><stepalternatives><step><para>If you are using DHCP or the install server is on the same subnet
as the system to be installed, you do not need to create a boot server. Proceed
to <olink targetptr="netinstall-40778" remap="internal">Adding Systems to Be Installed From
the Network With a CD Image</olink>.</para>
</step><step><para>If you are <emphasis>not</emphasis> using DHCP and the install
server and the client are on a different subnet, you must create a boot server.
Proceed to <olink targetptr="netinstall-38" remap="internal">Creating a Boot Server on a Subnet
With a CD Image</olink>.</para>
</step>
</stepalternatives>
</step>
</procedure><example id="netinstall-ex-71" arch="sparc"><title>Creating a SPARC Install Server With SPARC CD Media</title><para>The following example illustrates
how to create an install server by copying the following CDs to the install
server's <filename>/export/home/cdsparc</filename> directory. This example
assumes that the install server is running the current Solaris release.</para><itemizedlist><listitem><para>Solaris Software for SPARC Platforms CDs</para>
</listitem><listitem><para>Solaris Languages for SPARC Platforms CDs</para>
</listitem>
</itemizedlist><para>Insert the Solaris Software for SPARC Platforms - 1 CD in the system's CD-ROM drive.</para><screen># <userinput>mkdir -p /export/home/cdsparc</userinput>
# <userinput>cd /cdrom/cdrom0/s0/Solaris_11/Tools</userinput>
# <userinput>./setup_install_server /export/home/cdsparc</userinput></screen><itemizedlist><listitem><para>If you have a separate boot server, add these steps.</para><orderedlist><listitem><para>Make the
install server available to the boot server by using either
the <command>share</command> command or the <command>sharemgr</command> utility.</para><itemizedlist><listitem><para>Using the <command>share</command> command,  add this entry
to the <filename>/etc/dfs/dfstab</filename> file.</para><screen remap="wide">share -F nfs -o ro,anon=0 -d "install server directory" /export/home/cdsparc</screen>
</listitem><listitem><para>Using the <command>sharemgr</command> utility, enter the following
commands:</para><para><literal>#</literal> <userinput>sharemgr add-share</userinput> <option>d</option> &ldquo;install server directory&rdquo; <option>s</option> <userinput>/export/home/cdsparc
default</userinput></para><para><literal>#</literal> <userinput>sharemgr set</userinput> <option>P</option> <replaceable>nfs</replaceable> <option>S</option> <replaceable>sys</replaceable> <option>p</option> <userinput>ro="*"</userinput> <option>s</option> <userinput>/export/home/cdsparc
default</userinput></para><para><literal>#</literal> <userinput>sharemgr set</userinput> <option>P</option> <replaceable>nfs</replaceable> <option>p</option> <userinput>anon=0</userinput> <option>s</option> <userinput>/export/home/cdsparc default</userinput></para>
</listitem>
</itemizedlist>
</listitem><listitem><para>Check if the <command>nfsd</command> daemon is online. If
the <command>nfsd</command> daemon is not online, start it and share it.</para><para>If you are
using <command>sharemgr</command> utility, omit <command>shareall</command>.</para><screen># <userinput>svcs -l svc:/network/nfs/server:default</userinput>
# <userinput>svcadm enable svc:/network/nfs/server</userinput>
# <userinput>shareall</userinput> </screen>
</listitem><listitem><para>Continue with the following steps.</para>
</listitem>
</orderedlist>
</listitem><listitem><para>If you do not need a boot server or have completed the steps
for a separate boot server, continue.</para>
</listitem>
</itemizedlist><screen># <userinput>cd /</userinput></screen><para>Eject the Solaris Software for SPARC Platforms - 1 CD. Insert the Solaris Software for SPARC Platforms - 2 CD in
the CD-ROM drive.</para><screen># <userinput>cd /cdrom/cdrom0/s0/Solaris_11/Tools</userinput>
# <userinput>./add_to_install_server /export/home/cdsparc</userinput>
# <userinput>cd /</userinput></screen><para>Repeat the previous commands for each Solaris Software CD that you
want to install.</para><para>Insert the first Solaris Languages for SPARC Platforms CD in the
CD-ROM drive.</para><screen># <userinput>cd /cdrom/cdrom0/s0/Solaris_11/Tools</userinput>
# <userinput>./add_to_install_server /export/home/cdsparc</userinput></screen><para>Eject CD.</para><para>Repeat the previous commands for each Solaris Languages for SPARC Platforms CD.</para>
</example><example id="gazsa"><title>Creating a SPARC Install Server With x86 CD Media</title><para>Use the following example to create
an x86 network installation image on a SPARC based install server. The following
example illustrates how to create a cross platform install server by copying
the Solaris Software for x86 Platforms CDs to the install server's <filename>/export/home/cdx86</filename> directory. This example assumes that the install server is running
the current Solaris release .</para><itemizedlist><listitem><para>Solaris Software for x86 Platforms CDs</para>
</listitem><listitem><para>Solaris Languages for x86 Platforms CDs</para>
</listitem>
</itemizedlist><para>Insert the Solaris Software for x86 Platforms - 1 CD in the system's CD-ROM drive.</para><screen># <userinput>mkdir -p /export/home/cdsparc</userinput>
# <userinput>cd /cdrom/cdrom0/Solaris_11/Tools</userinput>
# <userinput>./setup_install_server /export/home/cdsparc</userinput></screen><itemizedlist><listitem><para>If you have a separate boot server, add these steps.</para><orderedlist><listitem><para>Make the
install server available to the boot server by using either
the <command>share</command> command or the <command>sharemgr</command> utility.</para><itemizedlist><listitem><para>Using the <command>share</command> command,  add this entry
to the <filename>/etc/dfs/dfstab</filename> file.</para><screen remap="wide">share -F nfs -o ro,anon=0 -d "install server directory" /export/home/cdsparc</screen>
</listitem><listitem><para>Using the <command>sharemgr</command> utility, enter the following
commands:</para><para><literal>#</literal> <userinput>sharemgr add-share</userinput> <option>d</option> &ldquo;install server directory&rdquo; <option>s</option> <userinput>/export/home/cdsparc
default</userinput></para><para><literal>#</literal> <userinput>sharemgr set</userinput> <option>P</option> <replaceable>nfs</replaceable> <option>S</option> <replaceable>sys</replaceable> <option>p</option> <userinput>ro="*"</userinput> <option>s</option> <userinput>/export/home/cdsparc
default</userinput></para><para><literal>#</literal> <userinput>sharemgr set</userinput> <option>P</option> <replaceable>nfs</replaceable> <option>p</option> <userinput>anon=0</userinput> <option>s</option> <userinput>/export/home/cdsparc default</userinput></para>
</listitem>
</itemizedlist>
</listitem><listitem><para>Check if the <command>nfsd</command> daemon is online. If
the <command>nfsd</command> daemon is not online, start it and share it.</para><para>If you are
using <command>sharemgr</command> utility, omit <command>shareall</command>.</para><screen># <userinput>svcs -l svc:/network/nfs/server:default</userinput>
# <userinput>svcadm enable svc:/network/nfs/server</userinput>
# <userinput>shareall</userinput> </screen>
</listitem><listitem><para>Continue with the following steps.</para>
</listitem>
</orderedlist>
</listitem><listitem><para>If you do not need a boot server or have completed the steps
for a separate boot server, continue.</para>
</listitem>
</itemizedlist><screen># <userinput>cd /</userinput></screen><para>Eject the Solaris Software for x86 Platforms - 1 CD. Insert the Solaris Software for x86 Platforms - 2 CD in
the CD-ROM drive.</para><screen># <userinput>cd /cdrom/cdrom0/Solaris_11/Tools</userinput>
# <userinput>./add_to_install_server /export/home/cdsparc</userinput>
# <userinput>cd /</userinput></screen><para>Repeat the previous commands for each Solaris Software for x86 Platforms CD that
you want to install.</para><para>Insert the first Solaris Languages for x86 Platforms CD in the
CD-ROM drive.</para><screen># <userinput>cd /cdrom/cdrom0/Tools</userinput>
# <userinput>./add_to_install_server /export/home/cdsparc</userinput></screen><para>Eject CD.</para><para>Repeat the previous commands for each Solaris Languages for x86 Platforms CD.</para>
</example><taskrelated-custom><title>Continuing the Installation</title><para>After you set up the install server, you must add the client as an installation
client. For information about how to add client systems to install over the
network, see <olink targetptr="netinstall-40778" remap="internal">Adding Systems to Be Installed
From the Network With a CD Image</olink>.</para><para>If you are not using DHCP, and your client system is on a different
subnet than your install server, you must create a boot server. For more information,
see <olink targetptr="netinstall-38" remap="internal">Creating a Boot Server on a Subnet With
a CD Image</olink>.</para>
</taskrelated-custom><taskrelated role="see-also"><para>For additional information about the <command>setup_install_server</command> and
the <command>add_to_install_server</command> commands, see <olink targetdoc="refman1m" targetptr="install-scripts-1m" remap="external"><citerefentry><refentrytitle>install_scripts</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink>.</para>
</taskrelated>
</task>
</sect1><sect1 id="netinstallcd-iaia" arch="x86"><title>Creating an x86 Install Server
With CD Media</title><para>The install server contains the installation image needed to install
systems from the network. You must create an install server to install the
Solaris software on a system from the network. You do not always need to set
up a separate boot server.</para><itemizedlist><listitem><para>If you are using DHCP to set installation parameters or your
install server and client are on the same subnet, you do not need a separate
boot server.</para>
</listitem><listitem><para>If your install server and your client are
not on the same subnet and you are not using DHCP, you must create separate
boot servers for each subnet. You could create an install server for each
subnet; however, install servers require more disk space.</para>
</listitem>
</itemizedlist><task id="netinstallcd-iaiaserver" arch="x86"><title>To Create an x86 Install
Server With x86 CD Media</title><tasksummary><para>This procedure creates an x86 install server with x86 CD media.</para><para>If you want to create a SPARC network installation image, see <olink targetptr="netinstall-50" remap="internal">To Create a SPARC Install Server With SPARC or x86
CD Media</olink>.</para><note><para>This procedure assumes
that the system is running the Volume Manager. If you are not using the Volume
Manager to manage media, refer to <olink targetdoc="sagdfs" remap="external"><citetitle remap="book">System Administration Guide: Devices and File Systems</citetitle></olink>.</para>
</note>
</tasksummary><procedure><step id="netinstallcd-step-iacd1"><para>On the system that is to become the
install server, become superuser or assume an equivalent role.</para><para>The
system must include a CD-ROM drive and be part of the site's network and naming
service. If you use a naming service, the system must already be in a naming
service, such as NIS, NIS+, DNS, or LDAP. If you do not use a naming service,
you must distribute information about this system by following your site's
policies.</para>
</step><step id="netinstallcd-step-iacd2"><para>Insert the Solaris Software - 1 CD
in the system's drive.</para>
</step><step id="netinstallcd-step-iacd3"><para>Create a directory for the CD image.</para><screen># <userinput>mkdir -p <replaceable>install_dir_path</replaceable></userinput></screen><variablelist><varlistentry><term><replaceable>install_dir_path</replaceable></term><listitem><para>Specifies the directory where the CD image is to be copied</para>
</listitem>
</varlistentry>
</variablelist>
</step><step id="netinstallcd-step-iacd4"><para>Change to the <filename>Tools</filename> directory
on the mounted disc.</para><screen># <userinput>cd /cdrom/cdrom0/Solaris_11/Tools</userinput></screen><para>In the previous example, <userinput>cdrom0</userinput> is the path to
the drive that contains the Solaris OS CD media.</para>
</step><step id="netinstallcd-step-iacd5"><para>Copy the image in the drive to the
install server's hard disk.</para><screen># <userinput>./setup_install_server <replaceable>install_dir_path</replaceable></userinput></screen><variablelist><varlistentry><term><replaceable>install_dir_path</replaceable></term><listitem><para>Specifies the directory where the CD image is to be copied</para>
</listitem>
</varlistentry>
</variablelist><note><para>The <command>setup_install_server</command> command indicates
whether you have enough disk space available for the Solaris Software disc
images. To determine available disk space, use the <command>df -kl</command> command.</para>
</note>
</step><step id="netinstallcd-step-ia6"><para>Decide if you need to make the install
server available for mounting.</para><stepalternatives><step><para>If the install server is on the same subnet as the system to be
installed or you are using DHCP, you do not need to create a boot server.
Proceed to <olink targetptr="netinstall-step-6601" remap="internal">Step&nbsp;7</olink>.</para>
</step><step><para>If the install server is not on the same subnet as the system
to be installed and you are not using DHCP, complete the following steps.</para><substeps><step id="netinstallcd-ia-step-1"><para>Verify that the path to the install
server's image is shared appropriately.</para><para>Use either
the <command>share</command> command or the <command>sharemgr</command> utility
to complete the verification.</para><screen># <userinput>share | grep</userinput> <replaceable>install_dir_path</replaceable></screen><screen># <userinput># sharemgr show</userinput> <option>v</option> <userinput>| grep</userinput> <replaceable>install_dir_path</replaceable></screen><note><para><emphasis role="strong">Starting with the 5/07 Developer release,</emphasis> the <command>sharemgr</command> utility introduces the concept of share groups. See <olink targetdoc="sysadv4" targetptr="gcrvu" remap="external"><citetitle remap="section">sharemgr Command</citetitle> in <citetitle remap="book">System Administration Guide: Network Services</citetitle></olink>.</para>
</note><variablelist termlength="medium"><varlistentry><term><replaceable>install_dir_path</replaceable></term><listitem><para>Specifies the path to the installation image where the CD
image was copied</para>
</listitem>
</varlistentry>
</variablelist><stepalternatives><step><para>If the path to the install server's directory is displayed and
anon=0 is displayed in the options, proceed to <olink targetptr="netinstallcd-ia-step-77" remap="internal">Step&nbsp;7</olink>.</para>
</step><step><para>If the path to the install server's directory is not displayed
or you do not have anon=0 in the options, continue.</para>
</step>
</stepalternatives>
</step><step id="netinstallcd-ia-step-99"><para>Make the install server available to the boot server by
using either the <command>share</command> command or the <command>sharemgr</command> utility.</para><itemizedlist><listitem><para>Using the <command>share</command> command,  add this entry
to the <filename>/etc/dfs/dfstab</filename> file.</para><screen>share -F nfs -o ro,anon=0 -d "install server directory" <replaceable>install_dir_path</replaceable></screen>
</listitem><listitem><para>Using the <command>sharemgr</command> utility, enter the following
commands:</para><para><literal>#</literal> <userinput>sharemgr add-share</userinput> <option>d</option> &ldquo;install server directory&rdquo; <option>s</option> <replaceable>install_dir_path default</replaceable></para><para><literal>#</literal> <userinput>sharemgr set</userinput> <option>P</option> <replaceable>nfs</replaceable> <option>S</option> <replaceable>sys</replaceable> <option>p</option> <userinput>ro="*"</userinput> <option>s</option> <replaceable>install_dir_path default</replaceable></para><para><literal>#</literal> <userinput>sharemgr set</userinput> <option>P</option> <replaceable>nfs</replaceable> <option>p</option> <userinput>anon=0</userinput> <option>s</option> <replaceable>install_dir_path default</replaceable></para>
</listitem>
</itemizedlist>
</step><step id="netinstallcd-ia-step-90"><para>Verify that the <command>nfsd</command> daemon
is running.</para><stepalternatives><step><para>If the install server is running the current Solaris release, or compatible
version, type the following command.</para><screen># <userinput>svcs -l svc:/network/nfs/server:default</userinput></screen><para>If the <command>nfsd</command> daemon is online, continue to <olink targetptr="exlwq" remap="internal">Step&nbsp;d</olink>. If the  <command>nfsd</command> daemon
is not online, start it.</para><screen># <userinput>svcadm enable svc:/network/nfs/server</userinput></screen>
</step><step><para>If the install server is running the Solaris 9 OS, or compatible
version, type the following command.</para><screen># <userinput>ps -ef | grep nfsd</userinput></screen><para>If the <command>nfsd</command> daemon is running, continue to <olink targetptr="exlwq" remap="internal">Step&nbsp;d</olink>. If the  <command>nfsd</command> daemon
is not running, start it.</para><screen># <userinput>/etc/init.d/nfs.server start</userinput></screen>
</step>
</stepalternatives>
</step><step id="exlwq"><para>If you are using the <command>share</command> command
instead of the <command>sharemgr</command> utility, share
the install server.</para><screen># <userinput>shareall</userinput></screen>
</step>
</substeps>
</step>
</stepalternatives>
</step><step id="netinstallcd-ia-step-77"><para>Change directories to root (<filename>/</filename>).</para><screen># <userinput>cd /</userinput></screen>
</step><step id="netinstallcd-ia-step-88"><para>Eject the Solaris Software - 1 CD.</para>
</step><step id="netinstallcd-ia-step-444"><para>Insert the Solaris Software - 2 CD
in the system's CD-ROM drive.</para>
</step><step id="netinstallcd-ia-step-432"><para>Change to the <filename>Tools</filename> directory
on the mounted CD:</para><screen># <userinput>cd /cdrom/cdrom0/Solaris_11/Tools</userinput></screen>
</step><step id="netinstallcd-ia-step-7776"><para>Copy the CD in the CD-ROM drive
to the install server's hard disk.</para><screen># <userinput>./add_to_install_server</userinput> <replaceable>install_dir_path</replaceable></screen><variablelist><varlistentry><term><replaceable>install_dir_path</replaceable></term><listitem><para>Specifies the directory where the CD image is to be copied</para>
</listitem>
</varlistentry>
</variablelist>
</step><step id="netinstallcd-ia-step-23232"><para>Change directories to root (<filename>/</filename>).</para><screen># <userinput>cd /</userinput></screen>
</step><step id="netinstallcd-ia-step-opoiuo"><para>Eject the Solaris Software - 2 CD.</para>
</step><step><para>Repeat <olink targetptr="netinstallcd-ia-step-444" remap="internal">Step&nbsp;9</olink> through <olink targetptr="netinstallcd-ia-step-opoiuo" remap="internal">Step&nbsp;13</olink> for each Solaris Software CD
that you want to install.</para>
</step><step id="netinstallcd-ia-step-were"><para>Insert the first Solaris Languages CD in
the system's CD-ROM drive.</para>
</step><step id="netinstallcd-ia-step-qqqq"><para>Change to the <filename>Tools</filename> directory
on the mounted CD:</para><screen># <userinput>cd /cdrom/cdrom0/Solaris_11/Tools</userinput></screen>
</step><step id="netinstallcd-ia-step-bbbb"><para>Copy the CD in the CD-ROM drive
to the install server's hard disk.</para><screen># <userinput>./add_to_install_server</userinput> <replaceable>install_dir_path</replaceable></screen><variablelist><varlistentry><term><replaceable>install_dir_path</replaceable></term><listitem><para>Specifies the directory where the CD image is to be copied</para>
</listitem>
</varlistentry>
</variablelist>
</step><step><para>Eject CD.</para>
</step><step><para>Repeat Steps 15&ndash;18 for each Solaris Languages CD.</para>
</step><step id="netinstallcd-ia-step-deddf"><para>Change directories to root (<filename>/</filename>).</para><screen># <userinput>cd /</userinput></screen>
</step><step id="netinstallcd-ia-step-nnnnn"><para>Patch the files that are located
in the miniroot on the net install image that was created by <command>setup_install_server</command>. Patching a file might be necessary if a boot image has problems.
Follow these substeps to patch an x86 network installation miniroot.</para><substeps><step><para>If the installation server is not running the current Solaris release for x86
systems, log in as superuser to another system on the network that is running
the current Solaris release for x86 systems.</para><para>To patch a current Solaris release for x86 miniroot,
your system must be running the current Solaris release for x86 systems.</para>
</step><step><para>Change to the <filename>Tools</filename> directory of the installation
image you created in <olink targetptr="netinstallcd-step-iacd5" remap="internal">Step&nbsp;5</olink>.</para><screen># <userinput>cd <replaceable>install-server-path</replaceable>/<replaceable>install-dir-path</replaceable>/Solaris_11/Tools</userinput></screen><variablelist><varlistentry><term><replaceable>install-server-path</replaceable></term><listitem><para>Specifies the path to the install server system on your network,
for example, <filename>/net/installserver-1</filename>.</para>
</listitem>
</varlistentry>
</variablelist>
</step><step id="gcacr"><para>Create a new installation image, and place that image
on the system that is running the current Solaris release for x86 systems.</para><screen># <userinput>./setup_install_server <replaceable>remote_install_dir_path</replaceable></userinput></screen><variablelist><varlistentry><term><replaceable>remote_install_dir_path</replaceable></term><listitem><para>Specifies the path on the current Solaris release for x86 systems in which
to create the new installation image.</para>
</listitem>
</varlistentry>
</variablelist><para>This command creates a new installation image on the current Solaris release for x86
systems. In order to patch this image, you must temporarily place this image
on a system that is running the current Solaris release for x86 systems.</para>
</step><step id="gcadp"><para>Unpack the network installation boot archive.</para><screen># <userinput>/boot/solaris/bin/root_archive unpackmedia <replaceable>install_dir_path</replaceable> \
  <replaceable>destination_dir</replaceable></userinput></screen><variablelist><varlistentry><term><replaceable>install_dir_path</replaceable></term><listitem><para>Specifies the path to the x86 network installation image.</para>
</listitem>
</varlistentry><varlistentry><term><replaceable>destination_dir</replaceable></term><listitem><para>Specifies the path to the directory to contain the unpacked
boot archive.</para>
</listitem>
</varlistentry>
</variablelist>
</step><step><para>Patch the unpacked boot archive.</para><screen># <userinput>patchadd -C <replaceable>destination_dir</replaceable> <replaceable>path-to-patch</replaceable>/<replaceable>patch-id</replaceable></userinput></screen><variablelist><varlistentry><term><replaceable>path-to-patch</replaceable></term><listitem><para>Specifies the path to the patch that you want to add, for
example, <filename>/var/sadm/spool</filename>.</para>
</listitem>
</varlistentry><varlistentry><term><replaceable>patch-id</replaceable></term><listitem><para>Specifies the patch ID that you want to apply.</para><para>You can specify multiple patches with the <command>patchadd -M</command> option.
For more information, see <olink targetdoc="refman1m" targetptr="patchadd-1m" remap="external"><citerefentry><refentrytitle>patchadd</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink>.</para>
</listitem>
</varlistentry>
</variablelist><caution><para>Don't use the <command>patchadd -C</command> command unless
you have read the <filename>Patch README</filename> instructions or have contacted
your local Sun support office.</para>
</caution>
</step><step><para>Pack the x86 boot archive.</para><screen># <userinput>/boot/solaris/bin/root_archive packmedia <replaceable>destination_dir</replaceable> \
  <replaceable>install_dir_path</replaceable></userinput></screen>
</step><step><para>If necessary, copy the patched miniroot to the installation image
on the install server.</para><para>If you patched the miniroot on a remote current Solaris release for
x86 systems, you must copy the patched miniroot to the install server.</para><screen># <userinput>cp <replaceable>remote_install_dir_path</replaceable>/boot/x86.miniroot \
  <replaceable>install-server-path</replaceable>/<replaceable>install_dir_path</replaceable>/boot/x86.miniroot</userinput></screen>
</step>
</substeps>
</step><step id="netinstallcd-ia-step-xxxxx"><para>Decide if you need to create a
boot server.</para><stepalternatives><step><para>If you are using DHCP or the install server is on the same subnet
as the system to be installed, you do not need to create a boot server. Proceed
to <olink targetptr="netinstall-40778" remap="internal">Adding Systems to Be Installed From
the Network With a CD Image</olink>.</para>
</step><step><para>If you are <emphasis>not</emphasis> using DHCP and the install
server and the client are on a different subnet, you must create a boot server.
Proceed to <olink targetptr="netinstall-38" remap="internal">Creating a Boot Server on a Subnet
With a CD Image</olink>.</para>
</step>
</stepalternatives>
</step>
</procedure><example id="netinstallcd-ex-iaiooo" arch="x86"><title>Creating an x86 Install Server With x86 CD Media</title><para>The following examples illustrate
how to create an install server by copying the following CDs to the install
server's <filename>/export/home/cdx86</filename> directory. This example assumes
that the install server is running the current Solaris release.</para><itemizedlist><listitem><para>Solaris Software for x86 Platforms CDs</para>
</listitem><listitem><para>Solaris Languages for x86 Platforms CDs</para>
</listitem>
</itemizedlist><para>Insert the Solaris Software for x86 Platforms - 1 CD in the system's CD-ROM drive.</para><para>Set up an install server.</para><screen># <userinput>mkdir -p /export/home/dvdx86</userinput>
# <userinput>cd /cdrom/cdrom0/Solaris_11/Tools</userinput>
# <userinput>./setup_install_server /export/home/cdx86</userinput></screen><itemizedlist><listitem><para>If you have a separate boot server, add these steps.</para><orderedlist><listitem><para>Make the
install server available to the boot server by using either
the <command>share</command> command or the <command>sharemgr</command> utility.</para><itemizedlist><listitem><para>Using the <command>share</command> command,  add this entry
to the <filename>/etc/dfs/dfstab</filename> file.</para><screen>share -F nfs -o ro,anon=0 -d "install server directory" /export/home/cdx86</screen>
</listitem><listitem><para>Using the <command>sharemgr</command> utility, enter the following
commands:</para><para><literal>#</literal> <userinput>sharemgr add-share</userinput> <option>d</option> &ldquo;install server directory&rdquo; <option>s</option> <userinput>/export/home/cdx86
default</userinput></para><para><literal>#</literal> <userinput>sharemgr set</userinput> <option>P</option> <replaceable>nfs</replaceable> <option>S</option> <replaceable>sys</replaceable> <option>p</option> <userinput>ro="*"</userinput> <option>s</option> <userinput>/export/home/cdx86
default</userinput></para><para><literal>#</literal> <userinput>sharemgr set</userinput> <option>P</option> <replaceable>nfs</replaceable> <option>p</option> <userinput>anon=0</userinput> <option>s</option> <userinput>/export/home/cdx86 default</userinput></para>
</listitem>
</itemizedlist>
</listitem><listitem><para>Check if the <command>nfsd</command> daemon is online. If
the <command>nfsd</command> daemon is not online, start it and share it.</para><para>If you are
using <command>sharemgr</command> utility, omit <command>shareall</command>.</para><screen># <userinput>svcs -l svc:/network/nfs/server:default</userinput>
# <userinput>svcadm enable svc:/network/nfs/server</userinput>
# <userinput>shareall</userinput> </screen>
</listitem><listitem><para>Continue with the following steps.</para>
</listitem>
</orderedlist>
</listitem><listitem><para>If you do not need a boot server or have completed the steps
for a separate boot server, continue with the following steps.</para>
</listitem>
</itemizedlist><screen># <userinput>cd /</userinput></screen><para>Eject the Solaris Software for x86 Platforms - 1 CD. Insert the Solaris Software for x86 Platforms - 2 CD in
the CD-ROM drive.</para><screen># <userinput>cd /cdrom/cdrom0/Solaris_11/Tools</userinput>
# <userinput>./add_to_install_server /export/home/cdx86</userinput>
# <userinput>cd /</userinput></screen><para>Repeat the previous commands for each Solaris Software CD that you
want to install.</para><para>Insert the first Solaris Languages for x86 Platforms CD in the
CD-ROM drive.</para><screen># <userinput>cd /cdrom/cdrom0/Solaris_11/Tools</userinput>
# <userinput>./add_to_install_server /export/home/cdx86</userinput></screen><para>Eject CD.</para><para>Repeat previous commands for each Solaris Languages for x86 Platforms CD.</para>
</example><taskrelated-custom><title>Continuing the Installation</title><para>After you set up the install server, you must add the client as an installation
client. For information about how to add client systems to install over the
network, see <olink targetptr="netinstall-40778" remap="internal">Adding Systems to Be Installed
From the Network With a CD Image</olink>.</para><para>If you are not using DHCP, and your client system is on a different
subnet than your install server, you must create a boot server. For more information,
see <olink targetptr="netinstall-38" remap="internal">Creating a Boot Server on a Subnet With
a CD Image</olink>.</para>
</taskrelated-custom><taskrelated role="see-also"><para>For additional information about the <command>setup_install_server</command> and
the <command>add_to_install_server</command> commands, see <olink targetdoc="refman1m" targetptr="install-scripts-1m" remap="external"><citerefentry><refentrytitle>install_scripts</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink>.</para>
</taskrelated>
</task>
</sect1><sect1 id="netinstall-35"><title>Creating a Cross-Platform Install Server
for CD Media</title><para>This
section explains how to create an x86 network installation image on a SPARC
system.</para><para>A remote x86 system is not required to create a SPARC install server
with x86 CD media. See <olink targetptr="netinstall-50" remap="internal">To Create a SPARC
Install Server With SPARC or x86 CD Media</olink> for more information.</para><task id="netinstall-72q"><title>To Create a SPARC Install Server on an x86
System With SPARC CD Media</title><tasksummary><para>Use this procedure to create a SPARC install server on an x86 system
with SPARC CD media.</para><para>In this procedure, <replaceable>x86-system</replaceable> is the x86
system that is to be the install server and <replaceable>remote-SPARC-system</replaceable> is
the remote SPARC system to be used with the SPARC CD media.</para>
</tasksummary><taskprerequisites><para>You need the following items to perform this task.</para><itemizedlist><listitem><para>An x86 system</para>
</listitem><listitem><para>A SPARC system with a CD-ROM drive</para>
</listitem><listitem><para>A set of CDs for the remote SPARC system</para><itemizedlist><listitem><para>Solaris Software for SPARC Platforms CDs</para>
</listitem><listitem><para>Solaris Languages for SPARC Platforms CDs</para>
</listitem>
</itemizedlist>
</listitem>
</itemizedlist><note><para>This procedure assumes that the system is running the Volume Manager.
If you are not using the Volume Manager to manage media, refer to <olink targetdoc="sagdfs" remap="external"><citetitle remap="book">System Administration Guide: Devices and File Systems</citetitle></olink>.</para>
</note>
</taskprerequisites><procedure><step id="netinstall-step-44ff"><para>On the remote SPARC system, become superuser
or assume an equivalent role.</para><para>The system must include a CD-ROM
drive and be part of the site's network and naming service. If you use a naming
service, the system must also be in the NIS, NIS+, DNS, or LDAP naming service.
If you do not use a naming service, you must distribute information about
this system by following your site's policies.</para>
</step><step id="netinstall-step-74jh"><para>On the remote SPARC system, insert the Solaris Software for SPARC Platforms - 1 CD into
the system's drive.</para>
</step><step id="netinstall-step-45ppo"><para>If you are using the <command>share</command> command instead of the <command>sharemgr</command> utility, on
the remote SPARC system, add the following entries to the <filename>/etc/dfs/dfstab</filename> file.</para><screen><userinput>share -F nfs -o ro,anon=0 /cdrom/cdrom0/s0</userinput> \
<userinput>share -F nfs -o ro,anon=0 /cdrom/cdrom0/s1</userinput></screen>
</step><step id="netinstall-step-46ll"><para>On the remote SPARC system, start the
NFS daemon.</para><stepalternatives><step><para>If the install server is running the current Solaris release, or compatible
version, type the following command.</para><screen><replaceable>remote-SPARC-system</replaceable># <userinput>svcadm enable svc:/network/nfs/server</userinput></screen>
</step><step><para>If the install server is running the Solaris 9 OS, or compatible
version, type the following command.</para><screen><replaceable>remote-SPARC-system</replaceable># <userinput>/etc/init.d/nfs.server start</userinput></screen>
</step>
</stepalternatives>
</step><step id="netinstall-step-47lk"><para>On the remote SPARC system, verify that
the CD is available to other systems.</para><para>Use either
the <command>sharemgr</command> utility or the <computeroutput>share</computeroutput> command
as follows:</para><note><para><emphasis role="strong">Starting with the 5/07
Developer release,</emphasis> the <command>sharemgr</command> utility introduces
the concept of share groups. See <olink targetdoc="sysadv4" targetptr="gcrvu" remap="external"><citetitle remap="section">sharemgr Command</citetitle> in <citetitle remap="book">System Administration Guide: Network Services</citetitle></olink>.</para>
</note><itemizedlist><listitem><para>Using the <computeroutput>share</computeroutput> command,
enter the following:</para><screen><replaceable>remote-SPARC-system</replaceable># <userinput>share</userinput>
-   /cdrom/cdrom0/s0 ro,anon=0 " "
-   /cdrom/cdrom0/s1 ro,anon=0 " "</screen>
</listitem><listitem><para>Using the <command>sharemgr</command> utility, enter the following
commands:</para><para><replaceable>remote-SPARC-system</replaceable><literal>#</literal> <userinput>sharemgr add-share</userinput> <option>d</option> &ldquo;install server directory&rdquo; <option>s</option> <userinput>/cdrom/</userinput>cdrom0<userinput>/s0 default</userinput></para><para><replaceable>remote-SPARC-system</replaceable><literal>#</literal> <userinput>sharemgr set</userinput> <option>P</option> <replaceable>nfs</replaceable> <option>S</option> <replaceable>sys</replaceable> <option>p</option> <userinput>ro="*"</userinput> <option>s</option> <userinput>/cdrom/</userinput>cdrom0<userinput>/s0 default</userinput></para><para><replaceable>remote-SPARC-system</replaceable><literal>#</literal> <userinput>sharemgr set</userinput> <option>P</option> <replaceable>nfs</replaceable> <option>p</option> <userinput>anon=0</userinput> <option>s</option> <userinput>/cdrom/</userinput>cdrom0<userinput>/s0 default</userinput></para><para>Repeat these <command>sharemgr</command> commands for slice 1 (/s1).</para>
</listitem>
</itemizedlist><para>In the previous sample output, cdrom0 refers
to the current Solaris release on SPARC based systems. This text string varies for each
version of the Solaris OS.</para>
</step><step id="netinstall-step-7577"><para>On the x86 system that is to be the
SPARC install server, become superuser or assume an equivalent role.</para>
</step><step id="netinstallcd-step-78888"><para>Verify that the CD is properly exported
on the remote x86 system.</para><screen><replaceable>x86-system</replaceable># <userinput>showmount -e <replaceable>remote-SPARC-system</replaceable></userinput>
export list for <replaceable>remote-SPARC-system</replaceable>:
/cdrom/cdrom0/s0 (everyone)
/cdrom/cdrom0/s1 (everyone)</screen>
</step><step id="netinstall-step-76mjk"><para>On the x86 system, change to the <filename>Tools</filename> directory on the mounted disc:</para><screen><replaceable>x86-system</replaceable># <userinput>cd /net/<replaceable>remote-SPARC-system</replaceable>/cdrom/cdrom0/s0/Solaris_11/Tools</userinput></screen>
</step><step id="netinstall-step-77vfr"><para>On the x86 system, copy the disc in
the drive to the install server's hard disk in the directory you've created
by using the <command>setup_install_server</command> command:</para><screen><replaceable>x86-system</replaceable># <userinput>./setup_install_server  <replaceable>install_dir_path</replaceable></userinput></screen><variablelist><varlistentry><term><replaceable>install_dir_path</replaceable></term><listitem><para>Specifies the directory where the disc image is to be copied.
The directory must be empty.</para>
</listitem>
</varlistentry>
</variablelist><note><para>The <command>setup_install_server</command> command indicates
whether you have enough disk space available for the Solaris Software disc
images. To determine available disk space, use the <command>df -kl</command> command.</para>
</note>
</step><step id="netinstallcd-step-3444"><para>On the x86 system, change to the top
directory.</para><screen><replaceable>x86-system</replaceable># <userinput>cd /</userinput></screen>
</step><step id="netinstall-step-49kjh"><para>On the x86 system, unmount both directories.</para><screen><replaceable>x86-system</replaceable># <userinput>umount /net/<replaceable>remote-SPARC-system</replaceable>/cdrom/cdrom0/s0</userinput></screen><screen><replaceable>x86-system</replaceable># <userinput>umount /net/<replaceable>remote-SPARC-system</replaceable>/cdrom/cdrom0/s1</userinput></screen>
</step><step id="netinstallcd-step-4098"><para>If you are using the share command, on
the SPARC system, unshare both CD-ROM slices.</para><screen><replaceable>remote-SPARC-system</replaceable># <userinput>unshare /cdrom/cdrom0/s0</userinput></screen><screen><replaceable>remote-SPARC-system</replaceable># <userinput>unshare /cdrom/cdrom0/s1</userinput></screen><note><para>If you
are using the <command>sharemgr</command> utility instead of the <command>share</command> command,
this step is not needed.</para>
</note>
</step><step id="netinstall-step-7843ewe"><para>On the SPARC system, eject the Solaris Software for SPARC Platforms - 1 CD.</para>
</step><step id="netinstall-step-791234e"><para>Insert the Solaris Software for SPARC Platforms - 2 CD into
the x86 system's CD-ROM drive.</para>
</step><step id="netinstall-step-81aqwer"><para>On the x86 system, change to the <filename>Tools</filename> directory on the mounted CD:</para><screen><replaceable>x86-system</replaceable># <userinput>cd /cdrom/cdrom0/s0/Solaris_11/Tools</userinput></screen>
</step><step id="netinstall-step-82bngt"><para>On the x86 system, copy the CD to
the install server's hard disk:</para><screen><replaceable>x86-system</replaceable># <userinput>./add_to_install_server</userinput> <replaceable>install_dir_path</replaceable></screen><variablelist><varlistentry><term><replaceable>install_dir_path</replaceable></term><listitem><para>Specifies the directory where the CD image is to be copied</para>
</listitem>
</varlistentry>
</variablelist>
</step><step id="netinstall-step-842223"><para>Eject the Solaris Software for SPARC Platforms - 2 CD.</para>
</step><step><para>Repeat <olink targetptr="netinstall-step-791234e" remap="internal">Step&nbsp;14</olink> through <olink targetptr="netinstall-step-842223" remap="internal">Step&nbsp;17</olink> for each Solaris Software CD
you want to install.</para>
</step><step id="netinstall-step-8ngt5"><para>On the x86 system, insert the first Solaris Languages for SPARC Platforms CD into
the x86 system's CD-ROM drive and mount the CD.</para>
</step><step id="netinstall-step-8nm7"><para>On the x86 system, change to the <filename>Tools</filename> directory on the mounted CD:</para><screen><replaceable>x86-system</replaceable># <userinput>cd /cdrom/cdrom0/s0/Solaris_11/Tools</userinput></screen>
</step><step id="netinstall-step-8xx8"><para>On the x86 system, copy the CD to the
install server's hard disk:</para><screen><replaceable>x86-system</replaceable># <userinput>./add_to_install_server</userinput> <replaceable>install_dir_path</replaceable></screen><variablelist><varlistentry><term><replaceable>install_dir_path</replaceable></term><listitem><para>Specifies the directory where the CD image is to be copied</para>
</listitem>
</varlistentry>
</variablelist>
</step><step><para>Eject CD.</para>
</step><step><para>Repeat Steps 19&ndash;22 for each Solaris Languages for SPARC Platforms CD.</para>
</step><step id="netinstall-step-9cde6"><para>Decide if you want to patch the files
that are located in the miniroot (<filename>Solaris_11/Tools/Boot</filename>)
on the net install image that was created by <command>setup_install_server</command>.</para><stepalternatives><step><para>If no, proceed to the next step.</para>
</step><step><para>If yes, use the <command>patchadd -C</command> command to patch
the files that are located in the miniroot.</para><caution><para>Don't use the <command>patchadd -C</command> unless you have
read the <filename>Patch README</filename> instructions or have contacted
your local Sun support office.</para>
</caution>
</step>
</stepalternatives>
</step><step id="netinstall-step-9uuu7"><para>Decide if you need to create a boot server.</para><stepalternatives><step><para>If the install server is on the same subnet as the system to be
installed or you are using DHCP, you do not need to create a boot server.
See <olink targetptr="netinstall-40778" remap="internal">Adding Systems to Be Installed From
the Network With a CD Image</olink>.</para>
</step><step><para>If the install server is not on the same subnet as the system
to be installed and you are not using DHCP, you must create a boot server.
For detailed instructions on how to create a boot server, refer to <olink targetptr="netinstall-71584" remap="internal">To Create a Boot Server on a Subnet With a CD
Image</olink>.</para>
</step>
</stepalternatives>
</step>
</procedure><example id="netinstall-ex-9qq"><title>Creating a SPARC Install Server on an x86 System With SPARC CD Media</title><para>The following example
illustrates how to create a SPARC install server on an x86 system that is
named <literal>richards</literal>. The following SPARC CDs are copied from
a remote SPARC system that is named <literal>simpson</literal> to the x86
install server's <filename>/export/home/cdsparc</filename> directory.</para><itemizedlist><listitem><para>Solaris Software for SPARC Platforms CDs</para>
</listitem><listitem><para>Solaris Languages for SPARC Platforms CDs</para>
</listitem>
</itemizedlist><para>This example assumes that the install server is running the current Solaris release and that you are using the <command>share</command> command instead of the <command>sharemgr</command> utility.</para><para>On the remote SPARC system, insert the Solaris Software for SPARC Platforms - 1 CD, then
type the following commands:</para><screen width="80100"><replaceable>simpson (remote-SPARC-system)</replaceable># <userinput>share -F nfs -o ro,anon=0 /cdrom/cdrom0/s0</userinput>
<replaceable>simpson (remote-SPARC-system)</replaceable># <userinput>share -F nfs -o ro,anon=0 /cdrom/cdrom0/s1</userinput>
<replaceable>simpson (remote-SPARC-system)</replaceable># <userinput>svcadm enable svc:/network/nfs/server</userinput></screen><para>On the x86 system:</para><screen width="80100"><replaceable>richards (x86-system)</replaceable># <userinput>cd /net/simpson/cdrom/cdrom0/s0//Solaris_11/Tools</userinput>
<replaceable>richards (x86-system)</replaceable># <userinput>./setup_install_server /export/home/cdsparc</userinput>
<replaceable>richards (x86-system)</replaceable># <userinput>cd /</userinput>
<replaceable>richards (x86-system)</replaceable># <userinput>umount /net/simpson/cdrom/cdrom0/s0/</userinput></screen><para>On the remote SPARC system:</para><screen width="80100"><replaceable>simpson (remote-SPARC-system)</replaceable> <userinput>unshare /cdrom/cdrom0/s0</userinput>
<replaceable>simpson (remote-SPARC-system)</replaceable> <userinput>unshare  /cdrom/cdrom0/s1</userinput></screen><para>On the x86 system:</para><screen width="80100"><replaceable>richards (x86-system)</replaceable># <userinput>cd /cdrom/cdrom0/Solaris_11/Tools</userinput>
<replaceable>richards (x86-system)</replaceable># <userinput>./add_to_install_server /export/home/cdsparc</userinput></screen><para>Repeat the previous commands for each Solaris Software for x86 Platforms CD that
you want to install.</para><screen width="80100"><replaceable>richards (x86-system)</replaceable># <userinput>cd /cdrom/cdrom0/Tools</userinput>
<replaceable>richards (x86-system)</replaceable># <userinput>./add_to_install_server /export/home/cdsparc</userinput></screen><para>In this example, each CD is inserted and automatically mounted before
each of the commands. After each command, the CD is removed.</para>
</example><taskrelated-custom><title>Continuing the Installation</title><para>After you set up the install server, you must add the client as an installation
client. For information about how to add client systems to install over the
network, see <olink targetptr="netinstall-40778" remap="internal">Adding Systems to Be Installed
From the Network With a CD Image</olink>.</para><para>If you are not using DHCP, and your client system is on a different
subnet than your install server, you must create a boot server. For more information,
see <olink targetptr="netinstall-38" remap="internal">Creating a Boot Server on a Subnet With
a CD Image</olink>.</para>
</taskrelated-custom><taskrelated role="see-also"><para>For additional information about the <command>setup_install_server</command> and
the <command>add_to_install_server</command> commands, see <olink targetdoc="refman1m" targetptr="install-scripts-1m" remap="external"><citerefentry><refentrytitle>install_scripts</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink>.</para>
</taskrelated>
</task>
</sect1><sect1 id="netinstall-38"><title>Creating a Boot Server on a Subnet With a
CD Image</title><para>You must create an install
server to install the Solaris software on a system from the network. You do
not always need to set up a boot server.  A boot server contains enough of
the boot software to boot systems from the network, and then the install server
completes the installation of the Solaris software.</para><itemizedlist><listitem><para>If you are using DHCP to set installation parameters or your
install server and client are on the same subnet, you do not need a boot server.
Proceed to <olink targetptr="netinstall-40778" remap="internal">Adding Systems to Be Installed
From the Network With a CD Image</olink>.</para>
</listitem><listitem><para>If your install server and your client are
not on the same subnet and you are not using DHCP, you must create separate
boot servers for each subnet. You could create an install server for each
subnet; however, install servers require more disk space.</para>
</listitem>
</itemizedlist><task id="netinstall-71584"><title>To Create a Boot Server on a Subnet With
a CD Image</title><procedure><step id="netinstall-step-12"><para>On the system you intend to make the boot
server for the subnet, log in and become superuser or assume an equivalent
role.</para><para>The system must include a local CD-ROM drive or have access
to the remote current Solaris release disc images, which are normally on the install server.
If you use a naming service, the system should be in the naming service. If
you do not use a naming service, you must distribute information about this
system by following your site's policies.</para>
</step><step id="netinstall-step-13"><para>Mount the Solaris Software - 1 CD image
from the install server.</para><screen># <userinput>mount -F nfs -o ro</userinput> <replaceable>server_name</replaceable><userinput>:</userinput><replaceable>path</replaceable> <userinput>/mnt</userinput></screen><variablelist><varlistentry><term><replaceable>server_name</replaceable><filename>:</filename><replaceable>path</replaceable></term><listitem><para>Is the install server name and absolute path to the disc image</para>
</listitem>
</varlistentry>
</variablelist>
</step><step id="netinstallcd-step-6"><para>Create a directory for the boot image.</para><screen># <userinput>mkdir -p</userinput> <replaceable>boot_dir_path</replaceable></screen><variablelist><varlistentry><term><replaceable>boot_dir_path</replaceable></term><listitem><para>Specifies the directory where the boot software is to be copied</para>
</listitem>
</varlistentry>
</variablelist>
</step><step id="netinstall-step-14"><para>Change to the <filename>Tools</filename> directory
on the Solaris Software - 1 CD image.</para><screen># <userinput>cd /mnt/Solaris_11/Tools</userinput></screen>
</step><step id="netinstall-step-15"><para>Copy the boot software to the boot server.</para><screen># <userinput>./setup_install_server -b</userinput> <replaceable>boot_dir_path</replaceable></screen><variablelist><varlistentry><term><option>b</option></term><listitem><para>Specifies to set up the system as a boot server</para>
</listitem>
</varlistentry><varlistentry><term><replaceable>boot_dir_path</replaceable></term><listitem><para>Specifies the directory where the boot software is to be copied</para>
</listitem>
</varlistentry>
</variablelist><note><para>The <command>setup_install_server</command> command indicates
whether you have enough disk space available for the images. To determine
available disk space, use the <command>df -kl</command> command.</para>
</note>
</step><step id="netinstallcd-step-6602"><para>Change directories to root (<filename>/</filename>).</para><screen># <userinput>cd /</userinput></screen>
</step><step id="netinstallcd-step-90"><para>Unmount the installation image.</para><screen># <userinput>umount /mnt</userinput></screen>
</step>
</procedure><example id="netinstall-ex-29"><title>Creating a Boot Server on a Subnet With CD Media</title><para>The following example illustrates how to create a boot server on a subnet.
These commands copy the boot software from the Solaris Software for SPARC Platforms - 1 CD image
to <filename>/export/install/boot</filename> on the system's local disk.</para><screen># <userinput>mount -F nfs -o ro crystal:/export/install/boot /mnt</userinput> 
# <userinput>mkdir -p /export/install/boot</userinput> 
# <userinput>cd /mnt/Solaris_11/Tools</userinput>
# <userinput>./setup_install_server -b /export/install/boot</userinput>
# <userinput>cd /</userinput>
# <userinput>umount /mnt</userinput></screen><para>In this example, the disc is inserted and automatically mounted before
the command. After the command, the disc is removed.</para>
</example><taskrelated-custom><title>Continuing the Installation</title><para>After you set up the boot server, you must add the client as an installation
client. For information about how to add client systems to install over the
network, see <olink targetptr="netinstall-40778" remap="internal">Adding Systems to Be Installed
From the Network With a CD Image</olink>.</para>
</taskrelated-custom><taskrelated role="see-also"><para>For additional information about the <command>setup_install_server</command> command,
see <olink targetdoc="refman1m" targetptr="install-scripts-1m" remap="external"><citerefentry><refentrytitle>install_scripts</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink>.</para>
</taskrelated>
</task>
</sect1><sect1 id="netinstall-40778"><title>Adding Systems to Be Installed From the
Network With a CD Image</title><para>After you create an install server and, if necessary, a boot server,
you must set up each system that you want to install from the network. Each
system that you want to install needs to find the following:</para><itemizedlist><listitem><para>An install server</para>
</listitem><listitem><para>A boot server if it is required</para>
</listitem><listitem><para>The <filename>sysidcfg</filename> file if you use a <filename>sysidcfg</filename> file to preconfigure system information</para>
</listitem><listitem><para>A name server if you use a naming service to preconfigure
system information</para>
</listitem><listitem><para>The profile in the JumpStart directory on the profile server
if you are using the custom JumpStart installation method</para>
</listitem>
</itemizedlist><task id="gbxck"><title>To Add Systems to Be Installed From the Network With <command>add_install_client</command> (CDs)</title><tasksummary><para>After you create an install server, you must set up each system that
you want to install from the network.</para><para>Use the following <filename>add_install_client</filename> procedure
for set up an x86 client to install from the network.</para>
</tasksummary><taskprerequisites><para>If you have a boot server, make sure you have shared the install server
installation image. See the procedure &ldquo;To Create an Install Server,&rdquo; <olink targetptr="netinstall-step-200" remap="internal">Step&nbsp;6</olink>.</para><para>Each system that you want to install needs to find the following items.</para><itemizedlist><listitem><para>An install server</para>
</listitem><listitem><para>A boot server if it is required</para>
</listitem><listitem><para>The <filename>sysidcfg</filename> file if you use a <filename>sysidcfg</filename> file to preconfigure system information</para>
</listitem><listitem><para>A name server if you use a naming service to preconfigure
system information</para>
</listitem><listitem><para>The profile in the JumpStart directory on the profile server
if you are using the custom JumpStart installation method</para>
</listitem>
</itemizedlist>
</taskprerequisites><procedure><step id="gbxco"><para>On the install server or boot server, become superuser
or assume an equivalent role.</para>
</step><step id="gbxcn"><para>If you use the NIS, NIS+, DNS, or LDAP naming service,
verify that the following information about the system to be installed has
been added to the naming service:</para><itemizedlist><listitem><para>Host name</para>
</listitem><listitem><para>IP address</para>
</listitem><listitem><para>Ethernet address</para>
</listitem>
</itemizedlist><para>For more information about naming services, see <olink targetdoc="sysadv5" remap="external"><citetitle remap="book">System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</citetitle></olink>.</para>
</step><step id="gbxcq"><para>Change to the <filename>Tools</filename> directory
on the current Solaris release CD image on the install server:</para><screen># <userinput>cd /<replaceable>install_dir_path</replaceable>/Solaris_11/Tools</userinput></screen><variablelist><varlistentry><term><replaceable>install_dir_path</replaceable></term><listitem><para>Specifies the path to the <filename>Tools</filename> directory</para>
</listitem>
</varlistentry>
</variablelist>
</step><step><para>Add the client to the install server's <filename>/etc/ethers</filename> file.</para><substeps><step><para>On the client, find the ethers address. The <filename>/etc/ethers</filename> map
is taken from the local file.</para><screen># <userinput>ifconfig -a grep ether</userinput>
ether 8:0:20:b3:39:1d</screen>
</step><step><para>On the install server, open the <filename>/etc/ethers</filename> file
in an editor. Add the address to the list.</para>
</step>
</substeps>
</step><step id="gbxce"><para>Set up the client system to be installed from the network.</para><screen># <userinput>./add_install_client</userinput> <userinput>-d</userinput> <userinput>-s</userinput> <replaceable>install_server:install_dir_path</replaceable> \
<userinput>-c <replaceable>jumpstart_server</replaceable>:<replaceable>jumpstart_dir_path</replaceable></userinput>   <userinput>-p <replaceable>sysid_server</replaceable>:<replaceable>path</replaceable></userinput> \
  <userinput>-t</userinput> <replaceable>boot_image_path</replaceable> <userinput>-b</userinput> "<replaceable>network_boot_variable</replaceable>=<replaceable>value</replaceable>" \
<userinput>-e</userinput> <replaceable>ethernet_address</replaceable> <userinput><replaceable>client_name</replaceable> <replaceable>platform_group</replaceable></userinput> </screen><variablelist termlength="wholeline"><varlistentry><term><option>d</option></term><listitem><para>Specifies
that the client is to use DHCP to obtain the network install parameters. If
you use the <option>d</option> only, the <command>add_install_client</command> command
sets up the installation information for client systems of the same class,
for example, all SPARC client machines. To set up the installation information
for a specific client, use the <option>d</option> with the <option>e</option> option.</para><para>For x86 clients, use this option to boot the systems from the network
by using PXE network boot. The output of this option lists the DHCP options
you need to create on the DHCP server.</para><para>For more information about class-specific installations by using DHCP,
see <olink targetptr="dhcp-admin-21" remap="internal">Creating DHCP Options and Macros for
Solaris Installation Parameters</olink>.</para>
</listitem>
</varlistentry><varlistentry><term><option>s</option> <replaceable>install_server:install_dir_path</replaceable></term><listitem><para>Specifies the name and path to the install server.</para><itemizedlist><listitem><para><replaceable>install_server</replaceable> is the host name
of the install server</para>
</listitem><listitem><para><replaceable>install_dir_path</replaceable> is the absolute
path to the current Solaris release CD image</para>
</listitem>
</itemizedlist>
</listitem>
</varlistentry><varlistentry><term><option>c</option> <replaceable>jumpstart_server</replaceable><literal>:</literal><replaceable>jumpstart_dir_path</replaceable></term><listitem><para>Specifies
a JumpStart directory for custom JumpStart installations. <replaceable>jumpstart_server</replaceable> is the host name of the server on which the JumpStart directory
is located. <replaceable>jumpstart_dir_path</replaceable> is the absolute
path to the JumpStart directory.</para>
</listitem>
</varlistentry><varlistentry><term><option>p</option> <replaceable>sysid_server</replaceable><literal>:</literal><replaceable>path</replaceable></term><listitem><para>Specifies the path to the <filename>sysidcfg</filename> file
for preconfiguring system information. <replaceable>sysid_server</replaceable> is
either a valid host name or an IP address for the server that contains the
file. <replaceable>path</replaceable> is the absolute path to the directory
containing the <filename>sysidcfg</filename> file.</para>
</listitem>
</varlistentry><varlistentry><term><option>t</option> <replaceable>boot_image_path</replaceable></term><listitem><para>Specifies the path to an alternate boot image if you want
to use a boot image other than the one in the Tools directory on the current Solaris release net
installation image, CD, or DVD.</para>
</listitem>
</varlistentry><varlistentry><term><option>b</option> &ldquo;<replaceable>boot-property</replaceable>=<replaceable>value</replaceable>&rdquo;</term><listitem><para><emphasis role="strong">x86 based systems only:</emphasis> Enables
you to set the value of a boot property variable that you want to use to boot
the client from the network. The <option>b</option> must be used with the <option>e</option> option.</para><para>See the <olink targetdoc="refman1m" targetptr="eeprom-1m" remap="external"><citerefentry><refentrytitle>eeprom</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink> man
page for descriptions of boot properties.</para>
</listitem>
</varlistentry><varlistentry><term><option>e</option> <replaceable>ethernet_address</replaceable></term><listitem><para>Specifies the Ethernet address of the client that you want
to install. This option enables you to set up the installation information
to use for a specific client, including a boot file for that client.</para><para>The <filename>nbp.</filename> prefix is not used in boot file names.
For example, if you specify <command>-e 00:07:e9:04:4a:bf</command> for an
x86 based client, the command creates the boot file <filename>010007E9044ABF.i86pc</filename> in the <filename>/tftpboot</filename> directory. However, the Solaris Express 5/07 supports
the use of legacy boot files with the <filename>nbp.</filename> prefix.</para><para>For more information about client-specific installations by using DHCP,
see <olink targetptr="dhcp-admin-21" remap="internal">Creating DHCP Options and Macros for
Solaris Installation Parameters</olink>.</para>
</listitem>
</varlistentry><varlistentry><term><replaceable>client_name</replaceable></term><listitem><para>Is the name of the system to be installed from
the network. This name is <emphasis>not</emphasis> the host name of the install
server.</para>
</listitem>
</varlistentry><varlistentry><term><replaceable>platform_group</replaceable></term><listitem><para>Is the platform group of the system to
be installed. A detailed list of platform groups appears in <olink targetdoc="solinstallpbiu" targetptr="kernelarchs-34565" remap="external"><citetitle remap="section">Platform Names and Groups</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Planning for Installation and Upgrade</citetitle></olink>.</para>
</listitem>
</varlistentry>
</variablelist>
</step>
</procedure><example id="gbxcm" arch="sparc"><title>Adding a SPARC Install Client on a SPARC Install Server When Using
DHCP (CDs)</title><para>The following example
illustrates how to add an install client when you are using DHCP to set installation
parameters on the network. The install client is named <literal>basil</literal>,
which is an Ultra 5 system. The file system <filename>/export/home/cdsparc/Solaris_11/Tools</filename> contains the <command>add_install_client</command> command.</para><para>For more information on how to use DHCP to set installation parameters
for network installations, see <olink targetptr="dhcp-admin-38" remap="internal">Preconfiguring System Configuration Information
With the DHCP Service (Tasks)</olink>.</para><screen><replaceable>sparc_install_server</replaceable># <userinput>cd /export/home/cdsparc/Solaris_11/Tools</userinput>
<replaceable>sparc_install_server</replaceable># <userinput>./add_install_client -d basil sun4u</userinput></screen>
</example><example id="gbxcf"><title>Adding an Install Client That Is on the Same Subnet as Its Server (CDs)</title><para>The following example
illustrates how to add an install client that is on the same subnet as the
install server. The install client is named <literal>basil</literal>, which
is an Ultra 5 system. The file system <filename>/export/home/cdsparc/Solaris_11/Tools</filename> contains the <command>add_install_client</command> command.</para><screen><replaceable>install_server</replaceable># <userinput>cd /export/home/cdsparc/Solaris_11/Tools</userinput>
<replaceable>install_server</replaceable># <userinput>./add_install_client basil sun4u</userinput></screen>
</example><example id="gbxci"><title>Adding an Install Client to a Boot Server (CDs)</title><para>The following
example illustrates how to add an install client to a boot server. The install
client is named <literal>rose</literal>, which is an Ultra 5 system. Run the
command on the boot server. The <option>s</option> option is used to specify
an install server that is named <literal>rosemary</literal>, which contains
a current Solaris release CD image in <filename>/export/home/cdsparc</filename>.</para><screen width="80100"><replaceable>boot_server</replaceable># <userinput>cd /export/home/cdsparc/Solaris_11/Tools</userinput>
<replaceable>boot_server</replaceable># <userinput>./add_install_client -s rosemary:/export/home/cdsparc rose sun4u</userinput></screen>
</example><example id="gbxch" arch="x86"><title>Adding a Single x86 Install Client on an x86 Install Server When Using
DHCP (CD)</title><para>The
following example illustrates how to add an x86 install client to an install
server when you are using DHCP to set installation parameters on the network. </para><itemizedlist><listitem><para>The <option>d</option> option is used to specify that clients
are to use the DHCP protocol for configuration. If you plan to use PXE network
boot, you must use the DHCP protocol.</para>
</listitem><listitem><para>The <option>e</option> option indicates that this installation
will only occur on the client with the Ethernet address 00:07:e9:04:4a:bf
.</para>
</listitem><listitem><para>The <option>s</option> option is used to specify that the
clients are to be installed from the install server that is named <literal>rosemary</literal>.</para><para>This server contains a Solaris Operating System for x86 Platforms DVD image in <filename>/export/home/cdx86</filename>.</para>
</listitem>
</itemizedlist><screen width="80100"><replaceable>x86_install_server</replaceable># <userinput>cd /export/boot/cdx86/Solaris_11/Tools</userinput>
<replaceable>x86_install_server</replaceable># <userinput>./add_install_client -d -e 00:07:e9:04:4a:bf \ 
-s rosemary:/export/home/cdx86 i86pc</userinput></screen><para>The previous commands set up the client with the Ethernet address 00:07:e9:04:4a:bf
as an installation client. The boot file <filename>010007E9044ABF.i86pc</filename> is
created on the installation server. In previous releases, this boot file was
named <filename>nbp.010007E9044ABF.i86pc</filename>.</para><para>For more information on how to use DHCP to set installation parameters
for network installations, see <olink targetptr="dhcp-admin-38" remap="internal">Preconfiguring
System Configuration Information With the DHCP Service (Tasks)</olink>.</para>
</example><example id="gbxcr" arch="x86"><title>Specifying a Serial Console to Use During a Network Installation (CDs)</title><para>The following example illustrates how to add an x86 install client
to an install server and specify a serial console to use during the installation.
This example sets up the install client in the following manner.</para><itemizedlist><listitem><para>The <option>d</option> option indicates that the client is
set up to use DHCP to set installation parameters.</para>
</listitem><listitem><para>The <option>e</option> option indicates that this installation
will occur only on the client with the Ethernet address 00:07:e9:04:4a:bf.</para>
</listitem><listitem><para>The <option>b</option> option instructs the installation program
to use the serial port <literal>ttya</literal> as an input and an output device.</para>
</listitem>
</itemizedlist><para>Add the client.</para><screen width="80100"><replaceable>install server</replaceable># <userinput>cd /export/boot/cdx86/Solaris_11/Tools</userinput>
<replaceable>install server</replaceable># <userinput>./add_install_client -d -e "00:07:e9:04:4a:bf" \
-b "console=ttya" i86pc</userinput></screen><para>For a complete description of the boot property variables and values
you can use with the <option>b</option> option, see the <olink targetdoc="refman1m" targetptr="eeprom-1m" remap="external"><citerefentry><refentrytitle>eeprom</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink> man page.</para>
</example><taskrelated-custom><title>Continuing the Installation</title><para>If you are using a DHCP server to install the x86 based client over
the network, configure the DHCP server and create the options and macros that
are listed in the output of the <command>add_install_client -d</command> command.
For instructions about how to configure a DHCP server to support network installations,
see <olink targetptr="dhcp-admin-38" remap="internal">Preconfiguring System Configuration Information
With the DHCP Service (Tasks)</olink>.</para><para><emphasis role="strong">x86 based systems:</emphasis> If you are not
using a DHCP server, you must boot the system from a local Solaris OS DVD
or CD.</para>
</taskrelated-custom><taskrelated role="see-also"><para>For additional information about the <command>add_install_client</command> command,
see <olink targetdoc="refman1m" targetptr="install-scripts-1m" remap="external"><citerefentry><refentrytitle>install_scripts</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink>.</para>
</taskrelated>
</task>
</sect1><sect1 id="eyavd"><title>Installing the System From the Network With a CD
Image</title><para>After you add the system as an installation client, you can install
the client from the network. This section describes the following tasks.</para><itemizedlist><listitem><para>See <olink targetptr="eyawf" remap="internal">To Install the Client Over the
Network (CDs)</olink> for instructions about how to boot and install SPARC
based systems over the network.</para>
</listitem><listitem><para>See <olink targetptr="gazug" remap="internal">To Install the Client Over the
Network  With GRUB (CDs)</olink> for instructions about how to boot and install
x86 based systems over the network.</para>
</listitem>
</itemizedlist><task id="eyawf" arch="sparc"><title>To Install the Client Over the Network
(CDs)</title><taskprerequisites><para>This procedure assumes that you have completed the following tasks.</para><itemizedlist><listitem><para>Set up an install server. For instructions about how to create
an install server from CD media, see <olink targetptr="netinstall-50" remap="internal">To Create
a SPARC Install Server With SPARC or x86 CD Media</olink>.</para>
</listitem><listitem><para>Set up a boot server or a DHCP server, if necessary. If the
system you want to install is on a different subnet than the installation
server, you must set up a boot server, or use a DHCP server. For instructions
about how to set up a boot server, see <olink targetptr="netinstall-38" remap="internal">Creating
a Boot Server on a Subnet With a CD Image</olink>. For instructions about
how to set up a DHCP server to support network installations, see <olink targetptr="dhcp-admin-38" remap="internal">Preconfiguring System Configuration Information
With the DHCP Service (Tasks)</olink>.</para>
</listitem><listitem><para>Gathered or preconfigured the information you need to install.
You can perform this task in one or more of the following ways.</para><itemizedlist><listitem><para>Gather the information in <olink targetdoc="solinstallpbiu" targetptr="gatherinfo-2" remap="external"><citetitle remap="section">Checklist for Installation</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Planning for Installation and Upgrade</citetitle></olink>.</para>
</listitem><listitem><para>Create a <filename>sysidcfg</filename> file if you use a <filename>sysidcfg</filename> file to preconfigure system information. For information
about how to create a <filename>sysidcfg</filename> file, see <olink targetptr="preconsysid-55534" remap="internal">Preconfiguring With the sysidcfg File</olink>.</para>
</listitem><listitem><para>Set up a name server if you use a naming service to preconfigure
system information. For information about how to preconfigure information
with a naming service, see <olink targetptr="preconsysid-41345" remap="internal">Preconfiguring
With the Naming Service</olink>.</para>
</listitem><listitem><para>Create a profile in the JumpStart directory on the profile
server if you are using the custom JumpStart installation method. For information
about how to set up a custom JumpStart installation, see <olink targetdoc="solinstalladv" targetptr="preparecustom-56440" remap="external">Chapter 3, <citetitle remap="chapter">Preparing Custom JumpStart Installations (Tasks),</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</citetitle></olink>.</para>
</listitem>
</itemizedlist>
</listitem>
</itemizedlist>
</taskprerequisites><procedure><step><para>Turn on the client system.</para><para>If the system is currently
running, bring the system to run level 0.</para><para>The <command>ok</command> prompt
is displayed.</para>
</step><step><para>Boot the system from the network.</para><stepalternatives><step><para>To install with the Solaris interactive installation GUI, type
the following command.</para><screen>ok <userinput>boot net</userinput></screen>
</step><step><para>To install with the Solaris interactive text installer in a desktop
session, type the following command.</para><screen>ok <userinput>boot net - text</userinput></screen>
</step><step><para>To install with the Solaris interactive text installer in a console
session, type the following command.</para><screen>ok <userinput>boot net - nowin</userinput></screen>
</step>
</stepalternatives><para>The system boots from the network.</para>
</step><step><para>If you are prompted, answer the system configuration questions.</para><itemizedlist><listitem><para>If you preconfigured all of the system information, the installation
program does not prompt you to enter any configuration information. See <olink targetptr="preconsysid-15630" remap="internal">Chapter&nbsp;2, Preconfiguring
System Configuration Information (Tasks)</olink> for more information.</para>
</listitem><listitem><para>If you did not preconfigure all the system information, use
the <olink targetdoc="solinstallpbiu" targetptr="gatherinfo-2" remap="external"><citetitle remap="section">Checklist for Installation</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Planning for Installation and Upgrade</citetitle></olink>to
help you answer the configuration questions.</para><note><para>If the keyboard is self-identifying, the keyboard layout automatically
configures during installation. If the keyboard is not self-identifying, you
can select from a list of supported keyboard layouts during installation.</para><para>PS/2 keyboards are not self-identifying. You will be asked to select
the keyboard layout during the installation.</para><para>For further information,
see <olink targetptr="gdxwg" remap="internal">keyboard Keyword</olink>.</para>
</note><note><para>During installation, you can choose the default NFSv4 domain name. Or,
you can specify a custom NFSv4 domain name. For further information, see <olink targetptr="gciml" remap="internal">nfs4_domain
Keyword</olink>.</para>
</note>
</listitem>
</itemizedlist><para>If you are using the GUI, after you confirm the system configuration
information, the Welcome to Solaris panel appears.</para>
</step><step><para>If you are prompted, answer any additional questions to complete
your installation.</para><stepalternatives><step><para>If you preconfigured all of the installation options, the installation
program does not prompt you to enter any installation information. See <olink targetptr="preconsysid-15630" remap="internal">Chapter&nbsp;2, Preconfiguring
System Configuration Information (Tasks)</olink> for more information.</para>
</step><step><para>If you did not preconfigure all the installation options, use
the <olink targetdoc="solinstallpbiu" targetptr="gatherinfo-2" remap="external"><citetitle remap="section">Checklist for Installation</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Planning for Installation and Upgrade</citetitle></olink> to
help you answer the installation questions.</para>
</step>
</stepalternatives>
</step>
</procedure><taskrelated role="see-also"><para>For information about how to complete an interactive installation with
the Solaris installation GUI, see <olink targetdoc="solarisinstall" targetptr="webstart-42" remap="external"><citetitle remap="section">To Install or Upgrade With the Solaris Installation Program With GRUB</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Basic Installations</citetitle></olink>.</para>
</taskrelated>
</task><task id="gazug" arch="x86"><title>To Install the Client Over the Network
 With GRUB (CDs)</title><tasksummary><para>The Solaris installation programs for x86 based systems use the GRUB
boot loader. This procedure describes how to install an x86 based system over
the network with the GRUB boot loader. For overview information about the
GRUB boot loader, see <olink targetdoc="solinstallpbiu" targetptr="grub-1" remap="external">Chapter 6, <citetitle remap="chapter">GRUB Based Booting for Solaris Installation,</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Planning for Installation and Upgrade</citetitle></olink>.</para><para>To
install the system over the network, you must instruct the client system to
boot over the network. Enable network boot on the client system by using the
BIOS setup program in the system BIOS, the network adapter BIOS, or both.
On some systems, you must also adjust the boot device priority list so that
network boot is attempted before booting from other devices. See the manufacturer's
documentation for each setup program, or watch for setup program instructions
during boot.</para>
</tasksummary><taskprerequisites><para>This procedure assumes that you have completed the following tasks.</para><itemizedlist><listitem><para>Set up an install server. For instructions about how to create
an install server from CD media, see <olink targetptr="netinstall-104" remap="internal">To
Create an x86 Install Server With SPARC or x86 DVD Media</olink>.</para>
</listitem><listitem><para>Set up a boot server or a DHCP server, if necessary. If the
system you want to install is on a different subnet than the installation
server, you must set up a boot server, or use a DHCP server. For instructions
about how to set up a boot server, see <olink targetptr="netinstalldvd-38" remap="internal">Creating
a Boot Server on a Subnet With a DVD Image</olink>. For instructions about
how to set up a DHCP server to support network installations, see <olink targetptr="dhcp-admin-38" remap="internal">Preconfiguring System Configuration Information
With the DHCP Service (Tasks)</olink>.</para>
</listitem><listitem><para>Gathered or preconfigured the information you need to install.
You can perform this task in one or more of the following ways.</para><itemizedlist><listitem><para>Gather the information in <olink targetdoc="solinstallpbiu" targetptr="gatherinfo-2" remap="external"><citetitle remap="section">Checklist for Installation</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Planning for Installation and Upgrade</citetitle></olink>.</para>
</listitem><listitem><para>Create a <filename>sysidcfg</filename> file if you use a <filename>sysidcfg</filename> file to preconfigure system information. For information
about how to create a <filename>sysidcfg</filename> file, see <olink targetptr="preconsysid-55534" remap="internal">Preconfiguring With the sysidcfg File</olink>.</para>
</listitem><listitem><para>Set up a name server if you use a naming service to preconfigure
system information. For information about how to preconfigure information
with a naming service, see <olink targetptr="preconsysid-41345" remap="internal">Preconfiguring
With the Naming Service</olink>.</para>
</listitem><listitem><para>Create a profile in the JumpStart directory on the profile
server if you are using the custom JumpStart installation method. For information
about how to set up a custom JumpStart installation, see <olink targetdoc="solinstalladv" targetptr="preparecustom-56440" remap="external">Chapter 3, <citetitle remap="chapter">Preparing Custom JumpStart Installations (Tasks),</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</citetitle></olink>.</para>
</listitem>
</itemizedlist>
</listitem>
</itemizedlist><para>This procedure also assumes that your system can boot from the network.</para>
</taskprerequisites><procedure><step><para>Turn on the system.</para>
</step><step><para>Type the appropriate keystroke combination to enter the system
BIOS.</para><para>Some PXE-capable network adapters have a feature that enables
PXE boot if you type a particular keystroke in response to a brief boot-time
prompt. </para>
</step><step><para>In the system BIOS, instruct the system to boot from the network.</para><para>See your hardware documentation for information about how to set the
boot priority in the BIOS.</para>
</step><step><para>Exit the BIOS.</para><para>The system boots from the network.
The GRUB menu is displayed.</para><note><para>The GRUB menu that is displayed on your system might vary from
the following sample, depending on the configuration of your network installation
server.</para>
</note><screen remap="toolong">GNU GRUB version 0.95 (631K lower / 2095488K upper memory)
+-----------------------------------------------------------------------------------------------------------+
| Solaris Express 5/07 /cdrom0                                                           
|                                                                                                           |
|                                                                                                           |
+-----------------------------------------------------------------------------------------------------------+
Use the ^ and v keys to select which entry is highlighted.
Press enter to boot the selected OS, 'e' to edit the
commands before booting, or 'c' for a command-line.</screen>
</step><step><para>Select the appropriate
installation option.</para><stepalternatives><step><para>To install the Solaris OS from the network, select the appropriate
Solaris entry on the menu, then press Enter.</para><para>Select this entry
if you want to install from the network installation server you set up in <olink targetptr="netinstall-104" remap="internal">To Create an x86 Install Server With SPARC or x86
DVD Media</olink>.</para>
</step><step><para>To install the Solaris OS from the network with specific boot
arguments, follow these steps.</para><para>You might need to set specific
boot arguments if you want to modify the device configuration during the installation,
and did not set these boot arguments previously with the <command>add_install_client</command> command as described in <olink targetptr="netinstalldvd-37293" remap="internal">To
Add Systems to Be Installed From the Network With add_install_client (DVD)</olink>.</para><substeps><step><para>On the GRUB menu, select the installation option you want to edit,
then press e.</para><para>Boot commands that are similar to the following
text are displayed in the GRUB menu.</para><screen>kernel$ /I86PC.Solaris_11-30/platform/i86pc/kernel/unix \
     -B install_media=192.168.79.61:/export/Solaris_11-30 
module$ /I86PC.Solaris_11-30/boot_archive</screen><note><para><emphasis role="strong">Starting with the 5/07 Developer release,</emphasis> GRUB has
enhanced support for directly booting the <literal>unix</literal> kernel.
See <olink targetptr="gazva" remap="internal">GRUB Menu Commands for Installation</olink>.</para>
</note>
</step><step><para>Use the arrow keys to select the boot entry that you want to edit,
then press e.</para><para>The boot command that you want to edit is displayed
in the GRUB edit window.</para>
</step><step><para>Edit the command by typing the boot arguments or options you want
to use.</para><para>The command syntax for the Grub edit menu is as follows.</para><screen>grub edit>kernel$ /<replaceable>image_directory</replaceable>/<replaceable>$ISADIR</replaceable>/kernel/unix/ \
<userinput>install</userinput> [<replaceable>url</replaceable>|<userinput>ask</userinput>] -B <replaceable>options</replaceable> install_media=<replaceable>media_type</replaceable></screen><note><para><replaceable>$ISADIR</replaceable> resolves to <literal>amd64</literal> for
64-bit hardware and to null for 32-bit hardware.</para>
</note><para>For information about boot arguments and command syntax, see <olink targetptr="gazua" remap="internal">Table 8&ndash;1</olink>.</para>
</step><step><para>To accept your edits and return to the GRUB menu, press Enter.</para><note><para>To cancel your edits
and return to the GRUB menu, press Escape.</para>
</note><para>The
GRUB menu is displayed. The edits you made to the boot command are displayed.</para>
</step><step><para>To begin the installation, type <userinput>b</userinput> in the
GRUB menu.</para>
</step>
</substeps>
</step>
</stepalternatives><para>The Solaris installation program checks the default boot disk for the requirements
to install or upgrade the system. If the Solaris installation cannot detect the
system configuration, the program prompts you for any missing information.</para><para>When the check is completed, the installation selection screen is displayed.</para>
</step><step><para>Select an installation type.</para><para>The
installation selection screen displays the following options.</para><screen>      Select the type of installation you want to perform:

         1 Solaris Interactive
         2 Custom JumpStart
         3 Solaris Interactive Text (Desktop session)
         4 Solaris Interactive Text (Console session)
         5 Apply driver updates
         6 Single user shell

         Enter the number of your choice followed by the &lt;ENTER> key.
         Alternatively, enter custom boot arguments directly.

         If you wait 30 seconds without typing anything,
         an interactive installation will be started.</screen><stepalternatives><step><para>To install the Solaris OS, choose from the following options.</para><stepalternatives><step><para>To install with the Solaris interactive installation GUI, type
1, then press Enter.</para>
</step><step><para>To
install with the interactive text installer in a desktop session, type 3,
then press Enter.</para><para>Select this installation type to override the
default GUI installer and run the text installer.</para>
</step><step><para>To
install with the interactive text installer in a console session, type 4,
then press Enter.</para><para>Select this installation type to override the
default GUI installer and run the text installer.</para>
</step>
</stepalternatives><para>If you want to perform an unattended custom JumpStart installation (option
2), see <olink targetdoc="solinstalladv" remap="external"><citetitle remap="book">Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</citetitle></olink>.</para><para>For detailed information about the Solaris installation GUI and
text installer, see <olink targetdoc="solinstallpbiu" targetptr="webstart-83" remap="external"><citetitle remap="section">System Requirements and Recommendations</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Planning for Installation and Upgrade</citetitle></olink>.</para><para>The system configures the devices
and interfaces, and searches for configuration files. The installation program
begins. Go to <olink targetptr="config-step" remap="internal">Step&nbsp;7</olink> to continue
the installation.</para>
</step><step><para>To perform system administration tasks before your installation,
choose from the following options.</para><stepalternatives><step><para>To update drivers or install an install time update (ITU), insert
the update media, type 5, then press Enter.</para><para>You might need to
update drivers or install an ITU to enable the Solaris OS to run on your system.
Follow the instructions for your driver update or ITU to install the update.</para>
</step><step><para>To perform system administration tasks, type 6, then press Enter.</para><para>You might want to launch a single user shell if you need to perform
any system administration tasks on your system before you install. For information
about system administration tasks you can perform prior to installation, see <olink targetdoc="sysadv1" remap="external"><citetitle remap="book">System Administration Guide: Basic Administration</citetitle></olink>.</para>
</step>
</stepalternatives><para>After you perform these system administration tasks, the previous list
of options is displayed. Select the appropriate option to continue the installation.</para>
</step>
</stepalternatives>
</step><step id="gaztm"><para>If you are prompted, answer the system configuration
questions.</para><itemizedlist><listitem><para>If you preconfigured all of the system information, the installation
program does not prompt you to enter any configuration information. See <olink targetptr="preconsysid-15630" remap="internal">Chapter&nbsp;2, Preconfiguring
System Configuration Information (Tasks)</olink> for more information.</para>
</listitem><listitem><para>If you did not preconfigure all the system information, use
the <olink targetdoc="solinstallpbiu" targetptr="gatherinfo-2" remap="external"><citetitle remap="section">Checklist for Installation</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Planning for Installation and Upgrade</citetitle></olink> to
help you answer the configuration questions.</para><note><para>If the keyboard is self-identifying, the keyboard layout automatically
configures during installation. If the keyboard is not self-identifying, you
can select from a list of supported keyboard layouts during installation.</para><para>For further information, see <olink targetptr="gdxwg" remap="internal">keyboard Keyword</olink>.</para>
</note><note><para>During installation, you can choose
the default NFSv4 domain name. Or, you can specify a custom NFSv4 domain name.
For further information, see <olink targetptr="gciml" remap="internal">nfs4_domain Keyword</olink>.</para>
</note>
</listitem>
</itemizedlist><para>If you are using the installation GUI, after you confirm the system
configuration information, the Welcome to Solaris panel appears.</para>
</step><step><para>If you are prompted, answer any additional questions to complete
your installation.</para><stepalternatives><step><para>If you preconfigured all of the installation options, the installation
program does not prompt you to enter any installation information. See <olink targetptr="preconsysid-15630" remap="internal">Chapter&nbsp;2, Preconfiguring
System Configuration Information (Tasks)</olink> for more information.</para>
</step><step><para>If you did not preconfigure all the installation options, use
the <olink targetdoc="solinstallpbiu" targetptr="gatherinfo-2" remap="external"><citetitle remap="section">Checklist for Installation</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Planning for Installation and Upgrade</citetitle></olink> to
help you answer the installation questions.</para>
</step>
</stepalternatives>
</step><step><para>After the system boots and installs over the network, instruct
the system to boot from the disk drive on subsequent boots.</para><note><para>When you boot the system after the installation, a GRUB menu lists
the operating systems that are installed, including the newly-installed Solaris
OS. Select which operating system you want to boot. The default selection
loads if you do not make another selection.</para>
</note>
</step>
</procedure><taskrelated-custom><title>Next Steps</title><para>If you install multiple operating systems on your machine, you need
to instruct the GRUB boot loader to recognize these operating systems in order
to boot. For more information, see <olink targetdoc="sysadv1" targetptr="fwbee" remap="external"><citetitle remap="section">Modifying Boot Behavior</citetitle> in <citetitle remap="book">System Administration Guide: Basic Administration</citetitle></olink>.</para>
</taskrelated-custom><taskrelated role="see-also"><para>For information about how to complete an interactive installation with
the Solaris installation GUI, see <olink targetdoc="solarisinstall" targetptr="webstart-42" remap="external"><citetitle remap="section">To Install or Upgrade With the Solaris Installation Program With GRUB</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Basic Installations</citetitle></olink>.</para>
</taskrelated>
</task>
</sect1>
</chapter>