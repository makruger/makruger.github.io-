<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Adding Systems to Be Installed From the Network With a CD Image - Solaris Express Installation Guide: Network-Based Installations</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Express Installation Guide: Network-Based Installations</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="netinstall-38.html">Previous</a>
             </td>
             <td align="right">
                 <a href="eyavd.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="ejusv.html">Part&nbsp;I&nbsp;Planning to Install Over the Network</a></p>
<p class="toc level2"><a href="intro-1.html">1.&nbsp;&nbsp;Where to Find Solaris Installation Planning Information</a></p>
<p class="toc level2"><a href="preconsysid-15630.html">2.&nbsp;&nbsp;Preconfiguring System Configuration Information (Tasks)</a></p>
<p class="toc level2"><a href="preconsysid_adv-15630.html">3.&nbsp;&nbsp;Preconfiguring With a Naming Service or DHCP</a></p>
<p class="toc level1 tocsp"><a href="ejurp.html">Part&nbsp;II&nbsp;Installing Over a Local Area Network</a></p>
<p class="toc level2"><a href="netinstalloverview-28995.html">4.&nbsp;&nbsp;Installing From the Network (Overview)</a></p>
<p class="toc level2"><a href="netinstalldvd-28995.html">5.&nbsp;&nbsp;Installing From the Network With DVD Media (Tasks)</a></p>
<p class="toc level2"><a href="netinstall-28995.html">6.&nbsp;&nbsp;Installing From the Network With CD Media (Tasks)</a></p>
<p class="toc level3"><a href="netinstall-23938.html">Task Map: Installing From the Network With CD Media</a></p>
<p class="toc level3"><a href="netinstallcd-94672.html">SPARC: Creating a SPARC Install Server With CD Media</a></p>
<p class="toc level4"><a href="netinstallcd-94672.html#netinstall-50">SPARC: To Create a SPARC Install Server With SPARC or x86 CD Media</a></p>
<p class="toc level3 tocsp"><a href="netinstallcd-iaia.html">x86: Creating an x86 Install Server With CD Media</a></p>
<p class="toc level4"><a href="netinstallcd-iaia.html#netinstallcd-iaiaserver">x86: To Create an x86 Install Server With x86 CD Media</a></p>
<p class="toc level3 tocsp"><a href="netinstall-35.html">Creating a Cross-Platform Install Server for CD Media</a></p>
<p class="toc level4"><a href="netinstall-35.html#netinstall-72q">To Create a SPARC Install Server on an x86 System With SPARC CD Media</a></p>
<p class="toc level3 tocsp"><a href="netinstall-38.html">Creating a Boot Server on a Subnet With a CD Image</a></p>
<p class="toc level4"><a href="netinstall-38.html#netinstall-71584">To Create a Boot Server on a Subnet With a CD Image</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Adding Systems to Be Installed From the Network With a CD Image</a></p>
<p class="toc level4"><a href="#gbxck">To Add Systems to Be Installed From the Network With <tt>add_install_client</tt> (CDs)</a></p>
</div>
<p class="toc level3 tocsp"><a href="eyavd.html">Installing the System From the Network With a CD Image</a></p>
<p class="toc level4"><a href="eyavd.html#eyawf">SPARC: To Install the Client Over the Network (CDs)</a></p>
<p class="toc level4"><a href="eyavd.html#gazug">x86: To Install the Client Over the Network  With GRUB (CDs)</a></p>
<p class="toc level2 tocsp"><a href="netinstall-examples.html">7.&nbsp;&nbsp;Installing Over the Network (Examples)</a></p>
<p class="toc level2"><a href="netinstallref-28995.html">8.&nbsp;&nbsp;Installing From the Network (Command Reference)</a></p>
<p class="toc level1 tocsp"><a href="ejurz.html">Part&nbsp;III&nbsp;Installing Over a Wide Area Network</a></p>
<p class="toc level2"><a href="wanbootoverview-1.html">9.&nbsp;&nbsp;WAN Boot (Overview)</a></p>
<p class="toc level2"><a href="wanbootplanning-1.html">10.&nbsp;&nbsp;Preparing to Install With WAN Boot (Planning)</a></p>
<p class="toc level2"><a href="wanboottasks-1.html">11.&nbsp;&nbsp;Installing With WAN Boot (Tasks)</a></p>
<p class="toc level2"><a href="waninstalltasks-2.html">12.&nbsp;&nbsp;SPARC: Installing With WAN Boot (Tasks)</a></p>
<p class="toc level2"><a href="wanbootexamples-1.html">13.&nbsp;&nbsp;SPARC: Installing With WAN Boot (Examples)</a></p>
<p class="toc level2"><a href="wanbootref-1.html">14.&nbsp;&nbsp;WAN Boot (Reference)</a></p>
<p class="toc level1 tocsp"><a href="appendixpart.html">Part&nbsp;IV&nbsp;Appendixes</a></p>
<p class="toc level2"><a href="troubleshooting-9.html">A.&nbsp;&nbsp;Troubleshooting (Tasks)</a></p>
<p class="toc level2"><a href="remotecd-2.html">B.&nbsp;&nbsp;Installing or Upgrading Remotely (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="netinstall-40778"></a><h3>Adding Systems to Be Installed From the Network With a CD Image</h3>
<p><a name="netinstallcd-ix210"></a><a name="netinstallcd-ix215"></a>After you create an install server and, if necessary, a boot server, you
must set up each system that you want to install from the
network. Each system that you want to install needs to find the following:</p>
<ul><li><p>An install server</p></li>
<li><p>A boot server if it is required</p></li>
<li><p>The <tt>sysidcfg</tt> file if you use a <tt>sysidcfg</tt> file to preconfigure system information</p></li>
<li><p>A name server if you use a naming service to preconfigure system information</p></li>
<li><p>The profile in the JumpStart directory on the profile server if you are using the custom JumpStart installation method</p></li></ul>


<a name="gbxck"></a><h4>To Add Systems to Be Installed From the Network With <tt>add_install_client</tt> (CDs)</h4><p>After you create an install server, you must set up each system
that you want to install from the network.</p><p>Use the following <tt>add_install_client</tt> procedure for set up an x86 client to install
from the network.</p><h6>Before You Begin</h6><p>If you have a boot server, make sure you have shared the
install server installation image. See the procedure &ldquo;To Create an Install Server,&rdquo; <a href="netinstallcd-94672.html#netinstall-step-200">Step&nbsp;6</a>.</p><p>Each system that you want to install needs to find the following
items.</p>
<ul><li><p>An install server</p></li>
<li><p>A boot server if it is required</p></li>
<li><p>The <tt>sysidcfg</tt> file if you use a <tt>sysidcfg</tt> file to preconfigure system information</p></li>
<li><p>A name server if you use a naming service to preconfigure system information</p></li>
<li><p>The profile in the JumpStart directory on the profile server if you are using the custom JumpStart installation method</p></li></ul>
<ol>
<li><a name="gbxco"></a><b>On the install server or boot server, become superuser or assume an equivalent
role.</b></li>
<li><a name="gbxcn"></a><b>If you use the NIS, NIS+, DNS, or LDAP naming service, verify that
the following information about the system to be installed has been added to
the naming service:</b>
<ul><li><p>Host name</p></li>
<li><p>IP address</p></li>
<li><p>Ethernet address</p></li></ul>
<p>For more information about naming services, see <a href="http://docs.sun.com/doc/819-3194"><i>System Administration Guide: Naming and Directory Services (DNS, NIS, and LDAP)</i></a>.</p></li>
<li><a name="gbxcq"></a><b>Change to the <tt>Tools</tt> directory on the current Solaris release CD image on
the install server:</b><pre># <tt><b>cd /</tt><i>install_dir_path</i><tt>/Solaris_11/Tools</b></tt></pre><dl><dt><i>install_dir_path</i></dt>
<dd><p>Specifies the path to the <tt>Tools</tt> directory</p></dd>
</dl>
</li>
<li><b>Add the client to the install server's <tt>/etc/ethers</tt> file.</b><ol style="list-style-type: lower-alpha">
				 
<li><b>On the client, find the ethers address. The <tt>/etc/ethers</tt> map is taken from
the local file.</b><pre># <tt><b>ifconfig -a grep ether</b></tt>
ether 8:0:20:b3:39:1d</pre></li>
<li><b>On the install server, open the <tt>/etc/ethers</tt> file in an editor. Add the
address to the list.</b></li></ol></li>
<li><a name="gbxce"></a><b>Set up the client system to be installed from the network.</b><pre># <tt><b>./add_install_client</b></tt> <tt><b>-d</b></tt> <tt><b>-s</b></tt> <i>install_server:install_dir_path</i> \
<tt><b>-c </tt><i>jumpstart_server</i><tt>:</tt><i>jumpstart_dir_path</i><tt></b></tt>   <tt><b>-p </tt><i>sysid_server</i><tt>:</tt><i>path</i><tt></b></tt> \
  <tt><b>-t</b></tt> <i>boot_image_path</i> <tt><b>-b</b></tt> "<i>network_boot_variable</i>=<i>value</i>" \
<tt><b>-e</b></tt> <i>ethernet_address</i> <tt><b></tt><i>client_name</i><tt> </tt><i>platform_group</i><tt></b></tt> </pre><dl><dt><tt>-d</tt></dt>
<dd><p><a name="indexterm-123"></a>Specifies that the client is to use DHCP to obtain the network install parameters. If you use the <tt>-d</tt> only, the <tt>add_install_client</tt> command sets up the installation information for client systems of the same class, for example, all SPARC client machines. To set up the installation information for a specific client, use the <tt>-d</tt> with the <tt>-e</tt> option.</p><p>For x86 clients, use this option to boot the systems from the network by using PXE network boot. The output of this option lists the DHCP options you need to create on the DHCP server.</p><p>For more information about class-specific installations by using DHCP, see <a href="dhcp-admin-38.html#dhcp-admin-21">Creating DHCP Options and Macros for Solaris Installation Parameters</a>.</p></dd>
<dt><tt>-s</tt> <i>install_server:install_dir_path</i></dt>
<dd><p>Specifies the name and path to the install server.</p>
<ul><li><p><i>install_server</i> is the host name of the install server</p></li>
<li><p><i>install_dir_path</i> is the absolute path to the current Solaris release CD image</p></li></ul>
</dd>
<dt><tt>-c</tt> <i>jumpstart_server</i><tt>:</tt><i>jumpstart_dir_path</i></dt>
<dd><p><a name="gbxcb"></a>Specifies a JumpStart directory for custom JumpStart installations. <i>jumpstart_server</i> is the host name of the server on which the JumpStart directory is located. <i>jumpstart_dir_path</i> is the absolute path to the JumpStart directory.</p></dd>
<dt><tt>-p</tt> <i>sysid_server</i><tt>:</tt><i>path</i></dt>
<dd><p>Specifies the path to the <tt>sysidcfg</tt> file for preconfiguring system information. <i>sysid_server</i> is either a valid host name or an IP address for the server that contains the file. <i>path</i> is the absolute path to the directory containing the <tt>sysidcfg</tt> file.</p></dd>
<dt><tt>-t</tt> <i>boot_image_path</i></dt>
<dd><p>Specifies the path to an alternate boot image if you want to use a boot image other than the one in the Tools directory on the current Solaris release net installation image, CD, or DVD.</p></dd>
<dt><tt>-b</tt> &ldquo;<i>boot-property</i>=<i>value</i>&rdquo;</dt>
<dd><p><b>x86 based systems only:</b> Enables you to set the value of a boot property variable that you want to use to boot the client from the network. The <tt>-b</tt> must be used with the <tt>-e</tt> option.</p><p>See the <a href="http://docs.sun.com/doc/819-2240/eeprom-1m?a=view"><tt>eeprom</tt>(1M)</a> man page for descriptions of boot properties.</p></dd>
<dt><tt>-e</tt> <i>ethernet_address</i></dt>
<dd><p>Specifies the Ethernet address of the client that you want to install. This option enables you to set up the installation information to use for a specific client, including a boot file for that client.</p><p>The <tt>nbp.</tt> prefix is not used in boot file names. For example, if you specify <tt>-e 00:07:e9:04:4a:bf</tt> for an x86 based client, the command creates the boot file <tt>010007E9044ABF.i86pc</tt> in the <tt>/tftpboot</tt> directory. However, the Solaris Express 5/07 supports the use of legacy boot files with the <tt>nbp.</tt> prefix.</p><p>For more information about client-specific installations by using DHCP, see <a href="dhcp-admin-38.html#dhcp-admin-21">Creating DHCP Options and Macros for Solaris Installation Parameters</a>.</p></dd>
<dt><i>client_name</i></dt>
<dd><p><a name="gbxca"></a><a name="gbxcd"></a>Is the name of the system to be installed from the network. This name is <b>not</b> the host name of the install server.</p></dd>
<dt><i>platform_group</i></dt>
<dd><p><a name="gbxby"></a>Is the platform group of the system to be installed. A detailed list of platform groups appears in <a href="http://docs.sun.com/doc/820-0157/kernelarchs-34565?a=view">Platform Names and Groups in <i>Solaris Express Installation Guide: Planning for Installation and Upgrade</i></a>.</p></dd>
</dl>
</li></ol><a name="gbxcm"></a>Example&nbsp;6-6 SPARC: Adding a SPARC Install Client on a SPARC Install Server When Using DHCP (CDs)<p><a name="indexterm-124"></a>The following example illustrates how to add an install client when you are
using DHCP to set installation parameters on the network. The install client is
named <tt>basil</tt>, which is an Ultra 5 system. The file system <tt>/export/home/cdsparc/Solaris_11/Tools</tt> contains
the <tt>add_install_client</tt> command.</p><p>For more information on how to use DHCP to set installation parameters for
network installations, see <a href="dhcp-admin-38.html">Preconfiguring System Configuration Information With the DHCP Service (Tasks)</a>.</p><pre><i>sparc_install_server</i># <tt><b>cd /export/home/cdsparc/Solaris_11/Tools</b></tt>
<i>sparc_install_server</i># <tt><b>./add_install_client -d basil sun4u</b></tt></pre><a name="gbxcf"></a>Example&nbsp;6-7 Adding an Install Client That Is on the Same Subnet as Its Server (CDs)<p><a name="indexterm-125"></a>The following example illustrates how to add an install client that is on
the same subnet as the install server. The install client is named <tt>basil</tt>,
which is an Ultra 5 system. The file system <tt>/export/home/cdsparc/Solaris_11/Tools</tt> contains the <tt>add_install_client</tt>
command.</p><pre><i>install_server</i># <tt><b>cd /export/home/cdsparc/Solaris_11/Tools</b></tt>
<i>install_server</i># <tt><b>./add_install_client basil sun4u</b></tt></pre><a name="gbxci"></a>Example&nbsp;6-8 Adding an Install Client to a Boot Server (CDs)<p><a name="indexterm-126"></a>The following example illustrates how to add an install client to a boot
server. The install client is named <tt>rose</tt>, which is an Ultra 5 system.
Run the command on the boot server. The <tt>-s</tt> option is used to
specify an install server that is named <tt>rosemary</tt>, which contains a current Solaris release
CD image in <tt>/export/home/cdsparc</tt>.</p><pre><i>boot_server</i># <tt><b>cd /export/home/cdsparc/Solaris_11/Tools</b></tt>
<i>boot_server</i># <tt><b>./add_install_client -s rosemary:/export/home/cdsparc rose sun4u</b></tt></pre><a name="gbxch"></a>Example&nbsp;6-9 x86: Adding a Single x86 Install Client on an x86 Install Server When Using DHCP (CD)<p><a name="indexterm-127"></a>The following example illustrates how to add an x86 install client to an
install server when you are using DHCP to set installation parameters on the
network. </p>
<ul><li><p>The <tt>-d</tt> option is used to specify that clients are to use the DHCP protocol for configuration. If you plan to use PXE network boot, you must use the DHCP protocol.</p></li>
<li><p>The <tt>-e</tt> option indicates that this installation will only occur on the client with the Ethernet address 00:07:e9:04:4a:bf .</p></li>
<li><p>The <tt>-s</tt> option is used to specify that the clients are to be installed from the install server that is named <tt>rosemary</tt>.</p><p>This server contains a Solaris Operating System for x86 Platforms DVD image in <tt>/export/home/cdx86</tt>.</p></li></ul>
<pre><i>x86_install_server</i># <tt><b>cd /export/boot/cdx86/Solaris_11/Tools</b></tt>
<i>x86_install_server</i># <tt><b>./add_install_client -d -e 00:07:e9:04:4a:bf \ -s rosemary:/export/home/cdx86 i86pc</b></tt></pre><p>The previous commands set up the client with the Ethernet address 00:07:e9:04:4a:bf as
an installation client. The boot file <tt>010007E9044ABF.i86pc</tt> is created on the installation server.
In previous releases, this boot file was named <tt>nbp.010007E9044ABF.i86pc</tt>.</p><p>For more information on how to use DHCP to set installation parameters for
network installations, see <a href="dhcp-admin-38.html">Preconfiguring System Configuration Information With the DHCP Service (Tasks)</a>.</p><a name="gbxcr"></a>Example&nbsp;6-10 x86: Specifying a Serial Console to Use During a Network Installation (CDs)<p><a name="indexterm-128"></a><a name="indexterm-129"></a><a name="indexterm-130"></a>The following example illustrates how to add an x86 install client to an
install server and specify a serial console to use during the installation. This
example sets up the install client in the following manner.</p>
<ul><li><p>The <tt>-d</tt> option indicates that the client is set up to use DHCP to set installation parameters.</p></li>
<li><p>The <tt>-e</tt> option indicates that this installation will occur only on the client with the Ethernet address 00:07:e9:04:4a:bf.</p></li>
<li><p>The <tt>-b</tt> option instructs the installation program to use the serial port <tt>ttya</tt> as an input and an output device.</p></li></ul>
<p>Add the client.</p><pre><i>install server</i># <tt><b>cd /export/boot/cdx86/Solaris_11/Tools</b></tt>
<i>install server</i># <tt><b>./add_install_client -d -e "00:07:e9:04:4a:bf" \ -b "console=ttya" i86pc</b></tt></pre><p>For a complete description of the boot property variables and values you can
use with the <tt>-b</tt> option, see the <a href="http://docs.sun.com/doc/819-2240/eeprom-1m?a=view"><tt>eeprom</tt>(1M)</a> man page.</p><h6><h6>More Information</h6>Continuing the Installation<p>If you are using a DHCP server to install the x86 based
client over the network, configure the DHCP server and create the options and
macros that are listed in the output of the <tt>add_install_client -d</tt> command. For instructions about
how to configure a DHCP server to support network installations, see <a href="dhcp-admin-38.html">Preconfiguring System Configuration Information With the DHCP Service (Tasks)</a>.</p><p><b>x86 based systems:</b> If you are not using a DHCP server, you must boot the
system from a local Solaris OS DVD or CD.</p></h6><h6>See Also</h6><p>For additional information about the <tt>add_install_client</tt> command, see <a href="http://docs.sun.com/doc/819-2240/install-scripts-1m?a=view"><tt>install_scripts</tt>(1M)</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="netinstall-38.html">Previous</a>
             </td>
             <td align="right">
                 <a href="eyavd.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

