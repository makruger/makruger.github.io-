<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Creating a Cross-Platform Install Server for CD Media - Solaris Express Installation Guide: Network-Based Installations</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Express Installation Guide: Network-Based Installations</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="netinstallcd-iaia.html">Previous</a>
             </td>
             <td align="right">
                 <a href="netinstall-38.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="ejusv.html">Part&nbsp;I&nbsp;Planning to Install Over the Network</a></p>
<p class="toc level2"><a href="intro-1.html">1.&nbsp;&nbsp;Where to Find Solaris Installation Planning Information</a></p>
<p class="toc level2"><a href="preconsysid-15630.html">2.&nbsp;&nbsp;Preconfiguring System Configuration Information (Tasks)</a></p>
<p class="toc level2"><a href="preconsysid_adv-15630.html">3.&nbsp;&nbsp;Preconfiguring With a Naming Service or DHCP</a></p>
<p class="toc level1 tocsp"><a href="ejurp.html">Part&nbsp;II&nbsp;Installing Over a Local Area Network</a></p>
<p class="toc level2"><a href="netinstalloverview-28995.html">4.&nbsp;&nbsp;Installing From the Network (Overview)</a></p>
<p class="toc level2"><a href="netinstalldvd-28995.html">5.&nbsp;&nbsp;Installing From the Network With DVD Media (Tasks)</a></p>
<p class="toc level2"><a href="netinstall-28995.html">6.&nbsp;&nbsp;Installing From the Network With CD Media (Tasks)</a></p>
<p class="toc level3"><a href="netinstall-23938.html">Task Map: Installing From the Network With CD Media</a></p>
<p class="toc level3"><a href="netinstallcd-94672.html">SPARC: Creating a SPARC Install Server With CD Media</a></p>
<p class="toc level4"><a href="netinstallcd-94672.html#netinstall-50">SPARC: To Create a SPARC Install Server With SPARC or x86 CD Media</a></p>
<p class="toc level3 tocsp"><a href="netinstallcd-iaia.html">x86: Creating an x86 Install Server With CD Media</a></p>
<p class="toc level4"><a href="netinstallcd-iaia.html#netinstallcd-iaiaserver">x86: To Create an x86 Install Server With x86 CD Media</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Creating a Cross-Platform Install Server for CD Media</a></p>
<p class="toc level4"><a href="#netinstall-72q">To Create a SPARC Install Server on an x86 System With SPARC CD Media</a></p>
</div>
<p class="toc level3 tocsp"><a href="netinstall-38.html">Creating a Boot Server on a Subnet With a CD Image</a></p>
<p class="toc level4"><a href="netinstall-38.html#netinstall-71584">To Create a Boot Server on a Subnet With a CD Image</a></p>
<p class="toc level3 tocsp"><a href="netinstall-40778.html">Adding Systems to Be Installed From the Network With a CD Image</a></p>
<p class="toc level4"><a href="netinstall-40778.html#gbxck">To Add Systems to Be Installed From the Network With <tt>add_install_client</tt> (CDs)</a></p>
<p class="toc level3 tocsp"><a href="eyavd.html">Installing the System From the Network With a CD Image</a></p>
<p class="toc level4"><a href="eyavd.html#eyawf">SPARC: To Install the Client Over the Network (CDs)</a></p>
<p class="toc level4"><a href="eyavd.html#gazug">x86: To Install the Client Over the Network  With GRUB (CDs)</a></p>
<p class="toc level2 tocsp"><a href="netinstall-examples.html">7.&nbsp;&nbsp;Installing Over the Network (Examples)</a></p>
<p class="toc level2"><a href="netinstallref-28995.html">8.&nbsp;&nbsp;Installing From the Network (Command Reference)</a></p>
<p class="toc level1 tocsp"><a href="ejurz.html">Part&nbsp;III&nbsp;Installing Over a Wide Area Network</a></p>
<p class="toc level2"><a href="wanbootoverview-1.html">9.&nbsp;&nbsp;WAN Boot (Overview)</a></p>
<p class="toc level2"><a href="wanbootplanning-1.html">10.&nbsp;&nbsp;Preparing to Install With WAN Boot (Planning)</a></p>
<p class="toc level2"><a href="wanboottasks-1.html">11.&nbsp;&nbsp;Installing With WAN Boot (Tasks)</a></p>
<p class="toc level2"><a href="waninstalltasks-2.html">12.&nbsp;&nbsp;SPARC: Installing With WAN Boot (Tasks)</a></p>
<p class="toc level2"><a href="wanbootexamples-1.html">13.&nbsp;&nbsp;SPARC: Installing With WAN Boot (Examples)</a></p>
<p class="toc level2"><a href="wanbootref-1.html">14.&nbsp;&nbsp;WAN Boot (Reference)</a></p>
<p class="toc level1 tocsp"><a href="appendixpart.html">Part&nbsp;IV&nbsp;Appendixes</a></p>
<p class="toc level2"><a href="troubleshooting-9.html">A.&nbsp;&nbsp;Troubleshooting (Tasks)</a></p>
<p class="toc level2"><a href="remotecd-2.html">B.&nbsp;&nbsp;Installing or Upgrading Remotely (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="netinstall-35"></a><h3>Creating a Cross-Platform Install Server for CD Media</h3>
<p><a name="indexterm-118"></a><a name="indexterm-119"></a>This section explains how to create an x86 network installation image on a
SPARC system.</p><p>A remote x86 system is not required to create a SPARC install
server with x86 CD media. See <a href="netinstallcd-94672.html#netinstall-50">SPARC: To Create a SPARC Install Server With SPARC or x86 CD Media</a> for more information.</p>

<a name="netinstall-72q"></a><h4>To Create a SPARC Install Server on an x86 System With SPARC CD Media</h4><p>Use this procedure to create a SPARC install server on an x86
system with SPARC CD media.</p><p>In this procedure, <i>x86-system</i> is the x86 system that is to be the
install server and <i>remote-SPARC-system</i> is the remote SPARC system to be used with
the SPARC CD media.</p><h6>Before You Begin</h6><p>You need the following items to perform this task.</p>
<ul><li><p>An x86 system</p></li>
<li><p>A SPARC system with a CD-ROM drive</p></li>
<li><p>A set of CDs for the remote SPARC system</p>
<ul><li><p>Solaris Software for SPARC Platforms CDs</p></li>
<li><p>Solaris Languages for SPARC Platforms CDs</p></li></ul>
</li></ul>

<hr><p><b>Note - </b>This procedure assumes that the system is running the Volume Manager. If you
are not using the Volume Manager to manage media, refer to <a href="http://docs.sun.com/doc/819-2723"><i>System Administration Guide: Devices and File Systems</i></a>.</p>
<hr>
<ol>
<li><a name="netinstall-step-44ff"></a><b>On the remote SPARC system, become superuser or assume an equivalent role.</b><p>The system must include a CD-ROM drive and be part of the site's
network and naming service. If you use a naming service, the system must
also be in the NIS, NIS+, DNS, or LDAP naming service. If you
do not use a naming service, you must distribute information about this system
by following your site's policies.</p></li>
<li><a name="netinstall-step-74jh"></a><b>On the remote SPARC system, insert the Solaris Software for SPARC Platforms
- 1 CD into the system's drive.</b></li>
<li><a name="netinstall-step-45ppo"></a><b>If you are using the <tt>share</tt> command instead of the <tt>sharemgr</tt> utility,
on the remote SPARC system, add the following entries to the <tt>/etc/dfs/dfstab</tt> file.</b><pre><tt><b>share -F nfs -o ro,anon=0 /cdrom/cdrom0/s0</b></tt> \
<tt><b>share -F nfs -o ro,anon=0 /cdrom/cdrom0/s1</b></tt></pre></li>
<li><a name="netinstall-step-46ll"></a><b>On the remote SPARC system, start the NFS daemon.</b><ul>
<li><b>If the install server is running the current Solaris release, or compatible version,
type the following command.</b><pre><i>remote-SPARC-system</i># <tt><b>svcadm enable svc:/network/nfs/server</b></tt></pre></li>
<li><b>If the install server is running the Solaris 9 OS, or compatible version,
type the following command.</b><pre><i>remote-SPARC-system</i># <tt><b>/etc/init.d/nfs.server start</b></tt></pre></li></ul></li>
<li><a name="netinstall-step-47lk"></a><b>On the remote SPARC system, verify that the CD is available to other
systems.</b><p>Use either the <tt>sharemgr</tt> utility or the <tt>share</tt> command as follows:</p>
<hr><p><b>Note - </b><b>Starting with the 5/07 Developer release,</b> the <tt>sharemgr</tt> utility introduces the concept of share groups. See <a href="http://docs.sun.com/doc/819-1634/gcrvu?a=view">sharemgr Command in <i>System Administration Guide: Network Services</i></a>.</p>
<hr>

<ul><li><p>Using the <tt>share</tt> command, enter the following:</p><pre><i>remote-SPARC-system</i># <tt><b>share</b></tt>
-   /cdrom/cdrom0/s0 ro,anon=0 " "
-   /cdrom/cdrom0/s1 ro,anon=0 " "</pre></li>
<li><p>Using the <tt>sharemgr</tt> utility, enter the following commands:</p><p><i>remote-SPARC-system</i><tt>#</tt> <tt><b>sharemgr add-share</b></tt> <tt>-d</tt> &ldquo;install server directory&rdquo; <tt>-s</tt> <tt><b>/cdrom/</b></tt>cdrom0<tt><b>/s0 default</b></tt></p><p><i>remote-SPARC-system</i><tt>#</tt> <tt><b>sharemgr set</b></tt> <tt>-P</tt> <i>nfs</i> <tt>-S</tt> <i>sys</i> <tt>-p</tt> <tt><b>ro="*"</b></tt> <tt>-s</tt> <tt><b>/cdrom/</b></tt>cdrom0<tt><b>/s0 default</b></tt></p><p><i>remote-SPARC-system</i><tt>#</tt> <tt><b>sharemgr set</b></tt> <tt>-P</tt> <i>nfs</i> <tt>-p</tt> <tt><b>anon=0</b></tt> <tt>-s</tt> <tt><b>/cdrom/</b></tt>cdrom0<tt><b>/s0 default</b></tt></p><p>Repeat these <tt>sharemgr</tt> commands for slice 1 (/s1).</p></li></ul>
<p>In the previous sample output, cdrom0 refers to the current Solaris release on
SPARC based systems. This text string varies for each version of the Solaris
OS.</p></li>
<li><a name="netinstall-step-7577"></a><b>On the x86 system that is to be the SPARC install server, become
superuser or assume an equivalent role.</b></li>
<li><a name="netinstallcd-step-78888"></a><b>Verify that the CD is properly exported on the remote x86 system.</b><pre><i>x86-system</i># <tt><b>showmount -e </tt><i>remote-SPARC-system</i><tt></b></tt>
export list for <i>remote-SPARC-system</i>:
/cdrom/cdrom0/s0 (everyone)
/cdrom/cdrom0/s1 (everyone)</pre></li>
<li><a name="netinstall-step-76mjk"></a><b>On the x86 system, change to the <tt>Tools</tt> directory on the mounted
disc:</b><pre><i>x86-system</i># <tt><b>cd /net/</tt><i>remote-SPARC-system</i><tt>/cdrom/cdrom0/s0/Solaris_11/Tools</b></tt></pre></li>
<li><a name="netinstall-step-77vfr"></a><b>On the x86 system, copy the disc in the drive to the install
server's hard disk in the directory you've created by using the <tt>setup_install_server</tt> command:</b><pre><i>x86-system</i># <tt><b>./setup_install_server </tt><i>install_dir_path</i><tt></b></tt></pre><dl><dt><i>install_dir_path</i></dt>
<dd><p>Specifies the directory where the disc image is to be copied. The directory must be empty.</p></dd>
</dl>

<hr><p><b>Note - </b>The <tt>setup_install_server</tt> command indicates whether you have enough disk space available for the
Solaris Software disc images. To determine available disk space, use the <tt>df -kl</tt> command.</p>
<hr>
</li>
<li><a name="netinstallcd-step-3444"></a><b>On the x86 system, change to the top directory.</b><pre><i>x86-system</i># <tt><b>cd /</b></tt></pre></li>
<li><a name="netinstall-step-49kjh"></a><b>On the x86 system, unmount both directories.</b><pre><i>x86-system</i># <tt><b>umount /net/</tt><i>remote-SPARC-system</i><tt>/cdrom/cdrom0/s0</b></tt></pre><pre><i>x86-system</i># <tt><b>umount /net/</tt><i>remote-SPARC-system</i><tt>/cdrom/cdrom0/s1</b></tt></pre></li>
<li><a name="netinstallcd-step-4098"></a><b>If you are using the share command, on the SPARC system, unshare both
CD-ROM slices.</b><pre><i>remote-SPARC-system</i># <tt><b>unshare /cdrom/cdrom0/s0</b></tt></pre><pre><i>remote-SPARC-system</i># <tt><b>unshare /cdrom/cdrom0/s1</b></tt></pre>
<hr><p><b>Note - </b>If you are using the <tt>sharemgr</tt> utility instead of the <tt>share</tt> command, this step
is not needed.</p>
<hr>
</li>
<li><a name="netinstall-step-7843ewe"></a><b>On the SPARC system, eject the Solaris Software for SPARC Platforms -
1 CD.</b></li>
<li><a name="netinstall-step-791234e"></a><b>Insert the Solaris Software for SPARC Platforms - 2 CD into the x86
system's CD-ROM drive.</b></li>
<li><a name="netinstall-step-81aqwer"></a><b>On the x86 system, change to the <tt>Tools</tt> directory on the mounted
CD:</b><pre><i>x86-system</i># <tt><b>cd /cdrom/cdrom0/s0/Solaris_11/Tools</b></tt></pre></li>
<li><a name="netinstall-step-82bngt"></a><b>On the x86 system, copy the CD to the install server's hard disk:</b><pre><i>x86-system</i># <tt><b>./add_to_install_server</b></tt> <i>install_dir_path</i></pre><dl><dt><i>install_dir_path</i></dt>
<dd><p>Specifies the directory where the CD image is to be copied</p></dd>
</dl>
</li>
<li><a name="netinstall-step-842223"></a><b>Eject the Solaris Software for SPARC Platforms - 2 CD.</b></li>
<li><b>Repeat <a href="#netinstall-step-791234e">Step&nbsp;14</a> through <a href="#netinstall-step-842223">Step&nbsp;17</a> for each Solaris Software CD you want to install.</b></li>
<li><a name="netinstall-step-8ngt5"></a><b>On the x86 system, insert the first Solaris Languages for SPARC Platforms
CD into the x86 system's CD-ROM drive and mount the CD.</b></li>
<li><a name="netinstall-step-8nm7"></a><b>On the x86 system, change to the <tt>Tools</tt> directory on the mounted
CD:</b><pre><i>x86-system</i># <tt><b>cd /cdrom/cdrom0/s0/Solaris_11/Tools</b></tt></pre></li>
<li><a name="netinstall-step-8xx8"></a><b>On the x86 system, copy the CD to the install server's hard disk:</b><pre><i>x86-system</i># <tt><b>./add_to_install_server</b></tt> <i>install_dir_path</i></pre><dl><dt><i>install_dir_path</i></dt>
<dd><p>Specifies the directory where the CD image is to be copied</p></dd>
</dl>
</li>
<li><b>Eject CD.</b></li>
<li><b>Repeat Steps 19&ndash;22 for each Solaris Languages for SPARC Platforms CD.</b></li>
<li><a name="netinstall-step-9cde6"></a><b>Decide if you want to patch the files that are located in the
miniroot (<tt>Solaris_11/Tools/Boot</tt>) on the net install image that was created by <tt>setup_install_server</tt>.</b><ul>
<li><b>If no, proceed to the next step.</b></li>
<li><b>If yes, use the <tt>patchadd -C</tt> command to patch the files that are located
in the miniroot.</b>
<hr><p><b>Caution - </b>Don't use the <tt>patchadd -C</tt> unless you have read the <tt>Patch README</tt> instructions or have
contacted your local Sun support office.</p>
<hr>
</li></ul></li>
<li><a name="netinstall-step-9uuu7"></a><b><a name="netinstall-ix1900cc"></a><a name="netinstall-ix1910cc"></a><a name="indexterm-120"></a>Decide if you need to create a boot server.</b><ul>
<li><b>If the install server is on the same subnet as the system
to be installed or you are using DHCP, you do not need to
create a boot server. See <a href="netinstall-40778.html">Adding Systems to Be Installed From the Network With a CD Image</a>.</b></li>
<li><b>If the install server is not on the same subnet as the
system to be installed and you are not using DHCP, you must create
a boot server. For detailed instructions on how to create a boot server,
refer to <a href="netinstall-38.html#netinstall-71584">To Create a Boot Server on a Subnet With a CD Image</a>.</b></li></ul></li></ol><a name="netinstall-ex-9qq"></a>Example&nbsp;6-4 Creating a SPARC Install Server on an x86 System With SPARC CD Media<p><a name="indexterm-121"></a>The following example illustrates how to create a SPARC install server on an
x86 system that is named <tt>richards</tt>. The following SPARC CDs are copied from a
remote SPARC system that is named <tt>simpson</tt> to the x86 install server's <tt>/export/home/cdsparc</tt>
directory.</p>
<ul><li><p>Solaris Software for SPARC Platforms CDs</p></li>
<li><p>Solaris Languages for SPARC Platforms CDs</p></li></ul>
<p>This example assumes that the install server is running the current Solaris
release and that you are using the <tt>share</tt> command instead of the
<tt>sharemgr</tt> utility.</p><p>On the remote SPARC system, insert the Solaris Software for SPARC Platforms
- 1 CD, then type the following commands:</p><pre><i>simpson (remote-SPARC-system)</i># <tt><b>share -F nfs -o ro,anon=0 /cdrom/cdrom0/s0</b></tt>
<i>simpson (remote-SPARC-system)</i># <tt><b>share -F nfs -o ro,anon=0 /cdrom/cdrom0/s1</b></tt>
<i>simpson (remote-SPARC-system)</i># <tt><b>svcadm enable svc:/network/nfs/server</b></tt></pre><p>On the x86 system:</p><pre><i>richards (x86-system)</i># <tt><b>cd /net/simpson/cdrom/cdrom0/s0//Solaris_11/Tools</b></tt>
<i>richards (x86-system)</i># <tt><b>./setup_install_server /export/home/cdsparc</b></tt>
<i>richards (x86-system)</i># <tt><b>cd /</b></tt>
<i>richards (x86-system)</i># <tt><b>umount /net/simpson/cdrom/cdrom0/s0/</b></tt></pre><p>On the remote SPARC system:</p><pre><i>simpson (remote-SPARC-system)</i> <tt><b>unshare /cdrom/cdrom0/s0</b></tt>
<i>simpson (remote-SPARC-system)</i> <tt><b>unshare /cdrom/cdrom0/s1</b></tt></pre><p>On the x86 system:</p><pre><i>richards (x86-system)</i># <tt><b>cd /cdrom/cdrom0/Solaris_11/Tools</b></tt>
<i>richards (x86-system)</i># <tt><b>./add_to_install_server /export/home/cdsparc</b></tt></pre><p>Repeat the previous commands for each Solaris Software for x86 Platforms CD
that you want to install.</p><pre><i>richards (x86-system)</i># <tt><b>cd /cdrom/cdrom0/Tools</b></tt>
<i>richards (x86-system)</i># <tt><b>./add_to_install_server /export/home/cdsparc</b></tt></pre><p>In this example, each CD is inserted and automatically mounted before each of
the commands. After each command, the CD is removed.</p><h6><h6>More Information</h6>Continuing the Installation<p>After you set up the install server, you must add the client
as an installation client. For information about how to add client systems to
install over the network, see <a href="netinstall-40778.html">Adding Systems to Be Installed From the Network With a CD Image</a>.</p><p>If you are not using DHCP, and your client system is on
a different subnet than your install server, you must create a boot server.
For more information, see <a href="netinstall-38.html">Creating a Boot Server on a Subnet With a CD Image</a>.</p></h6><h6>See Also</h6><p>For additional information about the <tt>setup_install_server</tt> and the <tt>add_to_install_server</tt> commands, see <a href="http://docs.sun.com/doc/819-2240/install-scripts-1m?a=view"><tt>install_scripts</tt>(1M)</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="netinstallcd-iaia.html">Previous</a>
             </td>
             <td align="right">
                 <a href="netinstall-38.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

