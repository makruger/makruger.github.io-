<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Installing the Client - Solaris Express Installation Guide: Network-Based Installations</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Express Installation Guide: Network-Based Installations</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="wanboottasks2-57.html">Previous</a>
             </td>
             <td align="right">
                 <a href="wanbootexamples-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="ejusv.html">Part&nbsp;I&nbsp;Planning to Install Over the Network</a></p>
<p class="toc level2"><a href="intro-1.html">1.&nbsp;&nbsp;Where to Find Solaris Installation Planning Information</a></p>
<p class="toc level2"><a href="preconsysid-15630.html">2.&nbsp;&nbsp;Preconfiguring System Configuration Information (Tasks)</a></p>
<p class="toc level2"><a href="preconsysid_adv-15630.html">3.&nbsp;&nbsp;Preconfiguring With a Naming Service or DHCP</a></p>
<p class="toc level1 tocsp"><a href="ejurp.html">Part&nbsp;II&nbsp;Installing Over a Local Area Network</a></p>
<p class="toc level2"><a href="netinstalloverview-28995.html">4.&nbsp;&nbsp;Installing From the Network (Overview)</a></p>
<p class="toc level2"><a href="netinstalldvd-28995.html">5.&nbsp;&nbsp;Installing From the Network With DVD Media (Tasks)</a></p>
<p class="toc level2"><a href="netinstall-28995.html">6.&nbsp;&nbsp;Installing From the Network With CD Media (Tasks)</a></p>
<p class="toc level2"><a href="netinstall-examples.html">7.&nbsp;&nbsp;Installing Over the Network (Examples)</a></p>
<p class="toc level2"><a href="netinstallref-28995.html">8.&nbsp;&nbsp;Installing From the Network (Command Reference)</a></p>
<p class="toc level1 tocsp"><a href="ejurz.html">Part&nbsp;III&nbsp;Installing Over a Wide Area Network</a></p>
<p class="toc level2"><a href="wanbootoverview-1.html">9.&nbsp;&nbsp;WAN Boot (Overview)</a></p>
<p class="toc level2"><a href="wanbootplanning-1.html">10.&nbsp;&nbsp;Preparing to Install With WAN Boot (Planning)</a></p>
<p class="toc level2"><a href="wanboottasks-1.html">11.&nbsp;&nbsp;Installing With WAN Boot (Tasks)</a></p>
<p class="toc level2"><a href="waninstalltasks-2.html">12.&nbsp;&nbsp;SPARC: Installing With WAN Boot (Tasks)</a></p>
<p class="toc level3"><a href="waninstalltasks-3.html">Task Map: Installing a Client With WAN Boot</a></p>
<p class="toc level3"><a href="wanboottasks2-57.html">Preparing the Client for a WAN Boot Installation</a></p>
<p class="toc level4"><a href="wanboottasks2-57.html#waninstalltasks-6net">To Check the <tt>net</tt> Device Alias in the Client OBP</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Installing the Client</a></p>
<p class="toc level4"><a href="#wanboottasks2-97">To Perform a Noninteractive WAN Boot Installation</a></p>
<p class="toc level4"><a href="#wanboottasks-27">To Perform an Interactive WAN Boot Installation</a></p>
<p class="toc level4"><a href="#wanboottasks2-61">To Perform a WAN Boot Installation With a DHCP Server</a></p>
<p class="toc level4"><a href="#wanboottasks2-17">To Perform a WAN Boot Installation With Local CD Media</a></p>
</div>
<p class="toc level2 tocsp"><a href="wanbootexamples-1.html">13.&nbsp;&nbsp;SPARC: Installing With WAN Boot (Examples)</a></p>
<p class="toc level2"><a href="wanbootref-1.html">14.&nbsp;&nbsp;WAN Boot (Reference)</a></p>
<p class="toc level1 tocsp"><a href="appendixpart.html">Part&nbsp;IV&nbsp;Appendixes</a></p>
<p class="toc level2"><a href="troubleshooting-9.html">A.&nbsp;&nbsp;Troubleshooting (Tasks)</a></p>
<p class="toc level2"><a href="remotecd-2.html">B.&nbsp;&nbsp;Installing or Upgrading Remotely (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="wanboottasks2-60"></a><h3>Installing the Client</h3>
<a name="indexterm-437"></a><p><a name="indexterm-438"></a>When you finish preparing your network for a WAN boot installation, you can
choose from the following ways to install the system.</p><a name="fahrg"></a><h6>Table&nbsp;12-2 Methods to Install the Client</h6><table><col width="33*"><col width="33*"><col width="33*"><tr><th align="left" valign="top" scope="column"><p>Method</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Noninteractive installation</p></td>
<td align="left" valign="top" scope="row"><p>Use this installation
method if you want to install keys on the client and set the
client configuration information before you boot the client.</p></td>
<td align="left" valign="top" scope="row">
<ul><li><p>To install keys on the client before the installation, see <a href="wanboottasks2-57.html#wanboottasks-9">Installing Keys on the Client</a>.</p></li>
<li><p>To perform a noninteractive installation, see <a href="#wanboottasks2-97">To Perform a Noninteractive WAN Boot Installation</a>.</p></li></ul>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Interactive installation</p></td>
<td align="left" valign="top" scope="row"><p>Use this installation method
if you want to set the client configuration information during the boot process.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#wanboottasks-27">To Perform an Interactive WAN Boot Installation</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Installing
with a DHCP server</p></td>
<td align="left" valign="top" scope="row"><p>Use this installation method if you configured the network
DHCP server to provide client configuration information during the installation.</p></td>
<td align="left" valign="top" scope="row">
<ul><li><p>To configure a DHCP server to support a WAN boot installation, see <a href="wanboottasks2-46.html">(Optional) Providing Configuration Information With a DHCP Server</a>.</p></li>
<li><p>To use a DHCP server during your installation, see <a href="#wanboottasks2-61">To Perform a WAN Boot Installation With a DHCP Server</a>.</p></li></ul>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Installing with local CD
media</p></td>
<td align="left" valign="top" scope="row"><p>If your client OBP does not support WAN boot, boot the client
from a local copy of the Solaris Software CD.</p></td>
<td align="left" valign="top" scope="row">
<ul><li><p>To determine if the client OBP supports WAN boot, see <a href="wanboottasks2-47.html#wanboottasks-13">To Check the Client OBP for WAN Boot Support</a>.</p></li>
<li><p>To install the client with a local copy of the Solaris Software CD, see <a href="#wanboottasks2-17">To Perform a WAN Boot Installation With Local CD Media</a>.</p></li></ul>
</td>
</tr>
</table>

<a name="wanboottasks2-97"></a><h4>To Perform a Noninteractive WAN Boot Installation</h4><p>Use this installation method if you prefer to install keys and set
client configuration information before you install the client. You can then boot the client
from the WAN and perform an unattended installation.</p><p>This procedure assumes that you have either installed keys in the client's OBP,
or that you are performing an insecure installation. For information about installing keys
on the client before your installation, see <a href="wanboottasks2-57.html#wanboottasks-9">Installing Keys on the Client</a>.</p><ol>
<li><a name="fahqz"></a><b>If the client system is currently running, bring the system to run level
0.</b><pre># <tt><b>init 0</b></tt></pre><p>The <tt>ok</tt> prompt is displayed.</p></li>
<li><a name="fahrl"></a><b>At the <tt>ok</tt> prompt on the client system, set the network boot argument
variables in OBP.</b><pre>ok <tt><b>setenv network-boot-arguments host-ip=</tt><i>client-IP</i><tt>,</b></tt>
<tt><b>router-ip=</tt><i>router-ip</i><tt>,subnet-mask=</tt><i>mask-value</i><tt>,</b></tt>
<tt><b>hostname=</tt><i>client-name</i><tt>,http-proxy=</tt><i>proxy-ip:port</i><tt>,</b></tt>
<tt><b>file=</tt><i>wanbootCGI-URL</i><tt></b></tt></pre>
<hr><p><b>Note - </b>The line breaks in this command sample are included for formatting purposes only.
Do not enter a carriage return until you finish typing the command.</p>
<hr>
<dl><dt><tt>setenv network-boot-arguments</tt></dt>
<dd><p><a name="indexterm-439"></a>Instructs the OBP to set the following boot arguments</p></dd>
<dt><tt>host-ip=<i>client-IP</i></tt></dt>
<dd><p><a name="indexterm-440"></a>Specifies the IP address of the client</p></dd>
<dt><tt>router-ip=<i>router-ip</i></tt></dt>
<dd><p><a name="indexterm-441"></a>Specifies the IP address of the network router</p></dd>
<dt><tt>subnet-mask=<i>mask-value</i></tt></dt>
<dd><p><a name="indexterm-442"></a>Specifies the subnet mask value</p></dd>
<dt><tt>hostname=<i>client-name</i></tt></dt>
<dd><p><a name="indexterm-443"></a>Specifies the host name of the client</p></dd>
<dt>(Optional) <tt>http-proxy=<i>proxy-ip:port</i></tt></dt>
<dd><p><a name="indexterm-444"></a>Specifies the IP address and port of the network's proxy server</p></dd>
<dt><tt>file=<i>wanbootCGI-URL</i></tt></dt>
<dd><p>Specifies the URL of the <tt>wanboot-cgi</tt> program on the web server</p></dd>
</dl>
</li>
<li><b>Boot the client.</b><pre>ok <tt><b>boot net - install</b></tt></pre><dl><dt><tt>net - install</tt></dt>
<dd><p>Instructs the client to use the network boot argument variables to boot from the WAN</p></dd>
</dl>
<p><a name="indexterm-445"></a><a name="indexterm-446"></a>The client installs over the WAN. If the WAN boot programs do not
find all the necessary installation information, the <tt>wanboot</tt> program prompts to provide the
missing information. Type the additional information at the prompt.</p></li></ol><a name="fahrr"></a>Example&nbsp;12-4 Noninteractive WAN Boot Installation<p>In the following example, the network boot argument variables for the client system
<tt>myclient</tt> are set before the machine is booted. This example assumes that a
hashing key and encryption key are already installed on the client. For information
about installing keys before you boot from the WAN, see <a href="wanboottasks2-57.html#wanboottasks-9">Installing Keys on the Client</a>.</p><pre>ok <tt><b>setenv network-boot-arguments host-ip=192.168.198.136,</b></tt>
<tt><b>router-ip=192.168.198.129,subnet-mask=255.255.255.192</b></tt>
<tt><b>hostname=myclient,file=http://192.168.198.135/cgi-bin/wanboot-cgi</b></tt>
ok <tt><b>boot net - install</b></tt>
Resetting ...




Sun Blade 100 (UltraSPARC-IIe), No Keyboard
Copyright 1998-2003 Sun Microsystems, Inc.  All rights reserved.
OpenBoot 4.x.build_28, 512 MB memory installed, Serial #50335475.
Ethernet address 0:3:ba:e:f3:75, Host ID: 83000ef3.



Rebooting with command: boot net - install
Boot device: /pci@1f,0/network@c,1  File and args: - install</pre><p>The following variables are set.</p>
<ul><li><p>The client IP address is set to 192.168.198.136.</p></li>
<li><p>The client's router IP address is set to 192.168.198.129.</p></li>
<li><p>The client's subnet mask is set to 255.255.255.192.</p></li>
<li><p>The client's host name is set to <tt>seahag</tt>.</p></li>
<li><p>The <tt>wanboot-cgi</tt> program is located at <tt>http://192.168.198.135/cgi-bin/wanboot-cgi</tt>.</p></li></ul>
<h6>See Also</h6><p>For more information about how to set network boot arguments, see <a href="http://docs.sun.com/doc/819-2239/set-1?a=view"><tt>set</tt>(1)</a>.</p><p>For more information about how to boot a system, see <a href="http://docs.sun.com/doc/819-2240/boot-1m?a=view"><tt>boot</tt>(1M)</a>.</p>

<a name="wanboottasks-27"></a><h4>To Perform an Interactive WAN Boot Installation</h4><p>Use this installation method if you want to install keys and set
client configuration information at the command line during the installation.</p><p>This procedure assumes that you are using HTTPS in your WAN installation. If
you are performing an insecure installation that does not use keys, do not
display or install the client keys.</p><ol>
<li><b>Assume the same user role as the web server user on the
WAN boot server.</b></li>
<li><a name="wanboottasks-step-1146"></a><b>Display the key value for each client key.</b><pre># <tt><b>wanbootutil keygen -d -c -o net=</tt><i>net-ip</i><tt>,cid=</tt><i>client-ID</i><tt>,type=</tt><i>key-type</i><tt></b></tt></pre><dl><dt><i>net-ip</i></dt>
<dd><p>The IP address of the subnet for the client you want to install.</p></dd>
<dt><i>client-ID</i></dt>
<dd><p>The ID of the client you want to install. The client ID can be a user-defined ID or the DHCP client ID.</p></dd>
<dt><i>key-type</i></dt>
<dd><p>The key type you want to install on the client. Valid key types are <tt>3des</tt>, <tt>aes</tt>, or <tt>sha1</tt>.</p></dd>
</dl>
<p>The hexadecimal value for the key is displayed.</p></li>
<li><b>Repeat the previous step for each type of client key you are
installing.</b></li>
<li><a name="fahre"></a><b>If the client system is currently running, bring the client to run level
0.</b></li>
<li><a name="fahrp"></a><b><a name="indexterm-447"></a><a name="indexterm-448"></a>At the <tt>ok</tt> prompt on the client system, set the network boot argument
variables in OBP.</b><pre>ok <tt><b>setenv network-boot-arguments host-ip=</tt><i>client-IP</i><tt>,router-ip=</tt><i>router-ip</i><tt>,</b></tt>
<tt><b>subnet-mask=</tt><i>mask-value</i><tt>,hostname=</tt><i>client-name</i><tt>,</b></tt>
<tt><b>http-proxy=</tt><i>proxy-ip:port</i><tt>,bootserver=</tt><i>wanbootCGI-URL</i><tt></b></tt></pre>
<hr><p><b>Note - </b>The line breaks in this command sample are included for formatting purposes only.
Do not enter a carriage return until you finish typing the command.</p>
<hr>
<dl><dt><tt>setenv network-boot-arguments</tt></dt>
<dd><p>Instructs the OBP to set the following boot arguments</p></dd>
<dt><tt>host-ip=<i>client-IP</i></tt></dt>
<dd><p>Specifies the IP address of the client</p></dd>
<dt><tt>router-ip=<i>router-ip</i></tt></dt>
<dd><p>Specifies the IP address of the network router</p></dd>
<dt><tt>subnet-mask=<i>mask-value</i></tt></dt>
<dd><p>Specifies the subnet mask value</p></dd>
<dt><tt>hostname=<i>client-name</i></tt></dt>
<dd><p>Specifies the host name of the client</p></dd>
<dt>(Optional) <tt>http-proxy=<i>proxy-ip:port</i></tt></dt>
<dd><p><a name="indexterm-449"></a>Specifies the IP address and port of the network's proxy server</p></dd>
<dt><tt>bootserver=<i>wanbootCGI-URL</i></tt></dt>
<dd><p>Specifies the URL of the <tt>wanboot-cgi</tt> program on the web server</p>
<hr><p><b>Note - </b>The URL value for the<tt>bootserver</tt> variable must not be an HTTPS URL. The URL must start with <tt>http://</tt>.</p>
<hr>
</dd>
</dl>
</li>
<li><a name="fahrf"></a><b>At the client <tt>ok</tt> prompt, boot the system.</b><pre>ok <tt><b>boot net -o prompt - install</b></tt></pre><dl><dt><tt>net -o prompt - install</tt></dt>
<dd><p>Instructs the client to boot and install from the network. The <tt>wanboot</tt> program prompts the user to enter client configuration information at the <tt>boot></tt> prompt.</p></dd>
</dl>
<p>The <tt>boot></tt> prompt is displayed.</p></li>
<li><a name="fahrx"></a><b><a name="indexterm-450"></a><a name="indexterm-451"></a><a name="indexterm-452"></a><a name="indexterm-453"></a><a name="indexterm-454"></a>Install the encryption key.</b><pre>boot> <tt><b>3des=</tt><i>key-value</i><tt></b></tt></pre><dl><dt><tt>3des=</tt><i>key-value</i></dt>
<dd><p>Specifies the hexadecimal string of the 3DES key that is displayed in <a href="#wanboottasks-step-1146">Step&nbsp;2</a>.</p><p>If you use an AES encryption key, use the following format for this command.</p><pre>boot> <tt><b>aes=</tt><i>key-value</i><tt></b></tt></pre></dd>
</dl>
</li>
<li><a name="fahrm"></a><b>Install the hashing key.</b><pre>boot> <tt><b>sha1=</tt><i>key-value</i><tt></b></tt></pre><dl><dt><tt>sha1=</tt><i>key-value</i></dt>
<dd><p>Specifies the hashing key value that is displayed in <a href="#wanboottasks-step-1146">Step&nbsp;2</a>.</p></dd>
</dl>
</li>
<li><b>Type the following command to continue the boot process.</b><pre>boot> <tt><b>go</b></tt></pre><p>The client installs over the WAN.</p></li>
<li><b>If prompted, type client configuration information on the command line.</b><p><a name="indexterm-455"></a>If the WAN boot programs do not find all the necessary installation information,
the <tt>wanboot</tt> program prompts to provide the missing information. Type the additional information
at the prompt.</p></li></ol><a name="fahra"></a>Example&nbsp;12-5 Interactive WAN Boot Installation<p>In the following example, the <tt>wanboot</tt> program prompts you to set the key
values for the client system during the installation.</p><p>Display the key values on the WAN boot server.</p><pre># <tt><b>wanbootutil keygen -d -c -o net=192.168.198.0,cid=010003BA152A42,type=sha1</b></tt>
b482aaab82cb8d5631e16d51478c90079cc1d463
# <tt><b>wanbootutil keygen -d -c -o net=192.168.198.0,cid=010003BA152A42,type=3des</b></tt>
9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</pre><p>The previous example uses the following information.</p><dl><dt><tt>net=192.168.198.0</tt></dt>
<dd><p>Specifies the IP address of the client's subnet</p></dd>
<dt><tt>cid=010003BA152A42</tt></dt>
<dd><p>Specifies the client's ID</p></dd>
<dt><tt>b482aaab82cb8d5631e16d51478c90079cc1d463</tt></dt>
<dd><p>Specifies the value of the client's HMAC SHA1 hashing key</p></dd>
<dt><tt>9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</tt></dt>
<dd><p>Specifies the value of the client's 3DES encryption key</p><p>If you use an AES encryption key in your installation, change <tt>type=3des</tt> to <tt>type=aes</tt> to display the encryption key value.</p></dd>
</dl>
<p>Set the network boot argument variables in the OBP on the client.</p><pre>ok <tt><b>setenv network-boot-arguments host-ip=192.168.198.136,</b></tt>
<tt><b>router-ip=192.168.198.129,subnet-mask=255.255.255.192,hostname=myclient,</b></tt>
<tt><b>bootserver=http://192.168.198.135/cgi-bin/wanboot-cgi</b></tt></pre><p>The following variables are set.</p>
<ul><li><p>The client IP address is set to 192.168.198.136.</p></li>
<li><p>The client's router IP address is set to 192.168.198.129.</p></li>
<li><p>The client's subnet mask is set to 255.255.255.192.</p></li>
<li><p>The client's host name is set to <tt>myclient</tt>.</p></li>
<li><p>The <tt>wanboot-cgi</tt> program is located at <tt>http://192.168.198.135/cgi-bin/wanboot-cgi</tt>.</p></li></ul>
<p>Boot and install the client.</p><pre>ok <tt><b>boot net -o prompt - install</b></tt>
Resetting ...


Sun Blade 100 (UltraSPARC-IIe), No Keyboard
Copyright 1998-2003 Sun Microsystems, Inc.  All rights reserved.
OpenBoot 4.x.build_28, 512 MB memory installed, Serial #50335475.
Ethernet address 0:3:ba:e:f3:75, Host ID: 83000ef3.



Rebooting with command: boot net -o prompt                            
Boot device: /pci@1f,0/network@c,1  File and args: -o prompt

boot> <tt><b>3des=9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</b></tt>

boot> <tt><b>sha1=b482aaab82cb8d5631e16d51478c90079cc1d463</b></tt>

boot> <tt><b>go</b></tt></pre><p>The previous commands perform the following tasks.</p>
<ul><li><p>Installs the 3DES encryption key with the value <tt>9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</tt> on the client</p></li>
<li><p>Installs the HMAC SHA1 hashing key with the value <tt>b482aaab82cb8d5631e16d51478c90079cc1d463</tt> on the client</p></li>
<li><p>Starts the installation</p></li></ul>
<h6>See Also</h6><p>For more information about how to display key values, see <a href="http://docs.sun.com/doc/819-2240/wanbootutil-1m?a=view"><tt>wanbootutil</tt>(1M)</a>.</p><p>For more information about how to set network boot arguments, see <a href="http://docs.sun.com/doc/819-2239/set-1?a=view"><tt>set</tt>(1)</a>.</p><p>For more information about how to boot a system, see <a href="http://docs.sun.com/doc/819-2240/boot-1m?a=view"><tt>boot</tt>(1M)</a>.</p>

<a name="wanboottasks2-61"></a><h4>To Perform a WAN Boot Installation With a DHCP Server</h4><p>If you configured a DHCP server to support WAN boot options, you
can use the DHCP server to provide client configuration information during the installation. For
more information about configuring a DHCP server to support a WAN boot installation,
see <a href="wanboottasks2-46.html">(Optional) Providing Configuration Information With a DHCP Server</a>.</p><p>This procedure makes the following assumptions.</p>
<ul><li><p>The client system is running.</p></li>
<li><p>You have either installed keys on the client, or you are performing an insecure installation.</p><p>For information about installing keys on the client before your installation, see <a href="wanboottasks2-57.html#wanboottasks-9">Installing Keys on the Client</a>.</p></li>
<li><p>You have configured your DHCP server to support the <tt>SbootURI</tt> and <tt>SHTTPproxy</tt> WAN boot options.</p><p>These options enable the DHCP server to provide the configuration information that is required by WAN boot.</p><p>For information about how to set installation options on your DHCP server, see <a href="dhcp-admin-38.html">Preconfiguring System Configuration Information With the DHCP Service (Tasks)</a>.</p></li></ul>
<ol>
<li><a name="fahrn"></a><b>If the client system is currently running, bring the system to run level
0.</b><pre># <tt><b>init 0</b></tt></pre><p>The <tt>ok</tt> prompt is displayed.</p></li>
<li><a name="fahrv"></a><b>At the <tt>ok</tt> prompt on the client system, set the network boot argument
variables in OBP.</b><pre>ok <tt><b>setenv network-boot-arguments dhcp,hostname=</tt><i>client-name</i><tt></b></tt></pre><dl><dt><tt>setenv network-boot-arguments</tt></dt>
<dd><p>Instructs the OBP to set the following boot arguments</p></dd>
<dt><tt>dhcp</tt></dt>
<dd><p>Instructs the OBP to use the DHCP server to configure the client</p></dd>
<dt><tt>hostname=<i>client-name</i></tt></dt>
<dd><p>Specifies the host name you want to assign to the client</p></dd>
</dl>
</li>
<li><b>Boot the client from the network.</b><pre>ok <tt><b>boot net - install</b></tt></pre><dl><dt><tt>net - install</tt></dt>
<dd><p>Instructs the client to use the network boot argument variables to boot from the WAN</p></dd>
</dl>
<p><a name="indexterm-456"></a>The client installs over the WAN. If the WAN boot programs do not
find all the necessary installation information, the <tt>wanboot</tt> program prompts to provide the
missing information. Type the additional information at the prompt.</p></li></ol><a name="fahrq"></a>Example&nbsp;12-6 WAN Boot Installation With a DHCP Server<p>In the following example, the DHCP server on the network provides client configuration
information. This sample requests the host name <tt>myclient</tt> for the client.</p><pre>ok <tt><b>setenv network-boot-arguments dhcp, hostname=myclient</b></tt>

ok <tt><b>boot net - install</b></tt>
Resetting ...



Sun Blade 100 (UltraSPARC-IIe), No Keyboard
Copyright 1998-2003 Sun Microsystems, Inc.  All rights reserved.
OpenBoot 4.x.build_28, 512 MB memory installed, Serial #50335475.
Ethernet address 0:3:ba:e:f3:75, Host ID: 83000ef3.



Rebooting with command: boot net - install
Boot device: /pci@1f,0/network@c,1  File and args: - install</pre><h6>See Also</h6><p>For more information about how to set network boot arguments, see <a href="http://docs.sun.com/doc/819-2239/set-1?a=view"><tt>set</tt>(1)</a>.</p><p>For more information about how to boot a system, see <a href="http://docs.sun.com/doc/819-2240/boot-1m?a=view"><tt>boot</tt>(1M)</a>.</p><p>For more information about how to configure a DHCP server, see <a href="wanboottasks2-46.html">(Optional) Providing Configuration Information With a DHCP Server</a>.</p>

<a name="wanboottasks2-17"></a><h4>To Perform a WAN Boot Installation With Local CD Media</h4><p>If your client's OBP does not support WAN boot, you can install
with a Solaris Software - 1 CD inserted in the client's CD-ROM drive.
When you use a local CD, the client retrieves the <tt>wanboot</tt> program from the
local media, rather than from the WAN boot server.</p><p>This procedure assumes that you are using HTTPS in your WAN installation. If
you are performing an insecure installation, do not display or install the client
keys.</p><p>Follow these steps to perform a WAN boot installation from a local
CD.</p><ol>
<li><b>Assume the same user role as the web server user on the
WAN boot server.</b></li>
<li><a name="wanboottasks-step-1149"></a><b>Display the key value for each client key.</b><pre># <tt><b>wanbootutil keygen -d -c -o net=</tt><i>net-ip</i><tt>,cid=</tt><i>client-ID</i><tt>,type=</tt><i>key-type</i><tt></b></tt></pre><dl><dt><i>net-ip</i></dt>
<dd><p>The network IP address for the client you are installing.</p></dd>
<dt><i>client-ID</i></dt>
<dd><p>The ID of the client you are installing. The client ID can be a user-defined ID or the DHCP client ID.</p></dd>
<dt><i>key-type</i></dt>
<dd><p>The key type you are installing on the client. Valid key types are <tt>3des</tt>, <tt>aes</tt>, or <tt>sha1</tt>.</p></dd>
</dl>
<p>The hexadecimal value for the key is displayed.</p></li>
<li><b>Repeat the previous step for each type of client key you are
installing.</b></li>
<li><b>On the client system, insert the Solaris Software - 1 CD in
the CD-ROM drive.</b></li>
<li><a name="wanboottasks2-step-102"></a><b>Power on the client system.</b></li>
<li><a name="wanboottasks2-step-103"></a><b>Boot the client from the CD.</b><pre>ok <tt><b>boot cdrom -o prompt -F wanboot - install</b></tt></pre><dl><dt><tt>cdrom</tt></dt>
<dd><p>Instructs the OBP to boot from the local CD-ROM</p></dd>
<dt><tt>-o prompt</tt></dt>
<dd><p>Instructs the <tt>wanboot</tt> program to prompt the user to enter client configuration information</p></dd>
<dt><tt>-F wanboot</tt></dt>
<dd><p>Instructs the OBP to load the <tt>wanboot</tt> program from the CD-ROM</p></dd>
<dt><tt>- install</tt></dt>
<dd><p>Instructs the client to perform a WAN boot installation</p></dd>
</dl>
<p>The client's OBP loads the <tt>wanboot</tt> program from the Solaris Software - 1
CD. The <tt>wanboot</tt> program boots the system, and the <tt>boot></tt> prompt is displayed.</p></li>
<li><a name="wanboottasks-step-1999"></a><b>Type the encryption key value.</b><pre>boot> <tt><b>3des=</tt><i>key-value</i><tt></b></tt></pre><dl><dt><tt>3des=</tt><i>key-value</i></dt>
<dd><p>Specifies the hexadecimal string of the 3DES key that is displayed in step <a href="#wanboottasks-step-1149">Step&nbsp;2</a>.</p><p>If you use an AES encryption key, use the following format for this command.</p><pre>boot> <tt><b>aes=</tt><i>key-value</i><tt></b></tt></pre></dd>
</dl>
</li>
<li><a name="wanboottasks-step-888"></a><b>Type the hashing key value.</b><pre>boot> <tt><b>sha1=</tt><i>key-value</i><tt></b></tt></pre><dl><dt><tt>sha1=</tt><i>key-value</i></dt>
<dd><p>Specifies the hexadecimal string that represents the hashing key value that is displayed in step <a href="#wanboottasks-step-1149">Step&nbsp;2</a>.</p></dd>
</dl>
</li>
<li><a name="wanboottasks-step-424"></a><b>Set the network interface variables.</b><pre>boot> <tt><b></tt><i>variable</i><tt>=</tt><i>value</i><tt></b></tt>[,<tt><b></tt><i>variable</i><tt>=</tt><i>value</i><tt></b></tt>*]</pre><p>Type the following variable and value pairs at the <tt>boot></tt> prompt.</p><dl><dt><tt>host-ip=<i>client-IP</i></tt></dt>
<dd><p>Specifies the IP address of the client.</p></dd>
<dt><tt>router-ip=<i>router-ip</i></tt></dt>
<dd><p>Specifies the IP address of the network router.</p></dd>
<dt><tt>subnet-mask=<i>mask-value</i></tt></dt>
<dd><p>Specifies the subnet mask value.</p></dd>
<dt><tt>hostname=<i>client-name</i></tt></dt>
<dd><p>Specifies the host name of the client.</p></dd>
<dt>(Optional) <tt>http-proxy=<i>proxy-ip:port</i></tt></dt>
<dd><p>Specifies the IP address and port number of the network's proxy server.</p></dd>
<dt><tt>bootserver=<i>wanbootCGI-URL</i></tt></dt>
<dd><p>Specifies the URL of the <tt>wanboot-cgi</tt> program on the web server.</p>
<hr><p><b>Note - </b>The URL value for the<tt>bootserver</tt> variable must not be an HTTPS URL. The URL must start with <tt>http://</tt>.</p>
<hr>
</dd>
</dl>
<p>You can enter these variables in the following ways.</p>
<ul><li><p>Type one variable and value pair at the <tt>boot></tt> prompt, then press the Return key.</p><pre>boot> <tt><b>host-ip=</tt><i>client-IP</i><tt></b></tt>
boot> <tt><b>subnet-mask=</tt><i>mask-value</i><tt></b></tt></pre></li>
<li><p>Type all the variable and value pairs on one <tt>boot></tt> prompt line, then press the Return key. Type commas to separate each variable and value pair.</p><pre>boot> <tt><b>host-ip=</tt><i>client-IP</i><tt>,subnet-mask=</tt><i>mask-value</i><tt>,</b></tt>
<tt><b>router-ip=</tt><i>router-ip</i><tt>,hostname=</tt><i>client-name</i><tt>,</b></tt>
<tt><b>http-proxy=</tt><i>proxy-ip:port</i><tt>,bootserver=</tt><i>wanbootCGI-URL</i><tt></b></tt></pre></li></ul>
</li>
<li><b>Type the following command to continue the boot process.</b><pre>boot> <tt><b>go</b></tt></pre><p><a name="indexterm-457"></a>The client installs over the WAN. If the WAN boot programs do not
find all the necessary installation information, the <tt>wanboot</tt> program prompts to provide the
missing information. Type the additional information at the prompt.</p></li></ol><a name="wanboottasks-ex-200"></a>Example&nbsp;12-7 Installing With Local CD Media<p>In the following example, the <tt>wanboot</tt> program on a local CD prompts you
to set the network interface variables for the client during the installation.</p><p>Display the key values on the WAN boot server.</p><pre># <tt><b>wanbootutil keygen -d -c -o net=192.168.198.0,cid=010003BA152A42,type=sha1</b></tt>
b482aaab82cb8d5631e16d51478c90079cc1d463
# <tt><b>wanbootutil keygen -d -c -o net=192.168.198.0,cid=010003BA152A42,type=3des</b></tt>
9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</pre><p>The previous example uses the following information.</p><dl><dt><tt>net=192.168.198.0</tt></dt>
<dd><p>Specifies the IP address of the client's subnet</p></dd>
<dt><tt>cid=010003BA152A42</tt></dt>
<dd><p>Specifies the client's ID</p></dd>
<dt><tt>b482aaab82cb8d5631e16d51478c90079cc1d463</tt></dt>
<dd><p>Specifies the value of the client's HMAC SHA1 hashing key</p></dd>
<dt><tt>9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</tt></dt>
<dd><p>Specifies the value of the client's 3DES encryption key</p><p>If you use an AES encryption key in your installation, change <tt>type=3des</tt> to <tt>type=aes</tt> to display the encryption key value.</p></dd>
</dl>
<p>Boot and install the client.</p><pre>ok <tt><b>boot cdrom -o prompt -F wanboot - install</b></tt>
Resetting ...


Sun Blade 100 (UltraSPARC-IIe), No Keyboard
Copyright 1998-2003 Sun Microsystems, Inc.  All rights reserved.
OpenBoot 4.x.build_28, 512 MB memory installed, Serial #50335475.
Ethernet address 0:3:ba:e:f3:75, Host ID: 83000ef3.



Rebooting with command: boot cdrom -F wanboot - install                            
Boot device: /pci@1f,0/network@c,1  File and args: -o prompt

boot> <tt><b>3des=9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</b></tt>

boot> <tt><b>sha1=b482aaab82cb8d5631e16d51478c90079cc1d463</b></tt>

boot> <tt><b>host-ip=192.168.198.124</b></tt>

boot> <tt><b>subnet-mask=255.255.255.128</b></tt>

boot> <tt><b>router-ip=192.168.198.1</b></tt>

boot> <tt><b>hostname=myclient</b></tt>
boot> <tt><b>client-id=010003BA152A42</b></tt>

boot> <tt><b>bootserver=http://192.168.198.135/cgi-bin/wanboot-cgi</b></tt>

boot> <tt><b>go</b></tt></pre><p>The previous commands perform the following tasks.</p>
<ul><li><p>Enters the 3DES encryption key with the value <tt>9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</tt> on the client</p></li>
<li><p>Enters the HMAC SHA1 hashing key with the value <tt>b482aaab82cb8d5631e16d51478c90079cc1d463</tt> on the client</p></li>
<li><p>Sets the client IP address to 192.168.198.124</p></li>
<li><p>Sets the client's subnet mask to 255.255.255.128</p></li>
<li><p>Sets the client's router IP address to 192.168.198.1</p></li>
<li><p>Sets the client's host name to <tt>myclient</tt></p></li>
<li><p>Sets the client ID to 010003BA152A42</p></li>
<li><p>Sets the location of the <tt>wanboot-cgi</tt> program to <tt>http://192.168.198.135/cgi-bin/wanboot-cgi/</tt></p></li></ul>
<h6>See Also</h6><p>For more information about how to display key values, see <a href="http://docs.sun.com/doc/819-2240/wanbootutil-1m?a=view"><tt>wanbootutil</tt>(1M)</a>.</p><p>For more information about how to set network boot arguments, see <a href="http://docs.sun.com/doc/819-2239/set-1?a=view"><tt>set</tt>(1)</a>.</p><p>For more information about how to boot a system, see <a href="http://docs.sun.com/doc/819-2240/boot-1m?a=view"><tt>boot</tt>(1M)</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="wanboottasks2-57.html">Previous</a>
             </td>
             <td align="right">
                 <a href="wanbootexamples-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

