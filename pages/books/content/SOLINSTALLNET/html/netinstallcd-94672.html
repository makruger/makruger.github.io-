<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>SPARC: Creating a SPARC Install Server With CD Media - Solaris Express Installation Guide: Network-Based Installations</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Express Installation Guide: Network-Based Installations</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="netinstall-23938.html">Previous</a>
             </td>
             <td align="right">
                 <a href="netinstallcd-iaia.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="ejusv.html">Part&nbsp;I&nbsp;Planning to Install Over the Network</a></p>
<p class="toc level2"><a href="intro-1.html">1.&nbsp;&nbsp;Where to Find Solaris Installation Planning Information</a></p>
<p class="toc level2"><a href="preconsysid-15630.html">2.&nbsp;&nbsp;Preconfiguring System Configuration Information (Tasks)</a></p>
<p class="toc level2"><a href="preconsysid_adv-15630.html">3.&nbsp;&nbsp;Preconfiguring With a Naming Service or DHCP</a></p>
<p class="toc level1 tocsp"><a href="ejurp.html">Part&nbsp;II&nbsp;Installing Over a Local Area Network</a></p>
<p class="toc level2"><a href="netinstalloverview-28995.html">4.&nbsp;&nbsp;Installing From the Network (Overview)</a></p>
<p class="toc level2"><a href="netinstalldvd-28995.html">5.&nbsp;&nbsp;Installing From the Network With DVD Media (Tasks)</a></p>
<p class="toc level2"><a href="netinstall-28995.html">6.&nbsp;&nbsp;Installing From the Network With CD Media (Tasks)</a></p>
<p class="toc level3"><a href="netinstall-23938.html">Task Map: Installing From the Network With CD Media</a></p>
<div class="onpage">
<p class="toc level3"><a href="">SPARC: Creating a SPARC Install Server With CD Media</a></p>
<p class="toc level4"><a href="#netinstall-50">SPARC: To Create a SPARC Install Server With SPARC or x86 CD Media</a></p>
</div>
<p class="toc level3 tocsp"><a href="netinstallcd-iaia.html">x86: Creating an x86 Install Server With CD Media</a></p>
<p class="toc level4"><a href="netinstallcd-iaia.html#netinstallcd-iaiaserver">x86: To Create an x86 Install Server With x86 CD Media</a></p>
<p class="toc level3 tocsp"><a href="netinstall-35.html">Creating a Cross-Platform Install Server for CD Media</a></p>
<p class="toc level4"><a href="netinstall-35.html#netinstall-72q">To Create a SPARC Install Server on an x86 System With SPARC CD Media</a></p>
<p class="toc level3 tocsp"><a href="netinstall-38.html">Creating a Boot Server on a Subnet With a CD Image</a></p>
<p class="toc level4"><a href="netinstall-38.html#netinstall-71584">To Create a Boot Server on a Subnet With a CD Image</a></p>
<p class="toc level3 tocsp"><a href="netinstall-40778.html">Adding Systems to Be Installed From the Network With a CD Image</a></p>
<p class="toc level4"><a href="netinstall-40778.html#gbxck">To Add Systems to Be Installed From the Network With <tt>add_install_client</tt> (CDs)</a></p>
<p class="toc level3 tocsp"><a href="eyavd.html">Installing the System From the Network With a CD Image</a></p>
<p class="toc level4"><a href="eyavd.html#eyawf">SPARC: To Install the Client Over the Network (CDs)</a></p>
<p class="toc level4"><a href="eyavd.html#gazug">x86: To Install the Client Over the Network  With GRUB (CDs)</a></p>
<p class="toc level2 tocsp"><a href="netinstall-examples.html">7.&nbsp;&nbsp;Installing Over the Network (Examples)</a></p>
<p class="toc level2"><a href="netinstallref-28995.html">8.&nbsp;&nbsp;Installing From the Network (Command Reference)</a></p>
<p class="toc level1 tocsp"><a href="ejurz.html">Part&nbsp;III&nbsp;Installing Over a Wide Area Network</a></p>
<p class="toc level2"><a href="wanbootoverview-1.html">9.&nbsp;&nbsp;WAN Boot (Overview)</a></p>
<p class="toc level2"><a href="wanbootplanning-1.html">10.&nbsp;&nbsp;Preparing to Install With WAN Boot (Planning)</a></p>
<p class="toc level2"><a href="wanboottasks-1.html">11.&nbsp;&nbsp;Installing With WAN Boot (Tasks)</a></p>
<p class="toc level2"><a href="waninstalltasks-2.html">12.&nbsp;&nbsp;SPARC: Installing With WAN Boot (Tasks)</a></p>
<p class="toc level2"><a href="wanbootexamples-1.html">13.&nbsp;&nbsp;SPARC: Installing With WAN Boot (Examples)</a></p>
<p class="toc level2"><a href="wanbootref-1.html">14.&nbsp;&nbsp;WAN Boot (Reference)</a></p>
<p class="toc level1 tocsp"><a href="appendixpart.html">Part&nbsp;IV&nbsp;Appendixes</a></p>
<p class="toc level2"><a href="troubleshooting-9.html">A.&nbsp;&nbsp;Troubleshooting (Tasks)</a></p>
<p class="toc level2"><a href="remotecd-2.html">B.&nbsp;&nbsp;Installing or Upgrading Remotely (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="netinstallcd-94672"></a><h3>SPARC: Creating a SPARC Install Server With CD Media</h3>
<p>The install server contains the installation image needed to install systems from the
network. You must create an install server to install the Solaris software on
a system from the network. You do not always need to set up
a separate boot server.</p>
<ul><li><p>If you are using DHCP to set installation parameters or your install server and client are on the same subnet, you do not need a separate boot server.</p></li>
<li><p><a name="indexterm-109"></a>If your install server and your client are not on the same subnet and you are not using DHCP, you must create separate boot servers for each subnet. You could create an install server for each subnet; however, install servers require more disk space.</p></li></ul>


<a name="netinstall-50"></a><h4>SPARC: To Create a SPARC Install Server With SPARC or x86 CD Media</h4><p>Use this procedure to create a SPARC install server with SPARC or
x86 CD media.</p>
<hr><p><b>Note - </b><a name="indexterm-110"></a><a name="indexterm-111"></a>This procedure assumes that the system is running the Volume Manager. If you
are not using the Volume Manager to manage media, refer to <a href="http://docs.sun.com/doc/819-2723"><i>System Administration Guide: Devices and File Systems</i></a>.</p>
<hr>
<ol>
<li><a name="netinstall-step-52"></a><b>On the system that is to become the install server, become superuser or
assume an equivalent role.</b><p>The system must include a CD-ROM drive and be part of the site's
network and naming service. If you use a naming service, the system must
already be in a naming service, such as NIS, NIS+, DNS, or LDAP.
If you do not use a naming service, you must distribute information about
this system by following your site's policies.</p></li>
<li><a name="netinstall-step-53"></a><b>Insert the Solaris Software - 1 CD in the system's drive.</b></li>
<li><a name="netinstall-step-102"></a><b>Create a directory for the CD image.</b><pre># <tt><b>mkdir -p </tt><i>install_dir_path</i><tt></b></tt></pre><dl><dt><i>install_dir_path</i></dt>
<dd><p>Specifies the directory where the CD image is to be copied</p></dd>
</dl>
</li>
<li><a name="netinstall-step-55"></a><b>Change to the <tt>Tools</tt> directory on the mounted disc.</b><ul>
<li><b>If you are creating an installation image from the Solaris Software for
SPARC Platforms - 1 CD, type the following command.</b><pre># <tt><b>cd /cdrom/cdrom0/s0/Solaris_11/Tools</b></tt></pre></li>
<li><b>If you are creating an installation image from the Solaris Software for
x86 Platforms - 1 CD, type the following command.</b><pre># <tt><b>cd /cdrom/cdrom0/Solaris_11/Tools</b></tt></pre></li></ul></li>
<li><a name="netinstall-step-56"></a><b>Copy the image in the drive to the install server's hard disk.</b><pre># <tt><b>./setup_install_server </tt><i>install_dir_path</i><tt></b></tt></pre><dl><dt><i>install_dir_path</i></dt>
<dd><p>Specifies the directory where the CD image is to be copied</p></dd>
</dl>

<hr><p><b>Note - </b>The <tt>setup_install_server</tt> command indicates whether you have enough disk space available for the
Solaris Software disc images. To determine available disk space, use the <tt>df -kl</tt> command.</p>
<hr>
</li>
<li><a name="netinstall-step-200"></a><b>Decide if you need to make the install server available for mounting.</b><ul>
<li><b>If the install server is on the same subnet as the system
to be installed or you are using DHCP, you do not need to
create a boot server. Proceed to <a href="#netinstall-step-6601">Step&nbsp;7</a>.</b></li>
<li><b>If the install server is not on the same subnet as the
system to be installed and you are not using DHCP, complete the following
steps.</b><ol style="list-style-type: lower-alpha">
				 
<li><a name="netinstallcd-step-151"></a><b>Verify that the path to the install server's image is shared appropriately.</b><p>Use either the <tt>share</tt> command or the <tt>sharemgr</tt> utility to complete the verification.</p><pre># <tt><b>share | grep</b></tt> <i>install_dir_path</i></pre><pre># <tt><b># sharemgr show</b></tt> <tt>-v</tt> <tt><b>| grep</b></tt> <i>install_dir_path</i></pre>
<hr><p><b>Note - </b><b>Starting with the 5/07 Developer release,</b> the <tt>sharemgr</tt> utility introduces the concept of share groups. See <a href="http://docs.sun.com/doc/819-1634/gcrvu?a=view">sharemgr Command in <i>System Administration Guide: Network Services</i></a>.</p>
<hr>
<dl><dt><i>install_dir_path</i></dt>
<dd><p>Specifies the path to the installation image where the CD image was copied</p></dd>
</dl>
<ul>
<li><b>If the path to the install server's directory is displayed and anon=0 is
displayed in the options, proceed to <a href="#netinstall-step-6601">Step&nbsp;7</a>. </b></li>
<li><b>If the path to the install server's directory is not displayed or you
do not have anon=0 in the options, continue.</b></li></ul></li>
<li><a name="netinstall-step-300"></a><b>Make the install server available to the boot server by using either the
<tt>share</tt> command or the <tt>sharemgr</tt> utility.</b>
<ul><li><p>Using the <tt>share</tt> command, add this entry to the <tt>/etc/dfs/dfstab</tt> file.</p><pre>share -F nfs -o ro,anon=0 -d "install server directory" <i>install_dir_path</i></pre></li>
<li><p>Using the <tt>sharemgr</tt> utility, enter the following commands:</p><p><tt>#</tt> <tt><b>sharemgr add-share</b></tt> <tt>-d</tt> &ldquo;install server directory&rdquo; <tt>-s</tt> <i>install_dir_path default</i></p><p><tt>#</tt> <tt><b>sharemgr set</b></tt> <tt>-P</tt> <i>nfs</i> <tt>-S</tt> <i>sys</i> <tt>-p</tt> <tt><b>ro="*"</b></tt> <tt>-s</tt> <i>install_dir_path default</i></p><p><tt>#</tt> <tt><b>sharemgr set</b></tt> <tt>-P</tt> <i>nfs</i> <tt>-p</tt> <tt><b>anon=0</b></tt> <tt>-s</tt> <i>install_dir_path default</i></p></li></ul>
</li>
<li><b>Verify that the <tt>nfsd</tt> daemon is running.</b><ul>
<li><b>If the install server is running the current Solaris release, or compatible version,
type the following command.</b><pre># <tt><b>svcs -l svc:/network/nfs/server:default</b></tt></pre><p>If the <tt>nfsd</tt> daemon is online, continue to <a href="#netinstall-step-7896">Step&nbsp;d</a>. If the 
<tt>nfsd</tt> daemon is not online, start it.</p><pre># <tt><b>svcadm enable svc:/network/nfs/server</b></tt></pre></li>
<li><b>If the install server is running the Solaris 9 OS, or compatible version,
type the following command.</b><pre># <tt><b>ps -ef | grep nfsd</b></tt></pre><p>If the <tt>nfsd</tt> daemon is running, continue to <a href="#netinstall-step-7896">Step&nbsp;d</a>. If the 
<tt>nfsd</tt> daemon is not running, start it.</p><pre># <tt><b>/etc/init.d/nfs.server start</b></tt></pre></li></ul></li>
<li><a name="netinstall-step-7896"></a><b>If you are using the <tt>share</tt> command instead of the <tt>sharemgr</tt> utility,
share the install server.</b><pre># <tt><b>shareall</b></tt></pre></li></ol></li></ul></li>
<li><a name="netinstall-step-6601"></a><b>Change directories to root (<tt>/</tt>).</b><pre># <tt><b>cd /</b></tt></pre></li>
<li><a name="netinstall-step-57"></a><b>Eject the Solaris Software - 1 CD.</b></li>
<li><a name="netinstall-step-58"></a><b>Insert the Solaris Software - 2 CD in the system's CD-ROM drive.</b></li>
<li><a name="netinstall-step-59"></a><b>Change to the <tt>Tools</tt> directory on the mounted CD.</b><ol style="list-style-type: lower-alpha">
				 
<li><b>If you are creating an installation image from the Solaris Software for
SPARC Platforms - 1 CD, type the following command.</b><pre># <tt><b>cd /cdrom/cdrom0/s0/Solaris_11/Tools</b></tt></pre></li>
<li><b>If you are creating an installation image from the Solaris Software for
x86 Platforms - 1 CD, type the following command.</b><pre># <tt><b>cd /cdrom/cdrom0/Solaris_11/Tools</b></tt></pre></li></ol></li>
<li><a name="netinstall-step-60"></a><b>Copy the CD in the CD-ROM drive to the install server's hard disk.</b><pre># <tt><b>./add_to_install_server</b></tt> <i>install_dir_path</i></pre><dl><dt><i>install_dir_path</i></dt>
<dd><p>Specifies the directory where the CD image is to be copied</p></dd>
</dl>
</li>
<li><a name="netinstall-step-600"></a><b>Change directories to root (<tt>/</tt>).</b><pre># <tt><b>cd /</b></tt></pre></li>
<li><a name="netinstall-step-61"></a><b>Eject the Solaris Software - 2 CD.</b></li>
<li><b>Repeat <a href="#netinstall-step-58">Step&nbsp;9</a> through <a href="#netinstall-step-61">Step&nbsp;13</a> for each Solaris Software CD that you want to
install.</b></li>
<li><a name="netinstall-step-62"></a><b>Insert the first Solaris Languages CD in the system's CD-ROM drive.</b></li>
<li><a name="netinstall-step-63"></a><b>Change to the <tt>Tools</tt> directory on the mounted CD.</b>
<ul><li><p>For SPARC CD media, type:</p><pre># <tt><b>cd /cdrom/cdrom0/s0/Solaris_11/Tools</b></tt></pre></li>
<li><p>For x86 CD media, type:</p><pre># <tt><b>cd /cdrom/cdrom0/Solaris_11/Tools</b></tt></pre></li></ul>
</li>
<li><a name="netinstall-step-64"></a><b>Copy the CD in the CD-ROM drive to the install server's hard disk.</b><pre># <tt><b>./add_to_install_server</b></tt> <i>install_dir_path</i></pre><dl><dt><i>install_dir_path</i></dt>
<dd><p>Specifies the directory where the CD image is to be copied</p></dd>
</dl>
</li>
<li><b>Eject CD.</b></li>
<li><b>Repeat Steps 15&ndash;18 for the second Solaris Languages CD.</b></li>
<li><a name="netinstall-step-661"></a><b>Change directories to root (<tt>/</tt>).</b><pre># <tt><b>cd /</b></tt></pre></li>
<li><a name="netinstall-step-69"></a>(Optional) <b>Patch the files that are located in the miniroot on the net install
image that was created by <tt>setup_install_server</tt>. Patching a file might be necessary if a
boot image has problems.</b><ul>
<li><b>For SPARC based installation images, use the <tt>patchadd -C</tt> command to patch the
files that are located in the miniroot.</b><pre># <tt><b>patchadd -C </tt><i>install_dir_path</i><tt> </tt><i>path-to-patch</i><tt>/</tt><i>patch-id</i><tt></b></tt></pre><dl><dt><i>install_dir_path</i></dt>
<dd><p>Specifies the path to the network installation miniroot.</p></dd>
<dt><i>path-to-patch</i></dt>
<dd><p>Specifies the path to the patch that you want to add, for example, <tt>/var/sadm/spool</tt>.</p></dd>
<dt><i>patch-id</i></dt>
<dd><p>Specifies the patch ID that you want to apply.</p></dd>
</dl>

<hr><p><b>Caution - </b>Don't use the <tt>patchadd -C</tt> command unless you have read the <tt>Patch README</tt> instructions or
have contacted your local Sun support office.</p>
<hr>
</li>
<li><b>For x86 based installation images, follow these steps to patch an x86 network
installation miniroot.</b>
<hr><p><b>Note - </b>These steps assume that you have a system on your network that is
running the current Solaris release for x86 systems, and that system is
accessible over the network.</p>
<hr>
<ol style="list-style-type: lower-alpha">
				 
<li><b>On a system that is running the current Solaris release for x86
systems, log in as superuser or assume an equivalent role.</b></li>
<li><b>Change to the <tt>Tools</tt> directory of the installation image you created in <a href="#netinstall-step-55">Step&nbsp;4</a>.</b><pre># <tt><b>cd </tt><i>install-server-path</i><tt>/</tt><i>install-dir-path</i><tt>/Solaris_11/Tools</b></tt></pre><dl><dt><i>install-server-path</i></dt>
<dd><p>Specifies the path to the install server system on your network, for example, <tt>/net/installserver-1</tt>.</p></dd>
</dl>
</li>
<li><b>Create a new installation image, and place that image on the system that
is running the current Solaris release for x86 systems.</b><pre># <tt><b>./setup_install_server </tt><i>remote_install_dir_path</i><tt></b></tt></pre><dl><dt><i>remote_install_dir_path</i></dt>
<dd><p>Specifies the path on the current Solaris release for x86 systems in which to create the new installation image.</p></dd>
</dl>
<p>This command creates a new installation image on the current Solaris release
for x86 systems. In order to patch this image, you must temporarily place
this image on a system that is running the current Solaris release for
x86 systems.</p></li>
<li><b>On the current Solaris release for x86 systems, unpack the network installation boot
archive.</b><pre># <tt><b>/boot/solaris/bin/root_archive unpackmedia </tt><i>remote_install_dir_path</i><tt> \ </tt><i>destination_dir</i><tt></b></tt></pre><dl><dt><i>remote_install_dir_path</i></dt>
<dd><p>Specifies the path to the x86 network installation image on the current Solaris release for x86 systems.</p></dd>
<dt><i>destination_dir</i></dt>
<dd><p>Specifies the path to the directory to contain the unpacked boot archive.</p></dd>
</dl>
</li>
<li><b>On the current Solaris release for x86 systems, patch the unpacked boot
archive.</b><pre># <tt><b>patchadd -C </tt><i>destination_dir</i><tt> </tt><i>path-to-patch</i><tt>/</tt><i>patch-id</i><tt></b></tt></pre><dl><dt><i>path-to-patch</i></dt>
<dd><p>Specifies the path to the patch that you want to add, for example, <tt>/var/sadm/spool</tt>.</p></dd>
<dt><i>patch-id</i></dt>
<dd><p>Specifies the patch ID that you want to apply.</p><p>You can specify multiple patches with the <tt>patchadd -M</tt> option. For more information, see <a href="http://docs.sun.com/doc/819-2240/patchadd-1m?a=view"><tt>patchadd</tt>(1M)</a>.</p></dd>
</dl>

<hr><p><b>Caution - </b>Don't use the <tt>patchadd -C</tt> command unless you have read the <tt>Patch README</tt> instructions or
have contacted your local Sun support office.</p>
<hr>
</li>
<li><b>On the current Solaris release for x86 systems, pack the x86 boot
archive.</b><pre># <tt><b>/boot/solaris/bin/root_archive packmedia </tt><i>destination_dir</i><tt> \ </tt><i>remote_install_dir_path</i><tt></b></tt></pre></li>
<li><b>Copy the patched miniroot to the installation image on the install server.</b><pre># <tt><b>cp </tt><i>remote_install_dir_path</i><tt>/boot/x86.miniroot \ </tt><i>install-server-path</i><tt>/</tt><i>install_dir_path</i><tt>/boot/x86.miniroot</b></tt></pre></li></ol></li></ul></li>
<li><a name="netinstallcd-step-1000"></a><b>Decide if you need to create a boot server.</b><ul>
<li><b>If you are using DHCP or the install server is on the
same subnet as the system to be installed, you do not need to
create a boot server. Proceed to <a href="netinstall-40778.html">Adding Systems to Be Installed From the Network With a CD Image</a>.</b></li>
<li><b>If you are <b>not</b> using DHCP and the install server and the client
are on a different subnet, you must create a boot server. Proceed to
<a href="netinstall-38.html">Creating a Boot Server on a Subnet With a CD Image</a>.</b></li></ul></li></ol><a name="netinstall-ex-71"></a>Example&nbsp;6-1 SPARC: Creating a SPARC Install Server With SPARC CD Media<p><a name="indexterm-112"></a>The following example illustrates how to create an install server by copying the
following CDs to the install server's <tt>/export/home/cdsparc</tt> directory. This example assumes that the install
server is running the current Solaris release.</p>
<ul><li><p>Solaris Software for SPARC Platforms CDs</p></li>
<li><p>Solaris Languages for SPARC Platforms CDs</p></li></ul>
<p>Insert the Solaris Software for SPARC Platforms - 1 CD in the
system's CD-ROM drive.</p><pre># <tt><b>mkdir -p /export/home/cdsparc</b></tt>
# <tt><b>cd /cdrom/cdrom0/s0/Solaris_11/Tools</b></tt>
# <tt><b>./setup_install_server /export/home/cdsparc</b></tt></pre>
<ul><li><p>If you have a separate boot server, add these steps.</p>
<ol><li><p>Make the install server available to the boot server by using either the <tt>share</tt> command or the <tt>sharemgr</tt> utility.</p>
<ul><li><p>Using the <tt>share</tt> command, add this entry to the <tt>/etc/dfs/dfstab</tt> file.</p><pre>share -F nfs -o ro,anon=0 -d "install server directory" /export/home/cdsparc</pre></li>
<li><p>Using the <tt>sharemgr</tt> utility, enter the following commands:</p><p><tt>#</tt> <tt><b>sharemgr add-share</b></tt> <tt>-d</tt> &ldquo;install server directory&rdquo; <tt>-s</tt> <tt><b>/export/home/cdsparc default</b></tt></p><p><tt>#</tt> <tt><b>sharemgr set</b></tt> <tt>-P</tt> <i>nfs</i> <tt>-S</tt> <i>sys</i> <tt>-p</tt> <tt><b>ro="*"</b></tt> <tt>-s</tt> <tt><b>/export/home/cdsparc default</b></tt></p><p><tt>#</tt> <tt><b>sharemgr set</b></tt> <tt>-P</tt> <i>nfs</i> <tt>-p</tt> <tt><b>anon=0</b></tt> <tt>-s</tt> <tt><b>/export/home/cdsparc default</b></tt></p></li></ul>
</li>
<li><p>Check if the <tt>nfsd</tt> daemon is online. If the <tt>nfsd</tt> daemon is not online, start it and share it.</p><p>If you are using <tt>sharemgr</tt> utility, omit <tt>shareall</tt>.</p><pre># <tt><b>svcs -l svc:/network/nfs/server:default</b></tt>
# <tt><b>svcadm enable svc:/network/nfs/server</b></tt>
# <tt><b>shareall</b></tt> </pre></li>
<li><p>Continue with the following steps.</p></li></ol>
</li>
<li><p>If you do not need a boot server or have completed the steps for a separate boot server, continue.</p></li></ul>
<pre># <tt><b>cd /</b></tt></pre><p>Eject the Solaris Software for SPARC Platforms - 1 CD. Insert the
Solaris Software for SPARC Platforms - 2 CD in the CD-ROM drive.</p><pre># <tt><b>cd /cdrom/cdrom0/s0/Solaris_11/Tools</b></tt>
# <tt><b>./add_to_install_server /export/home/cdsparc</b></tt>
# <tt><b>cd /</b></tt></pre><p>Repeat the previous commands for each Solaris Software CD that you want to
install.</p><p>Insert the first Solaris Languages for SPARC Platforms CD in the CD-ROM drive.</p><pre># <tt><b>cd /cdrom/cdrom0/s0/Solaris_11/Tools</b></tt>
# <tt><b>./add_to_install_server /export/home/cdsparc</b></tt></pre><p>Eject CD.</p><p>Repeat the previous commands for each Solaris Languages for SPARC Platforms CD.</p><a name="gazsa"></a>Example&nbsp;6-2 Creating a SPARC Install Server With x86 CD Media<p><a name="indexterm-113"></a>Use the following example to create an x86 network installation image on a
SPARC based install server. The following example illustrates how to create a cross
platform install server by copying the Solaris Software for x86 Platforms CDs to
the install server's <tt>/export/home/cdx86</tt> directory. This example assumes that the install server
is running the current Solaris release .</p>
<ul><li><p>Solaris Software for x86 Platforms CDs</p></li>
<li><p>Solaris Languages for x86 Platforms CDs</p></li></ul>
<p>Insert the Solaris Software for x86 Platforms - 1 CD in the
system's CD-ROM drive.</p><pre># <tt><b>mkdir -p /export/home/cdsparc</b></tt>
# <tt><b>cd /cdrom/cdrom0/Solaris_11/Tools</b></tt>
# <tt><b>./setup_install_server /export/home/cdsparc</b></tt></pre>
<ul><li><p>If you have a separate boot server, add these steps.</p>
<ol><li><p>Make the install server available to the boot server by using either the <tt>share</tt> command or the <tt>sharemgr</tt> utility.</p>
<ul><li><p>Using the <tt>share</tt> command, add this entry to the <tt>/etc/dfs/dfstab</tt> file.</p><pre>share -F nfs -o ro,anon=0 -d "install server directory" /export/home/cdsparc</pre></li>
<li><p>Using the <tt>sharemgr</tt> utility, enter the following commands:</p><p><tt>#</tt> <tt><b>sharemgr add-share</b></tt> <tt>-d</tt> &ldquo;install server directory&rdquo; <tt>-s</tt> <tt><b>/export/home/cdsparc default</b></tt></p><p><tt>#</tt> <tt><b>sharemgr set</b></tt> <tt>-P</tt> <i>nfs</i> <tt>-S</tt> <i>sys</i> <tt>-p</tt> <tt><b>ro="*"</b></tt> <tt>-s</tt> <tt><b>/export/home/cdsparc default</b></tt></p><p><tt>#</tt> <tt><b>sharemgr set</b></tt> <tt>-P</tt> <i>nfs</i> <tt>-p</tt> <tt><b>anon=0</b></tt> <tt>-s</tt> <tt><b>/export/home/cdsparc default</b></tt></p></li></ul>
</li>
<li><p>Check if the <tt>nfsd</tt> daemon is online. If the <tt>nfsd</tt> daemon is not online, start it and share it.</p><p>If you are using <tt>sharemgr</tt> utility, omit <tt>shareall</tt>.</p><pre># <tt><b>svcs -l svc:/network/nfs/server:default</b></tt>
# <tt><b>svcadm enable svc:/network/nfs/server</b></tt>
# <tt><b>shareall</b></tt> </pre></li>
<li><p>Continue with the following steps.</p></li></ol>
</li>
<li><p>If you do not need a boot server or have completed the steps for a separate boot server, continue.</p></li></ul>
<pre># <tt><b>cd /</b></tt></pre><p>Eject the Solaris Software for x86 Platforms - 1 CD. Insert the
Solaris Software for x86 Platforms - 2 CD in the CD-ROM drive.</p><pre># <tt><b>cd /cdrom/cdrom0/Solaris_11/Tools</b></tt>
# <tt><b>./add_to_install_server /export/home/cdsparc</b></tt>
# <tt><b>cd /</b></tt></pre><p>Repeat the previous commands for each Solaris Software for x86 Platforms CD
that you want to install.</p><p>Insert the first Solaris Languages for x86 Platforms CD in the CD-ROM drive.</p><pre># <tt><b>cd /cdrom/cdrom0/Tools</b></tt>
# <tt><b>./add_to_install_server /export/home/cdsparc</b></tt></pre><p>Eject CD.</p><p>Repeat the previous commands for each Solaris Languages for x86 Platforms CD.</p><h6><h6>More Information</h6>Continuing the Installation<p>After you set up the install server, you must add the client
as an installation client. For information about how to add client systems to
install over the network, see <a href="netinstall-40778.html">Adding Systems to Be Installed From the Network With a CD Image</a>.</p><p>If you are not using DHCP, and your client system is on
a different subnet than your install server, you must create a boot server.
For more information, see <a href="netinstall-38.html">Creating a Boot Server on a Subnet With a CD Image</a>.</p></h6><h6>See Also</h6><p>For additional information about the <tt>setup_install_server</tt> and the <tt>add_to_install_server</tt> commands, see <a href="http://docs.sun.com/doc/819-2240/install-scripts-1m?a=view"><tt>install_scripts</tt>(1M)</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="netinstall-23938.html">Previous</a>
             </td>
             <td align="right">
                 <a href="netinstallcd-iaia.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

