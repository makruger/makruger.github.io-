<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Creating the Custom JumpStart Installation Files - Solaris Express Installation Guide: Network-Based Installations</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Express Installation Guide: Network-Based Installations</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="wanboottasks2-82.html">Previous</a>
             </td>
             <td align="right">
                 <a href="wanboottasks-30.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="ejusv.html">Part&nbsp;I&nbsp;Planning to Install Over the Network</a></p>
<p class="toc level2"><a href="intro-1.html">1.&nbsp;&nbsp;Where to Find Solaris Installation Planning Information</a></p>
<p class="toc level2"><a href="preconsysid-15630.html">2.&nbsp;&nbsp;Preconfiguring System Configuration Information (Tasks)</a></p>
<p class="toc level2"><a href="preconsysid_adv-15630.html">3.&nbsp;&nbsp;Preconfiguring With a Naming Service or DHCP</a></p>
<p class="toc level1 tocsp"><a href="ejurp.html">Part&nbsp;II&nbsp;Installing Over a Local Area Network</a></p>
<p class="toc level2"><a href="netinstalloverview-28995.html">4.&nbsp;&nbsp;Installing From the Network (Overview)</a></p>
<p class="toc level2"><a href="netinstalldvd-28995.html">5.&nbsp;&nbsp;Installing From the Network With DVD Media (Tasks)</a></p>
<p class="toc level2"><a href="netinstall-28995.html">6.&nbsp;&nbsp;Installing From the Network With CD Media (Tasks)</a></p>
<p class="toc level2"><a href="netinstall-examples.html">7.&nbsp;&nbsp;Installing Over the Network (Examples)</a></p>
<p class="toc level2"><a href="netinstallref-28995.html">8.&nbsp;&nbsp;Installing From the Network (Command Reference)</a></p>
<p class="toc level1 tocsp"><a href="ejurz.html">Part&nbsp;III&nbsp;Installing Over a Wide Area Network</a></p>
<p class="toc level2"><a href="wanbootoverview-1.html">9.&nbsp;&nbsp;WAN Boot (Overview)</a></p>
<p class="toc level2"><a href="wanbootplanning-1.html">10.&nbsp;&nbsp;Preparing to Install With WAN Boot (Planning)</a></p>
<p class="toc level2"><a href="wanboottasks-1.html">11.&nbsp;&nbsp;Installing With WAN Boot (Tasks)</a></p>
<p class="toc level3"><a href="wanboottasks2-10.html">Installing Over a Wide Area Network (Task Maps)</a></p>
<p class="toc level3"><a href="wanboottasks2-47.html">Configuring the WAN Boot Server</a></p>
<p class="toc level4"><a href="wanboottasks2-47.html#wanboottasks2-55">(Optional) To Configure the WAN Boot Logging Server</a></p>
<p class="toc level3 tocsp"><a href="wanboottasks2-82.html">(Optional) Protecting Data by Using HTTPS</a></p>
<p class="toc level4"><a href="wanboottasks2-82.html#wanboottasks2-93">(Optional) To Use Digital Certificates for Server and Client Authentication</a></p>
<p class="toc level4"><a href="wanboottasks2-82.html#wanboottasks2-51">(Optional) To Create a Hashing Key and an Encryption Key</a></p>
<div class="onpage">
<p class="toc level3 tocsp"><a href="">Creating the Custom JumpStart Installation Files</a></p>
<p class="toc level4"><a href="#wanboottasks2-6">To Create the Solaris Flash Archive</a></p>
<p class="toc level4"><a href="#wanboottasks2-8">To Create the <tt>sysidcfg</tt> File</a></p>
<p class="toc level4"><a href="#wanboottasks2-38">To Create the Profile</a></p>
<p class="toc level4"><a href="#wanboottasks2-7">To Create the <tt>rules</tt> File</a></p>
</div>
<p class="toc level3 tocsp"><a href="wanboottasks-30.html">Creating the Configuration Files</a></p>
<p class="toc level4"><a href="wanboottasks-30.html#wanboottasks2-71">To Create the System Configuration File</a></p>
<p class="toc level4"><a href="wanboottasks-30.html#wanboottasks2-43">To Create the <tt>wanboot.conf</tt> File</a></p>
<p class="toc level3 tocsp"><a href="wanboottasks2-46.html">(Optional) Providing Configuration Information With a DHCP Server</a></p>
<p class="toc level2 tocsp"><a href="waninstalltasks-2.html">12.&nbsp;&nbsp;SPARC: Installing With WAN Boot (Tasks)</a></p>
<p class="toc level2"><a href="wanbootexamples-1.html">13.&nbsp;&nbsp;SPARC: Installing With WAN Boot (Examples)</a></p>
<p class="toc level2"><a href="wanbootref-1.html">14.&nbsp;&nbsp;WAN Boot (Reference)</a></p>
<p class="toc level1 tocsp"><a href="appendixpart.html">Part&nbsp;IV&nbsp;Appendixes</a></p>
<p class="toc level2"><a href="troubleshooting-9.html">A.&nbsp;&nbsp;Troubleshooting (Tasks)</a></p>
<p class="toc level2"><a href="remotecd-2.html">B.&nbsp;&nbsp;Installing or Upgrading Remotely (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="wanboottasks-29"></a><h3>Creating the Custom JumpStart Installation Files</h3>
<a name="indexterm-377"></a><a name="indexterm-378"></a><a name="indexterm-379"></a><p>WAN boot performs a custom JumpStart installation to install a Solaris Flash archive
on the client. The custom JumpStart installation method is a command&ndash;line interface that
enables you to automatically install several systems, based on profiles that you create.
The profiles define specific software installation requirements. You can also incorporate shell scripts
to include preinstallation and postinstallation tasks. You choose which profile and scripts to use
for installation or upgrade. The custom JumpStart installation method installs or upgrades the
system, based on the profile and scripts that you select. Also, you can
use a <tt>sysidcfg</tt> file to specify configuration information so that the custom JumpStart
installation is completely free of manual intervention.</p><p>To prepare the custom JumpStart files for a WAN boot installation, complete the
following tasks.</p>
<ul><li><p><a href="#wanboottasks2-6">To Create the Solaris Flash Archive</a></p></li>
<li><p><a href="#wanboottasks2-8">To Create the <tt>sysidcfg</tt> File</a></p></li>
<li><p><a href="#wanboottasks2-7">To Create the <tt>rules</tt> File</a></p></li>
<li><p><a href="#wanboottasks2-38">To Create the Profile</a></p></li>
<li><p><a href="#wanboottasks2-41">(Optional) Creating Begin and Finish Scripts</a></p></li></ul>
<p>For detailed information on the custom JumpStart installation method, see <a href="http://docs.sun.com/doc/819-2396/jumpstartoverview-4?a=view">Chapter 2, Custom JumpStart (Overview), in <i>Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</i></a>.</p>

<a name="wanboottasks2-6"></a><h4>To Create the Solaris Flash Archive</h4><p>The Solaris Flash installation feature enables you to use a single reference installation
of the Solaris OS on a system, which is called the master system.
You can then create a Solaris Flash archive, which is a replica image
of the master system. You can install the Solaris Flash archive on other
systems in the network, creating clone systems.</p><p>This section describes how to create a Solaris Flash archive.</p><h6>Before You Begin</h6>
<ul><li><p>Before you create a Solaris Flash archive, you must first install the master system.</p>
<ul><li><p>For information about installing a master system, see <a href="http://docs.sun.com/doc/819-2397/flashcreate-3?a=view">Installing the Master System in <i>Solaris Express Installation Guide: Solaris Flash Archives (Creation and Installation)</i></a>.</p></li>
<li><p><a name="indexterm-380"></a><a name="indexterm-381"></a><a name="indexterm-382"></a>For detailed information about Solaris Flash archives, see <a href="http://docs.sun.com/doc/819-2397/flash-24?a=view">Chapter 1, Solaris Flash (Overview), in <i>Solaris Express Installation Guide: Solaris Flash Archives (Creation and Installation)</i></a>.</p></li></ul>
</li>
<li><p>File Size Issues:</p><p>Check your web server software documentation to verify that the software can transmit files that are the size of a Solaris Flash archive.</p>
<ul><li><p>Check your web server software documentation to verify that the software can transmit files that are the size of a Solaris Flash archive.</p></li>
<li><p>The <tt>flarcreate</tt> command no longer has size limitations on individual files. You can create a Solaris Flash archive that contains individual files over 4 Gbytes.</p><p>For more information, see <a href="http://docs.sun.com/doc/819-2397/gbwbm?a=view">Creating an Archive That Contains Large Files in <i>Solaris Express Installation Guide: Solaris Flash Archives (Creation and Installation)</i></a>.</p></li></ul>
</li></ul>
<ol>
<li><a name="flash-step-4400"></a><b>Boot the master system.</b><p>Run the master system in as inactive a state as possible. When possible,
run the system in single-user mode. If that is not possible, shut down
any applications that you want to archive and any applications that require extensive
operating system resources.</p></li>
<li><a name="flash-step-4500"></a><b>To create the archive, use the <tt>flarcreate</tt> command.</b><pre># <tt><b>flarcreate -n </tt><i>name</i><tt> [</tt><i>optional-parameters</i><tt>] </tt><i>document-root</i><tt>/flash/</tt><i>filename</i><tt></b></tt></pre><dl><dt><i>name</i></dt>
<dd><p>The name that you give the archive. The <i>name</i> you specify is the value of the <tt>content_name</tt> keyword.</p></dd>
<dt><i>optional-parameters</i></dt>
<dd><p>You can use several options to the <tt>flarcreate</tt> command to customize your Solaris Flash archive. For detailed descriptions of these options, see <a href="http://docs.sun.com/doc/819-2397/flashref-1?a=view">Chapter 5, Solaris Flash (Reference), in <i>Solaris Express Installation Guide: Solaris Flash Archives (Creation and Installation)</i></a>.</p></dd>
<dt><tt></tt><i>document-root</i><tt>/flash</tt></dt>
<dd><p>The path to the Solaris Flash subdirectory of the install server's document root directory.</p></dd>
<dt><i>filename</i></dt>
<dd><p>The name of the archive file.</p></dd>
</dl>
<p>To conserve disk space, you might want to use the <tt>-c</tt> option to
the <tt>flarcreate</tt> command to compress the archive. However, a compressed archive can affect
the performance of your WAN boot installation. For more information about creating a
compressed archive, see the man page <a href="http://docs.sun.com/doc/819-2240/flarcreate-1m?a=view"><tt>flarcreate</tt>(1M)</a>.</p>
<ul><li><p>If the archive creation is successful, the <tt>flarcreate</tt> command returns an exit code of 0.</p></li>
<li><p>If the archive creation fails, the <tt>flarcreate</tt> command returns a nonzero exit code.</p></li></ul>
</li></ol><a name="eypnc"></a>Example&nbsp;11-8 Creating a Solaris Flash Archive for a WAN Boot Installation<p>In this example, you create your Solaris Flash archive by cloning the WAN
boot server system with the host name <tt>wanserver</tt>. The archive is named <tt>sol_10_sparc</tt>,
and is copied exactly from the master system. The archive is an exact
duplicate of the master system. The archive is stored in <tt>sol_10_sparc.flar</tt>. You save the
archive in the <tt>flash/archives</tt> subdirectory of the document root directory on the WAN
boot server.</p><pre>wanserver# <tt><b>flarcreate -n sol_10_sparc \ /opt/apache/htdocs/flash/archives/sol_10_sparc.flar</b></tt></pre><h6><h6>More Information</h6>Continuing the WAN Boot Installation<p>After you create the Solaris Flash archive, preconfigure the client information in the
<tt>sysidcfg</tt> file. For instructions, see <a href="#wanboottasks2-8">To Create the <tt>sysidcfg</tt> File</a>.</p></h6><h6>See Also</h6><p>For detailed instructions about how to create a Solaris Flash archive, see <a href="http://docs.sun.com/doc/819-2397/flashcreate-1?a=view">Chapter 3, Creating Solaris Flash Archives (Tasks), in <i>Solaris Express Installation Guide: Solaris Flash Archives (Creation and Installation)</i></a>.</p><p>For more information about the <tt>flarcreate</tt> command, see the man page <a href="http://docs.sun.com/doc/819-2240/flarcreate-1m?a=view"><tt>flarcreate</tt>(1M)</a>.</p>

<a name="wanboottasks2-8"></a><h4>To Create the <tt>sysidcfg</tt> File</h4><p>You can specify a set of keywords in the <tt>sysidcfg</tt> file to preconfigure
a system.</p><p>To create the <tt>sysidcfg</tt> file, follow these steps.</p><h6>Before You Begin</h6><p>Create the Solaris Flash archive. See <a href="#wanboottasks2-6">To Create the Solaris Flash Archive</a> for detailed instructions.</p><ol>
<li><b>Create a file called <tt>sysidcfg</tt> in a text editor on the install server.</b></li>
<li><b>Type the <tt>sysidcfg</tt> keywords you want.</b><p>For detailed information about <tt>sysidcfg</tt> keywords, see <a href="preconsysid-55534.html#preconsysid-2"><tt>sysidcfg</tt> File Keywords</a>.</p></li>
<li><b>Save the <tt>sysidcfg</tt> file in a location that is accessible to the WAN
boot server.</b><p>Save the file to one of the following locations.</p>
<ul><li><p>If the WAN boot server and install server are hosted on the same machine, save this file to the <tt>flash</tt> subdirectory of the document root directory on the WAN boot server.</p></li>
<li><p><a name="indexterm-383"></a><a name="indexterm-384"></a>If the WAN boot server and install server are not on the same machine, save this file to the <tt>flash</tt> subdirectory of the document root directory of the install server.</p></li></ul>
</li></ol><a name="wanboottasks2-ex-13"></a>Example&nbsp;11-9 <tt>sysidcfg</tt> File for WAN Boot Installation<p>The following is an example of a <tt>sysidcfg</tt> file for a SPARC based
system. The host name, IP address, and netmask of this system have been
preconfigured by editing the naming service.</p><pre>network_interface=primary {hostname=wanclient
                           default_route=192.168.198.1
                           ip_address=192.168.198.210
                           netmask=255.255.255.0
                           protocol_ipv6=no}
timezone=US/Central
system_locale=C
terminal=xterm
timeserver=localhost
name_service=NIS {name_server=matter(192.168.255.255)
                  domain_name=mind.over.example.com
                  }
security_policy=none</pre><h6><h6>More Information</h6>Continuing the WAN Boot Installation<p>After you create the <tt>sysidcfg</tt> file, create a custom JumpStart profile for the
client. For instructions, see <a href="#wanboottasks2-38">To Create the Profile</a>.</p></h6><h6>See Also</h6><p>For more detailed information about <tt>sysidcfg</tt> keywords and values, see <a href="preconsysid-55534.html">Preconfiguring With the <tt>sysidcfg</tt> File</a>.</p>

<a name="wanboottasks2-38"></a><h4>To Create the Profile</h4><p>A profile is a text file that instructs the custom JumpStart program how
to install the Solaris software on a system. A profile defines elements of
the installation, for example, the software group to install.</p><p>For detailed information about how to create profiles, see <a href="http://docs.sun.com/doc/819-2396/preparecustom-53442?a=view">Creating a Profile in <i>Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</i></a>.</p><p>To create the profile, follow these steps.</p><h6>Before You Begin</h6><p>Create the <tt>sysidcfg</tt> file for the client. See <a href="#wanboottasks2-8">To Create the <tt>sysidcfg</tt> File</a> for detailed instructions.</p><ol>
<li><b>Create a text file on the install server. Name the file descriptively.</b><p><a name="indexterm-385"></a>Ensure that the name of the profile reflects how you intend to use
the profile to install the Solaris software on a system. For example, you
might name the profiles <tt>basic_install</tt>, <tt>eng_profile</tt>, or <tt>user_profile</tt>.</p></li>
<li><b>Add profile keywords and values to the profile.</b><p>For a list of profile keywords and values, see <a href="http://docs.sun.com/doc/819-2396/preparecustom-24696?a=view">Profile Keywords and Values in <i>Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</i></a>.</p><p>Profile keywords and their values are case sensitive.</p></li>
<li><b>Save the profile in a location that is accessible to the WAN
boot server.</b><p>Save the profile in one of the following locations.</p>
<ul><li><p>If the WAN boot server and install server are hosted on the same machine, save this file to the <tt>flash</tt> subdirectory of the document root directory on the WAN boot server.</p></li>
<li><p>If the WAN boot server and install server are not on the same machine, save this file to the <tt>flash</tt> subdirectory of the document root directory of the install server.</p></li></ul>
</li>
<li><b>Ensure that <tt>root</tt> owns the profile and that the permissions are set to
644.</b></li>
<li><b>(Optional) Test the profile.</b><p><a href="http://docs.sun.com/doc/819-2396/preparecustom-25808?a=view">Testing a Profile in <i>Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</i></a> contains information about testing profiles.</p></li></ol><a name="wanboottasks2-ex-40"></a>Example&nbsp;11-10 Retrieving a Solaris Flash Archive From a Secure HTTP Server<p><a name="indexterm-386"></a><a name="indexterm-387"></a><a name="indexterm-388"></a><a name="indexterm-389"></a>In the following example, the profile indicates that the custom JumpStart program retrieves
the Solaris Flash archive from a secure HTTP server.</p><pre># profile keywords         profile values
# ----------------         -------------------
install_type               flash_install
archive_location           https://192.168.198.2/sol_10_sparc.flar
partitioning               explicit
filesys                    c0t1d0s0 4000 /
filesys                    c0t1d0s1 512 swap
filesys                    c0t1d0s7 free /export/home</pre><p>The following list describes some of the keywords and values from this example.</p><dl><dt><tt>install_type</tt></dt>
<dd><p>The profile installs a Solaris Flash archive on the clone system. All files are overwritten as in an initial installation.</p></dd>
<dt><tt>archive_location</tt></dt>
<dd><p>The compressed Solaris Flash archive is retrieved from a secure HTTP server.</p></dd>
<dt><tt>partitioning</tt></dt>
<dd><p>The file system slices are determined by the <tt>filesys</tt> keywords, value <tt>explicit</tt>. The size of root (<tt>/</tt>) is based on the size of the Solaris Flash archive. The size of <tt>swap</tt> is set to the necessary size and is installed on <tt>c0t1d0s1</tt>. <tt>/export/home</tt> is based on the remaining disk space. <tt>/export/home</tt> is installed on <tt>c0t1d0s7</tt>.</p></dd>
</dl>
<h6><h6>More Information</h6>Continuing the WAN Boot Installation<p>After you create a profile, you must create and validate the <tt>rules</tt>
file. For instructions, see <a href="#wanboottasks2-7">To Create the <tt>rules</tt> File</a>.</p></h6><h6>See Also</h6><p>For more information about how to create a profile, see <a href="http://docs.sun.com/doc/819-2396/preparecustom-53442?a=view">Creating a Profile in <i>Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</i></a>.</p><p>For more detailed information about profile keywords and values, see <a href="http://docs.sun.com/doc/819-2396/preparecustom-24696?a=view">Profile Keywords and Values in <i>Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</i></a>.</p>

<a name="wanboottasks2-7"></a><h4>To Create the <tt>rules</tt> File</h4><p>The <tt>rules</tt> file is a text file that contains a rule for each
group of systems on which you want to install the Solaris OS. Each
rule distinguishes a group of systems that are based on one or
more system attributes. Each rule also links each group to a profile. A
profile is a text file that defines how the Solaris software is to
be installed on each system in the group. For example, the following rule
specifies that the JumpStart program use the information in the <tt>basic_prof</tt> profile to install
any system with the <tt>sun4u</tt> platform group.</p><pre>karch sun4u - basic_prof -</pre><p>The <tt>rules</tt> file is used to create the <tt>rules.ok</tt> file, which is
required for custom JumpStart installations.</p><p>For detailed information about how to create a <tt>rules</tt> file, see <a href="http://docs.sun.com/doc/819-2396/preparecustom-56059?a=view">Creating the rules File in <i>Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</i></a>.</p><p>To create the <tt>rules</tt> file, follow these steps.</p><h6>Before You Begin</h6><p>Create the profile for the client. See <a href="#wanboottasks2-38">To Create the Profile</a> for detailed instructions.</p><ol>
<li><b>On the install server, create a text file that is named <tt>rules</tt>.</b></li>
<li><b>Add a rule in the <tt>rules</tt> file for each group of systems you
want to install.</b><p>For detailed information about how to create a rules file, see <a href="http://docs.sun.com/doc/819-2396/preparecustom-56059?a=view">Creating the rules File in <i>Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</i></a>.</p></li>
<li><b>Save the <tt>rules</tt> file on the install server.</b></li>
<li><a name="wanboottasks2-step-81"></a><b><a name="preparecustom-ix757mm"></a><a name="preparecustom-ix758mm"></a><a name="preparecustom-ix760mm"></a><a name="preparecustom-ix761mm"></a><a name="preparecustom-ix762mm"></a><a name="indexterm-390"></a><a name="preparecustom-ix756mm"></a>Validate the <tt>rules</tt> file.</b><pre>$ <tt><b>./check</b></tt> <tt><b>-p</b></tt> <i>path</i> <tt><b>-r</b></tt> <i>file-name</i></pre><dl><dt><tt>-p</tt> <i>path</i></dt>
<dd><p>Validates the <tt>rules</tt> by using the <tt>check</tt> script from the current Solaris release software image instead of the <tt>check</tt> script from the system you are using. <i>path</i> is the image on a local disk or a mounted Solaris DVD or a Solaris Software - 1 CD.</p><p>Use this option to run the most recent version of <tt>check</tt> if your system is running a previous version of the Solaris OS.</p></dd>
<dt><tt>-r</tt> <i>file_name</i></dt>
<dd><p>Specifies a rules file other than the file that is named <tt>rules</tt>. By using this option, you can test the validity of a rule before you integrate the rule into the <tt>rules</tt> file.</p></dd>
</dl>
<p>As the <tt>check</tt> script runs, the script reports the checking of the validity
of the <tt>rules</tt> file and each profile. If no errors are encountered, the
script reports: <tt>The custom JumpStart configuration is ok</tt>. The <tt>check</tt> script creates the <tt>rules.ok</tt> file.</p></li>
<li><b>Save the <tt>rules.ok</tt> file in a location that is accessible to the WAN
boot server.</b><p>Save the file to one of the following locations.</p>
<ul><li><p>If the WAN boot server and install server are hosted on the same machine, save this file to the <tt>flash</tt> subdirectory of the document root directory on the WAN boot server.</p></li>
<li><p>If the WAN boot server and install server are not on the same machine, save this file to the <tt>flash</tt> subdirectory of the document root directory of the install server.</p></li></ul>
</li>
<li><b>Ensure that <tt>root</tt> owns the <tt>rules.ok</tt> file and that the permissions are set
to 644.</b></li></ol><a name="eyppx"></a>Example&nbsp;11-11 Creating and Validating the <tt>rules</tt> File<p>The custom JumpStart programs use the <tt>rules</tt> file to select the correct installation
profile for the <tt>wanclient-1</tt> system. Create a text file that is named <tt>rules</tt>.
Then, add keywords and values to this file.</p><p>The IP address of the client system is 192.168.198.210, and the netmask is
255.255.255.0. Use the <tt>network</tt> rule keyword to specify the profile that the custom
JumpStart programs should use to install the client.</p><pre>network 192.168.198.0 - wanclient_prof - </pre><p>This <tt>rules</tt> file instructs the custom JumpStart programs to use the <tt>wanclient_prof</tt> to
install the current Solaris release software on the client.</p><p>Name this rule file <tt>wanclient_rule</tt>.</p><p>After you create the profile and the <tt>rules</tt> file, you run the <tt>check</tt>
script to verify that the files are valid.</p><pre>wanserver# <tt><b>./check -r wanclient_rule</b></tt></pre><p>If the <tt>check</tt> script does not find any errors, the script creates the
<tt>rules.ok</tt> file. </p><p>Save the <tt>rules.ok</tt> file in the <tt>/opt/apache/htdocs/flash/</tt> directory.</p><h6><h6>More Information</h6>Continuing the WAN Boot Installation<p>After you create the <tt>rules.ok</tt> file, you can optionally set up begin and
finish scripts for your installation. For instructions, see <a href="#wanboottasks2-41">(Optional) Creating Begin and Finish Scripts</a>.</p><p>If you do not want to set up begin and finish scripts,
see <a href="wanboottasks-30.html">Creating the Configuration Files</a> to continue the WAN boot installation.</p></h6><h6>See Also</h6><p>For more information about how to create a <tt>rules</tt> file, see <a href="http://docs.sun.com/doc/819-2396/preparecustom-56059?a=view">Creating the rules File in <i>Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</i></a>.</p><p>For more detailed information about <tt>rules</tt> file keywords and values, see <a href="http://docs.sun.com/doc/819-2396/preparecustom-74?a=view">Rule Keywords and Values in <i>Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</i></a>.</p>

<a name="wanboottasks2-41"></a><h4>(Optional) Creating Begin and Finish Scripts</h4>
<a name="indexterm-391"></a><a name="indexterm-392"></a><p>Begin and finish scripts are user-defined Bourne shell scripts that you specify in
the <tt>rules</tt> file. A begin script performs tasks before the Solaris software is
installed on a system. A finish script performs tasks after the Solaris software
is installed on a system, but before the system reboots. You can use
these scripts only when using custom JumpStart to install Solaris.</p><p>You can use begin scripts to create derived profiles. Finish scripts enable you
to perform various postinstallation tasks, such as adding files, packages, patches, or additional
software.</p><p>You must store the begin and finish scripts in the same directory
as the <tt>sysidcfg</tt>, <tt>rules.ok</tt>, and profile files on the install server.</p>
<ul><li><p>For more information about creating begin scripts, see <a href="http://docs.sun.com/doc/819-2396/optionalcustom-59707?a=view">Creating Begin Scripts in <i>Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</i></a>.</p></li>
<li><p>For more information about creating finish scripts, see <a href="http://docs.sun.com/doc/819-2396/optionalcustom-44024?a=view">Creating Finish Scripts in <i>Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</i></a>.</p></li></ul>
<p>To continue preparing for your WAN boot installation, see <a href="wanboottasks-30.html">Creating the Configuration Files</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="wanboottasks2-82.html">Previous</a>
             </td>
             <td align="right">
                 <a href="wanboottasks-30.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

