<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Network Installation Over the Same Subnet (Examples) - Solaris Express Installation Guide: Network-Based Installations</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Express Installation Guide: Network-Based Installations</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="netinstall-examples.html">Previous</a>
             </td>
             <td align="right">
                 <a href="netinstallref-28995.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="ejusv.html">Part&nbsp;I&nbsp;Planning to Install Over the Network</a></p>
<p class="toc level2"><a href="intro-1.html">1.&nbsp;&nbsp;Where to Find Solaris Installation Planning Information</a></p>
<p class="toc level2"><a href="preconsysid-15630.html">2.&nbsp;&nbsp;Preconfiguring System Configuration Information (Tasks)</a></p>
<p class="toc level2"><a href="preconsysid_adv-15630.html">3.&nbsp;&nbsp;Preconfiguring With a Naming Service or DHCP</a></p>
<p class="toc level1 tocsp"><a href="ejurp.html">Part&nbsp;II&nbsp;Installing Over a Local Area Network</a></p>
<p class="toc level2"><a href="netinstalloverview-28995.html">4.&nbsp;&nbsp;Installing From the Network (Overview)</a></p>
<p class="toc level2"><a href="netinstalldvd-28995.html">5.&nbsp;&nbsp;Installing From the Network With DVD Media (Tasks)</a></p>
<p class="toc level2"><a href="netinstall-28995.html">6.&nbsp;&nbsp;Installing From the Network With CD Media (Tasks)</a></p>
<p class="toc level2"><a href="netinstall-examples.html">7.&nbsp;&nbsp;Installing Over the Network (Examples)</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Network Installation Over the Same Subnet (Examples)</a></p>
</div>
<p class="toc level2 tocsp"><a href="netinstallref-28995.html">8.&nbsp;&nbsp;Installing From the Network (Command Reference)</a></p>
<p class="toc level1 tocsp"><a href="ejurz.html">Part&nbsp;III&nbsp;Installing Over a Wide Area Network</a></p>
<p class="toc level2"><a href="wanbootoverview-1.html">9.&nbsp;&nbsp;WAN Boot (Overview)</a></p>
<p class="toc level2"><a href="wanbootplanning-1.html">10.&nbsp;&nbsp;Preparing to Install With WAN Boot (Planning)</a></p>
<p class="toc level2"><a href="wanboottasks-1.html">11.&nbsp;&nbsp;Installing With WAN Boot (Tasks)</a></p>
<p class="toc level2"><a href="waninstalltasks-2.html">12.&nbsp;&nbsp;SPARC: Installing With WAN Boot (Tasks)</a></p>
<p class="toc level2"><a href="wanbootexamples-1.html">13.&nbsp;&nbsp;SPARC: Installing With WAN Boot (Examples)</a></p>
<p class="toc level2"><a href="wanbootref-1.html">14.&nbsp;&nbsp;WAN Boot (Reference)</a></p>
<p class="toc level1 tocsp"><a href="appendixpart.html">Part&nbsp;IV&nbsp;Appendixes</a></p>
<p class="toc level2"><a href="troubleshooting-9.html">A.&nbsp;&nbsp;Troubleshooting (Tasks)</a></p>
<p class="toc level2"><a href="remotecd-2.html">B.&nbsp;&nbsp;Installing or Upgrading Remotely (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="gdlig"></a><h3>Network Installation Over the Same Subnet (Examples)</h3>
<p>This section includes the following examples.</p>
<ul><li><p><a href="#sparcdvd1">Example&nbsp;7-1</a>: <b>SPARC: Install on the Same Subnet (With DVD Media)</b></p></li>
<li><p><a href="#sparccd1">Example&nbsp;7-2</a>: <b>SPARC: Install on the Same Subnet (With CD Media)</b></p></li>
<li><p><a href="#x86dvd1">Example&nbsp;7-3</a>: <b>x86: Install on the Same Subnet (With DVD Media)</b></p></li>
<li><p><a href="#x86cd1">Example&nbsp;7-4</a>: <b>x86: Install on the Same Subnet (With CD Media)</b></p></li></ul>
<a name="sparcdvd1"></a>Example&nbsp;7-1 SPARC: <b>Install Over the Same Subnet (With DVD Media)</b><p><a name="gdfxx"></a><a name="gdfyw"></a>This example creates a SPARC install server with SPARC DVD media. </p><p>This example has the following conditions:</p>
<ul><li><p>The install client is on the same subnet as the install server.</p></li>
<li><p>The network installation uses a graphical user interface (GUI) in a desktop session.</p></li>
<li><p>General conditions for this example are listed at <a href="netinstall-examples.html">Chapter&nbsp;7, Installing Over the Network (Examples)</a>.</p></li></ul>

<ol><li><p><b>Create and set up a SPARC install server.</b></p><p>This example creates an install server by copying the Solaris DVD to the install server's <tt>/export/home/dvdsparc</tt> directory. </p>
<ol><li><p>Insert the Solaris DVD in the SPARC system's drive.</p></li>
<li><p>Use the following command to create a directory to contain the DVD image. This command also changes to the <tt>Tools</tt> directory on the mounted disc. Then the command copies the DVD image in the drive to the install server's hard disk.</p><pre># <tt><b>mkdir -p /export/home/dvdsparc</b></tt>
# <tt><b>cd /cdrom/cdrom0/s0/Solaris_11/Tools</b></tt>
# <tt><b>./setup_install_server /export/home/dvdsparc</b></tt></pre></li></ol>
</li>
<li><p><b>Install the system with a network installation image.</b></p><p>In this example, you install with the Solaris interactive installation GUI.</p>
<ol><li><p>Boot the system from the network.</p></li>
<li><p>To install with the Solaris interactive installation GUI, type the following command.</p><pre>ok <tt><b>bootnet - install</b></tt></pre><p>The system installs from the network.</p></li>
<li><p>If you are prompted, answer the system configuration questions. If you preconfigured all of the system information, the installation program does not prompt you to enter any configuration information.</p><p>After you confirm the system configuration information, the Welcome to Solaris panel appears. The installation is complete.</p></li></ol>
</li></ol>
<p>For a more detailed explanation about the network installation procedures that are used
in this example, see <a href="netinstalldvd-28995.html">Chapter&nbsp;5, Installing From the Network With DVD Media (Tasks)</a>.</p><a name="sparccd1"></a>Example&nbsp;7-2 SPARC: <b>Install Over the Same Subnet (With CD Media)</b><p><a name="indexterm-148"></a><a name="indexterm-149"></a>This example creates a SPARC install server with SPARC CD media.</p><p>This example has the following conditions:</p>
<ul><li><p>The install client is on the same subnet as the install server.</p></li>
<li><p>The network installation uses a graphical user interface (GUI) in a desktop session.</p></li>
<li><p>General conditions for this example are listed at <a href="netinstall-examples.html">Chapter&nbsp;7, Installing Over the Network (Examples)</a>.</p></li></ul>

<ol><li><p><b>Create and set up a SPARC install Server.</b></p><p>The following example illustrates how to create an install server by copying the CD media to the install server's <tt>/export/home/cdsparc</tt> directory.</p>
<ol><li><p>Insert the Solaris Software for SPARC Platforms - 1 CD in the system's CD-ROM drive.</p></li>
<li><p>Use the following command to create a directory for the CD image. This command also changes to the <tt>Tools</tt> directory on the mounted disc, and copies the image in the drive to the install server's hard disk.</p><pre># <tt><b>mkdir -p /export/home/cdsparc</b></tt>
# <tt><b>cd /cdrom/cdrom0/s0/Solaris_11/Tools</b></tt>
# <tt><b>./setup_install_server /export/home/cdsparc</b></tt>
# <tt><b>cd /</b></tt></pre></li></ol>
</li>
<li><p><b>Add systems to be installed from the network.</b></p>
<ol><li><p>Insert the Solaris Software for SPARC Platforms - 2 CD in the CD-ROM drive.</p></li>
<li><p>Use the following command. This command changes to the <tt>Tools</tt> directory on the mounted CD. The command copies the CD in the CD-ROM drive to the install server's hard disk. Then the command changes to the root (<tt>/</tt>) directory.</p><pre># <tt><b>cd /cdrom/cdrom0/s0/Solaris_11/Tools</b></tt>
# <tt><b>./add_to_install_server /export/home/cdsparc</b></tt>
# <tt><b>cd /</b></tt></pre></li>
<li><p>Repeat the previous commands for each Solaris Software CD that you want to install.</p></li>
<li><p>Insert the first Solaris Languages for SPARC Platforms CD in the CD-ROM drive.</p><pre># <tt><b>cd /cdrom/cdrom0/s0/Solaris_11/Tools</b></tt>
# <tt><b>./add_to_install_server /export/home/cdsparc</b></tt></pre></li>
<li><p>Eject CD.</p></li>
<li><p>Repeat Steps 2d-2e for each Solaris Languages for SPARC Platforms CD.</p></li></ol>
</li>
<li><p><b>Install the system with a network installation image.</b></p>
<ol><li><p>Boot the system from the network.</p></li>
<li><p>To install with the Solaris interactive installation GUI, type the following command.</p><pre>ok <tt><b>boot net</b></tt></pre><p>The system installs from the network.</p></li>
<li><p>If you are prompted, answer the system configuration questions.</p><p>After you confirm the system configuration information, the Welcome to Solaris panel appears. The installation is complete.</p></li></ol>
</li></ol>
<p>For a more detailed explanation about the network installation procedures that are used
in this example, see <a href="netinstall-28995.html">Chapter&nbsp;6, Installing From the Network With CD Media (Tasks)</a>.</p><a name="x86dvd1"></a>Example&nbsp;7-3 x86: <b>Install Over the Same Subnet (With DVD Media)</b><p><a name="gdfxx2"></a><a name="gdfyw2"></a>This example creates an x86 install server with x86 DVD media.</p><p>This example has the following conditions:</p>
<ul><li><p>The install client is on the same subnet as the install server.</p></li>
<li><p>The network installation uses a graphical user interface (GUI) in a desktop session.</p></li>
<li><p>General conditions for this example are listed at <a href="netinstall-examples.html">Chapter&nbsp;7, Installing Over the Network (Examples)</a>.</p></li></ul>

<ol><li><p><b>Create and set up an x86 install server.</b></p><p>The following examples illustrate how to create an x86 install server by copying the Solaris Operating System for x86 Platforms DVD to the install server's <tt>/export/home/dvdx86</tt> directory.</p>
<ol><li><p>Insert the Solaris DVD into the system's drive.</p></li>
<li><p>Use the following command. This command creates a directory to contain the boot image. Then this command changes to the <tt>Tools</tt> directory on the mounted disc. Also, the command copies the disc in the drive to the install server's hard disk by using the <tt>setup_install_server</tt> command:</p><pre># <tt><b>mkdir -p /export/home/dvdx86</b></tt>
# <tt><b>cd /cdrom/cdrom0/Solaris_11/Tools</b></tt>
# <tt><b>./setup_install_server /export/home/dvdx86</b></tt></pre></li>
<li><p>Make the install server available to the boot server by using either the <tt>share</tt> command or the <tt>sharemgr</tt> utility.</p>
<ul><li><p>Using the <tt>share</tt> command, add this entry to the <tt>/etc/dfs/dfstab</tt> file.</p><pre>share -F nfs -o ro,anon=0 -d "install server directory" <i>/export/home/dvdx86</i></pre></li>
<li><p>Using the <tt>sharemgr</tt> utility, enter the following commands:</p><p><tt>#</tt> <tt><b>sharemgr add-share</b></tt> <tt>-d</tt> &ldquo;install server directory&rdquo; <tt>-s</tt> <tt><b>/export/home/dvdx86 default</b></tt><i></i></p><p><tt>#</tt> <tt><b>sharemgr set</b></tt> <tt>-P</tt> <i>nfs</i> <tt>-S</tt> <i>sys</i> <tt>-p</tt> <tt><b>ro="*"</b></tt> <tt>-s</tt> <tt><b>/export/home/dvdx86 default</b></tt></p><p><tt>#</tt> <tt><b>sharemgr set</b></tt> <tt>-P</tt> <i>nfs</i> <tt>-p</tt> <tt><b>anon=0</b></tt> <tt>-s</tt> <tt><b>/export/home/dvdx86 default</b></tt></p></li></ul>
</li>
<li><p>Check if the <tt>nfsd</tt> daemon is online. If the <tt>nfsd</tt> daemon is not online, start it and share it.</p>
<hr><p><b>Note - </b>If you are using the <tt>sharemgr</tt> utility, omit the <tt>shareall</tt> command.</p>
<hr>
<pre># <tt><b>svcs -l svc:/network/nfs/server:default</b></tt>
# <tt><b>svcadm enable svc:/network/nfs/server</b></tt> 
# <tt><b>shareall</b></tt> 
# <tt><b>cd /</b></tt></pre></li></ol>

<hr><p><b>Note - </b>If the install server was running the Solaris 9 OS, or compatible version, you would type the following command instead.</p><pre># <tt><b>ps -ef | grep nfsd</b></tt></pre><p>For this older release, if the <tt>nfsd</tt> daemon was running, you would continue to the next step. If the <tt>nfsd</tt> daemon was not running, you would start it.</p><pre># <tt><b>/etc/init.d/nfs.server start</b></tt></pre>
<hr>
</li>
<li><p><b>Add systems to be installed from the network.</b></p><p>The file system <tt>/export/home/dvdx86/</tt> contains the <tt>add_install_client</tt> command. The install client is named <tt>basil</tt>, which is an x86 system.</p>
<ol><li><p>Add the client to the install server's <tt>/etc/ethers</tt> file.</p><p>On the client, find the ethers address. The <tt>/etc/ethers</tt> map is taken from the local file.</p><pre># <tt><b>ifconfig -a grep ether</b></tt>
ether 8:0:20:b3:39:1d</pre><p>On the install server, open the <tt>/etc/ethers</tt> file in an editor. Add the address to the list.</p></li>
<li><p>Use the following command. This command changes to the <tt>Tools</tt> directory on the Solaris DVD image. Then, this command sets up the client system so that it can be installed from the network. </p><pre><i>install_server</i># <tt><b>cd /export/home/dvdx86/Solaris_11/Tools</b></tt>
<i>install_server</i># <tt><b>./add_install_client basil i86pc</b></tt></pre></li></ol>
</li>
<li><p><b>Install the system with a network installation image.</b></p><p>The Solaris installation programs for x86 based systems use the GRUB boot loader. This example installs an x86 based system over the network with the GRUB boot loader. </p>
<ol><li><p>In the system BIOS, instruct the system to boot from the network.</p><p>After you exit BIOS, the system installs from the network. The GRUB menu is displayed.</p></li>
<li><p>To install the Solaris OS from the network, select the appropriate Solaris entry on the menu, then press Enter.</p><p>The installation selection screen is displayed.</p></li>
<li><p>To install with the Solaris interactive installation GUI, type 1, then press Enter.</p><p>The installation program begins.</p></li>
<li><p>If you are prompted, answer the system configuration questions.</p><p>After you confirm the system configuration information, the Welcome to Solaris panel appears.</p><p>After the system boots and installs over the network, instruct the system to boot from the disk drive on subsequent boots.</p>
<hr><p><b>Note - </b>When you boot the system after the installation, a GRUB menu lists the operating systems that are installed, including the newly-installed Solaris OS. Select which operating system you want to boot. The default selection loads if you do not make another selection.</p>
<hr>
</li></ol>
</li></ol>
<p>For further information, see the following references.</p><table><col width="50*"><col width="50*"><tr><th align="left" valign="top" scope="column"><p>Procedure</p></th>
<th align="left" valign="top" scope="column"><p>Reference</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>For a more detailed explanation about
the network installation procedures that are used in this example</p></td>
<td align="left" valign="top" scope="row"><p><a href="netinstalldvd-28995.html">Chapter&nbsp;5, Installing From the Network With DVD Media (Tasks)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>For information about how
to complete an interactive installation with the Solaris installation GUI</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-2393/webstart-42?a=view">To Install or Upgrade With the Solaris Installation Program With GRUB in <i>Solaris Express Installation Guide: Basic Installations</i></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>For overview information about
the GRUB boot loader</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/820-0157/grub-1?a=view">Chapter 6, GRUB Based Booting for Solaris Installation, in <i>Solaris Express Installation Guide: Planning for Installation and Upgrade</i></a></p></td>
</tr>
</table><a name="x86cd1"></a>Example&nbsp;7-4 x86: <b>Install Over the Same Subnet (With CD Media)</b><p><a name="gdgdg"></a><a name="gdgcf"></a>This example creates an x86 install server with x86 CD media.</p><p>This example has the following conditions:</p>
<ul><li><p>The install client is on the same subnet as the install server.</p></li>
<li><p>The network installation uses a graphical user interface (GUI) in a desktop session.</p></li>
<li><p>General conditions for this example are listed at <a href="netinstall-examples.html">Chapter&nbsp;7, Installing Over the Network (Examples)</a>.</p></li></ul>

<ol><li><p><b>Create and set up an x86 install server.</b></p><p>The following steps create an install server by copying the following CDs to the install server's <tt>/export/home/cdx86</tt> directory.</p>
<ol><li><p>Insert the Solaris Software - 1 CD in the system's drive.</p></li>
<li><p>Use the following command. This command creates a directory for the CD image and changes to the <tt>Tools</tt> directory on the mounted disc. This command then copies the image in the drive to the install server's hard disk.</p><pre># <tt><b>mkdir -p /export/home/cdx86</b></tt>
# <tt><b>cd /cdrom/cdrom0/Solaris_11/Tools</b></tt>
# <tt><b>./setup_install_server /export/home/cdx86</b></tt></pre></li>
<li><p>Insert the Solaris Software - 2 CD in the system's CD-ROM drive.</p></li>
<li><p>Use the following command. This command changes to the <tt>Tools</tt> directory on the mounted CD. Then this command copies the CD in the CD-ROM drive to the install server's hard disk and changes to the root (<tt>/</tt>) directory.</p><pre># <tt><b>cd /cdrom/cdrom0/Solaris_11/Tools</b></tt>
# <tt><b>./add_to_install_server /export/home/cdx86</b></tt>
# <tt><b>cd /</b></tt></pre></li>
<li><p>Repeat the previous commands for each Solaris Software CD that you want to install.</p></li>
<li><p>Insert the first Solaris Languages CD in the system's CD-ROM drive.</p></li>
<li><p>Use the following command. This command changes to the <tt>Tools</tt> directory on the mounted CD. This command then copies the CD in the CD-ROM drive to the install server's hard disk.</p><pre># <tt><b>cd /cdrom/cdrom0/Solaris_11/Tools</b></tt>
# <tt><b>./add_to_install_server /export/home/cdx86</b></tt></pre></li>
<li><p>Eject CD.</p></li>
<li><p>Repeat Steps 1f-1h for each Solaris Languages CD.</p></li></ol>
</li>
<li><p><b>Add systems to be installed from the network.</b></p><p>In this example, the install client is named <tt>basil</tt>, which is an x86 system. The file system <tt>/export/home/cdx86/Solaris_11/Tools</tt> contains the <tt>add_install_client</tt> command.</p>
<ol><li><p>Add the client to the install server's <tt>/etc/ethers</tt> file. On the client, find the ethers address. The <tt>/etc/ethers</tt> map is taken from the local file.</p><pre># <tt><b>ifconfig -a grep ether</b></tt>
ether 8:0:20:b3:39:1d</pre></li>
<li><p>On the install server, open the <tt>/etc/ethers</tt> file in an editor. Add the address to the list.</p></li>
<li><p>Use the following command. This command changes to the <tt>Tools</tt> directory on the current Solaris release CD image on the install server. Then this command adds the client system to be installed from the network.</p><pre><i>install_server</i># <tt><b>cd /export/home/cdx86/Solaris_11/Tools</b></tt>
<i>install_server</i># <tt><b>./add_install_client basil i86pc</b></tt></pre></li></ol>
</li>
<li><p><b>Install the system with a network installation image.</b></p><p>This step describes how to install an x86 based system over the network with the GRUB boot loader.</p>
<ol><li><p>In the system BIOS, instruct the system to boot from the network.</p><p>After you exit BIOS, the system installs from the network. The GRUB menu is displayed.</p></li>
<li><p>To install the Solaris OS from the network, select the appropriate Solaris entry on the menu, then press Enter.</p><p>The installation selection screen is displayed.</p></li>
<li><p>To install with the Solaris interactive installation GUI, type 1, then press Enter.</p><p>The installation program begins.</p></li>
<li><p>If you are prompted, answer the system configuration questions.</p><p>After you confirm the system configuration information, the Welcome to Solaris panel appears.</p></li>
<li><p>After the system boots and installs over the network, instruct the system to boot from the disk drive on subsequent boots.</p>
<hr><p><b>Note - </b>When you boot the system after the installation, a GRUB menu lists the operating systems that are installed, including the newly-installed Solaris OS. Select which operating system you want to boot. The default selection loads if you do not make another selection.</p>
<hr>
</li></ol>
</li></ol>
<p>For further information, see the following references.</p><table><col width="50*"><col width="50*"><tr><th align="left" valign="top" scope="column"><p>Procedure</p></th>
<th align="left" valign="top" scope="column"><p>Reference</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>For a more detailed explanation about
the network installation procedures that are used in this example</p></td>
<td align="left" valign="top" scope="row"><p><a href="netinstall-28995.html">Chapter&nbsp;6, Installing From the Network With CD Media (Tasks)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>For information about how
to complete an interactive installation with the Solaris installation GUI</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-2393/webstart-42?a=view">To Install or Upgrade With the Solaris Installation Program With GRUB in <i>Solaris Express Installation Guide: Basic Installations</i></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>For overview information about
the GRUB boot loader</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/820-0157/grub-1?a=view">Chapter 6, GRUB Based Booting for Solaris Installation, in <i>Solaris Express Installation Guide: Planning for Installation and Upgrade</i></a></p></td>
</tr>
</table>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="netinstall-examples.html">Previous</a>
             </td>
             <td align="right">
                 <a href="netinstallref-28995.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

