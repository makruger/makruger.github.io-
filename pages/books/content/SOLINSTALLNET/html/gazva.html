<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>x86: GRUB Menu Commands for Installation - Solaris Express Installation Guide: Network-Based Installations</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Express Installation Guide: Network-Based Installations</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="netinstall-91595.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ejurz.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="ejusv.html">Part&nbsp;I&nbsp;Planning to Install Over the Network</a></p>
<p class="toc level2"><a href="intro-1.html">1.&nbsp;&nbsp;Where to Find Solaris Installation Planning Information</a></p>
<p class="toc level2"><a href="preconsysid-15630.html">2.&nbsp;&nbsp;Preconfiguring System Configuration Information (Tasks)</a></p>
<p class="toc level2"><a href="preconsysid_adv-15630.html">3.&nbsp;&nbsp;Preconfiguring With a Naming Service or DHCP</a></p>
<p class="toc level1 tocsp"><a href="ejurp.html">Part&nbsp;II&nbsp;Installing Over a Local Area Network</a></p>
<p class="toc level2"><a href="netinstalloverview-28995.html">4.&nbsp;&nbsp;Installing From the Network (Overview)</a></p>
<p class="toc level2"><a href="netinstalldvd-28995.html">5.&nbsp;&nbsp;Installing From the Network With DVD Media (Tasks)</a></p>
<p class="toc level2"><a href="netinstall-28995.html">6.&nbsp;&nbsp;Installing From the Network With CD Media (Tasks)</a></p>
<p class="toc level2"><a href="netinstall-examples.html">7.&nbsp;&nbsp;Installing Over the Network (Examples)</a></p>
<p class="toc level2"><a href="netinstallref-28995.html">8.&nbsp;&nbsp;Installing From the Network (Command Reference)</a></p>
<p class="toc level3"><a href="netinstall-91595.html">Network Installation Commands</a></p>
<div class="onpage">
<p class="toc level3"><a href="">x86: GRUB Menu Commands for Installation</a></p>
</div>
<p class="toc level1 tocsp"><a href="ejurz.html">Part&nbsp;III&nbsp;Installing Over a Wide Area Network</a></p>
<p class="toc level2"><a href="wanbootoverview-1.html">9.&nbsp;&nbsp;WAN Boot (Overview)</a></p>
<p class="toc level2"><a href="wanbootplanning-1.html">10.&nbsp;&nbsp;Preparing to Install With WAN Boot (Planning)</a></p>
<p class="toc level2"><a href="wanboottasks-1.html">11.&nbsp;&nbsp;Installing With WAN Boot (Tasks)</a></p>
<p class="toc level2"><a href="waninstalltasks-2.html">12.&nbsp;&nbsp;SPARC: Installing With WAN Boot (Tasks)</a></p>
<p class="toc level2"><a href="wanbootexamples-1.html">13.&nbsp;&nbsp;SPARC: Installing With WAN Boot (Examples)</a></p>
<p class="toc level2"><a href="wanbootref-1.html">14.&nbsp;&nbsp;WAN Boot (Reference)</a></p>
<p class="toc level1 tocsp"><a href="appendixpart.html">Part&nbsp;IV&nbsp;Appendixes</a></p>
<p class="toc level2"><a href="troubleshooting-9.html">A.&nbsp;&nbsp;Troubleshooting (Tasks)</a></p>
<p class="toc level2"><a href="remotecd-2.html">B.&nbsp;&nbsp;Installing or Upgrading Remotely (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="gazva"></a><h3>x86: GRUB Menu Commands for Installation</h3>
<a name="indexterm-160"></a><p><b>Starting with the Solaris Express Developer Edition 5/07 release,</b> changes have been made to GRUB that enable the boot loader to
directly load and boot the <tt>unix</tt> kernel. The GRUB multiboot module is no
longer used. This implementation integrates the previous multiboot functionality directly into the platform-specific <tt>unix</tt>
kernel module. These changes reduce the time, as well as memory requirements, that
are needed to boot the Solaris OS.</p><p>Two new keywords, <tt>kernel$</tt> and <tt>module$</tt>, have been added to GRUB to
assist in creating <tt>menu.lst</tt> entries that work with either 32-bit or 64-bit
systems. Another new keyword, <tt>$ISADIR</tt>, displays 32&ndash;bit and 64&ndash;bit information in the boot command.
In addition, the <tt>bootadm</tt> command that manages the <tt>menu.lst</tt> file has been modified
to create file entries for the platform-specific <tt>unix</tt> module that is loaded by GRUB.
During an upgrade, the <tt>bootadm</tt> command converts any existing multiboot <tt>menu.lst</tt> entries to
<tt>unix</tt> entries.</p>
<hr><p><b>Note - </b>These new keywords are used in normal installations. However, the miniroot is 32-bit
only. Therefore, failsafe installations do not use the new keywords.</p>
<hr>
<p>For overview and task-related information, see <a href="http://docs.sun.com/doc/819-2379/grubtasks-1?a=view">Chapter 11, Administering the GRUB Bootloader (Tasks), in <i>System Administration Guide: Basic Administration</i></a>. See also <a href="http://docs.sun.com/doc/819-2379/hbx86boot-68676?a=view">Chapter 12, Booting a Solaris System With GRUB (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p><p>For more information, see the <tt>boot</tt>(1M) and <tt>bootadm</tt>(1M) man pages.</p><p>You can customize the network boot and installation of your system by
editing the commands in the GRUB menu. This section describes several commands and arguments
you can insert in the commands in the GRUB menu.</p><p>In the GRUB menu, you can access the GRUB command line by
typing b at the prompt. A command line that is similar to the
following output is displayed.</p><pre>kernel$ /I86PC.Solaris_11-30/platform/i86pc/$ISADIR/kernel/unix \
     -B install_media=192.168.79.61:/export/Solaris_11-30 
module$ /I86PC.Solaris_11-30/boot_archive</pre><p>You can edit this command line to customize your boot and installation. The
following list describes several common commands you might want to use. For a
complete list of boot arguments that you can use with the <tt>-B</tt>
option, see the <a href="http://docs.sun.com/doc/819-2240/eeprom-1m?a=view"><tt>eeprom</tt>(1M)</a> man page.</p>
<hr><p><b>Note - </b>To add multiple arguments with the <tt>-B</tt> option, separate the arguments with a
comma.</p>
<hr>
<a name="gazua"></a><h6>Table&nbsp;8-1 x86: GRUB Menu Commands and Options</h6><table><col width="14.68*"><col width="42.26*"><tr><th align="left" valign="top" scope="column"><p>Command/Option</p></th>
<th align="left" valign="top" scope="column"><p>Description and Examples</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>kernel$</tt> and <tt>module$</tt></p></td>
<td align="left" valign="top" scope="row"><p><b>Starting with the Solaris Express Developer Edition 5/07 release,</b> enable GRUB to determine 32-bit or 64-bit hardware
capacity. Results are displayed by using the <tt>$ISADIR</tt> keyword.</p>
<hr><p><b>Note - </b>These new keywords are
used in normal installations. However, the miniroot is 32-bit only. Therefore, failsafe installations
do not display these keywords.</p>
<hr>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>$ISADIR</tt></p></td>
<td align="left" valign="top" scope="row"><p><b>Starting with the Solaris Express Developer Edition 5/07 release,</b> resolves to <tt>amd64</tt> for 64-bit hardware and to null
for 32-bit hardware.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>install</tt></p></td>
<td align="left" valign="top" scope="row"><p>Insert this option before the <tt>-B</tt> option to perform a custom
JumpStart installation.</p><pre>kernel$ /Solaris_11_x86/kernel/unix <tt><b>install</b></tt> 
-B install_media=192.168.2.1:/export/cdrom0/boot
module /platform/i86pc/boot_archive</pre></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><i>url</i>|<tt>ask</tt></p></td>
<td align="left" valign="top" scope="row"><p>Specifies the location of the custom JumpStart files or prompts you for
the location. Insert either option with the <tt>install</tt> option.</p>
<ul><li><p><i>url</i> - Specifies the path to the files. You can specify a URL for files that are located on an HTTP or HTTPS server:</p><pre>http://<i>server_name:IP_address/jumpstart_dir_path/</i>
<i>compressed_config_file&amp;proxy_info</i></pre>
<ul><li><p>If you placed a <tt>sysidcfg</tt> file in the compressed configuration file, you must specify the IP address of the server that contains the file, as in the following example:</p><pre>kernel$ /Solaris_11_x86/kernel/unix <tt><b>install http://192.168.2.1/jumpstart/config.tar</b></tt> 
-B install_media=192.168.2.1:/export/cdrom0/boot
module /platform/i86pc/boot_archive</pre></li>
<li><p>If you saved the compressed configuration file on an HTTP server that is behind a firewall, you must use a proxy specifier during boot.  You do not need to specify an IP address for the server that contains the file. You must specify an IP address for the proxy server, as in the following example:</p><pre>kernel$ /Solaris_11_x86/kernel/unix <tt><b>install http://www.shadow.com/jumpstart/config.tar&amp;proxy=131.141.6.151</b></tt> 
-B install_media=192.168.2.1:/export/cdrom0/boot
module /platform/i86pc/boot_archive</pre></li></ul>
</li></ul>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><i>url</i>|<tt>ask</tt> <b>(continued)</b></p></td>
<td align="left" valign="top" scope="row">
<ul><li><p><tt>ask</tt> - When used with the <tt>install</tt> option, specifies that the installation program prompt you to type the location of the compressed configuration file after the system boots and connects to the network. If you use this option, you are not able to do a completely hands off JumpStart installation.</p><p>If you bypass the prompt by pressing Return, the Solaris installation program interactively configures the network parameters. The installation program then prompts you for the location of the compressed configuration file.</p><p>The following example performs a custom JumpStart and boots from a network installation image. You are prompted to input the location of the configuration file after the system connects to the network.</p><pre>kernel$ /Solaris_11_x86/kernel/unix <tt><b>install ask</b></tt> 
-B install_media=192.168.2.1:/export/cdrom0/boot
module /platform/i86pc/boot_archive</pre></li></ul>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>dhcp</tt></p></td>
<td align="left" valign="top" scope="row"><p>Insert this option
before the <tt>-B</tt> option to instruct the installation programs to use a DHCP
server to obtain network installation information that is needed to boot the system.
If you do not specify to use a DHCP server by typing <tt>dhcp</tt>,
the system uses the <tt>/etc/bootparams</tt> file or the naming service <tt>bootparams</tt> database. For
example, you would not specify <tt>dhcp</tt> if you wanted keep a static IP
address.</p><pre>kernel$ /Solaris_11_x86/kernel/unix <tt><b>dhcp</b></tt> 
-B install_media=192.168.2.1:/export/cdrom0/boot
module /platform/i86pc/boot_archive</pre></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>- text</tt></p></td>
<td align="left" valign="top" scope="row"><p>Insert this option before the <tt>-B</tt> option to perform a text-based installation in
a desktop session.</p><pre>kernel$ /Solaris_11_x86/kernel/unix <tt><b>- text</b></tt> 
-B install_media=192.168.2.1:/export/cdrom0/boot
module /platform/i86pc/boot_archive</pre></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>- nowin</tt></p></td>
<td align="left" valign="top" scope="row"><p>Insert this option before the <tt>-B</tt> option to perform a text-based
installation in a console session.</p><pre>kernel$ /Solaris_11_x86/kernel/unix <tt><b>- nowin</b></tt> 
-B install_media=192.168.2.1:/export/cdrom0/boot
module /platform/i86pc/boot_archive</pre></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>console=<i>serial-console</i></tt></p></td>
<td align="left" valign="top" scope="row"><p>Use this argument with the <tt>-B</tt> option to
instruct the system to use a serial console, such as <tt>ttya</tt> (COM1) or
<tt>ttyb</tt> (COM2).</p><pre>kernel$ /Solaris_11_x86/kernel/unix -B <tt><b>console=ttya</b></tt> 
install_media=192.168.2.1:/export/cdrom0/boot
module /platform/i86pc/boot_archive</pre></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>ata-dma-enabled=[0|1]</tt></p></td>
<td align="left" valign="top" scope="row"><p>Use this argument with the <tt>-B</tt> option to enable or disable Advanced
Technology Attachment (ATA) or Integrated Drive Electronics (IDE) devices and Direct Memory Access
(DMA) during the installation.</p><pre>kernel$ /Solaris_11_x86/kernel/unix -B <tt><b>ata-dma-enabled=0</b></tt> 
install_media=192.168.2.1:/export/cdrom0/boot
module /platform/i86pc/boot_archive</pre></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>acpi-enum=[0|1]</tt></p></td>
<td align="left" valign="top" scope="row"><p>Use this argument with the <tt>-B</tt> option to enable
or disable Advanced Configuration and Power Interface (ACPI ) power management.</p><pre>kernel$ /Solaris_11_x86/kernel/unix -B <tt><b>acpi-enum=0</b></tt> 
install_media=192.168.2.1:/export/cdrom0/boot
module /platform/i86pc/boot_archive</pre></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>atapi-cd-dma-enabled=[0|1]</tt></p></td>
<td align="left" valign="top" scope="row"><p>Use this argument
with the <tt>-B</tt> option to enable or disable DMA for CD or DVD
drives during the installation.</p><pre>kernel$ /Solaris_11_x86/kernel/unix -B <tt><b>atapi-cd-dma-enabled=0</b></tt>
install_media=192.168.2.1:/export/cdrom0/boot
module /platform/i86pc/boot_archive</pre>
<hr><p><b>Note - </b>The DMA name <i>atapi</i> is the current variable name used
for DMA. This variable is   subject to change.</p>
<hr>
</td>
</tr>
</table>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="netinstall-91595.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ejurz.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

