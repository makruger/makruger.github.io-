<chapter id="waninstalltasks-2" arch="sparc"><title>Installing With WAN Boot (Tasks)</title><highlights><para>This chapter describes how to perform a WAN boot installation on a SPARC
based client. For information about how to prepare for a WAN boot installation,
see <olink targetptr="wanboottasks-1" remap="internal">Chapter&nbsp;11, Installing With WAN
Boot (Tasks)</olink>.</para><para>This chapter describes the following tasks.</para><itemizedlist><listitem><para><olink targetptr="wanboottasks2-57" remap="internal">Preparing the Client for
a WAN Boot Installation</olink></para>
</listitem><listitem><para><olink targetptr="wanboottasks2-60" remap="internal">Installing the Client</olink></para>
</listitem>
</itemizedlist>
</highlights><sect1 id="waninstalltasks-3"><title>Task Map: Installing a Client With WAN
Boot</title><para>The following table lists the tasks you need to perform to install
a client over a WAN.</para><table frame="topbot" id="waninstalltasks-tbl-55"><title>Task Map: Performing
a WAN Boot Installation</title><tgroup cols="3" colsep="0" rowsep="0"><colspec colname="colspec7" colwidth="50*"/><colspec colname="colspec8" colwidth="50*"/><colspec colname="colspec9" colwidth="50.00*"/><thead><row><entry rowsep="1"><para>Task</para>
</entry><entry rowsep="1"><para>Description</para>
</entry><entry rowsep="1"><para>For Instructions</para>
</entry>
</row>
</thead><tbody><row><entry><para>Prepare the network for a WAN boot installation.</para>
</entry><entry><para>Set up the servers and files that are required to perform a WAN boot
installation.</para>
</entry><entry><para><olink targetptr="wanboottasks-1" remap="internal">Chapter&nbsp;11, Installing With WAN
Boot (Tasks)</olink></para>
</entry>
</row><row><entry><para>Verify that the <literal>net</literal> device alias is set correctly
in the client OBP.</para>
</entry><entry><para>Use the <command>devalias</command> command to verify that the <literal>net</literal> device alias is set to the primary network interface.</para>
</entry><entry><para><olink targetptr="waninstalltasks-6net" remap="internal">To Check the net Device Alias
in the Client OBP</olink></para>
</entry>
</row><row><entry><para>Provide keys to the client</para>
</entry><entry><para>Provide keys to the client by setting OBP variables or entering key
values during the installation.</para><para>This task is required for secure installation configurations. For insecure
installations that check data integrity, complete this task to provide the
HMAC SHA1 hashing key to the client.</para>
</entry><entry><para><olink targetptr="wanboottasks-9" remap="internal">Installing Keys on the Client</olink></para>
</entry>
</row><row><entry><para>Install the client over a wide area network.</para>
</entry><entry><para>Choose the appropriate method to install your client.</para>
</entry><entry><para><olink targetptr="wanboottasks2-97" remap="internal">To Perform a Noninteractive WAN
Boot Installation</olink></para><para><olink targetptr="wanboottasks-27" remap="internal">To Perform an Interactive WAN Boot
Installation</olink> </para><para><olink targetptr="wanboottasks2-61" remap="internal">To Perform a WAN Boot Installation
With a DHCP Server</olink> </para><para><olink targetptr="wanboottasks2-17" remap="internal">To Perform a WAN Boot Installation
With Local CD Media</olink> </para>
</entry>
</row>
</tbody>
</tgroup>
</table>
</sect1><sect1 id="wanboottasks2-57"><title>Preparing the Client for a WAN Boot Installation</title><para>Before you install the client system, prepare the client by performing
the following tasks.</para><itemizedlist><listitem><para><olink targetptr="waninstalltasks-6net" remap="internal">To Check the net Device
Alias in the Client OBP</olink></para>
</listitem><listitem><para><olink targetptr="wanboottasks-9" remap="internal">Installing Keys on the Client</olink></para>
</listitem>
</itemizedlist><task id="waninstalltasks-6net"><title>To Check the <filename>net</filename> Device
Alias in the Client OBP</title><tasksummary><para>To boot the client from the WAN with the <command>boot net</command>,
the <literal>net</literal> device alias must be set to the client's primary
network device. On most systems, this alias is already set correctly. However,
if the alias is not set to the network device you want to use, you must change
the alias.</para><para>For more information about setting device aliases, see &ldquo;The Device
Tree&rdquo; in <citetitle>OpenBoot 3.x Command Reference Manual</citetitle>.</para><para>Follow these steps to check the <filename>net</filename> device alias
on the client.</para>
</tasksummary><procedure><step><para>Become superuser or assume an equivalent role on the client.</para>
</step><step><para>Bring the system to run level 0.</para><screen> # <userinput>init 0</userinput></screen><para>The <literal>ok</literal> prompt is displayed.</para>
</step><step><para>At the <literal>ok</literal> prompt, check device aliases that
are set in the OBP.</para><screen>ok <userinput>devalias</userinput></screen><para>The <command>devalias</command> command outputs information that is
similar to the following example.</para><screen>screen                   /pci@1f,0/pci@1,1/SUNW,m64B@2
net                      /pci@1f,0/pci@1,1/network@c,1
net2                     /pci@1f,0/pci@1,1/network@5,1
disk                     /pci@1f,0/pci@1/scsi@8/disk@0,0
cdrom                    /pci@1f,0/pci@1,1/ide@d/cdrom@0,0:f
keyboard                 /pci@1f,0/pci@1,1/ebus@1/su@14,3083f8
mouse                    /pci@1f,0/pci@1,1/ebus@1/su@14,3062f8</screen><itemizedlist><listitem><para>If the <literal>net</literal> alias is set to the network
device you wan to use during the installation, you do not need to reset the
alias. Go to <olink targetptr="wanboottasks-9" remap="internal">Installing Keys on the Client</olink> to
continue your installation.</para>
</listitem><listitem><para>If the <literal>net</literal> alias is not set to the network
device you want to use, you must reset the alias. Continue.</para>
</listitem>
</itemizedlist>
</step><step><para>Set the <literal>net</literal> device alias.</para><para>Choose
one of the following commands to set the <literal>net</literal> device alias.</para><itemizedlist><listitem><para>To set the <literal>net</literal> device alias for this installation
only, use the <command>devalias</command> command.</para><screen>ok <userinput>devalias net <replaceable>device-path</replaceable></userinput></screen><variablelist><varlistentry><term><command>net <replaceable>device-path</replaceable></command></term><listitem><para>Assigns the device <replaceable>device-path</replaceable> to
the <literal>net</literal> alias</para>
</listitem>
</varlistentry>
</variablelist>
</listitem><listitem><para>To permanently set the <literal>net</literal> device alias,
use the <command>nvalias</command> command.</para><screen>ok <userinput>nvalias net <replaceable>device-path</replaceable></userinput></screen><variablelist><varlistentry><term><command>net <replaceable>device-path</replaceable></command></term><listitem><para>Assigns the device <replaceable>device-path</replaceable> to the <literal>net</literal> alias</para>
</listitem>
</varlistentry>
</variablelist>
</listitem>
</itemizedlist>
</step>
</procedure><example id="waninstalltasks-ex-8"><title>Checking and Resetting the <literal>net</literal> Device Alias</title><para>The following commands show how to check and reset the <literal>net</literal> device
alias.</para><para>Check the device aliases.</para><screen>ok <userinput>devalias</userinput>
screen                   /pci@1f,0/pci@1,1/SUNW,m64B@2
net                      /pci@1f,0/pci@1,1/network@c,1
net2                     /pci@1f,0/pci@1,1/network@5,1
disk                     /pci@1f,0/pci@1/scsi@8/disk@0,0
cdrom                    /pci@1f,0/pci@1,1/ide@d/cdrom@0,0:f
keyboard                 /pci@1f,0/pci@1,1/ebus@1/su@14,3083f8
mouse                    /pci@1f,0/pci@1,1/ebus@1/su@14,3062f8</screen><para>If you want to use the <filename>/pci@1f,0/pci@1,1/network@5,1</filename> network
device, type the following command.</para><screen>ok <userinput>devalias net /pci@1f,0/pci@1,1/network@5,1</userinput></screen>
</example><taskrelated-custom><title>Continuing the WAN Boot Installation</title><para>After you check the <literal>net</literal> device alias, see the appropriate
section to continue the installation.</para><itemizedlist><listitem><para>If you are using a hashing key and an encryption key in your
installation, see <olink targetptr="wanboottasks-9" remap="internal">Installing Keys on the
Client</olink>.</para>
</listitem><listitem><para>If you are performing a less secure installation without keys,
see <olink targetptr="wanboottasks2-60" remap="internal">Installing the Client</olink>.</para>
</listitem>
</itemizedlist>
</taskrelated-custom>
</task><sect2 id="wanboottasks-9"><title>Installing Keys on the Client</title><para>For a more secure WAN boot installation or an insecure installation
with data integrity checking, you must install keys on the client. By using
a hashing key and an encryption key, you can protect the data that is transmitted
to the client. You can install these keys in the following ways.</para><itemizedlist><listitem><para>Set OBP variables &ndash; You can assign key values to OBP
network boot argument variables before you boot the client. These keys can
then be used for future WAN boot installations of the client.</para>
</listitem><listitem><para>Enter the key values during the boot process &ndash; You can
set key values at the <filename>wanboot</filename> program <literal>boot></literal> prompt.
If you use this method to install keys, the keys are only used for the current
WAN boot installation.</para>
</listitem>
</itemizedlist><para>You can also install keys in the OBP of a running client. If you want
to install keys on a running client, the system must be running the Solaris
9 12/03 OS, or compatible version.</para><para>When you install keys on your client, ensure that the key values are
not transmitted over an insecure connection. Follow your site's security policies
to ensure the privacy of the key values.</para><itemizedlist><listitem><para>For instructions about how to assign key values to OBP network
boot argument variables, see <olink targetptr="waninstalltasks-9" remap="internal">To Install
Keys in the Client OBP</olink>.</para>
</listitem><listitem><para>For instructions about how to install keys during the boot
process, see <olink targetptr="wanboottasks-27" remap="internal">To Perform an Interactive
WAN Boot Installation</olink>.</para>
</listitem><listitem><para>For instructions about how to install keys in the OBP of a
running client, see <olink targetptr="waninstalltasks-10" remap="internal">To Install a Hashing
Key and an Encryption Key on a Running Client</olink>.</para>
</listitem>
</itemizedlist><task id="waninstalltasks-9"><title>To Install Keys in the Client OBP</title><tasksummary><para>You can assign key values to OBP network boot argument variables before
you boot the client. These keys can then be used for future WAN boot installations
of the client.</para><para>To install keys in the client OBP, follow these steps.</para><para>If you want to assign key values to OBP network boot argument variables,
follow these steps.</para>
</tasksummary><procedure><step><para>Assume the same user role as the web server user on the WAN boot
server.</para>
</step><step id="wanboottasks-step-1144"><para>Display the key value for each client
key.</para><screen># <userinput>wanbootutil keygen -d -c -o net=<replaceable>net-ip</replaceable>,cid=<replaceable>client-ID</replaceable>,type=<replaceable>key-type</replaceable></userinput></screen><variablelist><varlistentry><term><replaceable>net-ip</replaceable></term><listitem><para>The IP address of the client's subnet.</para>
</listitem>
</varlistentry><varlistentry><term><replaceable>client-ID</replaceable></term><listitem><para>The ID of the client you want to install. The client ID can
be a user-defined ID or the DHCP client ID.</para>
</listitem>
</varlistentry><varlistentry><term><replaceable>key-type</replaceable></term><listitem><para>The key type you want to install on the client. Valid key
types are <literal>3des</literal>, <literal>aes</literal>, or <literal>sha1</literal>.</para>
</listitem>
</varlistentry>
</variablelist><para>The hexadecimal value for the key is displayed.</para>
</step><step><para>Repeat the previous step for each type of client key you want
to install.</para>
</step><step><para>Bring the client system to run level 0.</para><screen># <userinput>init 0</userinput></screen><para>The <literal>ok</literal> prompt is displayed.</para>
</step><step id="wanboottasks-step-11"><para>At the client <literal>ok</literal> prompt,
set the value for the hashing key.</para><screen>ok <userinput>set-security-key wanboot-hmac-sha1 <replaceable>key-value</replaceable></userinput></screen><variablelist><varlistentry><term><command>set-security-key</command></term><listitem><para>Installs the key on the client</para>
</listitem>
</varlistentry><varlistentry><term><command>wanboot-hmac-sha1</command></term><listitem><para>Instructs OBP to install a HMAC SHA1 hashing key</para>
</listitem>
</varlistentry><varlistentry><term><replaceable>key-value</replaceable></term><listitem><para>Specifies the hexadecimal string that is displayed in <olink targetptr="wanboottasks-step-1144" remap="internal">Step&nbsp;2</olink>.</para>
</listitem>
</varlistentry>
</variablelist><para>The HMAC SHA1 hashing key is installed in the client OBP.</para>
</step><step id="wanboottasks-step-11pp"><para>At the client <literal>ok</literal> prompt,
install the encryption key.</para><screen>ok <userinput>set-security-key wanboot-3des <replaceable>key-value</replaceable></userinput></screen><variablelist><varlistentry><term><command>set-security-key</command></term><listitem><para>Installs the key on the client</para>
</listitem>
</varlistentry><varlistentry><term><command>wanboot-3des</command></term><listitem><para>Instructs OBP to install a 3DES encryption key. If you want
to use an AES encryption key, set this value to <literal>wanboot-aes</literal>.</para>
</listitem>
</varlistentry><varlistentry><term><replaceable>key-value</replaceable></term><listitem><para>Specifies the hexadecimal string that represents the encryption
key.</para>
</listitem>
</varlistentry>
</variablelist><para>The 3DES encryption key is installed in the client OBP.</para><para>After
you install the keys, you are ready to install the client. See <olink targetptr="wanboottasks2-60" remap="internal">Installing the Client</olink> for instructions
about how to install the client system.</para>
</step><step performance="optional" id="waninstalltasks-step-4"><para>Verify that
the keys are set in the client OBP.</para><screen>ok <userinput>list-security-keys</userinput>
Security Keys:
         wanboot-hmac-sha1
         wanboot-3des</screen>
</step><step performance="optional" id="waninstalltasks-step-5"><para>If you need
to delete a key, type the following command.</para><screen>ok <userinput>set-security-key <replaceable>key-type</replaceable></userinput></screen><variablelist><varlistentry><term><replaceable>key-type</replaceable></term><listitem><para>Specifies the type of key
you need to delete. Use the value <literal>wanboot-hmac-sha1</literal>, <literal>wanboot-3des</literal>, or <literal>wanboot-aes</literal>.</para>
</listitem>
</varlistentry>
</variablelist>
</step>
</procedure><example id="wanboottasks-ex-23"><title>Installing Keys in the Client OBP</title><para>The following example shows how to install a hashing key and an encryption
key in the client OBP.</para><para>Display the key values on the WAN boot server.</para><screen width="100"># <userinput>wanbootutil keygen -d -c -o net=192.168.198.0,cid=010003BA152A42,type=sha1</userinput>
b482aaab82cb8d5631e16d51478c90079cc1d463
# <userinput>wanbootutil keygen -d -c -o net=192.168.198.0,cid=010003BA152A42,type=3des</userinput>
9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</screen><para>The previous example uses the following information.</para><variablelist><varlistentry><term><literal>net=192.168.198.0</literal></term><listitem><para>Specifies the IP address of the client's subnet</para>
</listitem>
</varlistentry><varlistentry><term><literal>cid=010003BA152A42</literal></term><listitem><para>Specifies the client's ID</para>
</listitem>
</varlistentry><varlistentry><term><literal>b482aaab82cb8d5631e16d51478c90079cc1d463</literal></term><listitem><para>Specifies the value of the client's HMAC SHA1 hashing key</para>
</listitem>
</varlistentry><varlistentry><term><literal>9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</literal></term><listitem><para>Specifies the value of the client's 3DES encryption key</para><para>If you use an AES encryption key in your installation, change <literal>wanboot-3des</literal> to <literal>wanboot-aes</literal> to display the encryption key
value.</para>
</listitem>
</varlistentry>
</variablelist><para>Install the keys on the client system.</para><screen width="100">ok <userinput>set-security-key wanboot-hmac-sha1 b482aaab82cb8d5631e16d51478c90079cc1d463</userinput>
ok <userinput>set-security-key wanboot-3des 9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</userinput></screen><para>The previous commands perform the following tasks.</para><itemizedlist><listitem><para>Installs the HMAC SHA1 hashing key with a value of <literal>b482aaab82cb8d5631e16d51478c90079cc1d463</literal> on the client</para>
</listitem><listitem><para>Installs the 3DES encryption key with a value of <literal>9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</literal> on the client</para><para>If you use an AES encryption key in your
installation, change <literal>wanboot-3des</literal> to <literal>wanboot-aes</literal>.</para>
</listitem>
</itemizedlist>
</example><taskrelated-custom><title>Continuing the WAN Boot Installation</title><para>After you install keys on your client, you are ready to install the
client over the WAN. For instructions, see <olink targetptr="wanboottasks2-60" remap="internal">Installing
the Client</olink>.</para>
</taskrelated-custom><taskrelated role="see-also"><para>For more information about how to display key values, see the man page <olink targetdoc="refman1m" targetptr="wanbootutil-1m" remap="external"><citerefentry><refentrytitle>wanbootutil</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink>.</para>
</taskrelated>
</task><task id="waninstalltasks-10"><title>To Install a Hashing Key and an Encryption
Key on a Running Client</title><tasksummary><para>You can set key values at the <filename>wanboot</filename> program <literal>boot></literal> prompt on a running system. If you use this method to install
keys, the keys are only used for the current WAN boot installation.</para><para>If you want to install a hashing key and an encryption key in the OBP
of a running client, follow these steps.</para>
</tasksummary><taskprerequisites><para>This procedure makes the following assumptions.</para><itemizedlist><listitem><para>The client system is powered on.</para>
</listitem><listitem><para>The client is accessible over a secure connection, such as
a secure shell (<command>ssh</command>).</para>
</listitem>
</itemizedlist>
</taskprerequisites><procedure><step><para>Assume the same user role as the web server user on the WAN boot
server.</para>
</step><step id="wanboottasks2-step-87"><para>Display the key value for the client
keys.</para><screen># <userinput>wanbootutil keygen -d -c -o net=<replaceable>net-ip</replaceable>,cid=<replaceable>client-ID</replaceable>,type=<replaceable>key-type</replaceable></userinput></screen><variablelist><varlistentry><term><replaceable>net-ip</replaceable></term><listitem><para>The IP address of the client's subnet.</para>
</listitem>
</varlistentry><varlistentry><term><replaceable>client-ID</replaceable></term><listitem><para>The ID of the client you want to install. The client ID can
be a user-defined ID or the DHCP client ID.</para>
</listitem>
</varlistentry><varlistentry><term><replaceable>key-type</replaceable></term><listitem><para>The key type you want to install on the client. Valid key
types are <literal>3des</literal>, <literal>aes</literal>, or <literal>sha1</literal>.</para>
</listitem>
</varlistentry>
</variablelist><para>The hexadecimal value for the key is displayed.</para>
</step><step id="wanboottasks2-step-89"><para>Repeat the previous step for each type
of client key you want to install.</para>
</step><step id="waninstalltasks-step-1"><para>Become superuser or assume an equivalent
role on the client machine.</para>
</step><step id="wanboottasks2-step-28"><para>Install the necessary keys on the running
client machine.</para><screen># <userinput>/usr/lib/inet/wanboot/ickey -o type=<replaceable>key-type</replaceable></userinput>
> <userinput><replaceable>key-value</replaceable></userinput></screen><variablelist><varlistentry><term><replaceable>key-type</replaceable></term><listitem><para>Specifies the key type you want to install on the client.
Valid key types are <literal>3des</literal>, <literal>aes</literal>, or <literal>sha1</literal>.</para>
</listitem>
</varlistentry><varlistentry><term><replaceable>key-value</replaceable></term><listitem><para>Specifies the hexadecimal string that is displayed in <olink targetptr="wanboottasks2-step-87" remap="internal">Step&nbsp;2</olink>. </para>
</listitem>
</varlistentry>
</variablelist>
</step><step id="wanboottasks2-step-88"><para>Repeat the previous step for each type
of client key you want to install.</para><para>After you install the keys, you are ready to install the client.
See <olink targetptr="wanboottasks2-60" remap="internal">Installing the Client</olink> for
instructions about how to install the client system.</para>
</step>
</procedure><example id="wanboottasks-ex-24"><title>Installing Keys in the OBP of a Running Client System</title><para>The following example shows how to install keys in the OBP of a running
client.</para><para>Display the key values on the WAN boot server.</para><screen width="100"># <userinput>wanbootutil keygen -d -c -o net=192.168.198.0,cid=010003BA152A42,type=sha1</userinput>
b482aaab82cb8d5631e16d51478c90079cc1d463
# <userinput>wanbootutil keygen -d -c -o net=192.168.198.0,cid=010003BA152A42,type=3des</userinput>
9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</screen><para>The previous example uses the following information.</para><variablelist><varlistentry><term><literal>net=192.168.198.0</literal></term><listitem><para>Specifies the IP address of the client's subnet</para>
</listitem>
</varlistentry><varlistentry><term><literal>cid=010003BA152A42</literal></term><listitem><para>Specifies the client's ID</para>
</listitem>
</varlistentry><varlistentry><term><literal>b482aaab82cb8d5631e16d51478c90079cc1d463</literal></term><listitem><para>Specifies the value of the client's HMAC SHA1 hashing key</para>
</listitem>
</varlistentry><varlistentry><term><literal>9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</literal></term><listitem><para>Specifies the value of the client's 3DES encryption key</para><para>If you use an AES encryption key in your installation, change <literal>type=3des</literal> to <literal>type=aes</literal> to display the encryption key value.</para>
</listitem>
</varlistentry>
</variablelist><para>Install the keys in the OBP of the running client.</para><screen width="100"># <userinput>/usr/lib/inet/wanboot/ickey -o type=sha1 b482aaab82cb8d5631e16d51478c90079cc1d463</userinput>
# <userinput>/usr/lib/inet/wanboot/ickey -o type=3des 9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</userinput></screen><para>The previous commands perform the following tasks.</para><itemizedlist><listitem><para>Installs a HMAC SHA1 hashing key with a value of <literal>b482aaab82cb8d5631e16d51478c90079cc1d463</literal> on the client</para>
</listitem><listitem><para>Installs a 3DES encryption key with a value of <literal>9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</literal> on the client</para>
</listitem>
</itemizedlist>
</example><taskrelated-custom><title>Continuing the WAN Boot Installation</title><para>After you install keys on your client, you are ready to install the
client over the WAN. For instructions, see <olink targetptr="wanboottasks2-60" remap="internal">Installing
the Client</olink>.</para>
</taskrelated-custom><taskrelated role="see-also"><para>For more information about how to display key values, see the man page <olink targetdoc="refman1m" targetptr="wanbootutil-1m" remap="external"><citerefentry><refentrytitle>wanbootutil</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink>.</para><para>For additional information about how to install keys on a running system,
see <olink targetdoc="refman1m" targetptr="ickey-1m" remap="external"><citerefentry><refentrytitle>ickey</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink>.</para>
</taskrelated>
</task>
</sect2>
</sect1><sect1 id="wanboottasks2-60"><title>Installing the Client</title><para>When you finish preparing your network for a WAN boot installation,
you can choose from the following ways to install the system.</para><table frame="topbot" id="fahrg"><title>Methods to Install the Client</title><tgroup cols="3" colsep="0" rowsep="0"><colspec colwidth="33*"/><colspec colwidth="33*"/><colspec colwidth="33*"/><thead><row rowsep="1"><entry><para>Method</para>
</entry><entry><para>Description</para>
</entry><entry><para>Instructions</para>
</entry>
</row>
</thead><tbody><row><entry><para>Noninteractive installation</para>
</entry><entry><para>Use this installation method if you want to install keys on the client
and set the client configuration information before you boot the client.</para>
</entry><entry><itemizedlist><listitem><para>To install keys on the client before the installation, see <olink targetptr="wanboottasks-9" remap="internal">Installing Keys on the Client</olink>.</para>
</listitem><listitem><para>To perform a noninteractive installation, see <olink targetptr="wanboottasks2-97" remap="internal">To Perform a Noninteractive WAN Boot Installation</olink>.</para>
</listitem>
</itemizedlist>
</entry>
</row><row><entry><para>Interactive installation</para>
</entry><entry><para>Use this installation method if you want to set the client configuration
information during the boot process.</para>
</entry><entry><para><olink targetptr="wanboottasks-27" remap="internal">To Perform an Interactive WAN Boot
Installation</olink></para>
</entry>
</row><row><entry><para>Installing with a DHCP server</para>
</entry><entry><para>Use this installation method if you configured the network DHCP server
to provide client configuration information during the installation.</para>
</entry><entry><itemizedlist><listitem><para>To configure a DHCP server to support a WAN boot installation,
see <olink targetptr="wanboottasks2-46" remap="internal">(Optional) Providing Configuration
Information With a DHCP Server</olink>.</para>
</listitem><listitem><para>To use a DHCP server during your installation, see <olink targetptr="wanboottasks2-61" remap="internal">To Perform a WAN Boot Installation With a DHCP
Server</olink>.</para>
</listitem>
</itemizedlist>
</entry>
</row><row><entry><para>Installing with local CD media</para>
</entry><entry><para>If your client OBP does not support WAN boot, boot the client from a
local copy of the Solaris Software CD.</para>
</entry><entry><itemizedlist><listitem><para>To determine if the client OBP supports WAN boot, see <olink targetptr="wanboottasks-13" remap="internal">To Check the Client OBP for WAN Boot Support</olink>.</para>
</listitem><listitem><para>To install the client with a local copy of the Solaris Software CD,
see <olink targetptr="wanboottasks2-17" remap="internal">To Perform a WAN Boot Installation
With Local CD Media</olink>.</para>
</listitem>
</itemizedlist>
</entry>
</row>
</tbody>
</tgroup>
</table><task id="wanboottasks2-97"><title>To Perform a Noninteractive WAN Boot Installation</title><tasksummary><para>Use this installation method if you prefer to install keys and set client
configuration information before you install the client. You can then boot
the client from the WAN and perform an unattended installation.</para><para>This procedure assumes that you have either installed keys in the client's
OBP, or that you are performing an insecure installation. For information
about installing keys on the client before your installation, see <olink targetptr="wanboottasks-9" remap="internal">Installing Keys on the Client</olink>.</para>
</tasksummary><procedure><step id="fahqz"><para>If the client system is currently running, bring the
system to run level 0.</para><screen># <userinput>init 0</userinput></screen><para>The <literal>ok</literal> prompt is displayed.</para>
</step><step id="fahrl"><para>At the <literal>ok</literal> prompt on the client system,
set the network boot argument variables in OBP.</para><screen>ok <userinput>setenv network-boot-arguments  host-ip=<replaceable>client-IP</replaceable>,</userinput>
<userinput>router-ip=<replaceable>router-ip</replaceable>,subnet-mask=<replaceable>mask-value</replaceable>,</userinput>
<userinput>hostname=<replaceable>client-name</replaceable>,http-proxy=<replaceable>proxy-ip:port</replaceable>,</userinput>
<userinput>file=<replaceable>wanbootCGI-URL</replaceable></userinput></screen><note><para>The line breaks in this command sample are included for formatting
purposes only. Do not enter a carriage return until you finish typing the
command.</para>
</note><variablelist><varlistentry><term><command>setenv network-boot-arguments</command></term><listitem><para>Instructs the OBP to set the following boot arguments</para>
</listitem>
</varlistentry><varlistentry><term><command>host-ip=<replaceable>client-IP</replaceable></command></term><listitem><para>Specifies the IP address of the client</para>
</listitem>
</varlistentry><varlistentry><term><command>router-ip=<replaceable>router-ip</replaceable></command></term><listitem><para>Specifies the IP address of the network router</para>
</listitem>
</varlistentry><varlistentry><term><command>subnet-mask=<replaceable>mask-value</replaceable></command></term><listitem><para>Specifies the subnet mask value</para>
</listitem>
</varlistentry><varlistentry><term><command>hostname=<replaceable>client-name</replaceable></command></term><listitem><para>Specifies the host name of the client</para>
</listitem>
</varlistentry><varlistentry><term>(Optional) <command>http-proxy=<replaceable>proxy-ip:port</replaceable></command></term><listitem><para>Specifies the IP address and port of the network's proxy server</para>
</listitem>
</varlistentry><varlistentry><term><command>file=<replaceable>wanbootCGI-URL</replaceable></command></term><listitem><para>Specifies the URL of the <filename>wanboot-cgi</filename> program
on the web server</para>
</listitem>
</varlistentry>
</variablelist>
</step><step><para>Boot the client.</para><screen>ok <userinput>boot net - install</userinput></screen><variablelist><varlistentry><term><literal>net - install</literal></term><listitem><para>Instructs the client to use the network boot argument variables
to boot from the WAN</para>
</listitem>
</varlistentry>
</variablelist><para>The client installs over the WAN. If the WAN boot programs do
not find all the necessary installation information, the <filename>wanboot</filename> program
prompts to provide the missing information. Type the additional information
at the prompt.</para>
</step>
</procedure><example id="fahrr"><title>Noninteractive WAN Boot Installation</title><para>In the following example, the network boot argument variables for the
client system <literal>myclient</literal> are set before the machine is booted.
This example assumes that a hashing key and encryption key are already installed
on the client. For information about installing keys before you boot from
the WAN, see <olink targetptr="wanboottasks-9" remap="internal">Installing Keys on the Client</olink>.</para><screen>ok <userinput>setenv network-boot-arguments host-ip=192.168.198.136,</userinput>
<userinput>router-ip=192.168.198.129,subnet-mask=255.255.255.192</userinput>
<userinput>hostname=myclient,file=http://192.168.198.135/cgi-bin/wanboot-cgi</userinput>
ok <userinput>boot net - install</userinput>
Resetting ...




Sun Blade 100 (UltraSPARC-IIe), No Keyboard
Copyright 1998-2003 Sun Microsystems, Inc.  All rights reserved.
OpenBoot 4.x.build_28, 512 MB memory installed, Serial #50335475.
Ethernet address 0:3:ba:e:f3:75, Host ID: 83000ef3.



Rebooting with command: boot net - install
Boot device: /pci@1f,0/network@c,1  File and args: - install</screen><para>The following variables are set.</para><itemizedlist><listitem><para>The client IP address is set to 192.168.198.136.</para>
</listitem><listitem><para>The client's router IP address is set to 192.168.198.129.</para>
</listitem><listitem><para>The client's subnet mask is set to 255.255.255.192.</para>
</listitem><listitem><para>The client's host name is set to <literal>seahag</literal>.</para>
</listitem><listitem><para>The <filename>wanboot-cgi</filename> program is located at <literal>http://192.168.198.135/cgi-bin/wanboot-cgi</literal>.</para>
</listitem>
</itemizedlist>
</example><taskrelated role="see-also"><para>For more information about how to set network boot arguments, see <olink targetdoc="refman1" targetptr="set-1" remap="external"><citerefentry><refentrytitle>set</refentrytitle><manvolnum>1</manvolnum></citerefentry></olink>.</para><para>For more information about how to boot a system, see <olink targetdoc="refman1m" targetptr="boot-1m" remap="external"><citerefentry><refentrytitle>boot</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink>.</para>
</taskrelated>
</task><task id="wanboottasks-27"><title>To Perform an Interactive WAN Boot Installation</title><tasksummary><para>Use this installation method if you want to install keys and set client
configuration information at the command line during the installation.</para><para>This procedure assumes that you are using HTTPS in your WAN installation.
If you are performing an insecure installation that does not use keys, do
not display or install the client keys.</para>
</tasksummary><procedure><step><para>Assume the same user role as the web server user on the WAN boot
server.</para>
</step><step id="wanboottasks-step-1146"><para>Display the key value for each client
key.</para><screen># <userinput>wanbootutil keygen -d -c -o net=<replaceable>net-ip</replaceable>,cid=<replaceable>client-ID</replaceable>,type=<replaceable>key-type</replaceable></userinput></screen><variablelist><varlistentry><term><replaceable>net-ip</replaceable></term><listitem><para>The IP address of the subnet for the client you want to install.</para>
</listitem>
</varlistentry><varlistentry><term><replaceable>client-ID</replaceable></term><listitem><para>The ID of the client you want to install. The client ID can
be a user-defined ID or the DHCP client ID.</para>
</listitem>
</varlistentry><varlistentry><term><replaceable>key-type</replaceable></term><listitem><para>The key type you want to install on the client. Valid key
types are <literal>3des</literal>, <literal>aes</literal>, or <literal>sha1</literal>.</para>
</listitem>
</varlistentry>
</variablelist><para>The hexadecimal value for the key is displayed.</para>
</step><step><para>Repeat the previous step for each type of client key you are installing.</para>
</step><step id="fahre"><para>If the client system is currently running, bring the
client to run level 0.</para>
</step><step id="fahrp"><para>At the <literal>ok</literal> prompt on the client system, set
the network boot argument variables in OBP.</para><screen>ok <userinput>setenv network-boot-arguments  host-ip=<replaceable>client-IP</replaceable>,router-ip=<replaceable>router-ip</replaceable>,</userinput>
<userinput>subnet-mask=<replaceable>mask-value</replaceable>,hostname=<replaceable>client-name</replaceable>,</userinput>
<userinput>http-proxy=<replaceable>proxy-ip:port</replaceable>,bootserver=<replaceable>wanbootCGI-URL</replaceable></userinput></screen><note><para>The line breaks in this command sample are included for formatting
purposes only. Do not enter a carriage return until you finish typing the
command.</para>
</note><variablelist><varlistentry><term><command>setenv network-boot-arguments</command></term><listitem><para>Instructs the OBP to set the following boot arguments</para>
</listitem>
</varlistentry><varlistentry><term><command>host-ip=<replaceable>client-IP</replaceable></command></term><listitem><para>Specifies the IP address of the client</para>
</listitem>
</varlistentry><varlistentry><term><command>router-ip=<replaceable>router-ip</replaceable></command></term><listitem><para>Specifies the IP address of the network router</para>
</listitem>
</varlistentry><varlistentry><term><command>subnet-mask=<replaceable>mask-value</replaceable></command></term><listitem><para>Specifies the subnet mask value</para>
</listitem>
</varlistentry><varlistentry><term><command>hostname=<replaceable>client-name</replaceable></command></term><listitem><para>Specifies the host name of the client</para>
</listitem>
</varlistentry><varlistentry><term>(Optional) <command>http-proxy=<replaceable>proxy-ip:port</replaceable></command></term><listitem><para>Specifies the IP address and port of the network's proxy server</para>
</listitem>
</varlistentry><varlistentry><term><command>bootserver=<replaceable>wanbootCGI-URL</replaceable></command></term><listitem><para>Specifies the URL of the <filename>wanboot-cgi</filename> program
on the web server</para><note><para>The URL value for the<command>bootserver</command> variable must
not be an HTTPS URL. The URL must start with <literal>http://</literal>.</para>
</note>
</listitem>
</varlistentry>
</variablelist>
</step><step id="fahrf"><para>At the client <literal>ok</literal> prompt, boot the
system.</para><screen>ok <userinput>boot net -o prompt - install</userinput></screen><variablelist><varlistentry><term><literal>net -o prompt - install</literal></term><listitem><para>Instructs the client to boot and install from the network.
The <filename>wanboot</filename> program prompts the user to enter client
configuration information at the <literal>boot></literal> prompt.</para>
</listitem>
</varlistentry>
</variablelist><para>The <literal>boot></literal> prompt is displayed.</para>
</step><step id="fahrx"><para>Install the encryption key.</para><screen>boot> <userinput>3des=<replaceable>key-value</replaceable></userinput></screen><variablelist><varlistentry><term><literal>3des=</literal><replaceable>key-value</replaceable></term><listitem><para>Specifies the hexadecimal string of the 3DES key that is displayed
in <olink targetptr="wanboottasks-step-1146" remap="internal">Step&nbsp;2</olink>.</para><para>If you use an AES encryption key, use the following format for this
command.</para><screen>boot> <userinput>aes=<replaceable>key-value</replaceable></userinput></screen>
</listitem>
</varlistentry>
</variablelist>
</step><step id="fahrm"><para>Install the hashing key.</para><screen>boot> <userinput>sha1=<replaceable>key-value</replaceable></userinput></screen><variablelist><varlistentry><term><literal>sha1=</literal><replaceable>key-value</replaceable></term><listitem><para>Specifies the hashing key value that is displayed in <olink targetptr="wanboottasks-step-1146" remap="internal">Step&nbsp;2</olink>.</para>
</listitem>
</varlistentry>
</variablelist>
</step><step><para>Type the following command to continue the boot process.</para><screen>boot> <userinput>go</userinput></screen><para>The client installs over the WAN.</para>
</step><step><para>If prompted, type client configuration information on the command
line.</para><para>If the WAN boot programs do not find all the necessary installation
information, the <filename>wanboot</filename> program prompts to provide the
missing information. Type the additional information at the prompt.</para>
</step>
</procedure><example id="fahra"><title>Interactive WAN Boot Installation</title><para>In the following example, the <filename>wanboot</filename> program prompts
you to set the key values for the client system during the installation.</para><para>Display the key values on the WAN boot server.</para><screen width="100"># <userinput>wanbootutil keygen -d -c -o net=192.168.198.0,cid=010003BA152A42,type=sha1</userinput>
b482aaab82cb8d5631e16d51478c90079cc1d463
# <userinput>wanbootutil keygen -d -c -o net=192.168.198.0,cid=010003BA152A42,type=3des</userinput>
9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</screen><para>The previous example uses the following information.</para><variablelist><varlistentry><term><literal>net=192.168.198.0</literal></term><listitem><para>Specifies the IP address of the client's subnet</para>
</listitem>
</varlistentry><varlistentry><term><literal>cid=010003BA152A42</literal></term><listitem><para>Specifies the client's ID</para>
</listitem>
</varlistentry><varlistentry><term><literal>b482aaab82cb8d5631e16d51478c90079cc1d463</literal></term><listitem><para>Specifies the value of the client's HMAC SHA1 hashing key</para>
</listitem>
</varlistentry><varlistentry><term><literal>9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</literal></term><listitem><para>Specifies the value of the client's 3DES encryption key</para><para>If you use an AES encryption key in your installation, change <literal>type=3des</literal> to <literal>type=aes</literal> to display the encryption key value.</para>
</listitem>
</varlistentry>
</variablelist><para>Set the network boot argument variables in the OBP on the client.</para><screen>ok <userinput>setenv network-boot-arguments host-ip=192.168.198.136,</userinput>
<userinput>router-ip=192.168.198.129,subnet-mask=255.255.255.192,hostname=myclient,</userinput>
<userinput>bootserver=http://192.168.198.135/cgi-bin/wanboot-cgi</userinput></screen><para>The following variables are set.</para><itemizedlist><listitem><para>The client IP address is set to 192.168.198.136.</para>
</listitem><listitem><para>The client's router IP address is set to 192.168.198.129.</para>
</listitem><listitem><para>The client's subnet mask is set to 255.255.255.192.</para>
</listitem><listitem><para>The client's host name is set to <literal>myclient</literal>.</para>
</listitem><listitem><para>The <filename>wanboot-cgi</filename> program is located at <literal>http://192.168.198.135/cgi-bin/wanboot-cgi</literal>.</para>
</listitem>
</itemizedlist><para>Boot and install the client.</para><screen>ok <userinput>boot net -o prompt - install</userinput>
Resetting ...


Sun Blade 100 (UltraSPARC-IIe), No Keyboard
Copyright 1998-2003 Sun Microsystems, Inc.  All rights reserved.
OpenBoot 4.x.build_28, 512 MB memory installed, Serial #50335475.
Ethernet address 0:3:ba:e:f3:75, Host ID: 83000ef3.



Rebooting with command: boot net -o prompt                            
Boot device: /pci@1f,0/network@c,1  File and args: -o prompt

boot> <userinput>3des=9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</userinput>

boot> <userinput>sha1=b482aaab82cb8d5631e16d51478c90079cc1d463</userinput>

boot> <userinput>go</userinput></screen><para>The previous commands perform the following tasks.</para><itemizedlist><listitem><para>Installs the 3DES encryption key with the value <literal>9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</literal> on the client</para>
</listitem><listitem><para>Installs the HMAC SHA1 hashing key with the value <literal>b482aaab82cb8d5631e16d51478c90079cc1d463</literal> on the client</para>
</listitem><listitem><para>Starts the installation</para>
</listitem>
</itemizedlist>
</example><taskrelated role="see-also"><para>For more information about how to display key values, see <olink targetdoc="refman1m" targetptr="wanbootutil-1m" remap="external"><citerefentry><refentrytitle>wanbootutil</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink>.</para><para>For more information about how to set network boot arguments, see <olink targetdoc="refman1" targetptr="set-1" remap="external"><citerefentry><refentrytitle>set</refentrytitle><manvolnum>1</manvolnum></citerefentry></olink>.</para><para>For more information about how to boot a system, see <olink targetdoc="refman1m" targetptr="boot-1m" remap="external"><citerefentry><refentrytitle>boot</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink>.</para>
</taskrelated>
</task><task id="wanboottasks2-61"><title>To Perform a WAN Boot Installation With
a DHCP Server</title><tasksummary><para>If you configured a DHCP server to support WAN boot options, you can
use the DHCP server to provide client configuration information during the
installation. For more information about configuring a DHCP server to support
a WAN boot installation, see <olink targetptr="wanboottasks2-46" remap="internal">(Optional)
Providing Configuration Information With a DHCP Server</olink>.</para><para>This procedure makes the following assumptions.</para><itemizedlist><listitem><para>The client system is running.</para>
</listitem><listitem><para>You have either installed keys on the client, or you are performing
an insecure installation.</para><para>For information about installing keys
on the client before your installation, see <olink targetptr="wanboottasks-9" remap="internal">Installing
Keys on the Client</olink>.</para>
</listitem><listitem><para>You have configured your DHCP server to support the <literal>SbootURI</literal> and <literal>SHTTPproxy</literal> WAN boot options.</para><para>These
options enable the DHCP server to provide the configuration information that
is required by WAN boot.</para><para>For information about how to set installation
options on your DHCP server, see <olink targetptr="dhcp-admin-38" remap="internal">Preconfiguring
System Configuration Information With the DHCP Service (Tasks)</olink>.</para>
</listitem>
</itemizedlist>
</tasksummary><procedure><step id="fahrn"><para>If the client system is currently running, bring the
system to run level 0.</para><screen># <userinput>init 0</userinput></screen><para>The <literal>ok</literal> prompt is displayed.</para>
</step><step id="fahrv"><para>At the <literal>ok</literal> prompt on the client system,
set the network boot argument variables in OBP.</para><screen>ok <userinput>setenv network-boot-arguments dhcp,hostname=<replaceable>client-name</replaceable></userinput></screen><variablelist><varlistentry><term><command>setenv network-boot-arguments</command></term><listitem><para>Instructs the OBP to set the following boot arguments</para>
</listitem>
</varlistentry><varlistentry><term><command>dhcp</command></term><listitem><para>Instructs the OBP to use the DHCP server to configure the
client</para>
</listitem>
</varlistentry><varlistentry><term><command>hostname=<replaceable>client-name</replaceable></command></term><listitem><para>Specifies the host name you want to assign to the client</para>
</listitem>
</varlistentry>
</variablelist>
</step><step><para>Boot the client from the network.</para><screen>ok <userinput>boot net - install</userinput></screen><variablelist><varlistentry><term><literal>net - install</literal></term><listitem><para>Instructs the client to use the network boot argument variables
to boot from the WAN</para>
</listitem>
</varlistentry>
</variablelist><para>The client installs over the WAN. If the WAN boot programs do
not find all the necessary installation information, the <filename>wanboot</filename> program
prompts to provide the missing information. Type the additional information
at the prompt.</para>
</step>
</procedure><example id="fahrq"><title>WAN Boot Installation With a DHCP Server</title><para>In the following example, the DHCP server on the network provides client
configuration information. This sample requests the host name <literal>myclient</literal> for
the client.</para><screen>ok <userinput>setenv network-boot-arguments dhcp, hostname=myclient</userinput>

ok <userinput>boot net - install</userinput>
Resetting ...



Sun Blade 100 (UltraSPARC-IIe), No Keyboard
Copyright 1998-2003 Sun Microsystems, Inc.  All rights reserved.
OpenBoot 4.x.build_28, 512 MB memory installed, Serial #50335475.
Ethernet address 0:3:ba:e:f3:75, Host ID: 83000ef3.



Rebooting with command: boot net - install
Boot device: /pci@1f,0/network@c,1  File and args: - install</screen>
</example><taskrelated role="see-also"><para>For more information about how to set network boot arguments, see <olink targetdoc="refman1" targetptr="set-1" remap="external"><citerefentry><refentrytitle>set</refentrytitle><manvolnum>1</manvolnum></citerefentry></olink>.</para><para>For more information about how to boot a system, see <olink targetdoc="refman1m" targetptr="boot-1m" remap="external"><citerefentry><refentrytitle>boot</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink>.</para><para>For more information about how to configure a DHCP server, see <olink targetptr="wanboottasks2-46" remap="internal">(Optional) Providing Configuration Information
With a DHCP Server</olink>.</para>
</taskrelated>
</task><task id="wanboottasks2-17"><title>To Perform a WAN Boot Installation With
Local CD Media</title><tasksummary><para>If your client's OBP does not support WAN boot, you can install with
a Solaris Software - 1 CD inserted in the client's CD-ROM drive. When you
use a local CD, the client retrieves the <command>wanboot</command> program
from the local media, rather than from the WAN boot server.</para><para>This procedure assumes that you are using HTTPS in your WAN installation.
If you are performing an insecure installation, do not display or install
the client keys.</para><para>Follow these steps to perform a WAN boot installation from a local CD.</para>
</tasksummary><procedure><step><para>Assume the same user role as the web server user on the WAN boot
server.</para>
</step><step id="wanboottasks-step-1149"><para>Display the key value for each client
key.</para><screen># <userinput>wanbootutil keygen -d -c -o net=<replaceable>net-ip</replaceable>,cid=<replaceable>client-ID</replaceable>,type=<replaceable>key-type</replaceable></userinput></screen><variablelist><varlistentry><term><replaceable>net-ip</replaceable></term><listitem><para>The network IP address for the client you are installing.</para>
</listitem>
</varlistentry><varlistentry><term><replaceable>client-ID</replaceable></term><listitem><para>The ID of the client you are installing. The client ID can
be a user-defined ID or the DHCP client ID.</para>
</listitem>
</varlistentry><varlistentry><term><replaceable>key-type</replaceable></term><listitem><para>The key type you are installing on the client. Valid key types
are <literal>3des</literal>, <literal>aes</literal>, or <literal>sha1</literal>.</para>
</listitem>
</varlistentry>
</variablelist><para>The hexadecimal value for the key is displayed.</para>
</step><step><para>Repeat the previous step for each type of client key you are installing.</para>
</step><step><para>On the client system, insert the Solaris Software - 1 CD in the
CD-ROM drive.</para>
</step><step id="wanboottasks2-step-102"><para>Power on the client system.</para>
</step><step id="wanboottasks2-step-103"><para>Boot the client from the CD.</para><screen>ok <userinput>boot cdrom -o prompt -F wanboot - install</userinput></screen><variablelist><varlistentry><term><literal>cdrom</literal></term><listitem><para>Instructs the OBP to boot from the local CD-ROM</para>
</listitem>
</varlistentry><varlistentry><term><literal>-o prompt</literal></term><listitem><para>Instructs the <filename>wanboot</filename> program to prompt
the user to enter client configuration information</para>
</listitem>
</varlistentry><varlistentry><term><literal>-F wanboot</literal></term><listitem><para>Instructs the OBP to load the <filename>wanboot</filename> program
from the CD-ROM</para>
</listitem>
</varlistentry><varlistentry><term><command>- install</command></term><listitem><para>Instructs the client to perform a WAN boot installation</para>
</listitem>
</varlistentry>
</variablelist><para>The client's OBP loads the <filename>wanboot</filename> program from
the Solaris Software - 1 CD. The <filename>wanboot</filename> program boots
the system, and the <literal>boot></literal> prompt is displayed.</para>
</step><step id="wanboottasks-step-1999"><para>Type the encryption key value.</para><screen>boot> <userinput>3des=<replaceable>key-value</replaceable></userinput></screen><variablelist><varlistentry><term><literal>3des=</literal><replaceable>key-value</replaceable></term><listitem><para>Specifies the hexadecimal string of the 3DES key that is displayed
in step <olink targetptr="wanboottasks-step-1149" remap="internal">Step&nbsp;2</olink>.</para><para>If you use an AES encryption key, use the following format for this
command.</para><screen>boot> <userinput>aes=<replaceable>key-value</replaceable></userinput></screen>
</listitem>
</varlistentry>
</variablelist>
</step><step id="wanboottasks-step-888"><para>Type the hashing key value.</para><screen>boot> <userinput>sha1=<replaceable>key-value</replaceable></userinput></screen><variablelist><varlistentry><term><literal>sha1=</literal><replaceable>key-value</replaceable></term><listitem><para>Specifies the hexadecimal string that represents the hashing
key value that is displayed in step <olink targetptr="wanboottasks-step-1149" remap="internal">Step&nbsp;2</olink>.</para>
</listitem>
</varlistentry>
</variablelist>
</step><step id="wanboottasks-step-424"><para>Set the network interface variables.</para><screen>boot> <userinput><replaceable>variable</replaceable>=<replaceable>value</replaceable></userinput>[,<userinput><replaceable>variable</replaceable>=<replaceable>value</replaceable></userinput>*]</screen><para>Type the following variable and value pairs at the <literal>boot></literal> prompt.</para><variablelist><varlistentry><term><command>host-ip=<replaceable>client-IP</replaceable></command></term><listitem><para>Specifies the IP address of the client.</para>
</listitem>
</varlistentry><varlistentry><term><command>router-ip=<replaceable>router-ip</replaceable></command></term><listitem><para>Specifies the IP address of the network router.</para>
</listitem>
</varlistentry><varlistentry><term><command>subnet-mask=<replaceable>mask-value</replaceable></command></term><listitem><para>Specifies the subnet mask value.</para>
</listitem>
</varlistentry><varlistentry><term><command>hostname=<replaceable>client-name</replaceable></command></term><listitem><para>Specifies the host name of the client.</para>
</listitem>
</varlistentry><varlistentry><term>(Optional) <command>http-proxy=<replaceable>proxy-ip:port</replaceable></command></term><listitem><para>Specifies the IP address and port number of the network's
proxy server.</para>
</listitem>
</varlistentry><varlistentry><term><command>bootserver=<replaceable>wanbootCGI-URL</replaceable></command></term><listitem><para>Specifies the URL of the <filename>wanboot-cgi</filename> program
on the web server.</para><note><para>The URL value for the<command>bootserver</command> variable must
not be an HTTPS URL. The URL must start with <literal>http://</literal>.</para>
</note>
</listitem>
</varlistentry>
</variablelist><para>You can enter these variables in the following ways.</para><itemizedlist><listitem><para>Type one variable and value pair at the <literal>boot></literal> prompt,
then press the Return key.</para><screen>boot> <userinput>host-ip=<replaceable>client-IP</replaceable></userinput>
boot> <userinput>subnet-mask=<replaceable>mask-value</replaceable></userinput></screen>
</listitem><listitem><para>Type all the variable and value pairs on one <literal>boot></literal> prompt
line, then press the Return key. Type commas to separate each variable and
value pair.</para><screen>boot> <userinput>host-ip=<replaceable>client-IP</replaceable>,subnet-mask=<replaceable>mask-value</replaceable>,</userinput>
<userinput>router-ip=<replaceable>router-ip</replaceable>,hostname=<replaceable>client-name</replaceable>,</userinput>
<userinput>http-proxy=<replaceable>proxy-ip:port</replaceable>,bootserver=<replaceable>wanbootCGI-URL</replaceable></userinput></screen>
</listitem>
</itemizedlist>
</step><step><para>Type the following command to continue the boot process.</para><screen>boot> <userinput>go</userinput></screen><para>The client installs over the WAN. If the WAN boot programs do
not find all the necessary installation information, the <filename>wanboot</filename> program
prompts to provide the missing information. Type the additional information
at the prompt.</para>
</step>
</procedure><example id="wanboottasks-ex-200"><title>Installing With Local CD Media</title><para>In the following example, the <filename>wanboot</filename> program on
a local CD prompts you to set the network interface variables for the client
during the installation.</para><para>Display the key values on the WAN boot server.</para><screen width="100"># <userinput>wanbootutil keygen -d -c -o net=192.168.198.0,cid=010003BA152A42,type=sha1</userinput>
b482aaab82cb8d5631e16d51478c90079cc1d463
# <userinput>wanbootutil keygen -d -c -o net=192.168.198.0,cid=010003BA152A42,type=3des</userinput>
9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</screen><para>The previous example uses the following information.</para><variablelist><varlistentry><term><literal>net=192.168.198.0</literal></term><listitem><para>Specifies the IP address of the client's subnet</para>
</listitem>
</varlistentry><varlistentry><term><literal>cid=010003BA152A42</literal></term><listitem><para>Specifies the client's ID</para>
</listitem>
</varlistentry><varlistentry><term><literal>b482aaab82cb8d5631e16d51478c90079cc1d463</literal></term><listitem><para>Specifies the value of the client's HMAC SHA1 hashing key</para>
</listitem>
</varlistentry><varlistentry><term><literal>9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</literal></term><listitem><para>Specifies the value of the client's 3DES encryption key</para><para>If you use an AES encryption key in your installation, change <literal>type=3des</literal> to <literal>type=aes</literal> to display the encryption key value.</para>
</listitem>
</varlistentry>
</variablelist><para>Boot and install the client.</para><screen width="100">ok <userinput>boot cdrom -o prompt -F wanboot - install</userinput>
Resetting ...


Sun Blade 100 (UltraSPARC-IIe), No Keyboard
Copyright 1998-2003 Sun Microsystems, Inc.  All rights reserved.
OpenBoot 4.x.build_28, 512 MB memory installed, Serial #50335475.
Ethernet address 0:3:ba:e:f3:75, Host ID: 83000ef3.



Rebooting with command: boot cdrom -F wanboot - install                            
Boot device: /pci@1f,0/network@c,1  File and args: -o prompt

boot> <userinput>3des=9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</userinput>

boot> <userinput>sha1=b482aaab82cb8d5631e16d51478c90079cc1d463</userinput>

boot> <userinput>host-ip=192.168.198.124</userinput>

boot> <userinput>subnet-mask=255.255.255.128</userinput>

boot> <userinput>router-ip=192.168.198.1</userinput>

boot> <userinput>hostname=myclient</userinput>
boot> <userinput>client-id=010003BA152A42</userinput>

boot> <userinput>bootserver=http://192.168.198.135/cgi-bin/wanboot-cgi</userinput>

boot> <userinput>go</userinput></screen><para>The previous commands perform the following tasks.</para><itemizedlist><listitem><para>Enters the 3DES encryption key with the value <literal>9ebc7a57f240e97c9b9401e9d3ae9b292943d3c143d07f04</literal> on the client</para>
</listitem><listitem><para>Enters the HMAC SHA1 hashing key with the value <literal>b482aaab82cb8d5631e16d51478c90079cc1d463</literal> on the client</para>
</listitem><listitem><para>Sets the client IP address to 192.168.198.124</para>
</listitem><listitem><para>Sets the client's subnet mask to 255.255.255.128</para>
</listitem><listitem><para>Sets the client's router IP address to 192.168.198.1</para>
</listitem><listitem><para>Sets the client's host name  to <literal>myclient</literal></para>
</listitem><listitem><para>Sets the client ID to 010003BA152A42</para>
</listitem><listitem><para>Sets the location of the <filename>wanboot-cgi</filename> program
to <literal>http://192.168.198.135/cgi-bin/wanboot-cgi/</literal></para>
</listitem>
</itemizedlist>
</example><taskrelated role="see-also"><para>For more information about how to display key values, see <olink targetdoc="refman1m" targetptr="wanbootutil-1m" remap="external"><citerefentry><refentrytitle>wanbootutil</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink>.</para><para>For more information about how to set network boot arguments, see <olink targetdoc="refman1" targetptr="set-1" remap="external"><citerefentry><refentrytitle>set</refentrytitle><manvolnum>1</manvolnum></citerefentry></olink>.</para><para>For more information about how to boot a system, see <olink targetdoc="refman1m" targetptr="boot-1m" remap="external"><citerefentry><refentrytitle>boot</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink>.</para>
</taskrelated>
</task>
</sect1>
</chapter>