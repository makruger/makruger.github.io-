<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Managing CIFS Shares (Task Map) - Solaris CIFS Administration Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">Solaris CIFS Administration Guide</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="configuringoperationmodetm.html">Previous</a>
             </td>
             <td align="right">
                 <a href="managingsmbgroupsuserstm.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="smboverview.html">1.&nbsp;&nbsp;Windows Interoperability (Overview)</a></p>
<p class="toc level1 tocsp"><a href="idmappingtasks.html">2.&nbsp;&nbsp;Identity Mapping Administration (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="smbservertasks.html">3.&nbsp;&nbsp;Solaris CIFS Service Administration (Tasks)</a></p>
<p class="toc level2"><a href="configuringservicestm.html">Configuring the WINS Service</a></p>
<p class="toc level2"><a href="configuringoperationmodetm.html">Configuring the Solaris CIFS Service Operation Mode (Task Map)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Managing CIFS Shares (Task Map)</a></p>
</div>
<p class="toc level2"><a href="managingsmbgroupsuserstm.html">Managing CIFS Groups (Task Map)</a></p>
<p class="toc level2"><a href="migratingfromsamba.html">Disabling the Samba Service</a></p>
<p class="toc level1 tocsp"><a href="smbclienttasks.html">4.&nbsp;&nbsp;Solaris CIFS Client Administration (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="troubleshooting.html">5.&nbsp;&nbsp;Solaris CIFS Troubleshooting</a></p>
<p class="toc level1 tocsp"><a href="glossary.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="managingsmbsharestm"></a><h3>Managing CIFS Shares (Task Map)</h3>
<a name="indexterm-116"></a><a name="indexterm-117"></a><a name="indexterm-118"></a><p>You can add, view, and update CIFS shares. A directory must exist
before it can be shared. For more information about CIFS shares, see
<a href="smbshares.html">CIFS Shares</a>.</p><p>The following table points to the tasks that you can use to
manage CIFS shares.</p><table><col width="33%"><col width="33%"><col width="33%"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Configure cross-protocol locking.</p></td>
<td align="left" valign="top" scope="row"><p>Use the <tt>mount</tt> or the <tt>zfs create</tt> command
to configure cross-protocol locking. These commands enable this locking by setting the
<tt>nbmand</tt> option.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#configurecrossprotocollockingtask">How to Configure Cross-Protocol Locking</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Create a CIFS share by using the ZFS <tt>sharesmb</tt> property.</p></td>
<td align="left" valign="top" scope="row"><p>Use this
procedure if you want to make a file or directory available to
clients. You might use this procedure if you are familiar with the
ZFS <tt>sharenfs</tt> property.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#createstaticsmbsharezfstask">How to Create a CIFS Share (<tt>zfs</tt>)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Create a CIFS share by using the <tt>sharemgr</tt> command.</p></td>
<td align="left" valign="top" scope="row"><p>Use this
procedure if you want to make a file or directory available to
clients. If you specify an AD container, <tt>sharemgr</tt> will attempt to publish
those shares in AD.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#createstaticsmbsharetask">How to Create a CIFS Share (<tt>sharemgr</tt>)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Modify the properties of a CIFS share by using
the <tt>sharemgr</tt> command.</p></td>
<td align="left" valign="top" scope="row"><p>Use this procedure to change share property values.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#modifysmbsharetask">How to Modify CIFS Share Properties (<tt>sharemgr</tt>)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Remove a CIFS
share by using the <tt>sharemgr</tt> command.</p></td>
<td align="left" valign="top" scope="row"><p>When you remove a share, it can
no longer be accessed by a system. If you are connected to
the share when it is removed, the share is not removed until
there are no more connections to that share. At that time, the
share is removed.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#removesmbsharetask">How to Remove a CIFS Share (<tt>sharemgr</tt>)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Create an autohome share rule.</p></td>
<td align="left" valign="top" scope="row"><p>Specify custom share rules for autohome
shares.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#createspecificautohomeshareruletask">How to Create a Specific Autohome Share Rule</a></p></td>
</tr>
</table>

<a name="configurecrossprotocollockingtask"></a><h4>How to Configure Cross-Protocol Locking</h4><a name="indexterm-119"></a><a name="indexterm-120"></a><p>The CIFS protocol assumes mandatory locking, but UNIX traditionally uses advisory locking.
The Solaris OS can be configured to use mandatory locking on a
per mount basis by using the non-blocking mandatory locking (<tt>nbmand</tt>) mount option.</p><p>When set, the <tt>nbmand</tt> mount option enforces mandatory cross-protocol share reservations and
byte-range locking.</p><p>When the <tt>nbmand</tt> mount option is not set, the Solaris CIFS service
will enforce mandatory share reservations and byte-range locking internally for all CIFS
clients. However, without <tt>nbmand</tt> set, there is only limited coordination with NFS
and local processes.</p><ol>
<li><b>Become superuser or assume an equivalent role.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see
<a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><b>Set the <tt>nbmand</tt> mount option for an existing file system by doing
one of the following:</b><ul>
<li><b>Set the option by using the <tt>mount</tt> command.</b><pre># <tt><b>mount -o nbmand=on </tt><i>fsname</i><tt></b></tt></pre><p>For example, the following command sets the <tt>nbmand</tt> mount option for the
<tt>ztank/myfs</tt> file system:</p><pre># <tt><b>mount -o nbmand ztank/myfs</b></tt></pre></li>
<li><b>Set the option by using the <tt>zfs create</tt> command.</b><p>When using ZFS, you can also set the <tt>nbmand</tt> option when the
file system is created, so that the file system uses <tt>nbmand</tt> automatically:</p><pre># <tt><b>zfs create -o nbmand=on </tt><i>fsname</i><tt></b></tt></pre><p>The following example combines the <tt>nbmand</tt> option with the mixed-case sensitivity option:</p><pre># <tt><b>zfs create -o casesensitivity=mixed -o nbmand=on -o mountpoint=mntpt ztank/myfs</b></tt></pre></li></ul></li></ol>

<a name="createstaticsmbsharezfstask"></a><h4>How to Create a CIFS Share (<tt>zfs</tt>)</h4><a name="indexterm-121"></a><a name="indexterm-122"></a><p>This procedure describes how to use the ZFS <tt>sharesmb</tt> property to create
shares on the Solaris CIFS service.</p><p>To create an autohome share, you must have defined autohome rules. For
more information, see <a href="#createspecificautohomeshareruletask">How to Create a Specific Autohome Share Rule</a>.</p><ol>
<li><b>Become superuser, assume an equivalent role, obtain the <tt>solaris.smf.value.smb</tt> and <tt>solaris.smf.manage.smb</tt> RBAC
authorizations, or use the &ldquo;SMB Management&rdquo; RBAC profile, which is part of
the &ldquo;File System Management&rdquo; profile.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see
<a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><b>Create a ZFS pool and a mixed-case ZFS file system that supports
cross-protocol locking.</b><pre># <tt><b>zpool create </tt><i>pool-name</i><tt> </tt><i>vdev</i><tt></b></tt>
# <tt><b>zfs create -o casesensitivity=mixed -o nbmand=on </tt><i>fsname</i><tt></b></tt></pre></li>
<li><b>Enable SMB sharing for the ZFS file system.</b><pre># <tt><b>zfs set sharesmb=on </tt><i>fsname</i><tt></b></tt></pre>
<hr><p><b>Note - </b>The resource name for the share is automatically constructed by the <tt>zfs</tt>
command when the share is created. The resource name is based on
the dataset name, unless you specify a resource name. Any characters that
are illegal for resource names are replaced by an underscore character (<tt>_</tt>).</p>
<hr>
<p>To specify a resource name for the share, specify a name for
the <tt>sharesmb</tt> property, <tt>sharesmb=name=</tt><i>resource-name</i>.</p></li>
<li><b>Verify how the file system is shared.</b><pre># <tt><b>sharemgr show -vp</b></tt></pre></li></ol><a name="zfssharesmbexample"></a>Example&nbsp;3-3 Using <tt>sharesmb</tt> to Manage CIFS Shares<p>The following examples use the <tt>sharesmb</tt> property to enable SMB sharing for
ZFS pools and file systems.</p>
<ul><li><p><b>Inherited SMB sharing for ZFS file systems in a pool.</b> The following commands create a pool and enable SMB sharing for that pool. When you create the ZFS file systems in that pool, the file systems inherit the SMB sharing as well as the resource name.</p><pre># <tt><b>zpool create sandbox c0t3d0</b></tt>
# <tt><b>zfs set sharesmb=on sandbox</b></tt>
# <tt><b>zfs create -o casesensitivity=mixed -o nbmand=on sandbox/fs1</b></tt>
# <tt><b>zfs create -o casesensitivity=mixed -o nbmand=on sandbox/fs2</b></tt></pre><p>The <tt>sharemgr show -vp</tt> command shows how the top level file system has a resource name of <tt>sandbox</tt>, but the children have the dataset name added to the resource name.</p><pre># <tt><b>sharemgr show -vp</b></tt>
default nfs=()
mygroup smb=()
zfs nfs=() smb=()
     zfs/sandbox smb=()
           sandbox=/sandbox
           sandbox_fs1=/sandbox/fs1       smb=()
           sandbox_fs2=/sandbox/fs2       smb=()</pre></li>
<li><p><b>SMB sharing for a ZFS file system.</b> The following commands create a ZFS pool and a mixed-case file system that supports cross-protocol locking:</p><pre># <tt><b>zpool create sandbox c0t3d0</b></tt>
# <tt><b>zfs create -o casesensitivity=mixed -o nbmand=on sandbox/fs1</b></tt></pre><p>Next, you can enable SMB sharing for the <tt>sandbox/fs1</tt> file system and for any of its children by setting the <tt>sharesmb</tt> property to <tt>on</tt>.</p><pre># <tt><b>zfs set sharesmb=on sandbox/fs1</b></tt></pre><p>Because CIFS shares must have a resource name, ZFS constructs a resource name from the dataset name. Any characters in the dataset name that are illegal in resource names are replaced by the underscore character (<tt>_</tt>). In this example, the resource name <tt>sandbox_fs1</tt> is based on the dataset name <tt>sandbox/fs1</tt>.</p><p>You can use the <tt>sharemgr show -vp</tt> command to verify how the file system is shared.</p><pre># <tt><b>sharemgr show -vp</b></tt>
default nfs=()
mygroup smb=()
zfs nfs=() smb=()
     zfs/sandbox/fs1 smb=()
           sandbox_fs1=/sandbox/fs1</pre><p>The following commands create another file system in the <tt>sandbox</tt> pool called <tt>fs2</tt> and associate that file system with the <tt>myshare</tt> resource name:</p><pre># <tt><b>zfs create -o casesensitivity=mixed -o nbmand=on sandbox/fs2</b></tt>
# <tt><b>zfs set sharesmb=name=myshare sandbox/fs2</b></tt></pre><p>Use the <tt>sharemgr show -vp</tt> command to verify how the file systems are shared.</p><pre># <tt><b>sharemgr show -vp</b></tt>
default nfs=()
mygroup smb=()
zfs nfs=() smb=()
     zfs/sandbox/fs1 smb=()
           sandbox_fs1=/sandbox/fs1
     zfs/sandbox/fs2 smb=()
           myshare=/sandbox/fs2</pre><p>The following command creates a sub file system of <tt>sandbox/fs2</tt> called <tt>sandbox/fs2/fs2_sub1</tt>:</p><pre># <tt><b>zfs create -o casesensitivity=mixed -o nbmand=on sandbox/fs2/fs2_sub1</b></tt></pre><p>This new file system inherits part of its resource name from its parent and also inherits sharing over SMB, if enabled. Because the resource name for <tt>sandbox/fs2</tt> is <tt>myshare</tt>, the resource name for <tt>sandbox/fs2/fs2_sub1</tt> is <tt>myshare_fs2_sub1</tt>.</p><pre># <tt><b>sharemgr show -vp</b></tt>
default nfs=()
mygroup smb=()
zfs nfs=() smb=()
     zfs/sandbox/fs1 smb=()
           sandbox_fs1=/sandbox/fs1
     zfs/sandbox/fs2 smb=()
           myshare=/sandbox/fs2
           myshare_fs2_sub1=/sandbox/fs2/fs2_sub1</pre><p>If you disable SMB sharing for <tt>sandbox/fs2</tt>, that file system and its children are affected.</p><pre># <tt><b>zfs set sharesmb=off sandbox/fs2</b></tt>
# <tt><b>sharemgr show -vp</b></tt>
default nfs=()
mygroup smb=()
zfs nfs=() smb=()
     zfs/sandbox/fs1 smb=()
           sandbox_fs1=/sandbox/fs1</pre><p>The <tt>sharemgr show -vp</tt> output shows that the <tt>sandbox/fs2</tt> file system and its children are no longer shared over SMB.</p></li></ul>


<a name="createstaticsmbsharetask"></a><h4>How to Create a CIFS Share (<tt>sharemgr</tt>)</h4><a name="indexterm-123"></a><a name="indexterm-124"></a><p>This procedure describes how to create a share definition on the Solaris
CIFS service and make the share available to clients.</p><p>To create an autohome share, you must have defined autohome rules. For
more information, see <a href="#createspecificautohomeshareruletask">How to Create a Specific Autohome Share Rule</a>.</p><ol>
<li><b>Become superuser, assume an equivalent role, obtain the <tt>solaris.smf.value.smb</tt> and <tt>solaris.smf.manage.smb</tt> RBAC
authorizations, or use the &ldquo;SMB Management&rdquo; RBAC profile, which is part of
the &ldquo;File System Management&rdquo; profile.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see
<a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><b>Define a share in the default share group or in another share
group.</b><p>A share name can include any alphanumeric characters, but not the characters
listed here:</p><pre>" / \ [ ] : | + ; , ? * =</pre><p>Create a share group and add a share to that group.</p><pre># <tt><b>sharemgr create -P smb </tt><i>group-name</i><tt></b></tt>
# <tt><b>sharemgr add-share -r </tt><i>resource-name</i><tt> -s </tt><i>share-path</i><tt> </tt><i>group-name</i><tt></b></tt></pre></li>
<li><b>If AD is enabled, specify the AD container where the share will
be published.</b>
<hr><p><b>Note - </b>The container must already exist for the share to be published in
that container. The system does not create container objects in the AD
<a href="glossary.html#glossarytree"><b>tree</b></a>.</p>
<hr>
<pre># <tt><b>sharemgr set [-hnv] -P smb [-S </tt><i>option-set</i><tt>] [-p </tt><i>property</i><tt>=</tt><i>value</i><tt> &hellip; \ [-s </tt><i>share-path</i><tt>] </tt><i>group-name</i><tt></b></tt></pre></li></ol>

<a name="modifysmbsharetask"></a><h4>How to Modify CIFS Share Properties (<tt>sharemgr</tt>)</h4><a name="indexterm-125"></a><a name="indexterm-126"></a><p>Use this procedure to change properties on a share.</p><ol>
<li><b>Become superuser, assume an equivalent role, obtain the <tt>solaris.smf.value.smb</tt> and <tt>solaris.smf.manage.smb</tt> RBAC
authorizations, or use the &ldquo;SMB Management&rdquo; RBAC profile, which is part of
the &ldquo;File System Management&rdquo; profile.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see
<a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><b>Modify the CIFS share properties.</b><ul>
<li><b>Modify properties for a single share.</b><pre># <tt><b>sharemgr set-share [-r </tt><i>resource-name</i><tt>] [-d "</tt><i>description</i><tt>"] -s </tt><i>share-path</i><tt> </tt><i>group-name</i><tt></b></tt></pre><p>For example, the following command changes the description for the <tt>/files/acme.sales.logs</tt> share
in the <tt>nw-sales</tt> group:</p><pre># <tt><b>sharemgr set-share -d "Sales logs for Acme" -s /files/acme.sales.logs nw-sales</b></tt></pre></li>
<li><b>Modify properties for a share group.</b><pre># <tt><b>sharemgr set [-hnv] -P smb [-S </tt><i>option-set</i><tt>] [-p </tt><i>property</i><tt>=</tt><i>value</i><tt>] &hellip; \ [-s </tt><i>share-path</i><tt>] </tt><i>group-name</i><tt></b></tt></pre><p>For example, in domain mode you can configure shares to be published
in an AD container. The following command specifies that shares in the
<tt>nw-sales</tt> share group will be published in the default container. Note that
<tt>filesvr</tt> is the machine account of the system that is running the
Solaris CIFS service.</p><pre># <tt><b>sharemgr set -P smb -p ad-container=cn=filesvr,cn=Computers nw-sales</b></tt></pre><p>If you want to publish shares to a non-default container, you must
modify the ACLs of that container to give the Solaris CIFS service
permission to publish and unpublish shares.</p></li></ul></li></ol>

<a name="removesmbsharetask"></a><h4>How to Remove a CIFS Share (<tt>sharemgr</tt>)</h4><a name="indexterm-127"></a><a name="indexterm-128"></a><p>This procedure describes how to remove a CIFS share. When you remove
a CIFS share, the definition of the share is removed from the
server. You can re-create such a share with the <tt>sharemgr add-share</tt> command.</p><ol>
<li><b>Become superuser, assume an equivalent role, obtain the <tt>solaris.smf.value.smb</tt> and <tt>solaris.smf.manage.smb</tt> RBAC
authorizations, or use the &ldquo;SMB Management&rdquo; RBAC profile, which is part of
the &ldquo;File System Management&rdquo; profile.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see
<a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><b>Remove a CIFS share.</b><pre># <tt><b>sharemgr remove-share -s </tt><i>share-path</i><tt> </tt><i>group-name</i><tt></b></tt></pre><p>For example, to remove share <tt>/sales/share1</tt> from share group <tt>mysharegroup</tt>, type:</p><pre># <tt><b>sharemgr remove-share -s /sales/share1 mysharegroup</b></tt></pre></li></ol>

<a name="createspecificautohomeshareruletask"></a><h4>How to Create a Specific Autohome Share Rule</h4><a name="indexterm-129"></a><a name="indexterm-130"></a><p>The autohome share feature eliminates the administrative task of defining and maintaining
home directory shares for each user that accesses the system through the
SMB protocol. The system creates autohome shares when a user logs in,
and removes them when the user logs out. This procedure describes how
to configure autohome shares by adding rules to a configuration file.</p><p>For information about the <tt>smbautohome</tt> format, see <a href="smbshares.html#autohomeentries">Autohome Entries</a> and the <a href="http://docs.sun.com/doc/819-2251/smbautohome-4?a=view"><tt>smbautohome</tt>(4)</a> man
page.</p><ol>
<li><b>Become superuser, assume an equivalent role, obtain the <tt>solaris.smf.value.smb</tt> and <tt>solaris.smf.manage.smb</tt> RBAC
authorizations, or use the &ldquo;SMB Management&rdquo; RBAC profile, which is part of
the &ldquo;File System Management&rdquo; profile.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see
<a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><b>Edit the <tt>/etc/smbautohome</tt> file.</b><p>An autohome entry must be on a single line in the following
format:</p><pre><i>key</i>    <i>location</i>    [<i>container</i>]</pre><ol style="list-style-type: lower-alpha">
				 
<li><b>Specify the user name in the key field.</b><p>Usually this field is a user name, but it can also be
one of the following:</p>
<ul><li><p><tt>+nsswitch</tt> <b>&ndash;</b> Uses the naming service to match users to home directories if no rule matches.</p></li>
<li><p><b>Asterisk (*) &ndash;</b> Matches a user name to a home directory that uses the same name.</p></li></ul>
</li>
<li><b>Specify the location of the user's home directory in the location field.</b><p>Specify the absolute path excluding the user name, or use one of
the following substitution characters:</p>
<ul><li><p><b>Question mark (?) &ndash;</b> Substitutes for the first character of the user name.</p></li>
<li><p><b>Ampersand (&amp;) &ndash;</b> Substitutes for a complete user name.</p></li></ul>
<p>For example, the following rule maps to <tt>/home/a/amy</tt>:</p><pre>amy             /home/?/&amp;</pre><p>For more information about the path, see <a href="smbshares.html#autohomeshares">Autohome Shares</a>.</p></li></ol></li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="configuringoperationmodetm.html">Previous</a>
             </td>
             <td align="right">
                 <a href="managingsmbgroupsuserstm.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

