<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Managing CIFS Groups (Task Map) - Solaris CIFS Administration Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">Solaris CIFS Administration Guide</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="managingsmbsharestm.html">Previous</a>
             </td>
             <td align="right">
                 <a href="migratingfromsamba.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="smboverview.html">1.&nbsp;&nbsp;Windows Interoperability (Overview)</a></p>
<p class="toc level1 tocsp"><a href="idmappingtasks.html">2.&nbsp;&nbsp;Identity Mapping Administration (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="smbservertasks.html">3.&nbsp;&nbsp;Solaris CIFS Service Administration (Tasks)</a></p>
<p class="toc level2"><a href="configuringservicestm.html">Configuring the WINS Service</a></p>
<p class="toc level2"><a href="configuringoperationmodetm.html">Configuring the Solaris CIFS Service Operation Mode (Task Map)</a></p>
<p class="toc level2"><a href="managingsmbsharestm.html">Managing CIFS Shares (Task Map)</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Managing CIFS Groups (Task Map)</a></p>
</div>
<p class="toc level2"><a href="migratingfromsamba.html">Disabling the Samba Service</a></p>
<p class="toc level1 tocsp"><a href="smbclienttasks.html">4.&nbsp;&nbsp;Solaris CIFS Client Administration (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="troubleshooting.html">5.&nbsp;&nbsp;Solaris CIFS Troubleshooting</a></p>
<p class="toc level1 tocsp"><a href="glossary.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="managingsmbgroupsuserstm"></a><h3>Managing CIFS Groups (Task Map)</h3>
<a name="indexterm-131"></a><a name="indexterm-132"></a><a name="indexterm-133"></a><p>This section describes how to manage CIFS groups and privileges for the
Solaris CIFS service.</p>
<hr><p><b>Note - </b>CIFS groups apply only to users that are connected through CIFS.</p>
<hr>
<p>For information about CIFS groups and local users, see <a href="localsmbgroupsusers.html">Local CIFS Groups</a>.</p><p>The following table points to the tasks that you can use to
manage CIFS groups through the Solaris CIFS service.</p><table><col width="33%"><col width="33%"><col width="33%"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Create a CIFS group.</p></td>
<td align="left" valign="top" scope="row"><p>Create
a CIFS group to manage users.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#createsmbgrouptask">How to Create a CIFS Group</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Add a member to a CIFS group.</p></td>
<td align="left" valign="top" scope="row"><p>Add
a member to a CIFS group by using the <tt>smbadm</tt> command.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#addmembertosmbgrouptask">How to Add a Member to a CIFS Group</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Remove a
member from a CIFS group.</p></td>
<td align="left" valign="top" scope="row"><p>Remove a member from a CIFS group by
using the <tt>smbadm</tt> command.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#removememberfromsmbgrouptask">How to Remove a Member From a CIFS Group</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Modify CIFS group properties.</p></td>
<td align="left" valign="top" scope="row"><p>A CIFS group can grant the
following privileges:</p>
<ul><li><p><tt>backup</tt>. Permit group members to back up file system objects.</p></li>
<li><p><tt>restore</tt>. Permit group members to restore file system objects.</p></li>
<li><p><tt>take-ownership</tt>. Permit group members to take ownership of file system objects.</p></li></ul>
<p>You can specify a description of the CIFS group if you
modify the value of the <tt>description</tt> property.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#modifysmbgroupprivstask">How to Modify CIFS Group Properties</a></p></td>
</tr>
</table><p>You use the <a href="http://docs.sun.com/doc/819-2240/smbadm-1m?a=view"><tt>smbadm</tt>(1M)</a> command to manage CIFS groups on the system
that runs the Solaris CIFS service.</p>

<a name="createsmbgrouptask"></a><h4>How to Create a CIFS Group</h4><a name="indexterm-134"></a><a name="indexterm-135"></a><ol>
<li><b>Become superuser, assume an equivalent role, obtain the <tt>solaris.smf.value.smb</tt> and <tt>solaris.smf.manage.smb</tt> RBAC
authorizations, or use the &ldquo;SMB Management&rdquo; RBAC profile, which is part of
the &ldquo;File System Management&rdquo; profile.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see
<a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><b>Choose the name of the group to create.</b><p>You might choose a name that reflects a common set of tasks
that the group can perform or the organization to which the group
members belong.</p></li>
<li><b>Create the CIFS group.</b><pre># <tt><b>smbadm create [-d </tt><i>description</i><tt>] </tt><i>group-name</i><tt></b></tt></pre><p>The <tt>-d</tt> option is used to specify a textual description of the
CIFS group.</p><p>For example, to create a group called <tt>wsales</tt>, type:</p><pre># <tt><b>smbadm create -d "Sales Force for the Western Region" wsales</b></tt></pre><p>In order to provide proper identity mapping between CIFS groups and Solaris
groups, a CIFS group must have a corresponding Solaris group. This requirement
has two consequences. First, the group name must conform to the intersection
of the Windows and Solaris group name rules. Thus, a CIFS group
name can be up to eight (8) characters long and contain only
lowercase characters and numbers. Second, a Solaris group has to be created
before a CIFS group can be created. The Solaris group is created
by using the <tt>groupadd</tt> command. See the <a href="http://docs.sun.com/doc/819-2240/groupadd-1m?a=view"><tt>groupadd</tt>(1M)</a> man page.</p></li></ol>

<a name="addmembertosmbgrouptask"></a><h4>How to Add a Member to a CIFS Group</h4><a name="indexterm-136"></a><a name="indexterm-137"></a><ol>
<li><b>Become superuser, assume an equivalent role, obtain the <tt>solaris.smf.value.smb</tt> and <tt>solaris.smf.manage.smb</tt> RBAC
authorizations, or use the &ldquo;SMB Management&rdquo; RBAC profile, which is part of
the &ldquo;File System Management&rdquo; profile.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see
<a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><b>Add a user to the CIFS group.</b><pre># <tt><b>smbadm add-member -m </tt><i>member-name</i><tt> [[-m </tt><i>member-name</i><tt>] &hellip;] </tt><i>group-name</i><tt></b></tt></pre><p><i>member-name</i> can be specified as [<i>domain-name</i><tt>\\</tt>]<i>username</i> or [<i>domain-name</i><tt>/</tt>]<i>username</i>. The domain name is
the domain in which the user can be authenticated. By default, the
domain name is the name of the domain that you joined.</p><p>You must escape the backslash character (<tt>\</tt>) because it is a special
character in the Solaris shells.</p><p>For example, to add user <tt>terry</tt> of the <tt>sales</tt> domain to the
<tt>wsales</tt> group, type:</p><pre># <tt><b>smbadm add-member -m sales\\terry wsales</b></tt></pre><p>To add a local user to a CIFS group, specify the Solaris
host name rather than the domain name. For example, to add local
user <tt>terry</tt> of the <tt>solarsystem</tt> host to the <tt>wsales</tt> group, type:</p><pre># <tt><b>smbadm add-member -m solarsystem\\terry wsales</b></tt></pre></li></ol>

<a name="removememberfromsmbgrouptask"></a><h4>How to Remove a Member From a CIFS Group</h4><a name="indexterm-138"></a><a name="indexterm-139"></a><ol>
<li><b>Become superuser, assume an equivalent role, obtain the <tt>solaris.smf.value.smb</tt> and <tt>solaris.smf.manage.smb</tt> RBAC
authorizations, or use the &ldquo;SMB Management&rdquo; RBAC profile, which is part of
the &ldquo;File System Management&rdquo; profile.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see
<a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><b>Remove a user from the CIFS group.</b><pre># <tt><b>smbadm remove-member -m </tt><i>member-name</i><tt> [[-m </tt><i>member-name</i><tt>] &hellip;] </tt><i>group-name</i><tt></b></tt></pre><p><i>member-name</i> can be specified as [<i>domain-name</i><tt>\\</tt>]<i>username</i> or [<i>domain-name</i><tt>/</tt>]<i>username</i>. The domain name is
the domain in which the user can be authenticated. By default, the
domain name is the name of the domain that you joined.</p><p>For example, to remove user <tt>terry</tt> of the <tt>sales</tt> domain from the
<tt>wsales</tt> group, type:</p><pre># <tt><b>smbadm remove-member -m sales\\terry wsales</b></tt></pre><p>To remove a local user from a CIFS group, specify the Solaris
host name rather than the domain name. For example, to remove local
user <tt>terry</tt> of the <tt>solarsystem</tt> host from the <tt>wsales</tt> group, type:</p><pre># <tt><b>smbadm remove-member -m solarsystem\\terry wsales</b></tt></pre></li></ol>

<a name="modifysmbgroupprivstask"></a><h4>How to Modify CIFS Group Properties</h4><a name="indexterm-140"></a><a name="indexterm-141"></a><ol>
<li><b>Become superuser, assume an equivalent role, obtain the <tt>solaris.smf.value.smb</tt> and <tt>solaris.smf.manage.smb</tt> RBAC
authorizations, or use the &ldquo;SMB Management&rdquo; RBAC profile, which is part of
the &ldquo;File System Management&rdquo; profile.</b><p>Roles contain authorizations and privileged commands. For more information about roles, see
<a href="http://docs.sun.com/doc/819-3321/rbactask-15?a=view">Configuring RBAC (Task Map) in <i>System Administration Guide: Security Services</i></a>. To configure a role with the Primary Administrator profile, see <a href="http://docs.sun.com/doc/819-2379/smcover-1?a=view">Chapter 2, Working With the Solaris Management Console (Tasks), in <i>System Administration Guide: Basic Administration</i></a>.</p></li>
<li><b>Modify one or more CIFS group properties.</b><pre># <tt><b>smbadm set -p </tt><i>property</i><tt>=</tt><i>value</i><tt> [[-p </tt><i>property</i><tt>=</tt><i>value</i><tt>] &hellip;] </tt><i>group-name</i><tt></b></tt></pre><p>You can specify one or more property-value pairs on the command line.
Each property-value pair must be preceded by the <tt>-p</tt> option. Valid values
for privileges are <tt>on</tt> or <tt>off</tt>. The value of the <tt>description</tt> property
is an arbitrary text string.</p><p>For example, to grant the <tt>backup</tt> privilege and to modify the description
of the <tt>wsales</tt> group, type:</p><pre># <tt><b>smbadm set -p backup=on \ -p description="Sales force for the Western region" wsales</b></tt></pre></li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="managingsmbsharestm.html">Previous</a>
             </td>
             <td align="right">
                 <a href="migratingfromsamba.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

