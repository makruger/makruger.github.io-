<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>New Features in Solaris Express 5/06 - Solaris Express Developer Edition What's New</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Express Developer Edition What's New</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gcuup.html">Previous</a>
             </td>
             <td align="right">
                 <a href="gchkw.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-13.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="gdvqu.html">What's New in Solaris Express</a></p>
<p class="toc level2"><a href="ggdpi.html">New Features in Solaris Express Developer Edition 1/08</a></p>
<p class="toc level2"><a href="gfoov.html">New Features in Solaris Express Developer Edition 9/07</a></p>
<p class="toc level2"><a href="geyxk.html">New Features in Solaris Express Developer Edition 5/07</a></p>
<p class="toc level2"><a href="gekeg.html">New Features in Solaris Express Developer Edition 2/07</a></p>
<p class="toc level2"><a href="gedcv.html">New Features in Solaris Express 12/06</a></p>
<p class="toc level2"><a href="gdyuj.html">New Features in Solaris Express 11/06</a></p>
<p class="toc level2"><a href="gdvqq.html">New Features in Solaris Express 10/06</a></p>
<p class="toc level2"><a href="gdpqc.html">New Features in Solaris Express 9/06</a></p>
<p class="toc level2"><a href="gdjoc.html">New Features in Solaris Express 8/06</a></p>
<p class="toc level2"><a href="gdarx.html">New Features in Solaris Express 7/06</a></p>
<p class="toc level2"><a href="gcuup.html">New Features in Solaris Express 6/06</a></p>
<div class="onpage">
<p class="toc level2"><a href="">New Features in Solaris Express 5/06</a></p>
</div>
<p class="toc level2"><a href="gchkw.html">New Features in Solaris Express 4/06</a></p>
<p class="toc level2"><a href="gbyur.html">New Features in Solaris Express 3/06</a></p>
<p class="toc level2"><a href="gbsyt.html">New Features in Solaris Express 2/06</a></p>
<p class="toc level2"><a href="gbqhg.html">New Features in Solaris Express 1/06</a></p>
<p class="toc level2"><a href="gbiom.html">New Features in Solaris Express 12/05</a></p>
<p class="toc level2"><a href="gbfry.html">New Features in Solaris Express 11/05</a></p>
<p class="toc level2"><a href="gazyy.html">New Features in Solaris Express 10/05</a></p>
<p class="toc level2"><a href="gawod.html">New Features in Solaris Express 9/05</a></p>
<p class="toc level2"><a href="gamoj.html">New Features in Solaris Express 8/05</a></p>
<p class="toc level2"><a href="gacam.html">New Features in Solaris Express 7/05</a></p>
<p class="toc level2"><a href="ftzbi.html">New Features in Solaris Express 6/05</a></p>
<p class="toc level2"><a href="fsuku.html">New Features in Solaris Express 4/05</a></p>
<p class="toc level2"><a href="fpyuh.html">New Features in Solaris Express 3/05</a></p>
<p class="toc level2"><a href="fabay.html">New Features in Solaris Express 2/05</a></p>
<p class="toc level2"><a href="whatsnew-172.html">Key Features in Solaris Express</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="gdkje"></a><h3>New Features in Solaris Express 5/06</h3>
<p>This section describes all features that are new or have been enhanced in
the Solaris Express 5/06 release.</p>

<a name="gcoqm"></a><h4>Support for Descriptive Names for Metadevices and Hot-spare Pools</h4>
<p>This system performance enhancement is new in the Solaris Express 5/06 release.</p><p>The rules for defining names for metadevices and hot-spare pools have been extended
to allow the use of alphanumeric characters. Previously, names for metadevices were restricted
to the form &ldquo;dXXX&rdquo;, while hot-spare pools had to use the form &ldquo;hspYYY&rdquo;.</p><p>For more information about the acceptable names for metadevices and hot-spare pools, see
the <a href="http://docs.sun.com/doc/819-2789"><i>Solaris Volume Manager Administration Guide</i></a>.</p>

<a name="gdjpt"></a><h4>File System Monitoring Tool (<tt>fsstat</tt>)</h4>
<p>A new file system monitoring tool, <tt>fsstat</tt>, is available to report file system
operations. Activity can be reported by mount point or by file system type.</p><p>The following <tt>fsstat</tt> example shows how to display all ZFS file system operations.</p><pre>$ <tt><b>fsstat zfs</b></tt>
 new  name   name  attr  attr lookup rddir  read read  write write
 file remov  chng   get   set    ops   ops   ops bytes   ops bytes
8.26K  240K 6.34K 4.03M 6.33K  12.6M  482K  204K 1.24G 13.4K  363M zfs</pre><p>The following <tt>fsstat</tt> example shows how to display file system operations for the
<tt>/export/home</tt> mount point.</p><pre>$ <tt><b>fsstat /export/home</b></tt>
 new  name   name  attr  attr lookup rddir  read read  write write
 file remov  chng   get   set    ops   ops   ops bytes   ops bytes
    0     0     0   972     0    224    22     0     0     0     0 /export/home</pre><p>The following <tt>fsstat</tt> example illustrates how to display file system operations for all
file system types.</p><pre>$ <tt><b>fsstat -F</b></tt>
 new  name   name  attr  attr lookup rddir  read read  write write
 file remov  chng   get   set    ops   ops   ops bytes   ops bytes
1.71K 1.16K    37  371K   562  1.90M 1.04K  151K  142M 21.9K 55.3M ufs
    0     0     0 1.60K     0  2.93K   344 1.30K  761K     0     0 proc
    0     0     0     0     0      0     0     0     0     0     0 nfs
8.31K  240K 6.37K 4.04M 6.48K  12.6M  482K  204K 1.25G 13.7K  365M zfs
   29    12    12 37.4K     8  22.5K    28 1.04K 2.34M   120 76.1K lofs
10.8K 4.72K 5.43K 54.6K    49  19.8K    28  173K  610M  513K  487M tmpfs
    0     0     0   338     0      0     0    44 12.2K     0     0 mntfs
    1     1     1   429     1  14.3K   115 1.34K 1002K     0     0 nfs3
   12     6     9   150     0    442    30    91 3.32M    12 69.2K nfs4
    1     0     1 20.8K     0  20.5K     0     0     0     0     0 autofs</pre><p>For more information, see the <a href="http://docs.sun.com/doc/819-2240/fsstat-1m?a=view"><tt>fsstat</tt>(1M)</a> man page.</p>

<a name="gcorh"></a><h4><tt>useradd</tt> Default Shell</h4>
<p>These security enhancements are new in the Solaris Express 5/06 release.</p><p>In this release, the following new options have been added to the
<tt>useradd <tt>-D</tt></tt> utility:</p>
<ul><li><p><b>-s</b> option. Enables the user to change the default shell.</p></li>
<li><p><b>-k</b> option. Enables the user to change the default <tt>skel</tt> directory.</p></li>
<li><p><b>-b</b> option. Enables the user to change the base directory.</p></li></ul>
<p>For more information, see the <a href="http://docs.sun.com/doc/819-2240/useradd-1m?a=view"><tt>useradd</tt>(1M)</a> man page.</p>

<a name="gcoqu"></a><h4>ZFS Pool Import Destroyed Pools</h4>
<p>This file system enhancement is new in the Solaris Express 5/06 release.</p><p>In this release, the <tt>zpool</tt> command can now reimport previously destroyed pools that
still have their data intact.</p><p>For more information, see the <a href="http://docs.sun.com/doc/819-2240/zpool-1m?a=view"><tt>zpool</tt>(1M)</a> man page.</p><p>For more information about the ZFS file system, see <a href="gbiom.html#gcwra">ZFS Command Improvements and Changes</a>.</p>

<a name="gcoqz"></a><h4>Configurable Privileges for Non-Global Zones</h4>
<p>These system resources enhancements are new in the Solaris Express 5/06 release.</p><p>The <tt>zonecfg</tt> command can now be used to specify the set of privileges
that processes are limited to in a non-global zone.</p><p>You can do the following:</p>
<ul><li><p>Augment the default set of privileges with the understanding that such changes might allow processes in one zone to affect processes in other zones by being able to control a global resource.</p></li>
<li><p>Create a zone with fewer privileges than the default, safe set.</p></li></ul>
<p>Note the following:</p>
<ul><li><p>Non-global zones are still booted with the standard set of safe privileges by default.</p></li>
<li><p>There is a set of privileges that cannot be removed from the zone's privilege set, and another set of privileges that cannot be included in the zone's privilege set.</p></li></ul>
<p>For more information about configuring privileges for zones and zone privilege restrictions, see:</p>
<ul><li><p><a href="http://docs.sun.com/doc/819-2450"><i>System Administration Guide: Virtualization Using the Solaris Operating System</i></a></p></li>
<li><p><a href="http://docs.sun.com/doc/819-2240/zonecfg-1m?a=view"><tt>zonecfg</tt>(1M)</a> man page</p></li></ul>


<a name="gcoqs"></a><h4><tt>SO_TIMESTAMP</tt> Socket Option</h4>
<p>This networking enhancement is new in the Solaris Express 5/06 release.</p><p>The <tt>SO_TIMESTAMP</tt> option enables or disables the reception of a timestamp with datagram.
If the <tt>SO_TIMESTAMP</tt> option is enabled on a <tt>SOCK_DGRAM</tt> or <tt>SOCK_RAW</tt> socket, the <tt>recvmsg(2)</tt>
call returns a timestamp in the native data format, corresponding to when the
datagram was received.</p><p>For more information, see the following man pages:</p>
<ul><li><p><a href="http://docs.sun.com/doc/819-2244/setsockopt-3xnet?a=view"><tt>setsockopt</tt>(3XNET)</a></p></li>
<li><p><a href="http://docs.sun.com/doc/819-2244/getsockopt-3xnet?a=view"><tt>getsockopt</tt>(3XNET)</a></p></li>
<li><p><a href="http://docs.sun.com/doc/819-2244/recvmsg-3xnet?a=view"><tt>recvmsg</tt>(3XNET)</a></p></li></ul>


<a name="gcimd"></a><h4>NFSv4 Domain Name Configurable During Installation</h4>
<p>This system administration feature is new the Solaris Express 5/06 release.</p><p>The NFS version 4 domain can now be defined during the installation of
the OS. To facilitate this new functionality, the <tt>sysidnfs4</tt> program runs during the
installation process to determine whether an NFSv4 domain has been configured for the
network. In previous Solaris 10 releases, the NFS domain name was defined during
the first system reboot after installation.</p><p>The NFSv4 domain can now be defined as follows:</p>
<ul><li><p>If you are using the Solaris interactive installation program, you can choose the default, which automatically derives the NFSv4 domain name. Or, you can specify a different NFSv4 domain.</p></li>
<li><p>If you are using the Solaris JumpStart<sup>TM</sup> program, a new keyword is available in the <tt>sysidcfg</tt> file. You can now assign a value for the NFSv4 domain by using the new keyword, <tt>nfs4_domain</tt>.</p></li></ul>
<table><col width="50*"><col width="50*"><tr><td align="left" valign="top" scope="row"><p>For information about the NFSv4 domain name configuration</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-1634"><i>System Administration Guide: Network Services</i></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>For information about Solaris interactive
installations</p></td>
<td align="left" valign="top" scope="row"><p><i>Solaris 10 11/06 Installation Guide: Basic Installations</i></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>For information about Solaris network installations</p></td>
<td align="left" valign="top" scope="row"><p><i>Solaris 10 11/06 Installation Guide: Network-Based Installations</i></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>For information about Custom JumpStart installations</p></td>
<td align="left" valign="top" scope="row"><p><i>Solaris 10 11/06 Installation Guide: Custom JumpStart and Advanced Installations</i></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>For information
about the <tt>sysid</tt> command tools</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-2240/sysidtool-1m?a=view"><tt>sysidtool</tt>(1M)</a> and <a href="http://docs.sun.com/doc/819-2240/sysidnfs4-1m?a=view"><tt>sysidnfs4</tt>(1M)</a> man pages</p></td>
</tr>
</table>

<a name="gcpgh"></a><h4>Using DTrace in a Non-Global Zone</h4>
<p>This system resource enhancement is new in the Solaris Express 5/06 release.</p><p>DTrace can now be used in a non-global zone when the <tt>dtrace_proc</tt>
and <tt>dtrace_user</tt> privileges are assigned to the zone. DTrace providers and actions are
limited in scope to the zone. With the <tt>dtrace_proc</tt> privilege, <tt>fasttrap</tt> and
<tt>pid</tt> providers can be used.  With the <tt>dtrace_user</tt> privilege, 'profile' and 'syscall'
providers can be used.</p><p>You can add these privileges to the set of privileges available in
the non-global zone by using the <tt>limitpriv</tt> property of the <tt>zonecfg</tt> command.</p><p><a href="#gcoqz">Configurable Privileges for Non-Global Zones</a> provides an overview of privileges in a non-global zone.</p><p>For more information about zone configuration, specifying zone privileges, and using the DTrace
utility, see:</p>
<ul><li><p><a href="http://docs.sun.com/doc/819-2450"><i>System Administration Guide: Virtualization Using the Solaris Operating System</i></a></p></li>
<li><p><i>Solaris Dynamic Tracing Guide</i></p></li>
<li><p><a href="http://docs.sun.com/doc/819-2240/zonecfg-1m?a=view"><tt>zonecfg</tt>(1M)</a> man page</p></li>
<li><p><a href="http://docs.sun.com/doc/819-2240/dtrace-1m?a=view"><tt>dtrace</tt>(1M)</a> man page</p></li></ul>


<a name="gcqfh"></a><h4>64-bit SPARC: Extended Message Signaled Interrupt Support for Fire-based Platforms</h4>
<p>This system resource enhancement is new in the Solaris Express 5/06 release.</p><p>Extended Message Signaled Interrupts (MSI-X) are an enhanced version of MSI interrupts. With
MSI-X support, device driver writers have a choice between MSI and MSI-X interrupts.
MSI-X interrupts are now supported on SPARC PCI-Experss platforms (Ultra 45 and Sun
Fire T2000). </p><p>The new mdb/kmdb debugger command, <tt>::interrupts</tt>, is also provided to retrieve a device's
registered interrupt information on supported SPARC and x86 systems.</p><p>For more information, see <a href="http://docs.sun.com/doc/819-3196/interrupt-15678?a=view">Chapter 8, Interrupt Handlers, in <i>Writing Device Drivers</i></a>.</p>

<a name="gcrhn"></a><h4>IPsec Kernel Module Error Logging</h4>
<p>These system administration enhancements are new in the Solaris Express 5/06 release.</p><p>Starting with this release, all IPsec kernel module policy failures and other errors
will be logged using the <tt>ipsec_rl_strlog()</tt> function. The <tt>ipsec_rl_strlog()</tt> function also has the
ability to limit number of error messages sent to the system log. This
ability prevents the system log from being overloaded.</p><p>The minimum interval between messages can be viewed or configured using the <tt>ndd</tt>
command:</p><pre># ndd -get /dev/ip ipsec_policy_log_interval </pre><p>The value returned is in milliseconds.</p><p>The <tt>ipsec_policy_log_interval</tt> now consolidates all IPsec-related error logging into a single function. This
function also enables administrators to completely disable the error logging, as follows:</p><pre># ndd -set /dev/ip ipsec_policy_log_interval 0</pre>
<hr><p><b>Note - </b>After rebooting the system, you need to disable the IPsec logging again.</p>
<hr>


<a name="gcpsw"></a><h4>iSCSI Logout Support</h4>
<p>This system administration feature is new in the Solaris Express 5/06 release.</p><p>The iSCSI log out support feature allows a user to logout from
an iSCSI target without rebooting the host. When a user tries to remove
or disable a discovery method or address and the target is not in
use, the target logs out and cleans up all related resources. If the
target is in use, the discovery address or method remains enabled and the
<b>logical unit in use</b> message is logged. This feature introduces a new behavior to safely log
out of unused devices without rebooting the host.</p><p>The following commands can be used to apply this feature:</p>
<ul><li><p><tt>iscsiadm modify discovery -[tsi] disable</tt></p></li>
<li><p><tt>iscsiadm remove discovery-address</tt></p></li>
<li><p><tt>iscsiadm remove static-config</tt></p></li>
<li><p><tt>iscsiadm remove isns-server</tt></p></li></ul>
<p>A user is no longer required to reboot a host when an
attached iSCSI storage is removed from the host.</p><p>For more information, see the <a href="http://docs.sun.com/doc/819-2240/iscsiadm-1m?a=view"><tt>iscsiadm</tt>(1M)</a> man page. See also <a href="http://docs.sun.com/doc/819-2723"><i>System Administration Guide: Devices and File Systems</i></a>.</p>

<a name="gcpsm"></a><h4>iSCSI MS/T Support</h4>
<p>This system administration feature is new in the Solaris Express 5/06 release.</p><p>The iSCSI Multiple Session per Target (MS/T) support feature enables a user to
create more iSCSI session or paths to a target as needed. The
additional iSCSI paths provide higher bandwidth aggregation and availability in specific configurations. The iSCSI
MS/T support feature should be used in combination with MPxIO or other multipathing
software.</p><p>The new <tt>iscsiadm</tt> commands are as follows:</p>
<ul><li><p><tt>iscsiadm modify initiator-node -c <i>number of sessions</i></tt></p></li>
<li><p><tt>iscsiadm modify target-param -c <i>number of sessions</i></tt></p></li></ul>
<p>The iSCSI MS/T support feature enables higher bandwidth aggregation and availability to the
administrators with iSCSI arrays that support login redirection.</p><p>For more information, see:</p>
<ul><li><p><a href="http://docs.sun.com/doc/819-2240/iscsiadm-1m?a=view"><tt>iscsiadm</tt>(1M)</a> man page</p></li>
<li><p><a href="http://docs.sun.com/doc/819-2723"><i>System Administration Guide: Devices and File Systems</i></a></p></li>
<li><p>Solaris iSCSI Multipathing Blueprint</p></li>
<li><p>iSCSI RFC 3720 at <a href="http://www.ietf.org/rfc/rfc3720.txt?number=3720 ">http://www.ietf.org/rfc/rfc3720.txt?number=3720 </a></p></li></ul>


<a name="gcpso"></a><h4>iSNS Client Support for iSCSI</h4>
<p>This device management feature is new in the Solaris Express 5/06 release.</p><p>The Internet Storage Name Service (iSNS) client feature adds a new discovery option
to the Solaris OS iSCSI software initiator. This option enables a user to
use the iSNS to handle Internet Protocol SAN (IP-SAN) device discovery. This is
off by default and is not platform-specific. The iSNS client introduces several <tt>iscsiadm</tt>
command additions, modifications, and driver changes to handle iSNS discovery.</p><p>Users who use iSCSI to build block-based IP-SAN need a scalable way to
manage device discovery and configuration for their SANs as they grow. The iSNS
client feature supports a scalable method for device discovery in a large IP-SAN
configuration that uses a minimal configuration.</p><p>For more information about the new and modified command-line options, see the <a href="http://docs.sun.com/doc/819-2240/iscsiadm-1m?a=view"><tt>iscsiadm</tt>(1M)</a>
man page. See also <a href="http://docs.sun.com/doc/819-2723"><i>System Administration Guide: Devices and File Systems</i></a>.</p>

<a name="gbrwz"></a><h4>SNIA Multipath Management API support</h4>
<p>This system administration feature is new in the Solaris Express 5/06 Release.</p><p>The Storage Networking Industry Association (SNIA) Multipath Management API (MP API) defines standard
interfaces for multipath devices, associated path discovery, and path administration on a host.
This feature provides Sun's implementation of the SNIA MP API library for the
<tt>scsi_vhci</tt> driver-based multipathing solution.</p><p>The SNIA MA API consists of the following components:</p>
<ul><li><p><tt>/usr/sbin/mpathadm</tt> CLI</p></li>
<li><p><tt>/lib/libMPAPI.so</tt> common library</p></li>
<li><p><tt>/lib/libmpscsi_vhci.so</tt> plug-in for the <tt>scsi_vhci</tt> driver</p></li></ul>
<p>The following areas have been extended to support the SNIA MP API
feature:</p>
<ul><li><p>MDI</p></li>
<li><p>SCSA</p></li>
<li><p><tt>libdevinfo</tt></p></li>
<li><p><tt>scsi_vhci IOCTL</tt></p></li></ul>
<p>With this feature, the administrators can use the standards-based path administration for <tt>scsi_vhci</tt>
multipath devices.</p><p>For more information see the <a href="http://docs.sun.com/doc/819-2240/mpathadm-1m?a=view"><tt>mpathadm</tt>(1M)</a> and <a href="http://docs.sun.com/doc/819-2242/libmpapi-3lib?a=view"><tt>libMPAPI</tt>(3LIB)</a> man pages. See also
the <i>Solaris Fibre Channel Storage Configuration and Multipathing Support Guide</i>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gcuup.html">Previous</a>
             </td>
             <td align="right">
                 <a href="gchkw.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

