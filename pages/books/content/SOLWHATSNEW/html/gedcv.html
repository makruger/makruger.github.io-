<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>New Features in Solaris Express 12/06 - Solaris Express Developer Edition What's New</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-01-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Express Developer Edition What's New</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gekeg.html">Previous</a>
             </td>
             <td align="right">
                 <a href="gdyuj.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-13.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="gdvqu.html">What's New in Solaris Express</a></p>
<p class="toc level2"><a href="ggdpi.html">New Features in Solaris Express Developer Edition 1/08</a></p>
<p class="toc level2"><a href="gfoov.html">New Features in Solaris Express Developer Edition 9/07</a></p>
<p class="toc level2"><a href="geyxk.html">New Features in Solaris Express Developer Edition 5/07</a></p>
<p class="toc level2"><a href="gekeg.html">New Features in Solaris Express Developer Edition 2/07</a></p>
<div class="onpage">
<p class="toc level2"><a href="">New Features in Solaris Express 12/06</a></p>
</div>
<p class="toc level2"><a href="gdyuj.html">New Features in Solaris Express 11/06</a></p>
<p class="toc level2"><a href="gdvqq.html">New Features in Solaris Express 10/06</a></p>
<p class="toc level2"><a href="gdpqc.html">New Features in Solaris Express 9/06</a></p>
<p class="toc level2"><a href="gdjoc.html">New Features in Solaris Express 8/06</a></p>
<p class="toc level2"><a href="gdarx.html">New Features in Solaris Express 7/06</a></p>
<p class="toc level2"><a href="gcuup.html">New Features in Solaris Express 6/06</a></p>
<p class="toc level2"><a href="gdkje.html">New Features in Solaris Express 5/06</a></p>
<p class="toc level2"><a href="gchkw.html">New Features in Solaris Express 4/06</a></p>
<p class="toc level2"><a href="gbyur.html">New Features in Solaris Express 3/06</a></p>
<p class="toc level2"><a href="gbsyt.html">New Features in Solaris Express 2/06</a></p>
<p class="toc level2"><a href="gbqhg.html">New Features in Solaris Express 1/06</a></p>
<p class="toc level2"><a href="gbiom.html">New Features in Solaris Express 12/05</a></p>
<p class="toc level2"><a href="gbfry.html">New Features in Solaris Express 11/05</a></p>
<p class="toc level2"><a href="gazyy.html">New Features in Solaris Express 10/05</a></p>
<p class="toc level2"><a href="gawod.html">New Features in Solaris Express 9/05</a></p>
<p class="toc level2"><a href="gamoj.html">New Features in Solaris Express 8/05</a></p>
<p class="toc level2"><a href="gacam.html">New Features in Solaris Express 7/05</a></p>
<p class="toc level2"><a href="ftzbi.html">New Features in Solaris Express 6/05</a></p>
<p class="toc level2"><a href="fsuku.html">New Features in Solaris Express 4/05</a></p>
<p class="toc level2"><a href="fpyuh.html">New Features in Solaris Express 3/05</a></p>
<p class="toc level2"><a href="fabay.html">New Features in Solaris Express 2/05</a></p>
<p class="toc level2"><a href="whatsnew-172.html">Key Features in Solaris Express</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="gedcv"></a><h3>New Features in Solaris Express 12/06</h3>
<p>This section describes all features that are new or have been enhanced in
the Solaris Express 12/06 release.</p>

<a name="geddd"></a><h4>Session Initiation Protocol Library (<tt>libsip</tt>)</h4>
<p>This networking enhancement is new in the Solaris Express 12/06 release.</p><p>Session Initiation Protocol (SIP) is an application layer protocol that can be used
to initiate, modify, and terminate multimedia sessions such as Voice-over-IP (VoIP) and Instant
Messaging (IM).</p><p>SIP library in Solaris provides a  SIP stack, that conforms to
RFC 3261, and a set of API to write SIP applications. Primary users
of this library include developers who write SIP applications such as soft phones,
proxy servers, redirect servers, etc.</p><p>The library supports all SIP headers in RFCs 3261, 3262, 3265, 3323, and
3325.</p><p>For more information about SIP, see the <a href="http://docs.sun.com/doc/819-2254/sip-7p?a=view"><tt>sip</tt>(7P)</a> man page.</p>

<a name="gedbt"></a><h4>ZFS Command History (<tt>zpool history</tt>)</h4>
<p>This system administration tools enhancement is new in the Solaris Express 12/06 release.</p><p>ZFS automatically logs successful <tt>zfs</tt> and <tt>zpool</tt> commands that modify pool state
information. For example:</p><pre># <tt><b>zpool history</b></tt>
History for 'newpool':
2006-10-23.08:58:22 zpool create -f newpool c1t2d0
2006-10-23.08:59:02 zpool replace -f newpool c1t2d0 c1t3d0
2006-10-23.08:59:54 zpool attach -f newpool c1t3d0 c1t4d0</pre><p>This feature enables you or Sun support personnel to identify the <b>exact</b>
set of ZFS commands that was executed to troubleshoot an error scenario.</p><p>The features of the history log are as follows:</p>
<ul><li><p>The log cannot be disabled.</p></li>
<li><p>The log is saved persistently on disk, which means the log is saved across system reboots.</p></li>
<li><p>The log is implemented as a ring buffer. The minimum size is 128 Kbytes. The maximum size is 32 Mbytes.</p></li>
<li><p>For smaller pools, the maximum size is capped at 1% of the pool size, where <i>size</i> is determined at pool creation time.</p></li>
<li><p>The log does not require any administration. This means that you do not need to tune the size of the log or change the location of the log.</p></li></ul>
<p>Currently, the <tt>zpool history</tt> command does not record <i>user-ID</i>, <i>hostname</i>, or <i>zone-name</i>.</p><p>For more information about troubleshooting ZFS problems, see <a href="http://docs.sun.com/doc/817-2271"><i>ZFS Administration Guide</i></a>.</p>

<a name="gbppr"></a><h4>Changes and Improvements to Removable Media Management</h4>
<p>This device management enhancement is new in the Solaris Express 12/06 release.</p><p>Starting with this release, better services and methods that provide removable media management
have replaced previous features for managing removable media.</p><p>The following new features are available:</p>
<ul><li><p>New removable media services are enabled and disabled by using SMF.</p><pre>online         12:17:54 svc:/system/hal:default
online         12:17:56 svc:/system/filesystem/rmvolmgr:default
online         12:17:26 svc:/system/dbus:default</pre></li>
<li><p>Removable media is now mounted automatically in the <tt>/media</tt> directory. However, symbolic links to <tt>/media</tt> are provided from previous media mount points, <tt>/cdrom</tt> and <tt>/rmdisk</tt>, for compatibility purposes.</p><p>For example, a compact flash memory card (<tt>/dev/dsk/c4d0p0:1</tt>) is mounted as follows:</p><pre>$ ls /media/NIKON</pre><p>For example, a USB memory stick (<tt>/dev/dsk/c3t0d0s0</tt>) is mounted as follows:</p><pre>$ ls /media/U3</pre><p>For example, a diskette (<tt>/dev/diskette0</tt>) is mounted as follows:</p><pre>$ ls /media/floppy</pre></li>
<li><p>The default removable media volume manager, <tt>rmvolmgr</tt>, is responsible for following activities:</p>
<ul><li><p>Mounting and unmounting volumes.</p></li>
<li><p>The root instance of <tt>rmvolmgr</tt> starts at system boot. However, you can configure your session's configuration files to start an instance of <tt>rmvolmgr</tt> when you log in. When run within a user session, <tt>rmvolmgr</tt> only mounts devices owned by the current user or session and does not conflict with the root instance.</p></li>
<li><p>When <tt>rmvolmgr</tt> exits, it unmounts all media that it mounted.</p></li>
<li><p>For compatibility purposes, <tt>rmvolmgr</tt> creates symbolic links under the <tt>/cdrom</tt>, <tt>/floppy</tt>, <tt>/rmdisk</tt> directories to the actual mount points under <tt>/media</tt>.</p></li>
<li><p>A special <tt>rmvolmgr</tt> run mode is available for CDE compatibility.</p></li></ul>
</li>
<li><p>The hardware abstraction layer (HAL) daemon, <tt>hald</tt>, provides a view of the device attached to a system. This view is updated automatically as hardware configuration changes, by hot-plugging or other mechanisms.</p><p>HAL represents a piece of hardware as a device object. A device object is identified by a unique device identifier (UDI) and carries a set of key-value pairs referred to as device properties. Some properties are derived from the actual hardware, some are merged from device information files (<tt>.fdi</tt> files) and some are related to the actual device configuration.</p></li></ul>
<p>The following features are removed:</p>
<ul><li><p>The <tt>vold</tt> daemon, the <tt>volfs</tt> file system, and the <tt>volfs</tt> service have been removed.</p><pre>svc:/system/filesystem/volfs</pre></li>
<li><p>Logical device names for removable media under the <tt>/vol</tt> directory, such as <tt>/vol/dev/rdsk/...</tt> or <tt>/vol/dev/aliases/...</tt>, are no longer provided.</p><p>To access removable media by its logical device name, the <tt>/dev</tt> device should be used. For example:</p><pre>/dev/rdsk/c0t6d0s2</pre></li>
<li><p>Some <tt>vold</tt> device nicknames are no longer available. The following <tt>eject</tt> <tt>-l</tt> output identifies the available device nicknames for each device and in the example, the mounted media pathnames (<tt>/media/SOL_11_X86_4</tt>):</p><pre>$ eject -l
/dev/dsk/c2t0d0s2    cdrom,cdrom0,cd,cd0,sr,sr0,SOL_11_X86_4,/media/SOL_11_X86_4
/dev/diskette        floppy,floppy0,fd,fd0,diskette,diskette0,rdiskette,rdiskette0</pre><p>The comma-separated list shows the nicknames that can be used to eject each device.</p></li>
<li><p>Customizations that were made in <tt>vold.conf</tt> and <tt>rmmount.conf</tt> are no longer available because these configuration files no longer exist. For information about managing media customizations, see <a href="#gdyzo">Customizing Removable Media Management</a>.</p></li>
<li><p>Commands that begin with <tt>vol</tt>* commands except for <tt>volcheck</tt> and <tt>volrmmount</tt>.</p></li></ul>


<a name="gdyzw"></a><h5>Backward Compatibility</h5>
<p>The following features provide backward compatibility with previous Solaris removable media features:</p>
<ul><li><p>Removable media mount points have moved to the <tt>/media</tt> directory, which is used to mount removable media, such as CD-ROMs and USB devices. Symbolic links to <tt>/media</tt> from previous media mounts points, such as <tt>/cdrom</tt> and <tt>/rmdisk</tt>, are provided for compatibility purposes.</p></li>
<li><p>The <tt>rmformat</tt> command is still available. The output of this command is identical to what it looks in previous Solaris releases with <tt>vold</tt> disabled.</p><p>For example:</p><pre># rmformat
Looking for devices...
     1. Logical Node: /dev/rdsk/c0t6d0s2
        Physical Node: /pci@1f,4000/scsi@3/sd@6,0
        Connected Device: TOSHIBA  DVD-ROM SD-M1401 1009
        Device Type: DVD Reader
        Bus: SCSI
        Size: 2.9 GB
        Label: &lt;None>
        Access permissions: &lt;Unknown></pre></li>
<li><p>The <tt>eject</tt> command is available but has been enhanced. For more information, see <a href="#gdyzt">Ejecting Removable Media</a>.</p></li></ul>


<a name="gdyzm"></a><h5>Mounting and Unmounting Removable Media</h5>
<p>Most commands that begin with <tt>vol</tt>* are removed in this release. A modified
version of <tt>rmmount</tt> and a new <tt>rmumount</tt> command are available to mount
and unmount removable media.</p><p>These commands can be used to mount by device name, label, or
mount point. For example, to mount an iPod:</p><pre>% <tt><b>rmmount ipod</b></tt></pre><p>For example, to unmount the file systems on a DVD:</p><pre># <tt><b>rmumount cdrom</b></tt>
cdrom /dev/dsk/c0t6d0s5 unmounted
cdrom /dev/dsk/c0t6d0s0 unmounted</pre><p>For more information, see the <a href="http://docs.sun.com/doc/819-2240/rmmount-1m?a=view"><tt>rmmount</tt>(1M)</a> man page.</p>

<a name="gdyzu"></a><h5>Mounting and Unmounting Diskettes</h5>
<p>You can use the existing <tt>volcheck</tt> command to manually poll diskettes and mount
them if a new diskette is detected.</p><p>If you manually reformat diskette after it is connected to the system, HAL
is not automatically notified. Continue to use the <tt>volcheck</tt> command to notify the
system and attempt to automount a new file system on a diskette.</p>

<a name="gdyzt"></a><h5>Ejecting Removable Media</h5>
<p>As in previous Solaris releases, use the <tt>eject</tt> command to unmount and eject
removable media. However, the following <tt>eject</tt> options are available:</p><dl><dt><tt>-f</tt></dt>
<dd><p>Forces the device to eject even if the device is busy.</p></dd>
<dt><tt>-l</tt></dt>
<dd><p>Displays paths and nicknames of devices that can be ejected.</p></dd>
<dt><tt>-t</tt></dt>
<dd><p>A CD-ROM tray close command is provided to the device. Not all devices support this option.</p></dd>
</dl>
<p>For example, to eject by its volume label:</p><pre>% <tt><b>eject mypictures</b></tt></pre><p>As in previous Solaris releases, you might need to issue the <tt>volcheck</tt>
command before using the <tt>eject</tt> command to eject a diskette.</p><p>For more information, see the <a href="http://docs.sun.com/doc/819-2239/eject-1?a=view"><tt>eject</tt>(1)</a> man page.</p>

<a name="gdyzo"></a><h5>Customizing Removable Media Management</h5>
<p>For most customizations that were available in the <tt>vold.conf</tt> and <tt>rmmount.conf</tt> files,
you will need to either use Desktop Volume manager preferences or modify the
<tt>.fdi</tt> files.</p>
<ul><li><p>For <tt>rmmount.conf</tt> actions, you will need to use either Desktop Volume Manager actions, <tt>gconf</tt>, or HAL callouts.</p></li>
<li><p>Previously, <tt>rmmount.conf</tt> <tt>actions</tt> could be run as root on behalf of ordinary users. Now, this is done by installing callout executables in the <tt>/usr/lib/hal</tt> directory.</p></li></ul>


<a name="gdyzg"></a><h5>Disabling Removable Media Features</h5>
<p>You can disable some or all removable media features in this release:</p>
<ul><li><p>To prevent volumes from mounting outside of user sessions, disable the <tt>rmvolmgr</tt> service. For example:</p><pre># svcadm disable rmvolmgr</pre></li>
<li><p>To prevent any volume management, disable the <tt>dbus</tt>, <tt>hal</tt>, and <tt>rmvolmgr</tt> services.</p><pre># svcadm disable rmvolmgr
# svcadm disable dbus
# svcadm disable hal</pre><p>Disabling these services means that you would have to mount all media manually by using the <tt>mount</tt> command.</p></li></ul>


<a name="gedcm"></a><h4>SPARC: Process Count Scalability</h4>
<p>This system resources enhancement is new in the Solaris Express 12/06 release.</p><p>The process count scalability feature improves the process count scalability of the Solaris
OS. Currently, all UltraSPARC systems support a maximum of 8192 contexts.  When
the number of processes exceeds 8192, then the kernel steals contexts to keep
the processes running. Stealing a context from a process involves the following tasks:</p>
<ul><li><p>Cross-calling all CPUs that the process ran on</p></li>
<li><p>Invalidating the context for CPUs that are running threads of the process</p></li>
<li><p>Flushing the context from the TLBs of all CPUs that are running threads of the process</p></li></ul>
<p>This procedure is very expensive and gets worse as the number of
processes rise beyond 8K. The process count scalability feature completely redesigns context management. The
contexts are managed on a per-MMU basis rather than a global basis which
enables efficient TLB flushing and greatly improves the scalability of context management.</p><p>The process count scalability feature also improves throughput on workloads that consist of
more than 8K active processes, or create and destroy processes at a high
rate, and is most beneficial on systems with many CPUs.</p>

<a name="gdyuq"></a><h4>Packet Filter Hooks</h4>
<p>This networking enhancement is new in the Solaris Express 12/06 release.</p><p>The packet filter hooks feature includes the following significant functionalities:</p>
<ul><li><p>Improved performance in comparison with the STREAMS module approach</p></li>
<li><p>Capability to intercept packets between zones</p></li></ul>
<p>The packet filter hooks feature is part of a new API that
is internal to the kernel. Developers can use the API to work with
IP inside the kernel or to intercept packets.</p>

<a name="gedck"></a><h4>x86: Fault Management For Next Generation AMD Opteron Processors</h4>
<p>The fault management feature introduces error-handling and fault-management support for CPUs and memory
in systems that use AMD (TM) Opteron and Athlon 64 Rev F processors.
These processors are used in the &ldquo;M2&rdquo; products from Sun such as the
Sun Fire X2200 M2 and Ultra 20 M2. Previous Solaris releases provided fault
management support for Opteron and Athlon 64 revisions B through E.</p><p>Fault management support is enabled by default. The fault management service detects correctable
CPU and memory errors, the resulting telemetry is analyzed by diagnosis engines, and
errors and faults are corrected whenever possible. When errors cannot be corrected by
the system, the extended telemetry provides greater assistance to the system administrator.</p><p>For more information see <a href="http://www.opensolaris.org/os/community/fm/">http://www.opensolaris.org/os/community/fm/</a>.</p>

<a name="gekzt"></a><h4>Name service switch enhancements</h4>
<p>This release contains upward compatible changes to the name service switch (nss) and
to the Name Switch Cache Daemon - nscd(1M)- in order to deliver new
functionality including the following:</p>
<ul><li><p>Better caching in nscd(1M) and management of connections within the updated framework.</p></li>
<li><p>Name service lookups that are access controlled at the naming service on a per-user basis. The updated switch framework adds support for this style of lookups using SASL/GSS/Kerberos in a manner that is compatible with the authentication model used in Microsoft Active Directory.</p></li>
<li><p>A framework for the future addition of putXbyY interfaces.</p></li></ul>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="gekeg.html">Previous</a>
             </td>
             <td align="right">
                 <a href="gdyuj.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

