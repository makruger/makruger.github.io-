<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Administering Solaris Flash Archives - Solaris Express Installation Guide: Solaris Flash Archives (Creation and Installation)</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2007-05-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo"></div>
   <div class="Title">Solaris Express Installation Guide: Solaris Flash Archives (Creation and Installation)</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="flashinstall-100.html">Previous</a>
             </td>
             <td align="right">
                 <a href="flashref-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-1.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="flash-24.html">1.&nbsp;&nbsp;Solaris Flash (Overview)</a></p>
<p class="toc level1 tocsp"><a href="flash-240.html">2.&nbsp;&nbsp;Solaris Flash (Planning)</a></p>
<p class="toc level1 tocsp"><a href="flashcreate-1.html">3.&nbsp;&nbsp;Creating Solaris Flash Archives (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="flashinstall-10.html">4.&nbsp;&nbsp;Installing and Administering Solaris Flash Archives (Tasks)</a></p>
<p class="toc level2"><a href="flashinstall-101.html">Installing a Solaris Flash Archive With the Solaris Installation Program</a></p>
<p class="toc level3"><a href="flashinstall-101.html#etfbv">Installing a Solaris Flash Archive</a></p>
<p class="toc level2 tocsp"><a href="flashinstall-100.html">References to Procedures for Installing Solaris Flash Archives</a></p>
<div class="onpage">
<p class="toc level2"><a href="">Administering Solaris Flash Archives</a></p>
</div>
<p class="toc level1 tocsp"><a href="flashref-1.html">5.&nbsp;&nbsp;Solaris Flash (Reference)</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="flashinstall-201"></a><h3>Administering Solaris Flash Archives</h3>
<p><a name="indexterm-69"></a><a name="indexterm-70"></a>The <tt>flar</tt> command enables you to administer archives. You can split an archive
into sections. Those sections can be modified, added to, or deleted, and then
merged to create an archive. You can also obtain information about the archive.</p>
<hr><p><b>Caution - </b>Do not modify the Archive Files section or you compromise the integrity of
the archive.</p>
<hr>


<a name="flashinstall-206"></a><h4>Splitting a Solaris Flash Archive</h4>
<p><a name="indexterm-71"></a>You can split an archive into sections, which enables you to modify some
sections, add new sections, or delete sections. After you have modified the sections,
you need to merge the sections to create an new archive. For example,
you might want to add a user-defined section or modify the archive identification
section. Do not modify the Archive Files section or you compromise the integrity
of the archive. </p><p>The <tt>flar split</tt> command splits a Solaris Flash archive into sections.  The <tt>flar</tt>
command copies each section into a separate file in the current directory or
specified directory. The files are named after the sections, for example, the archive
cookie is saved in a file that is named <tt>cookie</tt>.  You can
specify that the <tt>flar split</tt> command save only one section. The syntax of
the command is as follows:</p><p><tt>flar</tt> <tt>split</tt> [<tt>-d</tt> <i>dir</i>] [<tt>-u</tt> <i>section</i>] [<tt>-f</tt> archive] [<tt>-S</tt> <i>section</i>] [<tt>-t</tt> [<tt>-p</tt> <i>posn</i>] [<tt>-b</tt>
<i>blocksize</i>]] <i>filename</i></p><table><col width="24.20*"><col width="75.80*"><tr><td align="left" valign="top" scope="row"><p><tt>-d</tt> <i>dir</i></p></td>
<td align="left" valign="top" scope="row"><p>Retrieves the sections to copy from <i>dir</i>, rather than from the
current directory.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-u</tt> <i>section</i></p></td>
<td align="left" valign="top" scope="row">
<ul><li><p>If you use this option, <tt>flar</tt> copies the cookie, identification, archive, and <i>section</i> sections.  You can specify a single section name or a space-separated list of section names.</p></li>
<li><p>If you do <b>not</b> use this option, <tt>flar</tt> copies the cookie, identification, and archive sections only.</p></li></ul>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-f</tt> archive</p></td>
<td align="left" valign="top" scope="row"><p>Extracts the archive section into a directory that is
named <tt>archive</tt>, rather than placing it in a file with the name
<tt>archive</tt>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>-S</tt> <i>section</i></p></td>
<td align="left" valign="top" scope="row"><p>Only copies the section that is named <i>section</i> from the archive. This
section is user defined.</p></td>
</tr>
</table><a name="flashinstall-ex-203"></a>Example&nbsp;4-1 Splitting an Archive<p>In the following example, <tt>archive1.flar</tt> is split into three files: </p>
<ul><li><p><tt>cookie</tt> &ndash; The first line of the archive, which identifies the version of the archive format. Do not change this identifier.</p></li>
<li><p><tt>identification</tt> &ndash; A copy of the archive identification section with all keyword-value pairs.</p></li>
<li><p><tt>archive</tt> &ndash; The archive itself. This file can be compressed.</p></li></ul>
<pre># <tt><b>flar split archive1.flar</b></tt></pre><p>After the archive is split, you can modify the archive identification section or
add a user-defined section. The sections can then be merged to re-create the
archive.</p>

<a name="flashinstall-207"></a><h4>Merging Solaris Flash Archives</h4>
<p>After you have split an archive into sections, you can combine the
sections to create a new archive.</p><p><a name="indexterm-72"></a>The <tt>flar combine</tt> command creates a Solaris Flash archive from individual sections.  The
following table describes how the <tt>flar</tt> command handles combining sections.</p><table><col width="24.43*"><col width="75.57*"><tr><th align="left" valign="top" scope="column"><p>Conditions</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Minimum number of files</p></td>
<td align="left" valign="top" scope="row"><p>Each
section is assumed to be in a separate file, the names of
which are the section names. These three files must be present: </p>
<ul><li><p>Archive cookie (<tt>cookie</tt>) </p></li>
<li><p>Archive identification (<tt>identification</tt>)</p></li>
<li><p>Archive files (<tt>archive</tt>) </p></li></ul>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Archive copy
method</p></td>
<td align="left" valign="top" scope="row"><p>If <tt>archive</tt> is a directory, the contents are archived before including the directory
in the combined archive by using the <tt>cpio</tt> copy utility.</p><p>One of the
following copy methods is used:</p>
<ul><li><p><tt>pax</tt> is the default copy method. The <tt>flarcreate</tt> command with the <tt>-L pax</tt> option uses the <tt>pax</tt> utility to create an archive without limitations on individual file sizes. Individual file sizes can be greater than 4 GB.</p></li>
<li><p><tt>cpio</tt> is an archive method for backward compatibility. The <tt>flarcreate</tt> command with the <tt>-L cpio</tt> option creates a <tt>cpio</tt> archive. Individual file sizes cannot be greater than 4 GB.</p></li></ul>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Compressing an archive</p></td>
<td align="left" valign="top" scope="row"><p>If the archive identification section specifies
to compress the archive, <tt>flar</tt> compresses the contents of the newly combined
archive. </p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Validation</p></td>
<td align="left" valign="top" scope="row"><p>No validation is performed on any of the sections.  In
particular, no fields in the archive identification section are validated or updated.</p></td>
</tr>
</table><p>The following command syntax is for <tt>flar combine</tt> command.</p><p><tt>flar</tt> <tt>combine</tt> [<tt>-d</tt> <i>dir</i>] [<tt>-u</tt> <i>section</i>] [<tt>-t</tt> [<tt>-p</tt> <i>posn</i>] [<tt>-b</tt> <i>blocksize</i>]] <i>filename</i></p><dl><dt><tt>-d</tt> <i>dir</i></dt>
<dd><p>Retrieves the sections to combine from <i>dir</i>, rather than from the current directory.</p></dd>
<dt><tt>-u</tt> <i>section</i></dt>
<dd>
<ul><li><p>If you use this option, <tt>flar</tt> copies the cookie, identification, archive, and <i>section</i> sections.  You can specify a single section name or a space-separated list of section names.</p></li>
<li><p>If you do <b>not</b> use this option, <tt>flar</tt> copies the cookie, identification, and archive sections only.</p></li></ul>
</dd>
</dl>
<a name="flashinstall-ex-204"></a>Example&nbsp;4-2 Merging a Solaris Flash Archive<p>In this example, an archive cookie section, an archive identification section, and an
archive files section are combined to become a complete archive. The archive is
named <tt>newarchive.flar</tt>.</p><pre># <tt><b>flar combine newarchive.flar</b></tt> </pre><a name="flashinstall-ex-209"></a>Example&nbsp;4-3 Merging a Solaris Flash Archive and Adding a User-Defined Section<p>In this example, an archive cookie section, an archive identification section, an archive
files section, and a user-defined section are combined to become a complete archive.
The archive is named <tt>newarchive.flar</tt>. The user-defined section content is in the file
that is named <tt>user-defined</tt>, which is in the current directory.</p><pre># <tt><b>flar combine -u user_defined newarchive.flar</b></tt> </pre>

<a name="flashinstall-208"></a><h4>Extracting Information From an Archive</h4>
<p><a name="indexterm-73"></a>Use the <tt>flar info</tt> command to obtain information about archives you have already created.
The syntax of the command is as follows:</p><p><tt>flar</tt> <tt>info</tt> [<tt>-l</tt>] [<tt>-k</tt> <i>keyword</i>] [<tt>-t</tt> [<tt>-p</tt> <i>posn</i>] [<tt>-b</tt> <i>blocksize</i>]] <i>filename</i></p><dl><dt><tt>-k</tt> <i>keyword</i></dt>
<dd><p>Returns only the value of the keyword <i>keyword</i>.</p></dd>
<dt><tt>-l</tt></dt>
<dd><p>Lists all the files in the archive section. </p></dd>
</dl>
<a name="flashinstall-ex-210"></a>Example&nbsp;4-4 Listing Files in an Archive Section<p>In this example, the command checks the file structure of the archive named
<tt>archive3.flar</tt>.</p><pre># <tt><b>flar info -l archive3.flar</b></tt>
aaa
aaa/bbb
aaa/bbb/ccc
aaa/bbb/ccc/ddd
aaa/eee</pre>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="flashinstall-100.html">Previous</a>
             </td>
             <td align="right">
                 <a href="flashref-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

