<chapter id="diskspace-1"><title>System Requirements, Guidelines, and Upgrade
(Planning)</title><highlights><para>This chapter describes system requirements to install or upgrade to
the Solaris OS. General guidelines for planning the disk space and default
swap space allocation are also provided. This chapter contains the following
sections:</para><itemizedlist><listitem><para><olink targetptr="webstart-83" remap="internal">System Requirements and Recommendations</olink></para>
</listitem><listitem><para><olink targetptr="planning-15" remap="internal">Allocating Disk and Swap Space</olink></para>
</listitem><listitem><para><olink targetptr="emyaq" remap="internal">Upgrade Planning</olink></para>
</listitem><listitem><para><olink targetptr="egyqy" remap="internal">Locale Values</olink></para>
</listitem><listitem><para><olink targetptr="kernelarchs-34565" remap="internal">Platform Names and Groups</olink></para>
</listitem><listitem><para><olink targetptr="diskspace-101" remap="internal">Partitioning Recommendations</olink></para>
</listitem><listitem><para><olink targetptr="planning-333" remap="internal">How to Find the Version of
the Solaris OS That Your System Is Running</olink></para>
</listitem>
</itemizedlist>
</highlights><sect1 id="webstart-83"><title>System Requirements and Recommendations</title><table frame="topbot" pgwide="1" id="esimk"><title>Memory, Swap, and Processor
Recommendations</title><tgroup cols="2" colsep="0" rowsep="0"><colspec colwidth="30.20*"/><colspec colwidth="69.80*"/><thead><row rowsep="1"><entry><para>Requirement Type</para>
</entry><entry><para>Size</para>
</entry>
</row>
</thead><tbody><row><entry rowsep="1"><para>Memory to install or upgrade</para>
</entry><entry rowsep="1"><itemizedlist><listitem><para><emphasis role="strong">SPARC</emphasis>: 512 MB is the recommended
size. 128 MB is the minimum size.</para>
</listitem><listitem><para><emphasis role="strong">x86</emphasis>: 512 MB is the recommended
size. 256 MB is the minimum size.</para>
</listitem>
</itemizedlist><note><para>Some optional installation features are enabled only when sufficient
memory is present. For example, if your system has insufficient memory and
you install from a DVD, you install through the Solaris installation program 's text installer,
not through the GUI. For more information about these memory requirements,
see <olink targetptr="esqgm" remap="internal">Table 4&ndash;2</olink>.</para>
</note>
</entry>
</row><row><entry rowsep="1"><para>Swap area</para>
</entry><entry rowsep="1"><para>512 MB is the default size.</para><note><para>You might need to customize the swap space. Swap space is based
on the size of the system's hard disk.</para>
</note>
</entry>
</row><row><entry><para>Processor requirements</para>
</entry><entry><itemizedlist><listitem><para><emphasis role="strong">SPARC</emphasis>: 200&ndash;MHz or
faster processor is required.</para>
</listitem><listitem><para><emphasis role="strong">x86</emphasis>: 120&ndash;MHz or faster
processor is recommended.  Hardware floating-point support is required.</para>
</listitem>
</itemizedlist>
</entry>
</row>
</tbody>
</tgroup>
</table><para>You can choose to install the software with a GUI or with or without
a windowing environment. If there is sufficient memory, the GUI is displayed
by default. Other environments are displayed by default if memory is insufficient
for the GUI. You can override defaults with the <literal>nowin</literal> or <literal>text</literal> boot options. But, you are limited by the amount of memory
in your system or by installing remotely. Also if the Solaris installation
program does not detect a video adapter, it automatically displays in a console-based
environment. <olink targetptr="esqgm" remap="internal">Table 4&ndash;2</olink> describes these
environments and lists minimal memory requirements for displaying them. </para><table frame="topbot" pgwide="1" id="esqgm"><title>Memory Requirements for
Display Options</title><tgroup cols="3" colsep="0" rowsep="0"><colspec colwidth="32.90*"/><colspec colname="colspec2" colwidth="20.59*"/><colspec colname="colspec0" colwidth="44.77*"/><thead><row><entry rowsep="1"><para>Memory</para>
</entry><entry rowsep="1"><para>Type of Installation</para>
</entry><entry rowsep="1"><para>Description</para>
</entry>
</row>
</thead><tbody><row><entry colsep="1" rowsep="1"><itemizedlist><listitem><para><emphasis role="strong">SPARC</emphasis>: 64&ndash;511 MB</para>
</listitem><listitem><para><emphasis role="strong">x86</emphasis>: 256&ndash;511 MB</para>
</listitem>
</itemizedlist>
</entry><entry colsep="1" rowsep="1"><para>Text-based</para>
</entry><entry rowsep="1"><para>Contains no graphics, but provides a window and the ability to open
other windows. </para><para>If you install by using the <literal>text</literal> boot option and
the system has enough memory, you are installing in a windowing environment.
If you are installing remotely through a <command>tip</command> line or using
the <literal>nowin</literal> boot option, you are limited to the console-based
installation.</para>
</entry>
</row><row><entry colsep="1"><itemizedlist><listitem><para><emphasis role="strong">SPARC</emphasis>: 512 MB or greater</para>
</listitem><listitem><para><emphasis role="strong">x86</emphasis>: 512 MB</para>
</listitem>
</itemizedlist>
</entry><entry colsep="1"><para>GUI-based</para>
</entry><entry><para>Provides windows, pull-down menus, buttons, scrollbars, and iconic images.</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
</sect1><sect1 id="planning-15"><title>Allocating Disk and Swap Space</title><para>Before you install the Solaris software, you can determine if your system
has enough disk space by doing some high-level planning.</para><sect2 id="esimm"><title>General Disk Space Planning and Recommendations</title><para>Planning disk space is different for everyone. Consider allocating space
for the following conditions, depending on your needs.</para><table frame="topbot" pgwide="100" id="esimn"><title>General Disk Space and
Swap Space Planning</title><tgroup cols="2" colsep="0" rowsep="0"><colspec colwidth="25.75*"/><colspec colwidth="74.25*"/><thead><row rowsep="1"><entry><para>Conditions for Space Allocations</para>
</entry><entry><para>Description</para>
</entry>
</row>
</thead><tbody><row><entry><para>File systems</para>
</entry><entry><para>For each file system that you create, allocate an additional 30 percent
more disk space than you need to enable you to upgrade to future Solaris versions. </para><para>By default, the Solaris installation methods create only root (<filename>/</filename>)
and <filename>/swap</filename>. When space is allocated for OS services, the <filename>/export</filename> directory is also created. If you are upgrading to a major
Solaris release, you might need to reslice your system or allocate double
the space that you need at installation time. If you are upgrading to an update,
you could prevent having to reslice your system by allocating extra disk space
for future upgrades. A Solaris update release needs approximately 10 percent
more disk space than the previous release. You can allocate an additional
30 percent of disk space for each file system to allow space for several Solaris
updates.</para>
</entry>
</row><row><entry><para>The <filename>/var</filename> file system</para>
</entry><entry><para> If you intend to use the crash dump feature <olink targetdoc="refman1m" targetptr="savecore-1m" remap="external"><citerefentry><refentrytitle>savecore</refentrytitle><manvolnum>1M</manvolnum></citerefentry></olink>, allocate double the amount
of your physical memory in the <filename>/var</filename> file system.</para>
</entry>
</row><row><entry><para> Swap</para>
</entry><entry><para>The Solaris installation program allocates a default swap area of 512
MB under the following conditions:</para><itemizedlist><listitem><para>If you use the installation program's automatic layout of
disk slices</para>
</listitem><listitem><para>If you avoid manually changing the size of the swap slice</para>
</listitem>
</itemizedlist><para>By default, the Solaris installation programs allocate swap space by
placing swap so that it starts at the first available disk cylinder (typically
cylinder 0 on SPARC based systems). This placement provides maximum space
for  the root (<filename>/</filename>) file system during the default disk
layout and  enables the growth of the root (<filename>/</filename>) file system
during an upgrade. </para><para>If you think you might need to expand the swap area in the future, you
can place the swap slice so that it starts at another disk cylinder by using
one of the following methods. </para><itemizedlist><listitem><para>For the Solaris installation program, you can customize the
disk layout in cylinder mode and manually assign the swap slice to the desired
location. </para>
</listitem><listitem><para>For the custom JumpStart installation program, you can assign
the swap slice in the profile file. For more information about  the JumpStart
profile file, see <olink targetdoc="solinstalladv" targetptr="preparecustom-53442" remap="external"><citetitle remap="section">Creating a Profile</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</citetitle></olink>.</para>
</listitem>
</itemizedlist><para>For an overview of the swap space, see <olink targetdoc="sagdfs" targetptr="fsswap-14677" remap="external">Chapter 20, <citetitle remap="chapter">Configuring Additional Swap Space (Tasks),</citetitle> in <citetitle remap="book">System Administration Guide: Devices and File Systems</citetitle></olink>.</para>
</entry>
</row><row><entry><para>A server that is providing home directory file systems</para>
</entry><entry><para>By default, home directories are usually located in the <filename>/export</filename> file
system.</para>
</entry>
</row><row><entry><para>The Solaris software group you are installing</para>
</entry><entry><para>A software group is a grouping of software packages. When you are planning
disk space, remember that you can add or remove individual software packages
from the software group that you select. For information about software groups,
see <olink targetptr="esimo" remap="internal">Disk Space Recommendations for Software Groups</olink>.</para>
</entry>
</row><row><entry><para>Upgrade </para>
</entry><entry><itemizedlist><listitem><para>If you are using Solaris Live Upgrade to upgrade an inactive
boot environment and want information about disk space planning, see <olink targetdoc="solinstallupg" targetptr="luplanning-8" remap="external"><citetitle remap="section">Solaris Live Upgrade Disk Space Requirements</citetitle> in <citetitle remap="book">Solaris Express Installation Guide:  Solaris Live Upgrade and Upgrade Planning</citetitle></olink></para>
</listitem><listitem><para>If you are using the Solaris installation program or custom
Jumpstart to plan disk space, see <olink targetptr="esimx" remap="internal">Upgrading With
Disk Space Reallocation</olink></para>
</listitem><listitem><para>If you have non-global zones installed on a system, see <olink targetptr="gcdfn" remap="internal">Disk Space Requirements for Non-Global Zones</olink></para>
</listitem>
</itemizedlist>
</entry>
</row><row><entry><para>Language support</para>
</entry><entry><para>For example, Chinese, Japanese, or Korean. If you plan to install a
single language, allocate approximately 0.7 GB of additional disk space for
the language. If  you plan to install all language supports, you need  to
allocate up to approximately 2.5 GB of additional   disk space for the language
supports, depending on the  software group you install.</para>
</entry>
</row><row><entry><para>Printing or mail support</para>
</entry><entry><para>Allocate additional space.</para>
</entry>
</row><row><entry><para>Additional software or third-party software</para>
</entry><entry><para>Allocate additional space.</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
</sect2><sect2 id="esimo"><title>Disk Space Recommendations for Software Groups</title><para>The Solaris software groups are collections of Solaris packages. Each
software group includes support for different functions and hardware drivers. </para><itemizedlist><listitem><para>For an initial installation, you select the software group
to install, based on the functions that you want to perform on the system.</para>
</listitem><listitem><para>For an upgrade, you must upgrade to a software group that
is installed on the system. For example, if you previously installed the End
User Solaris Software Group on your system, you cannot use the upgrade option
to upgrade to the Developer Solaris Software Group. However, during the upgrade
you can add software to the system that is not part of the currently installed
software group.</para>
</listitem>
</itemizedlist><para>When you are installing the Solaris software, you can choose to add
or remove packages from the Solaris software group that you selected.  When
you are selecting which packages to add or remove, you need to know about
software dependencies and how the Solaris software is packaged.</para><para>The following figure shows the grouping of software packages. Reduced
Network Support contains the minimal number of packages and Entire Solaris
Software Group Plus OEM Support contains all the packages.</para><figure id="gdoka"><title>Solaris Software Groups</title><mediaobject><imageobject><imagedata entityref="softgroup"/>
</imageobject><textobject><simpara>The context describes the illustration.</simpara>
</textobject>
</mediaobject>
</figure><para><olink targetptr="esimp" remap="internal">Table 4&ndash;4</olink> lists the Solaris software
groups and the recommended amount of disk space that you need to install each
group.</para><note><para>The disk space recommendations in <olink targetptr="esimp" remap="internal">Table
4&ndash;4</olink> include space for the following items.</para><itemizedlist><listitem><para>Swap space</para>
</listitem><listitem><para>Patches</para>
</listitem><listitem><para>Additional software packages</para>
</listitem>
</itemizedlist><para>You might find that the software
groups require less disk space than the amount that is listed in this table.</para>
</note><table frame="topbot" pgwide="100" id="esimp"><title>Disk Space Recommendations
for Software Groups</title><tgroup cols="3" colsep="0" rowsep="0"><colspec colwidth="0.61*"/><colspec colname="colspec0" colwidth="2.00*"/><colspec colwidth="0.40*"/><thead><row rowsep="1"><entry><para>Software Group</para>
</entry><entry><para>Description</para>
</entry><entry><para>Recommended Disk Space</para>
</entry>
</row>
</thead><tbody><row><entry><para>Entire Solaris Software Group Plus OEM Support</para>
</entry><entry><para>Contains the packages for the Entire Solaris Software Group plus additional
hardware drivers, including drivers for hardware that is not on the system
at the time of installation.</para>
</entry><entry><para>6.8 GB</para>
</entry>
</row><row><entry><para>Entire Solaris Software Group</para>
</entry><entry><para>Contains the packages for the Developer Solaris Software Group and additional
software that is needed for servers.</para>
</entry><entry><para>6.7 GB</para>
</entry>
</row><row><entry><para>Developer Solaris Software Group</para>
</entry><entry><para> Contains the packages for the End User Solaris Software Group plus
additional support for software development. The additional software development
support includes libraries, include files, man pages, and programming tools.
Compilers are not included.</para>
</entry><entry><para>6.6 GB</para>
</entry>
</row><row><entry><para>End User Solaris Software Group</para>
</entry><entry><para>Contains the packages that provide the minimum code that is required
to boot and run a networked Solaris system and the Common Desktop Environment.</para>
</entry><entry><para>5.3 GB</para>
</entry>
</row><row><entry><para>Core System Support Software Group</para>
</entry><entry><para>Contains the packages that provide the minimum code that is required
to boot and run a networked Solaris system.</para>
</entry><entry><para>2.0 GB</para>
</entry>
</row><row><entry><para>Reduced Network Support Software Group</para>
</entry><entry><para>Contains the packages that provide the minimum code that is required
to boot and run a Solaris system with limited network service support. The
Reduced Network Support Software Group provides a multiuser  text-based console
and system administration utilities. This software group also enables the
system to  recognize network interfaces, but does not activate network services.</para>
</entry><entry><para>2.0 GB</para>
</entry>
</row>
</tbody>
</tgroup>
</table>
</sect2>
</sect1><sect1 id="emyaq"><title>Upgrade Planning</title><para>You can upgrade a system by using one of three different upgrade methods:
Solaris Live Upgrade, the Solaris installation program, and custom JumpStart. </para><table frame="all" id="esimq"><title>Solaris Upgrade Methods</title><tgroup cols="2" colsep="1" rowsep="1"><colspec colname="colspec2" colwidth="37.09*"/><colspec colname="colspec1" colwidth="69.21*"/><thead><row><entry><para>Current Solaris OS</para>
</entry><entry><para>Solaris Upgrade Methods</para>
</entry>
</row>
</thead><tbody><row><entry><para> Solaris 8, Solaris 9, Solaris 10</para>
</entry><entry><itemizedlist><listitem><para>Solaris Live Upgrade &ndash; Upgrades a system by creating
and upgrading a copy of the running system</para>
</listitem><listitem><para>The Solaris installation program  &ndash; Provides an interactive upgrade with
a graphical user interface or command-line interface</para>
</listitem><listitem><para>Custom JumpStart method &ndash; Provides an automated upgrade</para>
</listitem>
</itemizedlist>
</entry>
</row>
</tbody>
</tgroup>
</table><sect2 id="esimr"><title>Upgrade Limitations</title><para>The following table lists limitations when you upgrade a system under
some conditions.</para><informaltable frame="topbot"><tgroup cols="2" colsep="0" rowsep="0"><colspec colwidth="22.00*"/><colspec colwidth="78.00*"/><thead><row rowsep="1"><entry><para>Issue</para>
</entry><entry><para>Description</para>
</entry>
</row>
</thead><tbody><row><entry><para>Upgrading to a different software group</para>
</entry><entry><para>You cannot upgrade your system to a software group that is not installed
on the system. For example, if you previously installed the End User Solaris
Software Group on your system, you cannot use the upgrade option to upgrade
to the Developer Solaris Software Group. However, during the upgrade you can
add software to the system that is not part of the currently installed software
group.</para>
</entry>
</row><row><entry><para>Upgrading when non-global zones are installed</para>
</entry><entry><para>You can upgrade a system that has non-global zones installed with the
Solaris installation program, Solaris Live Upgrade or JumpStart. The following
limitations apply:</para><itemizedlist><listitem><para>Solaris Live Upgrade is the recommend program to upgrade or
patch a system. Other upgrade programs might require extensive upgrade time,
because the time required to complete the upgrade increases linearly with
the number of installed non-global zones.  If you are patching a system with
Solaris Live Upgrade, you do not have  to take the system to single-user mode
and you can maximize  your system's uptime.</para>
</listitem><listitem><para>When you use a Solaris Flash archive to install,  an
archive that contains non-global zones is not properly installed on your system. </para>
</listitem>
</itemizedlist>
</entry>
</row><row><entry><para>Upgrading with Veritas file systems</para>
</entry><entry><para>The Solaris interactive installation and custom JumpStart programs do
not  present you with the opportunity to upgrade a system when you are using
Veritas VxVM file systems under these conditions:</para><itemizedlist><listitem><para>If the root file system to be upgraded is under Veritas control.
For example,   if the root (<filename>/</filename>) file system is mounted
on a <filename>/dev/vx/...</filename> device.</para>
</listitem><listitem><para>If any Solaris software is installed on any file system that
is under Veritas   control. For example, if the <filename>/usr</filename> file
system is mounted on a <filename>/dev/vx/...</filename> device.</para>
</listitem>
</itemizedlist><para>To upgrade when Veritas VxVM is configured, use one of the following
methods: </para><itemizedlist><listitem><para>Use Solaris Live Upgrade with this procedure, <olink targetdoc="solinstallupg" targetptr="troubleshooting-48" remap="external"><citetitle remap="section">System Panics When Upgrading With Solaris Live Upgrade Running Veritas VxVm</citetitle> in <citetitle remap="book">Solaris Express Installation Guide:  Solaris Live Upgrade and Upgrade Planning</citetitle></olink>.</para>
</listitem><listitem><para>If you have non-global zones installed, you must migrate the
affected file systems from VxVM file systems to UFS file systems. You cannot
use the Solaris Live Upgrade procedure in the previous procedure.</para>
</listitem>
</itemizedlist>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
</sect2><sect2 id="esimu"><title>Upgrade Programs</title><para>You can perform a standard interactive upgrade with the Solaris installation
program or an unattended upgrade with the custom JumpStart installation method.
Solaris Live Upgrade enables you to upgrade a running system.</para><informaltable frame="topbot" pgwide="100"><tgroup cols="3" colsep="0" rowsep="0"><colspec colwidth="24.85*"/><colspec colwidth="75.38*"/><colspec colname="colspec0" colwidth="49.77*"/><thead><row rowsep="1"><entry><para>Upgrade Program</para>
</entry><entry><para>Description</para>
</entry><entry><para>For More Information</para>
</entry>
</row>
</thead><tbody><row><entry><para>Solaris Live Upgrade</para>
</entry><entry><para>Enables you to create a copy of the currently running system. The copy
can be upgraded and then a reboot switches the upgraded copy to become the
currently running system. Using Solaris Live Upgrade reduces the downtime
that is required to upgrade the Solaris OS. Also, Solaris Live Upgrade can
prevent problems with upgrading. An example is the ability to recover from
an upgrade if the power fails, because the copy being upgraded is not the
currently running system. </para>
</entry><entry><para>To plan for disk space allocation when using Solaris Live Upgrade, see <olink targetdoc="solinstallupg" targetptr="preconfig-17" remap="external"><citetitle remap="section">Solaris Live Upgrade Requirements</citetitle> in <citetitle remap="book">Solaris Express Installation Guide:  Solaris Live Upgrade and Upgrade Planning</citetitle></olink>.</para>
</entry>
</row><row><entry><para>The Solaris installation program </para>
</entry><entry><para>Guides you through an upgrade with an interactive GUI. </para>
</entry><entry><para><olink targetdoc="solarisinstall" targetptr="webstart-91" remap="external">Chapter 2, <citetitle remap="chapter">Installing With the Solaris Installation Program (Tasks),</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Basic Installations</citetitle></olink>.</para>
</entry>
</row><row><entry><para>Custom JumpStart program</para>
</entry><entry><para>Provides an automated upgrade. A profile file and optional preinstallation
and postinstallation scripts provide the information required. When creating
a custom JumpStart profile for an upgrade, specify <literal>install_type upgrade</literal>.
You must test the custom JumpStart profile against the system's disk configuration
and currently installed software before you upgrade. Use the <command>pfinstall <option>D</option></command> command on the system that you are upgrading to test
the profile. You cannot test an upgrade profile by using a disk configuration
file. </para>
</entry><entry><itemizedlist><listitem><para>For more information about testing the upgrade option, refer
to <olink targetdoc="solinstalladv" targetptr="preparecustom-25808" remap="external"><citetitle remap="section">Testing a Profile</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</citetitle></olink></para>
</listitem><listitem><para>For more information about creating a upgrade profile, see <olink targetdoc="solinstalladv" targetptr="preparecustom-45277" remap="external"><citetitle remap="section">Profile Examples</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</citetitle></olink></para>
</listitem><listitem><para>For more information about performing an upgrade, see <olink targetdoc="solinstalladv" targetptr="customjump-40000" remap="external"><citetitle remap="section">Performing a Custom JumpStart Installation</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</citetitle></olink></para>
</listitem>
</itemizedlist>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
</sect2><sect2 id="geupf"><title>Installing a Solaris Flash Archive Instead of
Upgrading</title><para>The Solaris Flash installation
feature provides a method of creating a copy of the whole installation from
a master system that can be replicated on many clone systems. This copy is
called a Solaris Flash archive. You can install an archive by using any
installation program.</para><caution><para>A Solaris Flash archive cannot be properly created when
a non-global zone is installed. The Solaris Flash feature is not compatible
 with Solaris Zones partitioning technology. If you create a Solaris Flash
archive, the resulting  archive is not installed properly when the archive
is deployed under these conditions:</para><itemizedlist><listitem><para>The archive is created in a non-global zone</para>
</listitem><listitem><para>The archive is created in a global zone that has non-global
zones installed</para>
</listitem>
</itemizedlist>
</caution><sect3 id="geuon"><title>Creating an Archive That
Contains Large Files</title><para>The default copy method that is used when you create a Solaris Flash archive
is the <command>pax</command> utility. The <command>flarcreate</command> command
uses the <command>pax</command> utility to create an archive without size
limitations on individual files. Individual file sizes can be greater than
4 Gbytes. The <command>flarcreate</command> command with the <option>L cpio</option> option
creates a <command>cpio</command> archive. This option is useful for backward
compatibility.</para><para>For information about installing an archive, see the following table.</para><informaltable frame="topbot"><tgroup cols="2" colsep="0" rowsep="0"><colspec colwidth="50*"/><colspec colwidth="50*"/><tbody><row><entry><para>Solaris Live Upgrade</para>
</entry><entry><para><olink targetdoc="solinstallupg" targetptr="luupgrade-83" remap="external"><citetitle remap="section">Installing Solaris Flash Archives on a Boot Environment</citetitle> in <citetitle remap="book">Solaris Express Installation Guide:  Solaris Live Upgrade and Upgrade Planning</citetitle></olink></para>
</entry>
</row><row><entry><para>Custom JumpStart</para>
</entry><entry><para><olink targetdoc="solinstalladv" targetptr="flash-46" remap="external"><citetitle remap="section">To Prepare to Install a Solaris Flash Archive With a Custom JumpStart Installation</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</citetitle></olink></para>
</entry>
</row><row><entry><para>Solaris interactive installation</para>
</entry><entry><para><olink targetdoc="solinstallflash" targetptr="flashinstall-10" remap="external">Chapter 4, <citetitle remap="chapter">Installing and Administering Solaris Flash Archives (Tasks),</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Solaris Flash Archives (Creation and Installation)</citetitle></olink></para>
</entry>
</row><row><entry><para>WANboot</para>
</entry><entry><para><olink targetdoc="solinstallnet" targetptr="waninstalltasks-2" remap="external">Chapter 12, <citetitle remap="chapter">Installing With WAN Boot (Tasks),</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Network-Based Installations</citetitle></olink></para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
</sect3>
</sect2><sect2 id="esimx"><title>Upgrading With Disk Space Reallocation</title><para>The upgrade option in the Solaris installation program and the <literal>upgrade</literal> keyword in the custom JumpStart program provide the ability  to
reallocate disk space. This reallocation automatically changes the sizes of
the disk slices. You can reallocate disk space if the current file systems
do not have enough space for the upgrade. For example, file systems might
need more space for the upgrade  for the following reasons: </para><itemizedlist><listitem><para>The Solaris software group that is currently installed on
the system contains new software in the new release. Any new software that
is included in a software group is automatically selected to be installed
during the upgrade.</para>
</listitem><listitem><para>The size of the existing software on the system has increased
in the new release.</para>
</listitem>
</itemizedlist><para>The auto-layout feature attempts to reallocate the disk space to accommodate
the new size requirements of the file system. Initially, auto-layout attempts
to  reallocate space, based on a set of default constraints.  If auto-layout
 cannot reallocate space, you must change the constraints on the file systems.
 </para><note><para>Auto-layout does not have the ability to &ldquo;grow&rdquo; file
systems. Auto-layout reallocates space by the following process:</para><orderedlist><listitem><para>Backing up required files on the file systems that need to
change.</para>
</listitem><listitem><para>Repartitioning the disks on the basis of the file system changes.</para>
</listitem><listitem><para>Restoring the backup files before the upgrade happens.</para>
</listitem>
</orderedlist>
</note><itemizedlist><listitem><para>If you are using the Solaris installation program, and auto-layout
cannot determine how to reallocate the disk space, you must use the custom
JumpStart program to upgrade.</para>
</listitem><listitem><para>If you are using the custom JumpStart method to upgrade and
you create an upgrade profile, disk space might be a concern. If the current
file systems do not contain enough disk space for the upgrade, you can use
the <literal>backup_media</literal> and <literal>layout_constraint</literal> keywords
to reallocate disk space. For an example of how to use the <literal>backup_media</literal> and <literal>layout_constraint</literal> keywords in a profile, refer to <olink targetdoc="solinstalladv" targetptr="preparecustom-45277" remap="external"><citetitle remap="section">Profile Examples</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</citetitle></olink>.</para>
</listitem>
</itemizedlist>
</sect2><sect2 id="esind"><title>Backing Up And Restarting Systems For an Upgrade</title><para>Backing up your existing file systems before you upgrade to the Solaris
 OS is highly recommended. If you copy file systems to removable media, such
as tape, you can safeguard against data loss, damage, or corruption.</para><itemizedlist><listitem><para>For detailed instructions to back up your system, refer to <olink targetdoc="sagdfs" targetptr="bkupconcepts-57422" remap="external">Chapter 23, <citetitle remap="chapter">Backing Up and Restoring File Systems (Overview),</citetitle> in <citetitle remap="book">System Administration Guide: Devices and File Systems</citetitle></olink>.</para>
</listitem><listitem><para>To backup your system when non-global zones are installed,
see <olink targetdoc="sysadrm" targetptr="z.admin.ov-1" remap="external">Chapter 26, <citetitle remap="chapter">Solaris Zones Administration (Overview),</citetitle> in <citetitle remap="book">System Administration Guide: Solaris Containers-Resource Management and Solaris Zones</citetitle></olink>.</para>
</listitem>
</itemizedlist><para>In previous releases, the restart mechanism enabled you to continue
an upgrade after a loss of power or other similar problem. Starting with the
Solaris Express 2/07  release, the restart mechanism is unreliable. If you have a problem,
your upgrade might not restart.</para>
</sect2>
</sect1><sect1 id="gdpgj"><title>Planning Network Security</title><para><emphasis role="strong">Starting with the Solaris Express 7/06 release</emphasis>, the
generic installation has been changed so that all network services except
Secure Shell are disabled or restricted to respond to local requests only.
This change minimizes the potential vulnerabilities a remote attacker might
try to exploit. In addition, the change provides a base for customers to enable
only the services they require.</para><para>For Solaris Express releases,
the hardening changes are automatically applied whenever a fresh install is
performed. This effect is achieved by invoking the <command>netservices</command> command
from the SMF upgrade file found in <filename>/var/svc/profile</filename>.
Behavior is unchanged if the system is upgraded.</para><sect2 id="gdphg"><title>Restricted Security Specifics</title><para>Numerous
services are fully disabled. Other services are still enabled, but these services
are restricted to local connections only. The Secure Shell remains fully enabled.</para><para>For example, the following table lists network services that, for the
Solaris 10 11/06 release, are restricted to local connections.</para><table frame="topbot" id="gdduq2"><title>Solaris 10 11/06 SMF Restricted Services</title><tgroup cols="3" colsep="0" rowsep="0"><colspec colwidth="33*"/><colspec colwidth="33*"/><colspec colname="colspec0" colwidth="33.00*"/><thead><row rowsep="1"><entry><para>Service</para>
</entry><entry><para>FMRI</para>
</entry><entry><para>Property</para>
</entry>
</row>
</thead><tbody><row><entry><para>rpcbind</para>
</entry><entry><para><filename>svc:/network/<?SolBook preflinebreak?>rpc/bind</filename></para>
</entry><entry><para><filename>config/local_only</filename></para>
</entry>
</row><row><entry><para>syslogd</para>
</entry><entry><para><filename>svc:/system/<?SolBook preflinebreak?>system-log</filename></para>
</entry><entry><para><filename>config/log_from_remote</filename></para>
</entry>
</row><row><entry><para>sendmail</para>
</entry><entry><para><filename>svc:/network/<?SolBook preflinebreak?>smtp:sendmail</filename></para>
</entry><entry><para><filename>config/local_only</filename></para>
</entry>
</row><row><entry><para>smcwebserver</para>
</entry><entry><para><filename>svc:/system/<?SolBook preflinebreak?>webconsole:console</filename></para>
</entry><entry><para><filename>options/tcp_listen</filename></para>
</entry>
</row><row><entry><para>WBEM</para>
</entry><entry><para><filename>svc:/application/<?SolBook preflinebreak?>management/wbem</filename></para>
</entry><entry><para><filename>options/tcp_listen</filename></para>
</entry>
</row><row><entry><para>X server</para>
</entry><entry><para><filename>svc:/application/<?SolBook preflinebreak?>x11/x11-server</filename></para>
</entry><entry><para><filename>options/tcp_listen</filename></para>
</entry>
</row><row><entry><para>dtlogin</para>
</entry><entry><para><filename>svc:/application/<?SolBook preflinebreak?>graphical-login/cde-login</filename></para>
</entry><entry><para><filename>dtlogin/args</filename></para>
</entry>
</row><row><entry><para>ToolTalk</para>
</entry><entry><para><filename>svc:/network/rpc<?SolBook preflinebreak?>cde-ttdbserver:tcp</filename></para>
</entry><entry><para><filename>proto=ticotsord</filename></para>
</entry>
</row><row><entry><para>dtcm</para>
</entry><entry><para><filename>svc:/network/rpc<?SolBook preflinebreak?>cde-calendar-manager</filename></para>
</entry><entry><para><filename>proto=ticits</filename></para>
</entry>
</row><row><entry><para>BSD print</para>
</entry><entry><para><filename>svc:/application/<?SolBook preflinebreak?>print/rfc1179:default</filename></para>
</entry><entry><para><filename>bind_addr=localhost</filename></para>
</entry>
</row>
</tbody>
</tgroup>
</table>
</sect2><sect2 id="gdpfv"><title>Revising Security Settings After Installation</title><para>With the restricted network security feature, all of the affected services
are controlled by the Service Management Framework (SMF). Any individual network
service can be enabled after an initial installation by using the <command>svcadm</command> and <command>svccfg</command> commands. The <citerefentry><refentrytitle>netservices</refentrytitle><manvolnum>1M</manvolnum></citerefentry> command can be used to switch the service startup behavior.</para><para>For further information about revising security settings, see <olink targetdoc="sysadv1" targetptr="gdavi" remap="external"><citetitle remap="section">How to Create an SMF Profile</citetitle> in <citetitle remap="book">System Administration Guide: Basic Administration</citetitle></olink>. See also the following man
pages.</para><itemizedlist><listitem><para><citerefentry><refentrytitle>netservices</refentrytitle><manvolnum>1M</manvolnum></citerefentry></para>
</listitem><listitem><para><citerefentry><refentrytitle>svcadm</refentrytitle><manvolnum>1M</manvolnum></citerefentry></para>
</listitem><listitem><para><citerefentry><refentrytitle>svccfg</refentrytitle><manvolnum>1M</manvolnum></citerefentry> commands.</para>
</listitem>
</itemizedlist>
</sect2>
</sect1><sect1 id="egyqy"><title>Locale Values</title><para>As a part of your installation, you can preconfigure the locale that
you want the system to use. A <emphasis>locale</emphasis> determines how online
information is displayed in a specific language and specific region. A language
might also include more than one locale to accommodate regional differences,
such as differences in the format of date and time, numeric and monetary conventions,
and spelling. </para><para>You can preconfigure the system locale in a custom JumpStart profile
or in the <filename>sysidcfg</filename> file.</para><informaltable frame="topbot"><tgroup cols="2" colsep="0" rowsep="0"><colspec colwidth="50*"/><colspec colwidth="50*"/><thead><row><entry rowsep="1" valign="top"><para>Task</para>
</entry><entry rowsep="1" valign="top"><para>For More Information</para>
</entry>
</row>
</thead><tbody><row><entry><para>Setting the locale in a profile</para>
</entry><entry><para><olink targetdoc="solinstalladv" targetptr="preparecustom-53442" remap="external"><citetitle remap="section">Creating a Profile</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</citetitle></olink></para>
</entry>
</row><row><entry><para>Setting the locale in the <filename>sysidcfg</filename> file</para>
</entry><entry><para><olink targetdoc="solinstallnet" targetptr="preconsysid-55534" remap="external"><citetitle remap="section">Preconfiguring With the sysidcfg File</citetitle> in <citetitle remap="book">Solaris Express Installation Guide: Network-Based Installations</citetitle></olink></para>
</entry>
</row><row><entry><para>List of locale values</para>
</entry><entry><para><olink targetdoc="i18ndg" remap="external"><citetitle remap="book">International Language Environments Guide</citetitle></olink></para>
</entry>
</row>
</tbody>
</tgroup>
</informaltable>
</sect1><sect1 id="kernelarchs-34565"><title>Platform Names and Groups</title><para>When you are  adding clients for a network installation, you must know
your system architecture (platform group). If you are writing a custom JumpStart
installation rules file, you need to know the platform name.</para><para>Some examples of platform names and groups follow. For a full list of
SPARC based systems, see <citetitle>Solaris Sun Hardware Platform Guide</citetitle> at <ulink url="http://docs.sun.com/" type="url"></ulink>.</para><table frame="topbot" id="egyqi"><title>Example of Platform Names and Groups</title><tgroup cols="3" colsep="0" rowsep="0"><colspec colname="colspec0" colwidth="50*"/><colspec colname="colspec1" colwidth="50*"/><colspec colname="colspec3" colwidth="50.00*"/><thead><row rowsep="1"><entry><para>System</para>
</entry><entry><para>Platform Name</para>
</entry><entry><para>Platform Group</para>
</entry>
</row>
</thead><tbody><row><entry><para>Sun Fire</para>
</entry><entry><para>T2000</para>
</entry><entry><para>sun4v</para>
</entry>
</row><row><entry><para><trademark>Sun Blade</trademark></para>
</entry><entry><para>SUNW,Sun-Blade-100</para>
</entry><entry><para>sun4u</para>
</entry>
</row><row><entry><para>x86 based</para>
</entry><entry><para>i86pc</para>
</entry><entry><para>i86pc</para>
</entry>
</row>
</tbody>
</tgroup>
</table><note><para>On a running system, you can also use the <command>uname -i</command> command
to determine a system's <emphasis>platform name</emphasis> or the <command>uname
-m</command> command to determine a system's <emphasis>platform group</emphasis>.</para>
</note>
</sect1><sect1 id="diskspace-101" arch="x86"><title>Partitioning Recommendations</title><para>When using the Solaris OS on x86 based systems, follow these guidelines
for partitioning your system.</para><para>The Solaris installation program  uses a default boot-disk partition layout. These partitions
are called <literal>fdisk</literal> partitions. An fdisk partition is a logical
partition of a disk drive that is dedicated to a particular operating system
on x86 based systems. To install the Solaris software, you must set up at
least one Solaris <literal>fdisk</literal> partition on an x86 based system.
x86 based systems allow up to four different <literal>fdisk</literal> partitions
on a disk. These partitions can be used to hold individual operating systems.
Each operating system must be located on a unique <literal>fdisk</literal> partition.
A system can only have one Solaris <literal>fdisk</literal> partition per
disk.</para><table frame="topbot" id="evell" arch="x86"><title>Default Partitions</title><tgroup cols="3" colsep="0" rowsep="0"><colspec colwidth="28.25*"/><colspec colname="colspec0" colwidth="41.16*"/><colspec colwidth="80.59*"/><thead><row><entry rowsep="1"><para>Partitions</para>
</entry><entry rowsep="1"><para>Partition Name</para>
</entry><entry rowsep="1"><para>Partition Size</para>
</entry>
</row>
</thead><tbody><row><entry><para>First partition (on some systems)</para>
</entry><entry><para>Diagnostic or Service partition</para>
</entry><entry><para>Existing size on system.</para>
</entry>
</row><row><entry><para>Second partition (on some systems)</para>
</entry><entry><para>x86 boot partition </para>
</entry><entry><itemizedlist><listitem><para>If you are performing an initial installation, this partition
is not created.</para>
</listitem><listitem><para>If you upgrade and your system does not have an existing x86
boot partition, this partition is not created.</para>
</listitem><listitem><para>If you upgrade and your system has an x86 boot partition:</para><itemizedlist><listitem><para>If the partition is required to bootstrap from one boot device
to another, the x86 boot partition is preserved on the system.</para>
</listitem><listitem><para>If the partition is not required to boot additional boot devices,
the x86 boot partition is removed. The contents of the partition are moved
to the root partition.</para>
</listitem>
</itemizedlist>
</listitem>
</itemizedlist>
</entry>
</row><row><entry><para>Third partition</para>
</entry><entry><para>Solaris  OS partition</para>
</entry><entry><para>Remaining space on the boot disk.</para>
</entry>
</row>
</tbody>
</tgroup>
</table><sect2 id="emybh"><title>Default Boot-Disk Partition Layout Preserves the
Service Partition</title><para>The Solaris installation program uses a default boot-disk partition
layout to accommodate the diagnostic or Service partition. If your system
currently includes a diagnostic or Service partition, the default boot-disk
partition layout enables you to preserve this partition.</para><note><para>If you install the Solaris OS on an x86 based system that does
not currently include a diagnostic or Service partition, the installation
program does not create a new diagnostic or Service  partition by default.
If you want to create a diagnostic or Service partition on your system, see
your hardware documentation.</para>
</note>
</sect2>
</sect1><sect1 id="planning-333"><title>How to Find the Version of the Solaris
OS That Your System Is Running</title><para>To see the version of Solaris software that is running on your system,
type either of the following commands. </para><screen>$ <userinput>uname -a</userinput></screen><para>The <command>cat</command> command provides more detailed information.</para><screen>$ <userinput>cat /etc/release</userinput></screen>
</sect1>
</chapter>