<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Planning for Security in Trusted Extensions - Solaris Trusted Extensions Administrator's Procedures</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">Solaris Trusted Extensions Administrator's Procedures</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ovw-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ovw-41.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-4.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="trp-part-1.html">Part&nbsp;I&nbsp;Initial Configuration of Trusted Extensions</a></p>
<p class="toc level2"><a href="ovw-1.html">1.&nbsp;&nbsp;Security Planning for Trusted Extensions</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Planning for Security in Trusted Extensions</a></p>
</div>
<p class="toc level3"><a href="ovw-41.html">Results of Enabling Trusted Extensions From an Administrator's Perspective</a></p>
<p class="toc level2 tocsp"><a href="tmap-1.html">2.&nbsp;&nbsp;Configuration Roadmap for Trusted Extensions</a></p>
<p class="toc level2"><a href="startinst-1.html">3.&nbsp;&nbsp;Adding Solaris Trusted Extensions Software to the Solaris OS (Tasks)</a></p>
<p class="toc level2"><a href="txconf-1.html">4.&nbsp;&nbsp;Configuring Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="txldap-1.html">5.&nbsp;&nbsp;Configuring LDAP for Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="headl-1.html">6.&nbsp;&nbsp;Configuring a Headless System With Trusted Extensions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="trp-part-2.html">Part&nbsp;II&nbsp;Administration of Trusted Extensions</a></p>
<p class="toc level2"><a href="txintro-1.html">7.&nbsp;&nbsp;Trusted Extensions Administration Concepts</a></p>
<p class="toc level2"><a href="txtool-1.html">8.&nbsp;&nbsp;Trusted Extensions Administration Tools</a></p>
<p class="toc level2"><a href="roles-1.html">9.&nbsp;&nbsp;Getting Started as a Trusted Extensions Administrator (Tasks)</a></p>
<p class="toc level2"><a href="secreq-1.html">10.&nbsp;&nbsp;Security Requirements on a Trusted Extensions System (Overview)</a></p>
<p class="toc level2"><a href="commontasks-1.html">11.&nbsp;&nbsp;Administering Security Requirements in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="useraccts-1.html">12.&nbsp;&nbsp;Users, Rights, and Roles in Trusted Extensions (Overview)</a></p>
<p class="toc level2"><a href="manageusers-1.html">13.&nbsp;&nbsp;Managing Users, Rights, and Roles in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="remotead-1.html">14.&nbsp;&nbsp;Remote Administration in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="manageldap-1.html">15.&nbsp;&nbsp;Trusted Extensions and LDAP (Overview)</a></p>
<p class="toc level2"><a href="managezones-1.html">16.&nbsp;&nbsp;Managing Zones in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="managefiles-1.html">17.&nbsp;&nbsp;Managing and Mounting Files in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="txnet-1.html">18.&nbsp;&nbsp;Trusted Networking (Overview)</a></p>
<p class="toc level2"><a href="managetnet-1.html">19.&nbsp;&nbsp;Managing Networks in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="managemail-1.html">20.&nbsp;&nbsp;Multilevel Mail in Trusted Extensions (Overview)</a></p>
<p class="toc level2"><a href="manageprint-1.html">21.&nbsp;&nbsp;Managing Labeled Printing (Tasks)</a></p>
<p class="toc level2"><a href="gentextid-15538.html">22.&nbsp;&nbsp;Devices in Trusted Extensions (Overview)</a></p>
<p class="toc level2"><a href="managedev-1.html">23.&nbsp;&nbsp;Managing Devices for Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="audtask-1.html">24.&nbsp;&nbsp;Trusted Extensions Auditing (Overview)</a></p>
<p class="toc level2"><a href="softmgt-1.html">25.&nbsp;&nbsp;Software Management in Trusted Extensions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="appol-1.html">A.&nbsp;&nbsp;Site Security Policy</a></p>
<p class="toc level2"><a href="appol-12.html">Creating and Managing a Security Policy</a></p>
<p class="toc level2"><a href="appol-11.html">Site Security Policy and Trusted Extensions</a></p>
<p class="toc level2"><a href="appol-2.html">Computer Security Recommendations</a></p>
<p class="toc level2"><a href="appol-3.html">Physical Security Recommendations</a></p>
<p class="toc level2"><a href="appol-4.html">Personnel Security Recommendations</a></p>
<p class="toc level2"><a href="appol-5.html">Common Security Violations</a></p>
<p class="toc level2"><a href="appol-6.html">Additional Security References</a></p>
<p class="toc level1 tocsp"><a href="aptxconf-1.html">B.&nbsp;&nbsp;Using CDE Actions to Install Zones in Trusted Extensions</a></p>
<p class="toc level2"><a href="aptxconf-62.html">Associating Network Interfaces With Zones by Using CDE Actions (Task Map)</a></p>
<p class="toc level2"><a href="aptxconf-40.html">Preparing to Create Zones by Using CDE Actions (Task Map)</a></p>
<p class="toc level2"><a href="aptxconf-20.html">Creating Labeled Zones by Using CDE Actions (Task Map)</a></p>
<p class="toc level1 tocsp"><a href="checklist-1.html">C.&nbsp;&nbsp;Configuration Checklist for Trusted Extensions</a></p>
<p class="toc level2"><a href="checklist-2.html">Checklist for Configuring Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="txapp-1.html">D.&nbsp;&nbsp;Quick Reference to Trusted Extensions Administration</a></p>
<p class="toc level2"><a href="txapp-2.html">Administrative Interfaces in Trusted Extensions</a></p>
<p class="toc level2"><a href="txapp-3.html">Solaris Interfaces Extended by Trusted Extensions</a></p>
<p class="toc level2"><a href="txapp-4.html">Tighter Security Defaults in Trusted Extensions</a></p>
<p class="toc level2"><a href="txapp-5.html">Limited Options in Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="txmp-1.html">E.&nbsp;&nbsp;List of Trusted Extensions Man Pages</a></p>
<p class="toc level2"><a href="txmp-2.html">Trusted Extensions Man Pages in Alphabetical Order</a></p>
<p class="toc level2"><a href="txmp-3.html">Solaris Man Pages That Are Modified by Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="ovw-36"></a><h3>Planning for Security in Trusted Extensions</h3>
<a name="indexterm-5"></a><a name="indexterm-6"></a><p>This section outlines the planning that is required before enabling and configuring Trusted
Extensions software.</p>
<ul><li><p><a href="#ovw-13">Understanding Trusted Extensions</a></p></li>
<li><p><a href="#ovw-14">Understanding Your Site's Security Policy</a></p></li>
<li><p><a href="#ovw-15">Devising an Administration Strategy for Trusted Extensions</a></p></li>
<li><p><a href="#ovw-16">Devising a Label Strategy</a></p></li>
<li><p><a href="#ovw-20">Planning System Hardware and Capacity for Trusted Extensions</a></p></li>
<li><p><a href="#ovw-22">Planning Your Trusted Network</a></p></li>
<li><p><a href="#ovw-11">Planning for Zones in Trusted Extensions</a></p></li>
<li><p><a href="#ovw-12">Planning for Multilevel Access</a></p></li>
<li><p><a href="#ovw-25">Planning for the LDAP Naming Service in Trusted Extensions</a></p></li>
<li><p><a href="#ovw-26">Planning for Auditing in Trusted Extensions</a></p></li>
<li><p><a href="#ovw-18">Planning User Security in Trusted Extensions</a></p></li>
<li><p><a href="#ovw-27">Devising a Configuration Strategy for Trusted Extensions</a></p></li>
<li><p><a href="#ovw-28">Collecting Information Before Enabling&nbsp;Trusted Extensions</a></p></li>
<li><p><a href="#ovw-29">Backing Up the System Before Enabling&nbsp;Trusted Extensions</a></p></li></ul>
<p>For a checklist of Trusted Extensions configuration tasks, see <a href="checklist-1.html">Appendix&nbsp;C, Configuration Checklist for Trusted Extensions</a>. If you
are interested in localizing your site, see <a href="#ovw-19">For International Customers of Trusted Extensions</a>. If you are interested in
running an <a href="glossary-1.html#glossary-42">evaluated configuration</a>, see <a href="#ovw-14">Understanding Your Site's Security Policy</a>.</p>

<a name="ovw-13"></a><h4>Understanding Trusted Extensions</h4>
<p>The enabling and configuration of Trusted Extensions involves more than loading executable files,
specifying your site's data, and setting configuration variables. Considerable background knowledge is required.
Trusted Extensions software provides a labeled environment that is based on the following
concepts:</p>
<ul><li><p>Capabilities that in most UNIX<sup>&reg;</sup> environments are assigned to superuser are available to discrete administrative <a href="glossary-1.html#glossary-104">role</a>s.</p></li>
<li><p>In addition to UNIX permissions, access to data is controlled by special security tags. These tags are called <b>labels</b>. Labels are assigned to users, processes, and objects, such as data files and directories.</p></li>
<li><p>The ability to override security policy can be assigned to specific users and applications.</p></li></ul>


<a name="ovw-14"></a><h4>Understanding Your Site's Security Policy</h4>
<a name="indexterm-7"></a><p>Trusted Extensions effectively enables you to integrate your site's security policy with the
Solaris OS. Thus, you need to have a good understanding of the scope
of your policy and the ability of Trusted Extensions software to accommodate that
policy. A well-planned configuration must provide a balance between consistency with your site
security policy and convenience for users who are working on the system.</p><p><a name="indexterm-8"></a>Trusted Extensions is configured by default to conform with the Common Criteria for
 Information Technology Security Evaluation (ISO/IEC 15408) at Assurance Level EAL4 against the
following protection profiles:</p>
<ul><li><p>Labeled Security Protection Profile</p></li>
<li><p>Controlled Access Protection Profile</p></li>
<li><p>Role-Based Access Control Protection Profile</p></li></ul>
<p>To meet these evaluated levels, you must configure LDAP as the naming service.
Note that your configuration might no longer conform with the evaluation if you
do any of the following:</p>
<ul><li><p>Change the kernel switch settings in the <tt>/etc/system</tt> file.</p></li>
<li><p>Turn off auditing or device allocation.</p></li>
<li><p>Change the default entries in the following configurable files:</p>
<ul><li><p><tt>/usr/openwin/server/etc/*</tt></p></li>
<li><p><tt>/usr/dt/app-defaults/C/Dt</tt></p></li>
<li><p><tt>/usr/dt/app-defaults/C/Dtwm</tt></p></li>
<li><p><tt>/usr/dt/app-defaults/C/SelectionManager</tt></p></li>
<li><p><tt>/usr/dt/bin/Xsession</tt></p></li>
<li><p><tt>/usr/dt/bin/Xtsolsession</tt></p></li>
<li><p><tt>/usr/dt/bin/Xtsolusersession</tt></p></li>
<li><p><tt>/usr/dt/config/sel_config</tt></p></li>
<li><p><tt>/usr/X11/lib/X11/xserver/TrustedExtensionsPolicy</tt></p></li></ul>
</li></ul>
<p>For more information, see the <a href="http://www.commoncriteriaportal.org/">Common Criteria web site</a>.</p>

<a name="ovw-15"></a><h4>Devising an Administration Strategy for Trusted Extensions</h4>
<a name="indexterm-9"></a><p>The <tt>root</tt> user or the System Administrator role is responsible for enabling Solaris
Trusted Extensions. You can create roles to divide administrative responsibilities among several functional
areas:</p>
<ul><li><p>The <a href="glossary-1.html#glossary-111">security administrator</a> is responsible for security-related tasks, such as setting up and assigning sensitivity labels, configuring auditing, and setting password policy.</p></li>
<li><p>The <a href="glossary-1.html#glossary-125">system administrator</a> is responsible for the non-security aspects of setup, maintenance, and general administration.</p></li>
<li><p>The <a href="glossary-1.html#glossary-146">primary administrator</a> is responsible for creating <a href="glossary-1.html#glossary-54">rights profile</a> for the security administrator, and for fixing problems when the security and system administrators do not have sufficient privilege.</p></li>
<li><p>More limited roles can be configured. For example, an operator could be responsible for backing up files.</p></li></ul>
<p>As part of your administration strategy, you need to decide the following:</p>
<ul><li><p>Which users are handling which administration responsibilities</p></li>
<li><p>Which non-administrative users are allowed to run trusted applications, meaning which users are permitted to override security policy, when necessary</p></li>
<li><p>Which users have access to which groups of data</p></li></ul>


<a name="ovw-16"></a><h4>Devising a Label Strategy</h4>
<a name="indexterm-10"></a><a name="indexterm-11"></a><p>Planning labels requires setting up a hierarchy of sensitivity levels and a categorization
of information on your system. The label encodings file contains this type of
information for your site. You can use one of the <a href="glossary-1.html#glossary-69">label_encodings file</a>s that
are supplied on the Solaris Trusted Extensions installation media. You could also modify
one of the supplied files, or create a new <tt>label_encodings</tt> file that is
specific to your site. The file must include the Sun-specific local extensions, at least
the <tt>COLOR NAMES</tt> section.</p>
<hr><p><b>Caution - </b>If you are supplying a <tt>label_encodings</tt> file, you must have the final version
of the file ready before rebooting the system after you enable the Trusted
Extensions service. The file should be on removable media.</p>
<hr>
<p>Planning labels also involves planning the label configuration. After enabling the Trusted Extensions
service, you need to decide if the system can run at a single
label only, or if the system can run at multiple labels. If all
of your non-administrative users can operate at the same security label, select a
single-label system.</p><p>You can also configure whether labels display and which label name format is
displayed. For more information, see <a href="http://docs.sun.com/doc/819-7308"><i>Solaris Trusted Extensions Label Administration</i></a>. You can also refer to <a href="http://docs.sun.com/doc/819-0874"><i>Compartmented Mode Workstation Labeling: Encodings Format</i></a>.</p>

<a name="ovw-19"></a><h5>For International Customers of Trusted Extensions</h5>
<a name="indexterm-12"></a><p>When localizing a <tt>label_encodings</tt> file, international customers must localize the label names <b>only</b>.
The administrative label names, <tt>ADMIN_HIGH</tt> and <tt>ADMIN_LOW</tt>, must not be localized. All labeled hosts
that you contact, from any vendor, must have label names that match the
label names in the <tt>label_encodings</tt> file.</p><p>Trusted Extensions supports fewer locales than does the Solaris OS. When you are
working in a locale that Trusted Extensions does not support, text that
is specific to Trusted Extensions, such as error messages about labels, is not
translated into your locale. Solaris software continues to be translated into your locale.</p>

<a name="ovw-20"></a><h4>Planning System Hardware and Capacity for Trusted Extensions</h4>
<a name="indexterm-13"></a><a name="indexterm-14"></a><a name="indexterm-15"></a><p>System hardware includes the system itself and its attached devices. Such devices include
tape drives, microphones, CD-ROM drives, and disk packs. Hardware capacity includes system memory,
network interfaces, and disk space.</p>
<ul><li><p>Follow the recommendations for installing a Solaris release, as described in <a href="http://docs.sun.com/doc/820-0157"><i>Solaris Express Installation Guide: Planning for Installation and Upgrade</i></a>. Trusted Extensions features can add to those requirements:</p><p><a name="indexterm-16"></a>Memory beyond the suggested minimum is required on the following systems:</p>
<ul><li><p>Systems that run the Solaris Management Console, a required administrative GUI</p></li>
<li><p>Systems that run at more than one sensitivity label</p></li>
<li><p>Systems that are used by users who can assume an administrative role</p></li></ul>
</li>
<li><p>More disk space is required on the following systems:</p>
<ul><li><p>Systems that store files at more than one label</p></li>
<li><p>Systems whose users can assume an administrative role</p></li></ul>
</li></ul>


<a name="ovw-22"></a><h4>Planning Your Trusted Network</h4>
<a name="indexterm-17"></a><a name="indexterm-18"></a><a name="indexterm-19"></a><p>For assistance in planning network hardware, see <a href="http://docs.sun.com/doc/819-3000/ipplan-1?a=view">Chapter 2, Planning an IPv4 Addressing Scheme (Tasks), in <i>System Administration Guide: IP Services</i></a>.</p><p>As in any client-server network, you need to identify hosts by their function,
that is, server or client, and configure the software appropriately. For assistance in
planning, see <a href="http://docs.sun.com/doc/819-2396"><i>Solaris Express Installation Guide: Custom JumpStart and Advanced Installations</i></a>.</p><p>Trusted Extensions software recognizes two host types, labeled and unlabeled. Each host type
has a default security template, as shown in <a href="#ovw-tbl-3">Table&nbsp;1-1</a>.</p><a name="ovw-tbl-3"></a><h6>Table&nbsp;1-1 Default Host Templates in Trusted Extensions</h6><table><col width="21%"><col width="23%"><col width="55%"><tr><th align="left" valign="top" scope="column"><p>Host Type</p></th>
<th align="left" valign="top" scope="column"><p>Template Name</p></th>
<th align="left" valign="top" scope="column"><p>Purpose</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>unlabeled</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>admin_low</tt></p></td>
<td align="left" valign="top" scope="row"><p>At initial
boot, labels the global zone.</p><p>After initial boot, identifies hosts that send unlabeled
packets.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>cipso</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>cipso</tt></p></td>
<td align="left" valign="top" scope="row"><p>Identifies hosts or networks that send CIPSO packets. CIPSO packets are labeled.</p></td>
</tr>
</table><p>If your network can be reached by other networks, you need to
specify accessible domains and hosts. You also need to identify which Trusted Extensions
hosts are going to serve as gateways. You need to identify the label
<a href="glossary-1.html#glossary-2">accreditation range</a> for these gateways, and the <a href="glossary-1.html#glossary-114">sensitivity label</a> at which data from other hosts can
be viewed.</p><p>The <a href="http://docs.sun.com/doc/819-2240/smtnrhtp-1m?a=view"><tt>smtnrhtp</tt>(1M)</a> man page provides a complete description of each host type with
several examples.</p>

<a name="ovw-11"></a><h4>Planning for Zones in Trusted Extensions</h4>
<a name="indexterm-20"></a><a name="indexterm-21"></a><p>Trusted Extensions software is added to the Solaris OS in the global
zone. You then configure non-global zones that are labeled. You can create one
labeled zone for every unique label, though you do not need to create
a zone for every label.</p><p>Part of zone configuration is configuring the network. Labeled zones must be configured
to communicate with the global zone and with other zones on the network.</p>
<ul><li><p>The X server that runs the desktop display is available only from the global zone. In the Solaris Express Community Edition, the loopback interface, <tt>lo0</tt>, can be used to communicate with the global zone. Therefore, the desktop display is available to non-global zones over <tt>lo0</tt>.</p></li>
<li><p>By default, non-global zones use the global zone to reach the network. In the Solaris Express Community Edition, each non-global zone can be configured with a unique default route that does not use the global zone.</p></li></ul>


<a name="ovw-37"></a><h5>Trusted Extensions Zones and Solaris Zones</h5>
<p>Labeled zones differ from typical Solaris zones. Labeled zones are primarily used to
segregate data. In Trusted Extensions, regular users cannot remotely log in to a
labeled zone. The only interactive interface to a labeled zone is by using
the zone console. Only root can gain access to the zone console.</p>

<a name="ovw-38"></a><h5>Zone Creation in Trusted Extensions</h5>
<p>To create a labeled zone involves copying the entire Solaris OS, and
then starting the services for the Solaris OS in every zone. The process
can be time-consuming. A faster process is to create one zone, then to
copy that zone or clone the contents of that zone. The following table
describes your options for zone creation in Trusted Extensions.</p><table><col width="30%"><col width="25%"><col width="43%"><tr><th align="left" valign="top" scope="column"><p>Zone Creation Method</p></th>
<th align="left" valign="top" scope="column"><p>Effort Required</p></th>
<th align="left" valign="top" scope="column"><p>Characteristics of
This Method</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Create each labeled zone from scratch.</p></td>
<td align="left" valign="top" scope="row"><p>Configure, initialize, install, customize, and boot
each labeled zone.</p></td>
<td align="left" valign="top" scope="row">
<ul><li><p>This method is supported, and is useful for creating one or two additional zones. The zones can be upgraded.</p></li>
<li><p>This method is time-consuming.</p></li></ul>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Create additional labeled zones from a copy of the first
labeled zone.</p></td>
<td align="left" valign="top" scope="row"><p>Configure, initialize, install, and customize one zone. Use this zone as a
template for additional labeled zones.</p></td>
<td align="left" valign="top" scope="row">
<ul><li><p>This method is supported, and is faster than creating zones from scratch. The zones can be upgraded. Use the Copy Zone method if you want Sun Support to help you with any zone difficulties.</p></li>
<li><p>This method uses UFS. UFS does not offer the additional isolation for zones that Solaris ZFS<sup>TM</sup> offers.</p></li></ul>
</td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><a name="indexterm-22"></a>Create additional labeled zones from a ZFS snapshot of
the first labeled zone.</p></td>
<td align="left" valign="top" scope="row"><p>Set up a ZFS pool from a partition that
you set aside during Solaris installation.</p><p>Configure, initialize, install, and customize one zone.
Use this zone as a ZFS snapshot for additional labeled zones.</p></td>
<td align="left" valign="top" scope="row">
<ul><li><p>This method uses Solaris ZFS, and is the fastest method. This method makes every zone a file system, and thus provides more isolation than UFS. ZFS uses much less disk space.</p></li>
<li><p>If you are testing Trusted Extensions and can reinstall the zones rather than upgrade, this method might be a good choice. This method can be useful on systems whose contents are not volatile, because the system can quickly be reinstalled to a usable state.</p></li>
<li><p>This method is <b>not</b> supported. Zones that are created by using this method <b>cannot be upgraded</b> when a later version of the OS is released.</p></li></ul>
</td>
</tr>
</table><p>Solaris zones affect package installation and patching. For more information, see the following
references:</p>
<ul><li><p><a href="http://docs.sun.com/doc/819-2450/z.pkginst.ov-1?a=view">Chapter 24, About Packages and Patches on a Solaris System With Zones Installed (Overview), in <i>System Administration Guide: Virtualization Using the Solaris Operating System</i></a></p></li>
<li><p><a href="http://www.opensolaris.org/os/community/zones/faq">Solaris Zones and Containers FAQ</a></p></li></ul>


<a name="ovw-12"></a><h4>Planning for Multilevel Access</h4>
<a name="indexterm-23"></a><a name="indexterm-24"></a><a name="indexterm-25"></a><a name="indexterm-26"></a><p>Typically, printing and NFS are configured as multilevel services. To access multilevel services,
a properly configured system requires that every zone be able to access one
or more network addresses. The following configurations provide multilevel services:</p>
<ul><li><p>As in the Solaris OS, one IP address is assigned for every zone, including the global zone. A refinement of this configuration is to assign a separate network information card (NIC) to each zone. Such a configuration is used to physically separate the single-label networks that are associated with each NIC.</p></li>
<li><p>One <tt>all-zones</tt> address is assigned. One or more zones can have zone-specific addresses.</p></li></ul>
<p>A system that meets the following two conditions cannot provide multilevel services:</p>
<ul><li><p>One IP address is assigned that the global zone and the labeled zones share.</p></li>
<li><p>No zone-specific addresses are assigned.</p></li></ul>
<p>If users in labeled zones are not supposed to have access to
a local multilevel printer, and you do not need NFS exports of home
directories, then you can assign one IP address to a system that you
configure with Trusted Extensions. On such a system, multilevel printing is not supported,
and home directories cannot be shared. A typical use of this configuration is
on a laptop.</p>

<a name="ovw-25"></a><h4>Planning for the LDAP Naming Service in Trusted Extensions</h4>
<a name="indexterm-27"></a><a name="indexterm-28"></a><p>If you are not planning to install a network of labeled systems,
then you can skip this section.</p><p>If you plan to run Trusted Extensions on a network of systems,
use LDAP as the naming service. For Trusted Extensions. a populated Sun Java<sup>TM</sup>
System Directory Server (LDAP server) is required when you configure a network of
systems. If your site has an existing LDAP server, you can populate the
server with Trusted Extensions databases. To access the server, you set up an
LDAP proxy on a Trusted Extensions system.</p><p>If your site does not have an existing LDAP server, you then
plan to create an LDAP server on a system that is running Trusted
Extensions software. The procedures are described in <a href="txldap-1.html">Chapter&nbsp;5, Configuring LDAP for Trusted Extensions (Tasks)</a>.</p>

<a name="ovw-26"></a><h4>Planning for Auditing in Trusted Extensions</h4>
<a name="indexterm-29"></a><a name="indexterm-30"></a><p>By default, auditing is turned on when Trusted Extensions is installed. Therefore, by
default, <tt>root</tt> login and <tt>root</tt> logout are audited. To audit the users who
are configuring the system, you can create roles early in the configuration process.
For the procedure, see <a href="txconf-14.html">Creating Roles and Users in Trusted Extensions</a>.</p><p><a name="indexterm-31"></a>Planning auditing in Trusted Extensions is the same as in the Solaris
OS. For details, see <a href="http://docs.sun.com/doc/819-3321/audittm-1?a=view">Part&nbsp;VII, Solaris Auditing, in <i>System Administration Guide: Security Services</i></a>. While Trusted Extensions adds classes, events, and audit tokens,
the software does not change how auditing is administered. For Trusted Extensions additions
to auditing, see <a href="audtask-1.html">Chapter&nbsp;24, Trusted Extensions Auditing (Overview)</a>.</p>

<a name="ovw-18"></a><h4>Planning User Security in Trusted Extensions</h4>
<p><a name="indexterm-32"></a><a name="indexterm-33"></a>Trusted Extensions software provides reasonable security defaults for users. These security defaults are
listed in the <a href="#ovw-tbl-4">Table&nbsp;1-2</a>. Where two values are listed, the first value is
the default. The security administrator can modify these defaults to reflect the site's
security policy. After the security administrator sets the defaults, the system administrator can
create all the users, who inherit the established defaults. For descriptions of the
keywords and values for these defaults, see the <a href="http://docs.sun.com/doc/819-2251/label-encodings-4?a=view"><tt>label_encodings</tt>(4)</a> and <a href="http://docs.sun.com/doc/819-2251/policy.conf-4?a=view"><tt>policy.conf</tt>(4)</a> man pages.</p><a name="ovw-tbl-4"></a><h6>Table&nbsp;1-2 Trusted Extensions Security Defaults for User Accounts</h6><table><col width="36%"><col width="33%"><col width="29%"><tr><th align="left" valign="top" scope="column"><p>File
name</p></th>
<th align="left" valign="top" scope="column"><p>Keyword</p></th>
<th align="left" valign="top" scope="column"><p>Value</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>/etc/security/policy.conf</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>IDLECMD</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>lock</tt> | <tt>logout</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>IDLETIME</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>30</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>LABELVIEW</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>showsl</tt> | <tt>hidesl</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>CRYPT_ALGORITHMS_ALLOW</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>1,2a,md5</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>CRYPT_DEFAULT</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>_unix_</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>LOCK_AFTER_RETRIES</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>no</tt> | <tt>yes</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>PRIV_DEFAULT</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>basic</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>PRIV_LIMIT</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>all</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>AUTHS_GRANTED</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>solaris.device.cdrw</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p><tt>PROFS_GRANTED</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>Basic Solaris User</tt></p></td>
</tr>
<tr><td rowspan="2" align="left" valign="top" scope="row"><p>LOCAL DEFINITIONS section of <tt>/etc/security/tsol/label_encodings</tt></p></td>
<td align="left" valign="top" scope="row"><p>Default User
Clearance</p></td>
<td align="left" valign="top" scope="row"><p><tt>CNF NEED TO KNOW</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Default User Sensitivity Label</p></td>
<td align="left" valign="top" scope="row"><p><tt>PUBLIC</tt></p></td>
</tr>
</table><p>The system administrator can set up a standard user template that sets appropriate
system defaults for every user. For example, by default. each user's initial shell
is a Bourne shell. The system administrator can set up a template that
gives each user a C shell. For more information, see the Solaris
Management Console online help for User Accounts.</p>

<a name="ovw-27"></a><h4>Devising a Configuration Strategy for Trusted Extensions</h4>
<a name="indexterm-34"></a><a name="indexterm-35"></a><a name="indexterm-36"></a><a name="indexterm-37"></a><p>Allowing the <tt>root</tt> user to configure Trusted Extensions software is not a secure
strategy. The following describes the configuration strategy from the most secure strategy to
the least secure strategy:</p>
<ul><li><p>A two-person team configures the software. The configuration process is audited.</p><p>Two people are at the computer when the software is enabled. Early in the configuration process, this team creates local users and roles. The team also sets up auditing to audit events that are executed by roles. After roles are assigned to users, and the computer is rebooted, the software enforces task division by role. The audit trail provides a record of the configuration process. For an illustration of a secure configuration process, see <a href="#startinst-14">Figure&nbsp;1-1</a>.</p>
<hr><p><b>Note - </b>If site security requires <a href="glossary-1.html#glossary-148">separation of duty</a>, a trusted administrator completes <a href="txconf-14.html#txconf-95">Create Rights Profiles That Enforce Separation of Duty</a> before creating users or roles. In this customized configuration, one role manages security, including users' security attributes. The other role manages the non-security attributes of systems and users.</p>
<hr>
</li>
<li><p>One person enables and configures the software by assuming the appropriate role. The configuration process is audited.</p><p>Early in the configuration process, the <tt>root</tt> user creates a local user and roles. This user also sets up auditing to audit events that are executed by roles. Once roles have been assigned to the local user, and the computer is rebooted, the software enforces task division by role. The audit trail provides a record of the configuration process.</p></li>
<li><p>One person enables and configures the software by assuming the appropriate role. The configuration process is not audited.</p><p>By using this strategy, no record is kept of the configuration process.</p></li>
<li><p>The <tt>root</tt> user enables and configures the software. The configuration process is audited.</p><p>The team sets up auditing to audit every event that <tt>root</tt> performs during configuration. With this strategy, the team must determine which events to audit. The audit trail does not include the name of the user who is acting as <tt>root</tt>.</p></li>
<li><p>The <tt>root</tt> user enables and configures the software.</p></li></ul>
<p><a name="indexterm-38"></a>Task division by role is shown in the following figure. The security administrator
sets up auditing, protects file systems, sets device policy, determines which programs require
privilege to run, and protects users, among other tasks. The system administrator shares
and mounts file systems, installs software packages, and creates users, among other tasks.</p><a name="startinst-14"></a><h6>Figure&nbsp;1-1 Administering a Trusted Extensions System: Task Division by Role</h6><img src="figures/tworoles.gif" alt="Illustration shows the configuration team tasks, then shows the tasks for the Security Administrator and the System Administrator."></img>

<a name="ovw-28"></a><h4>Collecting Information Before Enabling&nbsp;Trusted Extensions</h4>
<a name="indexterm-39"></a><p>As when configuring the Solaris OS, collect system, user, network, and label information
before configuring Trusted Extensions. For details, see <a href="startinst-6.html#startinst-12">Collect System Information Before Enabling Trusted Extensions</a>.</p>

<a name="ovw-29"></a><h4>Backing Up the System Before Enabling&nbsp;Trusted Extensions</h4>
<a name="indexterm-40"></a><a name="indexterm-41"></a><p>If your system has files that must be saved, perform a backup
before enabling the Trusted Extensions software. The safest way to back up files
is to do a level 0 dump. If you do not have a
backup procedure in place, see the administrator's guide to your current operating system
for instructions.</p>
<hr><p><b>Note - </b>If you are migrating from a Trusted Solaris 8 release, you can
restore your data only if the Trusted Extensions labels are identical to the
Trusted Solaris 8 labels. Because Trusted Extensions does not create multilevel directories, each
file and directory on backup media is restored to a zone whose label
is identical to the file label in the backup. Backup <b>must be completed</b> before you reboot
the system with Trusted Extensions enabled.</p>
<hr>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="ovw-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="ovw-41.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

