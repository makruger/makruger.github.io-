<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Administration of Routing in Trusted Extensions - Solaris Trusted Extensions Administrator's Procedures</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">Solaris Trusted Extensions Administrator's Procedures</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="txnet-3.html">Previous</a>
             </td>
             <td align="right">
                 <a href="managetnet-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-4.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="trp-part-1.html">Part&nbsp;I&nbsp;Initial Configuration of Trusted Extensions</a></p>
<p class="toc level2"><a href="ovw-1.html">1.&nbsp;&nbsp;Security Planning for Trusted Extensions</a></p>
<p class="toc level2"><a href="tmap-1.html">2.&nbsp;&nbsp;Configuration Roadmap for Trusted Extensions</a></p>
<p class="toc level2"><a href="startinst-1.html">3.&nbsp;&nbsp;Adding Solaris Trusted Extensions Software to the Solaris OS (Tasks)</a></p>
<p class="toc level2"><a href="txconf-1.html">4.&nbsp;&nbsp;Configuring Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="txldap-1.html">5.&nbsp;&nbsp;Configuring LDAP for Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="headl-1.html">6.&nbsp;&nbsp;Configuring a Headless System With Trusted Extensions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="trp-part-2.html">Part&nbsp;II&nbsp;Administration of Trusted Extensions</a></p>
<p class="toc level2"><a href="txintro-1.html">7.&nbsp;&nbsp;Trusted Extensions Administration Concepts</a></p>
<p class="toc level2"><a href="txtool-1.html">8.&nbsp;&nbsp;Trusted Extensions Administration Tools</a></p>
<p class="toc level2"><a href="roles-1.html">9.&nbsp;&nbsp;Getting Started as a Trusted Extensions Administrator (Tasks)</a></p>
<p class="toc level2"><a href="secreq-1.html">10.&nbsp;&nbsp;Security Requirements on a Trusted Extensions System (Overview)</a></p>
<p class="toc level2"><a href="commontasks-1.html">11.&nbsp;&nbsp;Administering Security Requirements in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="useraccts-1.html">12.&nbsp;&nbsp;Users, Rights, and Roles in Trusted Extensions (Overview)</a></p>
<p class="toc level2"><a href="manageusers-1.html">13.&nbsp;&nbsp;Managing Users, Rights, and Roles in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="remotead-1.html">14.&nbsp;&nbsp;Remote Administration in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="manageldap-1.html">15.&nbsp;&nbsp;Trusted Extensions and LDAP (Overview)</a></p>
<p class="toc level2"><a href="managezones-1.html">16.&nbsp;&nbsp;Managing Zones in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="managefiles-1.html">17.&nbsp;&nbsp;Managing and Mounting Files in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="txnet-1.html">18.&nbsp;&nbsp;Trusted Networking (Overview)</a></p>
<p class="toc level3"><a href="txnet-2.html">The Trusted Network</a></p>
<p class="toc level3"><a href="tnetov-40.html">Network Security Attributes in Trusted Extensions</a></p>
<p class="toc level3"><a href="tnetov-2.html">Trusted Network Fallback Mechanism</a></p>
<p class="toc level3"><a href="txnet-3.html">Overview of Routing in Trusted Extensions</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Administration of Routing in Trusted Extensions</a></p>
</div>
<p class="toc level2 tocsp"><a href="managetnet-1.html">19.&nbsp;&nbsp;Managing Networks in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="managemail-1.html">20.&nbsp;&nbsp;Multilevel Mail in Trusted Extensions (Overview)</a></p>
<p class="toc level2"><a href="manageprint-1.html">21.&nbsp;&nbsp;Managing Labeled Printing (Tasks)</a></p>
<p class="toc level2"><a href="gentextid-15538.html">22.&nbsp;&nbsp;Devices in Trusted Extensions (Overview)</a></p>
<p class="toc level2"><a href="managedev-1.html">23.&nbsp;&nbsp;Managing Devices for Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="audtask-1.html">24.&nbsp;&nbsp;Trusted Extensions Auditing (Overview)</a></p>
<p class="toc level2"><a href="softmgt-1.html">25.&nbsp;&nbsp;Software Management in Trusted Extensions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="appol-1.html">A.&nbsp;&nbsp;Site Security Policy</a></p>
<p class="toc level2"><a href="appol-12.html">Creating and Managing a Security Policy</a></p>
<p class="toc level2"><a href="appol-11.html">Site Security Policy and Trusted Extensions</a></p>
<p class="toc level2"><a href="appol-2.html">Computer Security Recommendations</a></p>
<p class="toc level2"><a href="appol-3.html">Physical Security Recommendations</a></p>
<p class="toc level2"><a href="appol-4.html">Personnel Security Recommendations</a></p>
<p class="toc level2"><a href="appol-5.html">Common Security Violations</a></p>
<p class="toc level2"><a href="appol-6.html">Additional Security References</a></p>
<p class="toc level1 tocsp"><a href="aptxconf-1.html">B.&nbsp;&nbsp;Using CDE Actions to Install Zones in Trusted Extensions</a></p>
<p class="toc level2"><a href="aptxconf-62.html">Associating Network Interfaces With Zones by Using CDE Actions (Task Map)</a></p>
<p class="toc level2"><a href="aptxconf-40.html">Preparing to Create Zones by Using CDE Actions (Task Map)</a></p>
<p class="toc level2"><a href="aptxconf-20.html">Creating Labeled Zones by Using CDE Actions (Task Map)</a></p>
<p class="toc level1 tocsp"><a href="checklist-1.html">C.&nbsp;&nbsp;Configuration Checklist for Trusted Extensions</a></p>
<p class="toc level2"><a href="checklist-2.html">Checklist for Configuring Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="txapp-1.html">D.&nbsp;&nbsp;Quick Reference to Trusted Extensions Administration</a></p>
<p class="toc level2"><a href="txapp-2.html">Administrative Interfaces in Trusted Extensions</a></p>
<p class="toc level2"><a href="txapp-3.html">Solaris Interfaces Extended by Trusted Extensions</a></p>
<p class="toc level2"><a href="txapp-4.html">Tighter Security Defaults in Trusted Extensions</a></p>
<p class="toc level2"><a href="txapp-5.html">Limited Options in Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="txmp-1.html">E.&nbsp;&nbsp;List of Trusted Extensions Man Pages</a></p>
<p class="toc level2"><a href="txmp-2.html">Trusted Extensions Man Pages in Alphabetical Order</a></p>
<p class="toc level2"><a href="txmp-3.html">Solaris Man Pages That Are Modified by Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="txnet-26"></a><h3>Administration of Routing in Trusted Extensions</h3>
<p><a name="indexterm-978"></a>Trusted Extensions supports several methods for routing communications between networks. In the Security
Administrator role, you can set up routes that enforce the degree of security
required by your site's security policy.</p><p>For example, sites can restrict communications outside the local network to a single
label. This label is applied to publicly available information. Labels such as <tt>UNCLASSIFIED</tt>
or <tt>PUBLIC</tt> can indicate public information. To enforce the restriction, these sites assign a
single-label template to the network interface that is connected to the external network.
For more details about TCP/IP and routing, see the following:</p>
<ul><li><p><a href="http://docs.sun.com/doc/819-3000/ipplan-37?a=view">Planning for Routers on Your Network in <i>System Administration Guide: IP Services</i></a></p></li>
<li><p><a href="http://docs.sun.com/doc/819-3000/ipconfig-63?a=view">Configuring Systems on the Local Network in <i>System Administration Guide: IP Services</i></a></p></li>
<li><p><a href="http://docs.sun.com/doc/819-3000/ipv6-admintasks-2?a=view">Major TCP/IP Administrative Tasks (Task Map) in <i>System Administration Guide: IP Services</i></a></p></li>
<li><p><a href="http://docs.sun.com/doc/819-3000/chapter2-4?a=view">Preparing Your Network for the DHCP Service (Task Map) in <i>System Administration Guide: IP Services</i></a></p></li></ul>


<a name="tnetov-23"></a><h4>Choosing Routers in Trusted Extensions</h4>
<a name="indexterm-979"></a><p>Trusted Extensions hosts offer the highest degree of trust as routers. Other types
of routers might not recognize Trusted Extensions security attributes. Without administrative action, packets
can be routed through routers that do not provide MAC security protection.</p>
<ul><li><p>CIPSO routers drop packets when they do not find the correct type of information in the IP options section of the packet. For example, a CIPSO router drops a packet if it does not find a CIPSO option in the IP options when the option is required, or when the DOI in the IP options is not consistent with the destination's accreditation.</p></li>
<li><p>Other types of routers that are not running Trusted Extensions software can be configured to either pass the packets or drop the packets that include the CIPSO option. Only CIPSO-aware gateways such as Trusted Extensions provides can use the contents of the CIPSO IP option to enforce MAC.</p></li></ul>
<p>To support trusted routing, the Solaris Express Community Edition  routing tables are
extended to include Trusted Extensions security attributes. The attributes are described in <a href="txnet-3.html#txnet-13">Routing Table Entries in Trusted Extensions</a>.
Trusted Extensions supports static routing, in which the administrator creates routing table entries
manually. For details, see the <tt>-p</tt> option in the <a href="http://docs.sun.com/doc/819-2240/route-1m?a=view"><tt>route</tt>(1M)</a> man page.</p><p>The routing software tries to find a route to the destination host
in the routing tables. When the host is not explicitly named, the routing
software looks for an entry for the subnetwork where the host resides. When
neither the host nor the network where the host resides is defined, the
host sends the packet to a default gateway, if defined. Multiple default gateways
can be defined, and each is treated equally.</p><p>In this release of Trusted Extensions, the security administrator sets up routes manually,
and then manually changes the routing table when conditions change. For example, many
sites have a single gateway that communicates with the outside world. In these
cases, the single gateway can be statically defined as the <b>default</b> on each
host on the network. Dynamic routing support might be available in future releases
of Trusted Extensions.</p>

<a name="txnet-18"></a><h4>Gateways in Trusted Extensions</h4>
<a name="indexterm-980"></a><a name="indexterm-981"></a><a name="indexterm-982"></a><p>An example of routing in Trusted Extensions follows. The diagram and table show
three potential routes between Host 1 and Host 2.</p><a name="txnet-fig-1"></a><h6>Figure&nbsp;18-1 <a name="txnet-22"></a>Typical Trusted Extensions Routes and Routing Table Entries</h6><img src="figures/fig.gateways.gif" alt="The context describes the graphic."></img><table><col width="13%"><col width="27%"><col width="22%"><col width="22%"><col width="14%"><tr><th align="left" valign="top" scope="column"><p>Route</p></th>
<th align="left" valign="top" scope="column"><p>First-Hop Gateway</p></th>
<th align="left" valign="top" scope="column"><p>Minimum Label</p></th>
<th align="left" valign="top" scope="column"><p>Maximum Label</p></th>
<th align="left" valign="top" scope="column"><p>DOI</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>#1</p></td>
<td align="left" valign="top" scope="row"><p>Gateway
1</p></td>
<td align="left" valign="top" scope="row"><p><tt>CONFIDENTIAL</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>SECRET</tt></p></td>
<td align="left" valign="top" scope="row"><p>1</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>#2</p></td>
<td align="left" valign="top" scope="row"><p>Gateway 3</p></td>
<td align="left" valign="top" scope="row"><p><tt>ADMIN_LOW</tt></p></td>
<td align="left" valign="top" scope="row"><p><tt>ADMIN_HIGH</tt></p></td>
<td align="left" valign="top" scope="row"><p>1</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>#3</p></td>
<td align="left" valign="top" scope="row"><p>Gateway 5</p></td>
<td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p></p></td>
<td align="left" valign="top" scope="row"><p></p></td>
</tr>
</table>
<ul><li><p>Route #1 can transmit packets within the label range of <tt>CONFIDENTIAL</tt> to <tt>SECRET</tt>.</p></li>
<li><p>Route #2 can transmit packets from <tt>ADMIN_LOW</tt> to <tt>ADMIN_HIGH</tt>.</p></li>
<li><p>Route #3 does not specify routing information. Therefore, its security attributes are derived from the template in the <tt>tnrhtp</tt> database for Gateway 5.</p></li></ul>


<a name="txnet-19"></a><h4>Routing Commands in Trusted Extensions</h4>
<a name="indexterm-983"></a><p>To show labels and extended security attributes for sockets, Trusted Extensions modifies the
following Solaris network commands:</p>
<ul><li><p>The <tt>netstat -rR</tt> command displays the security attributes in routing table entries.</p></li>
<li><p>The <tt>netstat -aR</tt> command displays the security attributes for sockets.</p></li>
<li><p>The <tt>route -p</tt> command with the <tt>add</tt> or <tt>delete</tt> option changes the routing table entries.</p></li></ul>
<p>For details, see the <a href="http://docs.sun.com/doc/819-2240/netstat-1m?a=view"><tt>netstat</tt>(1M)</a> and <a href="http://docs.sun.com/doc/819-2240/route-1m?a=view"><tt>route</tt>(1M)</a> man pages.</p><p>For examples, see <a href="managetnet-14.html#managetnet-4">How to Configure Routes With Security Attributes</a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="txnet-3.html">Previous</a>
             </td>
             <td align="right">
                 <a href="managetnet-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

