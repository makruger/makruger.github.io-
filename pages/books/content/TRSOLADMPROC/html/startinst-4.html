<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Installing or Upgrading the Solaris OS for Trusted Extensions - Solaris Trusted Extensions Administrator's Procedures</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">Solaris Trusted Extensions Administrator's Procedures</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="startinst-11.html">Previous</a>
             </td>
             <td align="right">
                 <a href="startinst-6.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-4.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="trp-part-1.html">Part&nbsp;I&nbsp;Initial Configuration of Trusted Extensions</a></p>
<p class="toc level2"><a href="ovw-1.html">1.&nbsp;&nbsp;Security Planning for Trusted Extensions</a></p>
<p class="toc level2"><a href="tmap-1.html">2.&nbsp;&nbsp;Configuration Roadmap for Trusted Extensions</a></p>
<p class="toc level2"><a href="startinst-1.html">3.&nbsp;&nbsp;Adding Solaris Trusted Extensions Software to the Solaris OS (Tasks)</a></p>
<p class="toc level3"><a href="startinst-11.html">Initial Setup Team Responsibilities</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Installing or Upgrading the Solaris OS for Trusted Extensions</a></p>
</div>
<p class="toc level3"><a href="startinst-6.html">Collecting Information and Making Decisions Before Enabling&nbsp;Trusted Extensions</a></p>
<p class="toc level3"><a href="startinst-3.html">Enabling the Solaris Trusted Extensions Service</a></p>
<p class="toc level2 tocsp"><a href="txconf-1.html">4.&nbsp;&nbsp;Configuring Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="txldap-1.html">5.&nbsp;&nbsp;Configuring LDAP for Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="headl-1.html">6.&nbsp;&nbsp;Configuring a Headless System With Trusted Extensions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="trp-part-2.html">Part&nbsp;II&nbsp;Administration of Trusted Extensions</a></p>
<p class="toc level2"><a href="txintro-1.html">7.&nbsp;&nbsp;Trusted Extensions Administration Concepts</a></p>
<p class="toc level2"><a href="txtool-1.html">8.&nbsp;&nbsp;Trusted Extensions Administration Tools</a></p>
<p class="toc level2"><a href="roles-1.html">9.&nbsp;&nbsp;Getting Started as a Trusted Extensions Administrator (Tasks)</a></p>
<p class="toc level2"><a href="secreq-1.html">10.&nbsp;&nbsp;Security Requirements on a Trusted Extensions System (Overview)</a></p>
<p class="toc level2"><a href="commontasks-1.html">11.&nbsp;&nbsp;Administering Security Requirements in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="useraccts-1.html">12.&nbsp;&nbsp;Users, Rights, and Roles in Trusted Extensions (Overview)</a></p>
<p class="toc level2"><a href="manageusers-1.html">13.&nbsp;&nbsp;Managing Users, Rights, and Roles in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="remotead-1.html">14.&nbsp;&nbsp;Remote Administration in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="manageldap-1.html">15.&nbsp;&nbsp;Trusted Extensions and LDAP (Overview)</a></p>
<p class="toc level2"><a href="managezones-1.html">16.&nbsp;&nbsp;Managing Zones in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="managefiles-1.html">17.&nbsp;&nbsp;Managing and Mounting Files in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="txnet-1.html">18.&nbsp;&nbsp;Trusted Networking (Overview)</a></p>
<p class="toc level2"><a href="managetnet-1.html">19.&nbsp;&nbsp;Managing Networks in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="managemail-1.html">20.&nbsp;&nbsp;Multilevel Mail in Trusted Extensions (Overview)</a></p>
<p class="toc level2"><a href="manageprint-1.html">21.&nbsp;&nbsp;Managing Labeled Printing (Tasks)</a></p>
<p class="toc level2"><a href="gentextid-15538.html">22.&nbsp;&nbsp;Devices in Trusted Extensions (Overview)</a></p>
<p class="toc level2"><a href="managedev-1.html">23.&nbsp;&nbsp;Managing Devices for Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="audtask-1.html">24.&nbsp;&nbsp;Trusted Extensions Auditing (Overview)</a></p>
<p class="toc level2"><a href="softmgt-1.html">25.&nbsp;&nbsp;Software Management in Trusted Extensions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="appol-1.html">A.&nbsp;&nbsp;Site Security Policy</a></p>
<p class="toc level2"><a href="appol-12.html">Creating and Managing a Security Policy</a></p>
<p class="toc level2"><a href="appol-11.html">Site Security Policy and Trusted Extensions</a></p>
<p class="toc level2"><a href="appol-2.html">Computer Security Recommendations</a></p>
<p class="toc level2"><a href="appol-3.html">Physical Security Recommendations</a></p>
<p class="toc level2"><a href="appol-4.html">Personnel Security Recommendations</a></p>
<p class="toc level2"><a href="appol-5.html">Common Security Violations</a></p>
<p class="toc level2"><a href="appol-6.html">Additional Security References</a></p>
<p class="toc level1 tocsp"><a href="aptxconf-1.html">B.&nbsp;&nbsp;Using CDE Actions to Install Zones in Trusted Extensions</a></p>
<p class="toc level2"><a href="aptxconf-62.html">Associating Network Interfaces With Zones by Using CDE Actions (Task Map)</a></p>
<p class="toc level2"><a href="aptxconf-40.html">Preparing to Create Zones by Using CDE Actions (Task Map)</a></p>
<p class="toc level2"><a href="aptxconf-20.html">Creating Labeled Zones by Using CDE Actions (Task Map)</a></p>
<p class="toc level1 tocsp"><a href="checklist-1.html">C.&nbsp;&nbsp;Configuration Checklist for Trusted Extensions</a></p>
<p class="toc level2"><a href="checklist-2.html">Checklist for Configuring Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="txapp-1.html">D.&nbsp;&nbsp;Quick Reference to Trusted Extensions Administration</a></p>
<p class="toc level2"><a href="txapp-2.html">Administrative Interfaces in Trusted Extensions</a></p>
<p class="toc level2"><a href="txapp-3.html">Solaris Interfaces Extended by Trusted Extensions</a></p>
<p class="toc level2"><a href="txapp-4.html">Tighter Security Defaults in Trusted Extensions</a></p>
<p class="toc level2"><a href="txapp-5.html">Limited Options in Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="txmp-1.html">E.&nbsp;&nbsp;List of Trusted Extensions Man Pages</a></p>
<p class="toc level2"><a href="txmp-2.html">Trusted Extensions Man Pages in Alphabetical Order</a></p>
<p class="toc level2"><a href="txmp-3.html">Solaris Man Pages That Are Modified by Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="startinst-4"></a><h3>Installing or Upgrading the Solaris OS for Trusted Extensions</h3>
<a name="indexterm-57"></a><p>The choice of Solaris installation options can affect the use and security of
Trusted Extensions:</p>
<ul><li><p>To properly support Trusted Extensions, you must install the underlying Solaris OS securely. For Solaris installation choices that affect Trusted Extensions, see <a href="#startinst-7">Install a Solaris System to Support Trusted Extensions</a>.</p></li>
<li><p>If you have been using the Solaris OS, check your current configuration against the requirements for Trusted Extensions. For configuration choices that affect Trusted Extensions, see <a href="#startinst-5">Prepare an Installed Solaris System for Trusted Extensions</a>.</p></li></ul>


<a name="startinst-7"></a><h4>Install a Solaris System to Support Trusted Extensions</h4><a name="indexterm-58"></a><a name="indexterm-59"></a><a name="indexterm-60"></a><p>This task applies to fresh installations of the Solaris OS. If you
are upgrading, see <a href="#startinst-5">Prepare an Installed Solaris System for Trusted Extensions</a>.</p><ul>
<li><b>When installing the Solaris OS, take the recommended action on the following installation
choices.</b><p>The choices follow the order of Solaris installation questions. Installation questions that are
not mentioned in this table do not affect Trusted Extensions.</p><table><col width="22%"><col width="35%"><col width="41%"><tr><th align="left" valign="top" scope="column"><p>Solaris Option</p></th>
<th align="left" valign="top" scope="column"><p>Trusted Extensions Behavior</p></th>
<th align="left" valign="top" scope="column"><p>Recommended
Action</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>NIS naming service</p><p>NIS+ naming service</p></td>
<td align="left" valign="top" scope="row"><p>Trusted Extensions supports files and LDAP for a
naming service. For host name resolution, DNS can be used.</p></td>
<td align="left" valign="top" scope="row"><p>Do not choose NIS
or NIS+. You can choose None, which is equivalent to files. Later, you
can configure LDAP to work with Trusted Extensions.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Upgrade</p></td>
<td align="left" valign="top" scope="row"><p>Trusted Extensions installs labeled zones
with particular security characteristics.</p></td>
<td align="left" valign="top" scope="row"><p>If you are upgrading, go to <a href="#startinst-5">Prepare an Installed Solaris System for Trusted Extensions</a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p><tt>root</tt> password</p></td>
<td align="left" valign="top" scope="row"><p>Administration tools
in Trusted Extensions require passwords. If the <tt>root</tt> user does not have
a password, then <tt>root</tt> cannot configure the system.</p></td>
<td align="left" valign="top" scope="row"><p>Provide a <tt>root</tt> password. Do not
change the default <tt>crypt_unix</tt> password encryption method. For details, see <a href="http://docs.sun.com/doc/819-3321/concept-41?a=view">Managing Password Information in <i>System Administration Guide: Security Services</i></a>.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Developer Group</p></td>
<td align="left" valign="top" scope="row"><p>Trusted
Extensions uses the Solaris Management Console to administer the network. The End
User group and smaller groups do not install the packages for the Solaris
Management Console.</p></td>
<td align="left" valign="top" scope="row"><p>On any system that you plan to use to administer other
systems, do not install the End User, Core, or Reduced Networking Group.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Custom Install</p></td>
<td align="left" valign="top" scope="row"><p>Because
Trusted Extensions installs zones, you might need more disk space in partitions than
the default installation supplies.</p></td>
<td align="left" valign="top" scope="row"><p>Choose Custom Install, and lay out the partitions.</p><p>Consider adding
extra swap space for roles. If you plan to clone zones, create a
2000 MB partition for the ZFS pool.</p><p>For auditing files, best practice is
to create a dedicated partition.</p></td>
</tr>
</table></li></ul>

<a name="startinst-5"></a><h4>Prepare an Installed Solaris System for Trusted Extensions</h4><a name="indexterm-61"></a><a name="indexterm-62"></a><a name="indexterm-63"></a><p>This task applies to Solaris systems that have been in use, and on
which you plan to run&nbsp;Trusted Extensions. Also, to run&nbsp;Trusted Extensions on an upgraded
Solaris system, follow this procedure. Other tasks that might modify an installed Solaris
system can be done during&nbsp;Trusted Extensions configuration.</p><h6>Before You Begin</h6><p>Trusted Extensions cannot be enabled in some Solaris environments:</p>
<ul><li><p>If your system is part of a cluster, Trusted Extensions cannot be enabled on the system.</p></li>
<li><p>The enabling of Trusted Extensions in an alternate boot environment (BE) is not supported. Trusted Extensions can only be enabled in&nbsp;the current boot environment.</p></li></ul>
<ol>
<li><b>If non-global zones are installed on your system, remove them.</b><p>Or, you can re-install the Solaris OS. If you are going to
re-install the Solaris OS, follow the instructions in <a href="#startinst-7">Install a Solaris System to Support Trusted Extensions</a>.</p></li>
<li><b>If your system does not have a <tt>root</tt> password, create one.</b><p>Administration tools in Trusted Extensions require passwords. If the <tt>root</tt> user does not
have a password, then <tt>root</tt> cannot configure the system.</p><p>Use the default <tt>crypt_unix</tt> password encryption method for the <tt>root</tt> user. For details,
see <a href="http://docs.sun.com/doc/819-3321/concept-41?a=view">Managing Password Information in <i>System Administration Guide: Security Services</i></a>.</p>
<hr><p><b>Note - </b><a name="indexterm-64"></a><a name="indexterm-65"></a><a name="indexterm-66"></a>Users must not disclose their passwords to another person, as that person might
then have access to the data of the user and will not be
uniquely identified or accountable. Note that disclosure can be direct, through the user
deliberately disclosing her/his password to another person, or indirect, for example, through writing
it down, or choosing an insecure password. The Solaris OS provides protection against insecure
passwords, but cannot prevent a user from disclosing her or his password, or
from writing it down.</p>
<hr>
</li>
<li><b>If you plan to administer the site from this system, add the
Solaris packages for the Solaris Management Console.</b><p>Trusted Extensions uses the Solaris Management Console to administer the network. If your
system was installed with the End User group or a smaller group, the
system does not have the packages for the Solaris Management Console.</p></li>
<li><b>If you have created an <tt>xorg.conf</tt> file, you need to modify it.</b><p>Add the following line to the end of the Module section in the
<tt>/etc/X11/xorg.conf</tt> file.</p><pre>load "xtsol"</pre>
<hr><p><b>Note - </b>By default, the <tt>xorg.conf</tt> file does not exist. Do nothing if this file
does not exist.</p>
<hr>
</li>
<li><b>If you plan to clone zones, create a partition for the ZFS
pool.</b><p>To decide on your zone creation method, see <a href="ovw-36.html#ovw-11">Planning for Zones in Trusted Extensions</a>.</p></li>
<li><b>If you plan to install labeled zones on this system, check that your
partitions have sufficient disk space for zones.</b><p>Most systems that are configured with Trusted Extensions install labeled zones. Labeled zones can
require more disk space than the installed system has set aside.</p><p>However, some Trusted Extensions systems do not require that labeled zones be installed.
For example, a multilevel printing server, a multilevel LDAP server, or a multilevel
LDAP proxy server do not require labeled zones to be installed. These systems
might not need the extra disk space.</p></li>
<li>(Optional) <b>Add extra swap space for roles.</b><p>Roles administer Trusted Extensions. Consider adding extra swap for role processes.</p></li>
<li>(Optional) <b>Dedicate a partition for audit files.</b><p>Trusted Extensions enables auditing by default. For audit files, best practice is to
create a dedicated partition.</p></li>
<li><a name="startinst-step-netservices-ltd-1"></a>(Optional) <b>To run a hardened configuration, run the <tt>netservices limited</tt> command before you enable Trusted Extensions.</b><pre># <tt><b>netservices limited</b></tt></pre></li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="startinst-11.html">Previous</a>
             </td>
             <td align="right">
                 <a href="startinst-6.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

