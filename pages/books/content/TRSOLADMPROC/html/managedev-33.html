<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Managing Devices in Trusted Extensions (Task Map) - Solaris Trusted Extensions Administrator's Procedures</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">Solaris Trusted Extensions Administrator's Procedures</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="managedev-18.html">Previous</a>
             </td>
             <td align="right">
                 <a href="managedev-16.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-4.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="trp-part-1.html">Part&nbsp;I&nbsp;Initial Configuration of Trusted Extensions</a></p>
<p class="toc level2"><a href="ovw-1.html">1.&nbsp;&nbsp;Security Planning for Trusted Extensions</a></p>
<p class="toc level2"><a href="tmap-1.html">2.&nbsp;&nbsp;Configuration Roadmap for Trusted Extensions</a></p>
<p class="toc level2"><a href="startinst-1.html">3.&nbsp;&nbsp;Adding Solaris Trusted Extensions Software to the Solaris OS (Tasks)</a></p>
<p class="toc level2"><a href="txconf-1.html">4.&nbsp;&nbsp;Configuring Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="txldap-1.html">5.&nbsp;&nbsp;Configuring LDAP for Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="headl-1.html">6.&nbsp;&nbsp;Configuring a Headless System With Trusted Extensions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="trp-part-2.html">Part&nbsp;II&nbsp;Administration of Trusted Extensions</a></p>
<p class="toc level2"><a href="txintro-1.html">7.&nbsp;&nbsp;Trusted Extensions Administration Concepts</a></p>
<p class="toc level2"><a href="txtool-1.html">8.&nbsp;&nbsp;Trusted Extensions Administration Tools</a></p>
<p class="toc level2"><a href="roles-1.html">9.&nbsp;&nbsp;Getting Started as a Trusted Extensions Administrator (Tasks)</a></p>
<p class="toc level2"><a href="secreq-1.html">10.&nbsp;&nbsp;Security Requirements on a Trusted Extensions System (Overview)</a></p>
<p class="toc level2"><a href="commontasks-1.html">11.&nbsp;&nbsp;Administering Security Requirements in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="useraccts-1.html">12.&nbsp;&nbsp;Users, Rights, and Roles in Trusted Extensions (Overview)</a></p>
<p class="toc level2"><a href="manageusers-1.html">13.&nbsp;&nbsp;Managing Users, Rights, and Roles in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="remotead-1.html">14.&nbsp;&nbsp;Remote Administration in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="manageldap-1.html">15.&nbsp;&nbsp;Trusted Extensions and LDAP (Overview)</a></p>
<p class="toc level2"><a href="managezones-1.html">16.&nbsp;&nbsp;Managing Zones in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="managefiles-1.html">17.&nbsp;&nbsp;Managing and Mounting Files in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="txnet-1.html">18.&nbsp;&nbsp;Trusted Networking (Overview)</a></p>
<p class="toc level2"><a href="managetnet-1.html">19.&nbsp;&nbsp;Managing Networks in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="managemail-1.html">20.&nbsp;&nbsp;Multilevel Mail in Trusted Extensions (Overview)</a></p>
<p class="toc level2"><a href="manageprint-1.html">21.&nbsp;&nbsp;Managing Labeled Printing (Tasks)</a></p>
<p class="toc level2"><a href="gentextid-15538.html">22.&nbsp;&nbsp;Devices in Trusted Extensions (Overview)</a></p>
<p class="toc level2"><a href="managedev-1.html">23.&nbsp;&nbsp;Managing Devices for Trusted Extensions (Tasks)</a></p>
<p class="toc level3"><a href="managedev-2.html">Handling Devices in Trusted Extensions (Task Map)</a></p>
<p class="toc level3"><a href="managedev-18.html">Using Devices in Trusted Extensions (Task Map)</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Managing Devices in Trusted Extensions (Task Map)</a></p>
</div>
<p class="toc level3"><a href="managedev-16.html">Customizing Device Authorizations in Trusted Extensions (Task Map)</a></p>
<p class="toc level2 tocsp"><a href="audtask-1.html">24.&nbsp;&nbsp;Trusted Extensions Auditing (Overview)</a></p>
<p class="toc level2"><a href="softmgt-1.html">25.&nbsp;&nbsp;Software Management in Trusted Extensions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="appol-1.html">A.&nbsp;&nbsp;Site Security Policy</a></p>
<p class="toc level2"><a href="appol-12.html">Creating and Managing a Security Policy</a></p>
<p class="toc level2"><a href="appol-11.html">Site Security Policy and Trusted Extensions</a></p>
<p class="toc level2"><a href="appol-2.html">Computer Security Recommendations</a></p>
<p class="toc level2"><a href="appol-3.html">Physical Security Recommendations</a></p>
<p class="toc level2"><a href="appol-4.html">Personnel Security Recommendations</a></p>
<p class="toc level2"><a href="appol-5.html">Common Security Violations</a></p>
<p class="toc level2"><a href="appol-6.html">Additional Security References</a></p>
<p class="toc level1 tocsp"><a href="aptxconf-1.html">B.&nbsp;&nbsp;Using CDE Actions to Install Zones in Trusted Extensions</a></p>
<p class="toc level2"><a href="aptxconf-62.html">Associating Network Interfaces With Zones by Using CDE Actions (Task Map)</a></p>
<p class="toc level2"><a href="aptxconf-40.html">Preparing to Create Zones by Using CDE Actions (Task Map)</a></p>
<p class="toc level2"><a href="aptxconf-20.html">Creating Labeled Zones by Using CDE Actions (Task Map)</a></p>
<p class="toc level1 tocsp"><a href="checklist-1.html">C.&nbsp;&nbsp;Configuration Checklist for Trusted Extensions</a></p>
<p class="toc level2"><a href="checklist-2.html">Checklist for Configuring Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="txapp-1.html">D.&nbsp;&nbsp;Quick Reference to Trusted Extensions Administration</a></p>
<p class="toc level2"><a href="txapp-2.html">Administrative Interfaces in Trusted Extensions</a></p>
<p class="toc level2"><a href="txapp-3.html">Solaris Interfaces Extended by Trusted Extensions</a></p>
<p class="toc level2"><a href="txapp-4.html">Tighter Security Defaults in Trusted Extensions</a></p>
<p class="toc level2"><a href="txapp-5.html">Limited Options in Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="txmp-1.html">E.&nbsp;&nbsp;List of Trusted Extensions Man Pages</a></p>
<p class="toc level2"><a href="txmp-2.html">Trusted Extensions Man Pages in Alphabetical Order</a></p>
<p class="toc level2"><a href="txmp-3.html">Solaris Man Pages That Are Modified by Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="managedev-33"></a><h3>Managing Devices in Trusted Extensions (Task Map)</h3>
<a name="indexterm-1208"></a><a name="indexterm-1209"></a><a name="indexterm-1210"></a><p>The following task map describes procedures to protect devices at your site.</p><table><col width="27%"><col width="38%"><col width="33%"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Set
or modify device policy.</p></td>
<td align="left" valign="top" scope="row"><p>Changes the privileges that are required to access a
device.</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-3321/devtask-10?a=view">Configuring Device Policy (Task Map) in <i>System Administration Guide: Security Services</i></a></p></td>
</tr>
<tr><td rowspan="2" align="left" valign="top" scope="row"><p>Authorize users to allocate a device.</p></td>
<td align="left" valign="top" scope="row"><p>The Security Administrator role assigns a profile
with the Allocate Device authorization to the user.</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-3321/devtask-36?a=view">How to Authorize Users to Allocate a Device in <i>System Administration Guide: Security Services</i></a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>The Security Administrator role assigns a
profile with the site-specific authorizations to the user.</p></td>
<td align="left" valign="top" scope="row"><p><a href="managedev-16.html">Customizing Device Authorizations in Trusted Extensions (Task Map)</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Configure a device.</p></td>
<td align="left" valign="top" scope="row"><p>Chooses security features to
protect the device.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#managedev-53">How to Configure a Device in Trusted Extensions</a></p></td>
</tr>
<tr><td rowspan="2" align="left" valign="top" scope="row"><p>Revoke or reclaim a device.</p></td>
<td align="left" valign="top" scope="row"><p>Uses the Device Allocation Manager to
make a device available for use.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#managedev-31">How to Revoke or Reclaim a Device in Trusted Extensions</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Uses Solaris commands to make a device
available or unavailable for use.</p></td>
<td align="left" valign="top" scope="row"><p><a href="http://docs.sun.com/doc/819-3321/devtask-13?a=view">Forcibly Allocating a Device in <i>System Administration Guide: Security Services</i></a></p><p><a href="http://docs.sun.com/doc/819-3321/devtask-31?a=view">Forcibly Deallocating a Device in <i>System Administration Guide: Security Services</i></a></p></td>
</tr>
<tr><td rowspan="2" align="left" valign="top" scope="row"><p>Prevent access to an allocatable device.</p></td>
<td align="left" valign="top" scope="row"><p>Provides fine&ndash;grained access control
to a device.</p></td>
<td align="left" valign="top" scope="row"><p><a href="managedev-16.html#managedev-41">Example&nbsp;23-4</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Denies everyone access to an allocatable device.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#managedev-19">Example&nbsp;23-1</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Protect printers and frame
buffers.</p></td>
<td align="left" valign="top" scope="row"><p>Ensures that nonallocatable devices are not allocatable.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#managedev-26">How to Protect Nonallocatable Devices in Trusted Extensions</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Configure serial login devices.</p></td>
<td align="left" valign="top" scope="row"><p>Enables logins by
serial port.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#managedev-54">How to Configure a Serial Line for Logins</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Enable a CD player program to be used.</p></td>
<td align="left" valign="top" scope="row"><p>Enables an audio player
program to open automatically when a music CD is inserted.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#managedev-29">How to Configure an Audio Player Program for Use in Trusted CDE</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Prevent the File Manager
from displaying.</p></td>
<td align="left" valign="top" scope="row"><p>Prevents the File Manager from displaying after a device has been
allocated.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#managedev-21">How to Prevent the File Manager From Displaying After Device Allocation</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Use a new device-clean script.</p></td>
<td align="left" valign="top" scope="row"><p>Places a new script in the appropriate places.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#managedev-57">How to Add a Device_Clean Script in Trusted Extensions</a></p></td>
</tr>
</table>

<a name="managedev-53"></a><h4>How to Configure a Device in Trusted Extensions</h4><a name="indexterm-1211"></a><a name="indexterm-1212"></a><a name="indexterm-1213"></a><a name="indexterm-1214"></a><a name="indexterm-1215"></a><p>By default, an allocatable device has a label range from <tt>ADMIN_LOW</tt> to
<tt>ADMIN_HIGH</tt> and must be allocated for use. Also, users must be authorized to
allocate the device. These defaults can be changed.</p><h6>Before You Begin</h6><p>You must be in the Security Administrator role in the global zone.</p><ol>
<li><b>From the Trusted Path menu, select Allocate Device.</b><p>The Device Allocation Manager appears.</p><br><img src="figures/devmgr.gif" alt="Dialog box titled Device Allocation Administration shows the default security settings for an audio device for an ordinary user." width="479" height="421"></img></li>
<li><b>View the default security settings.</b><p>Click Device Administration, then highlight the device. The following figure shows a CD-ROM
drive with default security settings.</p><br><img src="figures/devconfig.gif" alt="Dialog box titled Device Allocation Configuration shows the default security settings for a CD-ROM drive." width="575" height="637"></img></li>
<li>(Optional) <b>Restrict the label range on the device.</b><ol style="list-style-type: lower-alpha">
<li><b>Set the minimum label.</b><p>Click the Min Label... button. Choose a minimum label from the label builder.
For information about the label builder, see <a href="txtool-5.html">Label Builder in Trusted Extensions</a>.</p></li>
<li><b>Set the maximum label.</b><p>Click the Max Label... button. Choose a maximum label from the label builder.</p></li></ol></li>
<li><b>Specify if the device can be allocated locally.</b><p>In the Device Allocation Configuration dialog box, under For Allocations From Trusted Path, select
an option from the Allocatable By list. By default, the Authorized Users option
is checked. Therefore, the device is allocatable and users must be authorized.</p><ul>
<li><b>To make the device nonallocatable, click No Users.</b><p>When configuring a printer, frame buffer, or other device that must not be
allocatable, select No Users.</p></li>
<li><b>To make the device allocatable, but to not require authorization, click All Users.</b></li></ul></li>
<li><b>Specify if the device can be allocated remotely.</b><p>In the For Allocations From Non-Trusted Path section, select an option from the Allocatable
By list. By default, the Same As Trusted Path option is checked.</p><ul>
<li><b>To require user authorization, select Allocatable by Authorized Users.</b></li>
<li><b>To make the device nonallocatable by remote users, select No Users.</b></li>
<li><b>To make the device allocatable by anyone, select All Users.</b></li></ul></li>
<li><b>If the device is allocatable, <b>and</b> your site has created new device authorizations,
select the appropriate authorization.</b><p>The following dialog box shows the <tt>solaris.device.allocate</tt> authorization is required to allocate the
<tt>cdrom0</tt> device.</p><br><img src="figures/devauth.gif" alt="Dialog box titled Device Allocation Authorizations shows the authorizations of a device." width="915" height="455"></img><p>To create and use site-specific device authorizations, see <a href="managedev-16.html">Customizing Device Authorizations in Trusted Extensions (Task Map)</a>.</p></li>
<li><b>To save your changes, click OK.</b></li></ol>

<a name="managedev-31"></a><h4>How to Revoke or Reclaim a Device in Trusted Extensions</h4><a name="indexterm-1216"></a><a name="indexterm-1217"></a><a name="indexterm-1218"></a><a name="indexterm-1219"></a><a name="indexterm-1220"></a><a name="indexterm-1221"></a><p>If a device is not listed in the Device Allocation Manager, it
might already be allocated or it might be in an allocate error state.
The system administrator can recover the device for use.</p><h6>Before You Begin</h6><p>You must be in the System Administrator role in the global zone.
This role includes the <tt>solaris.device.revoke</tt> authorization.</p><ol>
<li><b>From the Trusted Path menu, select Allocate Device.</b><p>In the following figure, the audio device is already allocated to a user.</p><br><img src="figures/devaudioint.gif" alt="Dialog box titled Device Allocation Administration shows the devices that can be administered, and the allocation status of the audio device." width="479" height="421"></img></li>
<li><b>Click the Device Administration button.</b></li>
<li><b>Check the status of a device.</b><p>Select the device name and check the State field.</p><ul>
<li><b>If the State field is Allocate Error State, click the Reclaim button.</b></li>
<li><b>If the State field is Allocated, do one of the following:</b><ul>
<li><b>Ask the user in the Owner field to deallocate the device.</b></li>
<li><b>Force deallocation of the device by clicking the Revoke button.</b></li></ul></li></ul></li>
<li><b>Close the Device Allocation Manager.</b></li></ol>

<a name="managedev-26"></a><h4>How to Protect Nonallocatable Devices in Trusted Extensions</h4><a name="indexterm-1222"></a><a name="indexterm-1223"></a><a name="indexterm-1224"></a><a name="indexterm-1225"></a><p>The No Users option in the Allocatable By section of the Device
Configuration dialog box is used most often for the frame buffer and printer,
which do not have to be allocated to be used.</p><h6>Before You Begin</h6><p>You must be in the Security Administrator role in the global zone.</p><ol>
<li><b>From the Trusted Path menu, select  Allocate Device.</b></li>
<li><b>In the Device Allocation Manager, click the Device Administration button.</b></li>
<li><b>Select the new printer or frame buffer.</b><ol style="list-style-type: lower-alpha">
<li><b>To make the device nonallocatable, click No Users.</b></li>
<li>(Optional) <b>Restrict the label range on the device.</b><ol style="list-style-type: lower-roman">
<li><b>Set the minimum label.</b><p>Click the Min Label... button. Choose a minimum label from the label builder.
For information about the label builder, see <a href="txtool-5.html">Label Builder in Trusted Extensions</a>.</p></li>
<li><b>Set the maximum label.</b><p>Click the Max Label... button. Choose a maximum label from the label builder.</p></li></ol></li></ol></li></ol><a name="managedev-19"></a><h6>Example&nbsp;23-1 Preventing Remote Allocation of the Audio Device</h6><p><a name="indexterm-1226"></a><a name="indexterm-1227"></a><a name="indexterm-1228"></a>The No Users option in the Allocatable By section prevents remote users from
hearing conversations around a remote system.</p><p>The security administrator configures the audio device in the Device Allocation Manager as
follows:</p><pre>Device Name: audio
For Allocations From: Trusted Path
Allocatable By: Authorized Users
Authorizations: solaris.device.allocate</pre><pre>Device Name: audio
For Allocations From: Non-Trusted Pathh
Allocatable By: No Users</pre>

<a name="managedev-54"></a><h4>How to Configure a Serial Line for Logins</h4><a name="indexterm-1229"></a><a name="indexterm-1230"></a><a name="indexterm-1231"></a><a name="indexterm-1232"></a><a name="indexterm-1233"></a><a name="indexterm-1234"></a><h6>Before You Begin</h6><p>You must be in the Security Administrator role in the global zone.</p><ol>
<li><b>Open the Solaris Management Console in the Files scope.</b><a name="managedev-fig-2"></a><h6>Figure&nbsp;23-1 Serial Ports Tool in the Solaris Management Console</h6><img src="figures/smc.serial.port.panel.gif" alt="Window shows the Navigation pane of the Trusted Extensions toolbox in Files scope. The Devices and Hardware node is visible." width="340" height="408"></img></li>
<li><b>Under Devices and Hardware, navigate to Serial Ports.</b><p>Provide a password when prompted. Follow the online help to configure the serial
port.</p></li>
<li><b>To change the default label range, open the Device Allocation Manager.</b><p>The default label range is <tt>ADMIN_LOW</tt> to <tt>ADMIN_HIGH</tt>.</p></li></ol><a name="managedev-37"></a><h6>Example&nbsp;23-2 Restricting the Label Range of a Serial Port</h6><p>After creating a serial login device, the security administrator restricts the label range
of the serial port to a single label, <tt>Public</tt>. The administrator sets the
following values in the Device Administration dialog boxes.</p><pre>Device Name: /dev/term/[a|b]
Device Type: tty
Clean Program: /bin/true
Device Map: /dev/term/[a|b]
Minimum Label: Public
Maximum Label: Public
Allocatable By: No Users</pre>

<a name="managedev-29"></a><h4>How to Configure an Audio Player Program for Use in Trusted CDE</h4><a name="indexterm-1235"></a><a name="indexterm-1236"></a><a name="indexterm-1237"></a><a name="indexterm-1238"></a><a name="indexterm-1239"></a><a name="indexterm-1240"></a><a name="indexterm-1241"></a><a name="indexterm-1242"></a><a name="indexterm-1243"></a><a name="indexterm-1244"></a><p>The following procedure enables an audio player to open automatically in a Trusted
CDE workspace when a user inserts a music CD. For the user's
procedure, see the example in <a href="http://docs.sun.com/doc/819-7313/ugelem-27?a=view">How to Allocate a Device in Trusted Extensions in <i>Solaris Trusted Extensions User&rsquo;s Guide</i></a>.</p>
<hr><p><b>Note - </b>In a Trusted GNOME workspace, users specify the behavior of removable media just
as they specify it in a non-trusted workspace.</p>
<hr>
<h6>Before You Begin</h6><p>You must be in the System Administrator role in the global zone.</p><ol>
<li><b>Edit the <tt>/etc/rmmount.conf</tt> file.</b><p>Use the trusted editor. For details, see <a href="roles-4.html#roles-10">How to Edit Administrative Files in Trusted Extensions</a>.</p></li>
<li><b>Add your site's CD player program to the <tt>cdrom</tt> action in the file.</b><pre>action <i>media</i> action_<i>program</i>.so <i>path-to-program</i></pre></li></ol><a name="managedev-17"></a><h6>Example&nbsp;23-3 Configuring an Audio Player Program for Use</h6><p>In the following example, the system administrator makes the <tt>workman</tt> program available
to all users of a system. The <tt>workman</tt> program is an audio player
program.</p><pre># /etc/rmmount.conf file
<tt><b>action cdrom action_workman.so /usr/local/bin/workman</b></tt></pre>

<a name="managedev-21"></a><h4>How to Prevent the File Manager From Displaying After Device Allocation</h4><a name="indexterm-1245"></a><a name="indexterm-1246"></a><a name="indexterm-1247"></a><a name="indexterm-1248"></a><a name="indexterm-1249"></a><p>By default, the File Manager displays when a device is mounted. If
you are not mounting devices that have file systems, you might want to
prevent the File Manager from displaying.</p><h6>Before You Begin</h6><p>You must be in the System Administrator role in the global zone.</p><ol>
<li><b>Edit the <tt>/etc/rmmount.conf</tt> file.</b><p>Use the trusted editor. For details, see <a href="roles-4.html#roles-10">How to Edit Administrative Files in Trusted Extensions</a>.</p></li>
<li><b>Find the following <tt>filemgr</tt> actions:</b><pre>action cdrom action_filemgr.so
action floppy action_filemgr.so</pre></li>
<li><b>Comment out the appropriate action.</b><p>The following example shows the <tt>action_filemgr.so</tt> actions commented out for both the <tt>cdrom</tt> and
<tt>diskette</tt> devices.</p><pre><tt><b>#</b></tt> action cdrom action_filemgr.so
<tt><b>#</b></tt> action floppy action_filemgr.so</pre><p>When a CDROM or diskette is allocated, the File Manager does not
display.</p></li></ol>

<a name="managedev-57"></a><h4>How to Add a Device_Clean Script in Trusted Extensions</h4><a name="indexterm-1250"></a><a name="indexterm-1251"></a><a name="indexterm-1252"></a><p>If no <tt>device_clean</tt> script is specified at the time a device is created,
the default script, <tt>/bin/true</tt>, is used.</p><h6>Before You Begin</h6><p>Have ready a script that purges all usable data from the physical
device and that returns <tt>0</tt> for success. For devices with removable media, the script
attempts to eject the media if the user does not do so. The
script puts the device into the allocate error state if the medium
is not ejected. For details about the requirements, see the <a href="http://docs.sun.com/doc/819-2252/device-clean-5?a=view"><tt>device_clean</tt>(5)</a> man page.</p><p>You must be in the System Administrator role in the global zone.</p><ol>
<li><b>Copy the script into the <tt>/etc/security/lib</tt> directory.</b></li>
<li><b>In the Device Administration dialog box, specify the full path to the script.</b><ol style="list-style-type: lower-alpha">
<li><b>Open the Device Allocation Manager.</b></li>
<li><b>Click the Device Administration button.</b></li>
<li><b>Select the name of the device, and click the Configure button.</b></li>
<li><b>In the Clean Program field, type the full path to the script.</b></li></ol></li>
<li><b>Save your changes.</b></li></ol>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="managedev-18.html">Previous</a>
             </td>
             <td align="right">
                 <a href="managedev-16.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

