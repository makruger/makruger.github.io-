<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Trusted Network Fallback Mechanism - Solaris Trusted Extensions Administrator's Procedures</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">Solaris Trusted Extensions Administrator's Procedures</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="tnetov-40.html">Previous</a>
             </td>
             <td align="right">
                 <a href="txnet-3.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-4.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="trp-part-1.html">Part&nbsp;I&nbsp;Initial Configuration of Trusted Extensions</a></p>
<p class="toc level2"><a href="ovw-1.html">1.&nbsp;&nbsp;Security Planning for Trusted Extensions</a></p>
<p class="toc level2"><a href="tmap-1.html">2.&nbsp;&nbsp;Configuration Roadmap for Trusted Extensions</a></p>
<p class="toc level2"><a href="startinst-1.html">3.&nbsp;&nbsp;Adding Solaris Trusted Extensions Software to the Solaris OS (Tasks)</a></p>
<p class="toc level2"><a href="txconf-1.html">4.&nbsp;&nbsp;Configuring Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="txldap-1.html">5.&nbsp;&nbsp;Configuring LDAP for Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="headl-1.html">6.&nbsp;&nbsp;Configuring a Headless System With Trusted Extensions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="trp-part-2.html">Part&nbsp;II&nbsp;Administration of Trusted Extensions</a></p>
<p class="toc level2"><a href="txintro-1.html">7.&nbsp;&nbsp;Trusted Extensions Administration Concepts</a></p>
<p class="toc level2"><a href="txtool-1.html">8.&nbsp;&nbsp;Trusted Extensions Administration Tools</a></p>
<p class="toc level2"><a href="roles-1.html">9.&nbsp;&nbsp;Getting Started as a Trusted Extensions Administrator (Tasks)</a></p>
<p class="toc level2"><a href="secreq-1.html">10.&nbsp;&nbsp;Security Requirements on a Trusted Extensions System (Overview)</a></p>
<p class="toc level2"><a href="commontasks-1.html">11.&nbsp;&nbsp;Administering Security Requirements in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="useraccts-1.html">12.&nbsp;&nbsp;Users, Rights, and Roles in Trusted Extensions (Overview)</a></p>
<p class="toc level2"><a href="manageusers-1.html">13.&nbsp;&nbsp;Managing Users, Rights, and Roles in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="remotead-1.html">14.&nbsp;&nbsp;Remote Administration in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="manageldap-1.html">15.&nbsp;&nbsp;Trusted Extensions and LDAP (Overview)</a></p>
<p class="toc level2"><a href="managezones-1.html">16.&nbsp;&nbsp;Managing Zones in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="managefiles-1.html">17.&nbsp;&nbsp;Managing and Mounting Files in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="txnet-1.html">18.&nbsp;&nbsp;Trusted Networking (Overview)</a></p>
<p class="toc level3"><a href="txnet-2.html">The Trusted Network</a></p>
<p class="toc level3"><a href="tnetov-40.html">Network Security Attributes in Trusted Extensions</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Trusted Network Fallback Mechanism</a></p>
</div>
<p class="toc level3"><a href="txnet-3.html">Overview of Routing in Trusted Extensions</a></p>
<p class="toc level3"><a href="txnet-26.html">Administration of Routing in Trusted Extensions</a></p>
<p class="toc level2 tocsp"><a href="managetnet-1.html">19.&nbsp;&nbsp;Managing Networks in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="managemail-1.html">20.&nbsp;&nbsp;Multilevel Mail in Trusted Extensions (Overview)</a></p>
<p class="toc level2"><a href="manageprint-1.html">21.&nbsp;&nbsp;Managing Labeled Printing (Tasks)</a></p>
<p class="toc level2"><a href="gentextid-15538.html">22.&nbsp;&nbsp;Devices in Trusted Extensions (Overview)</a></p>
<p class="toc level2"><a href="managedev-1.html">23.&nbsp;&nbsp;Managing Devices for Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="audtask-1.html">24.&nbsp;&nbsp;Trusted Extensions Auditing (Overview)</a></p>
<p class="toc level2"><a href="softmgt-1.html">25.&nbsp;&nbsp;Software Management in Trusted Extensions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="appol-1.html">A.&nbsp;&nbsp;Site Security Policy</a></p>
<p class="toc level2"><a href="appol-12.html">Creating and Managing a Security Policy</a></p>
<p class="toc level2"><a href="appol-11.html">Site Security Policy and Trusted Extensions</a></p>
<p class="toc level2"><a href="appol-2.html">Computer Security Recommendations</a></p>
<p class="toc level2"><a href="appol-3.html">Physical Security Recommendations</a></p>
<p class="toc level2"><a href="appol-4.html">Personnel Security Recommendations</a></p>
<p class="toc level2"><a href="appol-5.html">Common Security Violations</a></p>
<p class="toc level2"><a href="appol-6.html">Additional Security References</a></p>
<p class="toc level1 tocsp"><a href="aptxconf-1.html">B.&nbsp;&nbsp;Using CDE Actions to Install Zones in Trusted Extensions</a></p>
<p class="toc level2"><a href="aptxconf-62.html">Associating Network Interfaces With Zones by Using CDE Actions (Task Map)</a></p>
<p class="toc level2"><a href="aptxconf-40.html">Preparing to Create Zones by Using CDE Actions (Task Map)</a></p>
<p class="toc level2"><a href="aptxconf-20.html">Creating Labeled Zones by Using CDE Actions (Task Map)</a></p>
<p class="toc level1 tocsp"><a href="checklist-1.html">C.&nbsp;&nbsp;Configuration Checklist for Trusted Extensions</a></p>
<p class="toc level2"><a href="checklist-2.html">Checklist for Configuring Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="txapp-1.html">D.&nbsp;&nbsp;Quick Reference to Trusted Extensions Administration</a></p>
<p class="toc level2"><a href="txapp-2.html">Administrative Interfaces in Trusted Extensions</a></p>
<p class="toc level2"><a href="txapp-3.html">Solaris Interfaces Extended by Trusted Extensions</a></p>
<p class="toc level2"><a href="txapp-4.html">Tighter Security Defaults in Trusted Extensions</a></p>
<p class="toc level2"><a href="txapp-5.html">Limited Options in Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="txmp-1.html">E.&nbsp;&nbsp;List of Trusted Extensions Man Pages</a></p>
<p class="toc level2"><a href="txmp-2.html">Trusted Extensions Man Pages in Alphabetical Order</a></p>
<p class="toc level2"><a href="txmp-3.html">Solaris Man Pages That Are Modified by Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="tnetov-2"></a><h3>Trusted Network Fallback Mechanism</h3>
<p><a name="indexterm-966"></a><a name="indexterm-967"></a><a name="indexterm-968"></a><a name="indexterm-969"></a>The <tt>tnrhdb</tt> database can assign a security template to a particular host either
directly or indirectly. Direct assignment assigns a template to a host's IP address.
Indirect assignment is handled by a fallback mechanism. The trusted network software first
looks for an entry that specifically assigns the host's IP address to a
template. If the software does not find a specific entry for the host,
it looks for the &ldquo;longest prefix of matching bits&rdquo;. You can indirectly assign
a host to a security template when the IP address of the host
falls within the &ldquo;longest prefix of matching bits&rdquo; of an IP address with
a fixed prefix length.</p><p>In IPv4, you can make an indirect assignment by subnet. When you
make an indirect assignment by using 4, 3, 2, or 1 trailing zero
(0) octets, the software calculates a prefix length of 0, 8, 16, or
24, respectively. Entries 3 &ndash; 6 in <a href="#txnet-tbl-7">Table&nbsp;18-1</a> illustrate this fallback mechanism.</p><p>You can also set a fixed prefix length by adding a slash
(/) followed by the number of fixed bits. IPv4 network addresses can have
a prefix length between 1 &ndash; 32. IPv6 network addresses can have a
prefix length between 1 &ndash; 128.</p><p>The following table provides fallback address and host address examples. If an address
within the set of fallback addresses is directly assigned, the fallback mechanism is not
used for that address.</p><a name="txnet-tbl-7"></a><h6>Table&nbsp;18-1 <tt>tnrhdb</tt> Host Address and Fallback Mechanism Entries</h6><table><col width="10%"><col width="39%"><col width="49%"><tr><th align="left" valign="top" scope="column"><p>IP Version</p></th>
<th align="left" valign="top" scope="column"><p><tt>tnrhdb</tt> Entry</p></th>
<th align="left" valign="top" scope="column"><p>Addresses Covered</p></th>
</tr>
<tr><td rowspan="11" align="left" valign="top" scope="row"><p>IPv4</p></td>
<td align="left" valign="top" scope="row"><pre>192.168.118.57:cipso</pre><pre>192.168.118.57/32:cipso</pre></td>
<td align="left" valign="top" scope="row"><pre>192.168.118.57</pre><p>The <tt>/32</tt> sets a prefix length of
32 fixed bits.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><pre>192.168.118.128/26:cipso</pre></td>
<td align="left" valign="top" scope="row"><p>From <tt>192.168.118.0</tt> through <tt>192.168.118.63</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><pre>192.168.118.0:cipso</pre><pre>192.168.118.0/24:cipso</pre></td>
<td align="left" valign="top" scope="row"><p>All addresses on <tt>192.168.118.</tt> network</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><pre>192.168.0.0/24:cipso</pre></td>
<td align="left" valign="top" scope="row"><p>All addresses on <tt>192.168.0.</tt>
network.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><pre>192.168.0.0:cipso</pre><pre>192.168.0.0/16:cipso</pre></td>
<td align="left" valign="top" scope="row"><p>All addresses on <tt>192.168.</tt> network</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><pre>192.0.0.0:cipso</pre><pre>192.0.0.0/8:cipso</pre></td>
<td align="left" valign="top" scope="row"><p>All addresses on <tt>192.</tt> network</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><pre>192.168.0.0/32:cipso</pre></td>
<td align="left" valign="top" scope="row"><p>Network address <tt>192.168.0.0</tt>. Not
a wildcard address.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><pre>192.168.118.0/32:cipso</pre></td>
<td align="left" valign="top" scope="row"><p>Network address <tt>192.168.118.0</tt>. Not a wildcard address.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><pre>192.0.0.0/32:cipso</pre></td>
<td align="left" valign="top" scope="row"><p>Network address <tt>192.0.0.0</tt>. Not a
wildcard address.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><pre>0.0.0.0/32:cipso</pre></td>
<td align="left" valign="top" scope="row"><p>Host address <tt>0.0.0.0</tt>. Not a wildcard address.</p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><pre>0.0.0.0:cipso</pre></td>
<td align="left" valign="top" scope="row"><p>All addresses on all networks</p></td>
</tr>
<tr><td rowspan="3" align="left" valign="top" scope="row"><p>IPv6</p></td>
<td align="left" valign="top" scope="row"><pre>2001\:DB8\:22\:5000\:\:21f7:cipso</pre></td>
<td align="left" valign="top" scope="row"><pre>2001:DB8:22:5000::21f7</pre></td>
</tr>
<tr><td align="left" valign="top" scope="row"><pre>2001\:DB8\:22\:5000\:\:0/52:cipso</pre></td>
<td align="left" valign="top" scope="row"><p>From
<tt>2001:DB8:22:5000::0</tt> through <tt>2001:DB8:22:5fff:ffff:ffff:ffff:ffff</tt></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><pre>0\:\:0/0:cipso</pre></td>
<td align="left" valign="top" scope="row"><p>All addresses on all networks</p></td>
</tr>
</table><p><a name="indexterm-970"></a>Note that the <tt>0.0.0.0/32</tt> address matches the specific address, <tt>0.0.0.0</tt>. The <tt>tnrhdb</tt> entry
<tt>0.0.0.0/32:admin_low</tt> is useful on a system where the literal address, <tt>0.0.0.0</tt>, is
used as a source IP address. For example, DHCP clients contact the DHCP
server as <tt>0.0.0.0</tt> before the server provides the clients with an IP address.</p><p>To create a <tt>tnrhdb</tt> entry on a Sun Ray server that serves DHCP
clients, see <a href="managetnet-3.html#managetnet-35">Example&nbsp;19-13</a>. Because <tt>0.0.0.0:admin_low</tt> is the default wildcard entry, see <a href="managetnet-3.html#managetnet-8">How to Limit the Hosts That Can Be Contacted on the Trusted Network</a>
for issues to consider before removing or changing this default.</p><p>For more information about prefix lengths in IPv4 and IPv6 addresses, see <a href="http://docs.sun.com/doc/819-3000/exlvx?a=view">Designing Your CIDR IPv4 Addressing Scheme in <i>System Administration Guide: IP Services</i></a>
and <a href="http://docs.sun.com/doc/819-3000/ipv6-overview-10?a=view">IPv6 Addressing Overview in <i>System Administration Guide: IP Services</i></a>.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="tnetov-40.html">Previous</a>
             </td>
             <td align="right">
                 <a href="txnet-3.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

