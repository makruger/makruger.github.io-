<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Customizing Device Authorizations in Trusted Extensions (Task Map) - Solaris Trusted Extensions Administrator's Procedures</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">Solaris Trusted Extensions Administrator's Procedures</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="managedev-33.html">Previous</a>
             </td>
             <td align="right">
                 <a href="audtask-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-4.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="trp-part-1.html">Part&nbsp;I&nbsp;Initial Configuration of Trusted Extensions</a></p>
<p class="toc level2"><a href="ovw-1.html">1.&nbsp;&nbsp;Security Planning for Trusted Extensions</a></p>
<p class="toc level2"><a href="tmap-1.html">2.&nbsp;&nbsp;Configuration Roadmap for Trusted Extensions</a></p>
<p class="toc level2"><a href="startinst-1.html">3.&nbsp;&nbsp;Adding Solaris Trusted Extensions Software to the Solaris OS (Tasks)</a></p>
<p class="toc level2"><a href="txconf-1.html">4.&nbsp;&nbsp;Configuring Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="txldap-1.html">5.&nbsp;&nbsp;Configuring LDAP for Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="headl-1.html">6.&nbsp;&nbsp;Configuring a Headless System With Trusted Extensions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="trp-part-2.html">Part&nbsp;II&nbsp;Administration of Trusted Extensions</a></p>
<p class="toc level2"><a href="txintro-1.html">7.&nbsp;&nbsp;Trusted Extensions Administration Concepts</a></p>
<p class="toc level2"><a href="txtool-1.html">8.&nbsp;&nbsp;Trusted Extensions Administration Tools</a></p>
<p class="toc level2"><a href="roles-1.html">9.&nbsp;&nbsp;Getting Started as a Trusted Extensions Administrator (Tasks)</a></p>
<p class="toc level2"><a href="secreq-1.html">10.&nbsp;&nbsp;Security Requirements on a Trusted Extensions System (Overview)</a></p>
<p class="toc level2"><a href="commontasks-1.html">11.&nbsp;&nbsp;Administering Security Requirements in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="useraccts-1.html">12.&nbsp;&nbsp;Users, Rights, and Roles in Trusted Extensions (Overview)</a></p>
<p class="toc level2"><a href="manageusers-1.html">13.&nbsp;&nbsp;Managing Users, Rights, and Roles in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="remotead-1.html">14.&nbsp;&nbsp;Remote Administration in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="manageldap-1.html">15.&nbsp;&nbsp;Trusted Extensions and LDAP (Overview)</a></p>
<p class="toc level2"><a href="managezones-1.html">16.&nbsp;&nbsp;Managing Zones in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="managefiles-1.html">17.&nbsp;&nbsp;Managing and Mounting Files in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="txnet-1.html">18.&nbsp;&nbsp;Trusted Networking (Overview)</a></p>
<p class="toc level2"><a href="managetnet-1.html">19.&nbsp;&nbsp;Managing Networks in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="managemail-1.html">20.&nbsp;&nbsp;Multilevel Mail in Trusted Extensions (Overview)</a></p>
<p class="toc level2"><a href="manageprint-1.html">21.&nbsp;&nbsp;Managing Labeled Printing (Tasks)</a></p>
<p class="toc level2"><a href="gentextid-15538.html">22.&nbsp;&nbsp;Devices in Trusted Extensions (Overview)</a></p>
<p class="toc level2"><a href="managedev-1.html">23.&nbsp;&nbsp;Managing Devices for Trusted Extensions (Tasks)</a></p>
<p class="toc level3"><a href="managedev-2.html">Handling Devices in Trusted Extensions (Task Map)</a></p>
<p class="toc level3"><a href="managedev-18.html">Using Devices in Trusted Extensions (Task Map)</a></p>
<p class="toc level3"><a href="managedev-33.html">Managing Devices in Trusted Extensions (Task Map)</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Customizing Device Authorizations in Trusted Extensions (Task Map)</a></p>
</div>
<p class="toc level2 tocsp"><a href="audtask-1.html">24.&nbsp;&nbsp;Trusted Extensions Auditing (Overview)</a></p>
<p class="toc level2"><a href="softmgt-1.html">25.&nbsp;&nbsp;Software Management in Trusted Extensions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="appol-1.html">A.&nbsp;&nbsp;Site Security Policy</a></p>
<p class="toc level2"><a href="appol-12.html">Creating and Managing a Security Policy</a></p>
<p class="toc level2"><a href="appol-11.html">Site Security Policy and Trusted Extensions</a></p>
<p class="toc level2"><a href="appol-2.html">Computer Security Recommendations</a></p>
<p class="toc level2"><a href="appol-3.html">Physical Security Recommendations</a></p>
<p class="toc level2"><a href="appol-4.html">Personnel Security Recommendations</a></p>
<p class="toc level2"><a href="appol-5.html">Common Security Violations</a></p>
<p class="toc level2"><a href="appol-6.html">Additional Security References</a></p>
<p class="toc level1 tocsp"><a href="aptxconf-1.html">B.&nbsp;&nbsp;Using CDE Actions to Install Zones in Trusted Extensions</a></p>
<p class="toc level2"><a href="aptxconf-62.html">Associating Network Interfaces With Zones by Using CDE Actions (Task Map)</a></p>
<p class="toc level2"><a href="aptxconf-40.html">Preparing to Create Zones by Using CDE Actions (Task Map)</a></p>
<p class="toc level2"><a href="aptxconf-20.html">Creating Labeled Zones by Using CDE Actions (Task Map)</a></p>
<p class="toc level1 tocsp"><a href="checklist-1.html">C.&nbsp;&nbsp;Configuration Checklist for Trusted Extensions</a></p>
<p class="toc level2"><a href="checklist-2.html">Checklist for Configuring Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="txapp-1.html">D.&nbsp;&nbsp;Quick Reference to Trusted Extensions Administration</a></p>
<p class="toc level2"><a href="txapp-2.html">Administrative Interfaces in Trusted Extensions</a></p>
<p class="toc level2"><a href="txapp-3.html">Solaris Interfaces Extended by Trusted Extensions</a></p>
<p class="toc level2"><a href="txapp-4.html">Tighter Security Defaults in Trusted Extensions</a></p>
<p class="toc level2"><a href="txapp-5.html">Limited Options in Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="txmp-1.html">E.&nbsp;&nbsp;List of Trusted Extensions Man Pages</a></p>
<p class="toc level2"><a href="txmp-2.html">Trusted Extensions Man Pages in Alphabetical Order</a></p>
<p class="toc level2"><a href="txmp-3.html">Solaris Man Pages That Are Modified by Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="managedev-16"></a><h3>Customizing Device Authorizations in Trusted Extensions (Task Map)</h3>
<a name="indexterm-1253"></a><a name="indexterm-1254"></a><p>The following task map describes procedures to change device authorizations at your site.</p><table><col width="27%"><col width="38%"><col width="33%"><tr><th align="left" valign="top" scope="column"><p>Task</p></th>
<th align="left" valign="top" scope="column"><p>Description</p></th>
<th align="left" valign="top" scope="column"><p>For
Instructions</p></th>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Create new device authorizations.</p></td>
<td align="left" valign="top" scope="row"><p>Creates site-specific authorizations.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#managedev-10">How to Create New Device Authorizations</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Add authorizations to a device.</p></td>
<td align="left" valign="top" scope="row"><p>Adds site-specific authorizations
to selected devices.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#managedev-42">How to Add Site-Specific Authorizations to a Device in Trusted Extensions</a></p></td>
</tr>
<tr><td align="left" valign="top" scope="row"><p>Assign device authorizations to users and roles.</p></td>
<td align="left" valign="top" scope="row"><p>Enables users and roles
to use the new authorizations.</p></td>
<td align="left" valign="top" scope="row"><p><a href="#managedev-38">How to Assign Device Authorizations</a></p></td>
</tr>
</table>

<a name="managedev-10"></a><h4>How to Create New Device Authorizations</h4><a name="indexterm-1255"></a><a name="indexterm-1256"></a><a name="indexterm-1257"></a><a name="indexterm-1258"></a><a name="indexterm-1259"></a><p>If no authorization is specified at the time a device is created,
by default, all users can use the device. If an authorization is specified,
then, by default, only authorized users can use the device.</p><p>To prevent all access to an allocatable device without using authorizations, see <a href="managedev-33.html#managedev-19">Example&nbsp;23-1</a>.</p><h6>Before You Begin</h6><p>You must be in the Security Administrator role in the global zone.</p><ol>
<li><b>Edit the <tt>auth_attr</tt> file.</b><p>Use the trusted editor. For details, see <a href="roles-4.html#roles-10">How to Edit Administrative Files in Trusted Extensions</a>.</p></li>
<li><b>Create a heading for the new authorizations.</b><p>Use the reverse-order Internet domain name of your organization followed by optional additional arbitrary
components, such as the name of your company. Separate components by dots. End
heading names with a dot.</p><pre><i>domain-suffix</i>.<i>domain-prefix</i>.<i>optional</i>.:::<i>Company</i> Header::help=<i>Company</i>.html</pre></li>
<li><b>Add new authorization entries.</b><p>Add the authorizations, one authorization per line. The lines are split for display
purposes. The authorizations include <tt>grant</tt> authorizations that enable administrators to assign the new authorizations.</p><pre><i>domain-suffix</i>.<i>domain-prefix</i>.grant:::Grant All <i>Company</i> Authorizations::
help=<i>Company</i>Grant.html
<i>domain-suffix</i>.<i>domain-prefix</i>.grant.device:::Grant <i>Company</i> Device Authorizations::
help=<i>Company</i>GrantDevice.html
<i>domain-suffix</i>.<i>domain-prefix</i>.device.allocate.tape:::Allocate Tape Device::
help=<i>Company</i>TapeAllocate.html
<i>domain-suffix</i>.<i>domain-prefix</i>.device.allocate.floppy:::Allocate Floppy Device::
help=<i>Company</i>FloppyAllocate.html</pre></li>
<li><b>Save the file and close the editor.</b></li>
<li><b>If you are using LDAP as your naming service, update the <tt>auth_attr</tt>
entries on the Sun Java System Directory Server (LDAP server).</b><p>For information, see the <a href="http://docs.sun.com/doc/819-2240/ldapaddent-1m?a=view"><tt>ldapaddent</tt>(1M)</a> man page.</p></li>
<li><b>Add the new authorizations to the appropriate rights profiles. Then assign the profiles
to users and roles.</b><p>Use the Solaris Management Console. Assume the Security Administrator role, then follow the
Solaris procedure <a href="http://docs.sun.com/doc/819-3321/rbactask-24?a=view">How to Create or Change a Rights Profile in <i>System Administration Guide: Security Services</i></a>.</p></li>
<li><b>Use the authorization to restrict access to tape and diskette drives.</b><p>Add the new authorizations to the list of required authorizations in the Device
Allocation Manager. For the procedure, see <a href="#managedev-42">How to Add Site-Specific Authorizations to a Device in Trusted Extensions</a>.</p></li></ol><a name="managedev-41"></a><h6>Example&nbsp;23-4 Creating Fine-Grained Device Authorizations</h6><a name="indexterm-1260"></a><p>A security administrator for NewCo needs to construct fine-grained device authorizations for the
company.</p><p>First, the administrator writes the following help files, and places the files in
the <tt>/usr/lib/help/auths/locale/C</tt> directory:</p><pre>Newco.html
NewcoGrant.html
NewcoGrantDevice.html
NewcoTapeAllocate.html
NewcoFloppyAllocate.html</pre><p>Next, the administrator adds a header for all of the authorizations for <tt>newco.com</tt>
in the <tt>auth_attr</tt> file.</p><pre># auth_attr file
com.newco.:::NewCo Header::help=Newco.html</pre><p>Next, the administrator adds authorization entries to the file:</p><pre>com.newco.grant:::Grant All NewCo Authorizations::
help=NewcoGrant.html
com.newco.grant.device:::Grant NewCo Device Authorizations::
help=NewcoGrantDevice.html
com.newco.device.allocate.tape:::Allocate Tape Device::
help=NewcoTapeAllocate.html
com.newco.device.allocate.floppy:::Allocate Floppy Device::
help=NewcoFloppyAllocate.html</pre><p>The lines are split for display purposes.</p><p>The <tt>auth_attr</tt> entries create the following authorizations:</p>
<ul><li><p>An authorization to grant all NewCo's authorizations</p></li>
<li><p>An authorization to grant NewCo's device authorizations</p></li>
<li><p>An authorization to allocate a tape drive</p></li>
<li><p>An authorization to allocate a diskette drive</p></li></ul>
<a name="managedev-43"></a><h6>Example&nbsp;23-5 Creating Trusted Path and Non-Trusted Path Authorizations</h6><a name="indexterm-1261"></a><a name="indexterm-1262"></a><p>By default, the Allocate Devices authorization enables allocation from the trusted path and
from outside the trusted path.</p><p>In the following example, site security policy requires restricting remote CD-ROM allocation. The
security administrator creates the <tt>com.someco.device.cdrom.local</tt> authorization. This authorization is for CD-ROM drives
that are allocated with the trusted path. The <tt>com.someco.device.cdrom.remote</tt> authorization is for those few
users who are allowed to allocate a CD-ROM drive outside the trusted path.</p><p>The security administrator creates the help files, adds the authorizations to the <tt>auth_attr</tt>
database, adds the authorizations to the devices, and then places the authorizations in
rights profiles. The profiles are assigned to users who are allowed to allocate
devices.</p>
<ul><li><p>The following are the <tt>auth_attr</tt> database entries:</p><pre>com.someco.:::SomeCo Header::help=Someco.html
com.someco.grant:::Grant All SomeCo Authorizations::
help=SomecoGrant.html
com.someco.grant.device:::Grant SomeCo Device Authorizations::
help=SomecoGrantDevice.html
com.someco.device.cdrom.local:::Allocate Local CD-ROM Device::
help=SomecoCDAllocateLocal.html
com.someco.device.cdrom.remote:::Allocate Remote CD-ROM Device::
help=SomecoCDAllocateRemote.html</pre></li>
<li><p>The following is the Device Allocation Manager assignment:</p><p>The Trusted Path enables authorized users to use the Device Allocation Manager when allocating the local CD-ROM drive.</p><pre>Device Name: cdrom_0
For Allocations From: <tt><b>Trusted Path</b></tt>
Allocatable By: Authorized Users
Authorizations: com.someco.device.cdrom.local</pre><p>The Non-Trusted Path enables users to allocate a device remotely by using the <tt>allocate</tt> command.</p><pre>Device Name: cdrom_0
For Allocations From: <tt><b>Non-Trusted Path</b></tt>
Allocatable By: Authorized Users
Authorizations: com.someco.device.cdrom.remote</pre></li>
<li><p>The following are the rights profile entries:</p><pre># Local Allocator profile
com.someco.device.cdrom.local

# Remote Allocator profile
com.someco.device.cdrom.remote</pre></li>
<li><p>The following are the rights profiles for authorized users:</p><pre># List of profiles for regular authorized user
Local Allocator Profile
...

# List of profiles for role or authorized user
Remote Allocator Profile
...</pre></li></ul>


<a name="managedev-42"></a><h4>How to Add Site-Specific Authorizations to a Device in Trusted Extensions</h4><a name="indexterm-1263"></a><a name="indexterm-1264"></a><a name="indexterm-1265"></a><h6>Before You Begin</h6><p>You must be in the Security Administrator role, or in a role
that includes the Configure Device Attributes authorization. You must have already created site-specific authorizations,
as described in <a href="#managedev-10">How to Create New Device Authorizations</a>.</p><ol>
<li><b>Follow the <a href="managedev-33.html#managedev-53">How to Configure a Device in Trusted Extensions</a> procedure.</b><ol style="list-style-type: lower-alpha">
<li><b>Select a device that needs to be protected with your new authorizations.</b></li>
<li><b>Open the Device Administration dialog box.</b></li>
<li><b>In the Device Configuration dialog box, click the Authorizations button.</b><p>The new authorizations are displayed in the Not Required list.</p></li>
<li><b>Add the new authorizations to the Required list of authorizations.</b></li></ol></li>
<li><b>To save your changes, click OK.</b></li></ol>

<a name="managedev-38"></a><h4>How to Assign Device Authorizations</h4><a name="indexterm-1266"></a><a name="indexterm-1267"></a><a name="indexterm-1268"></a><a name="indexterm-1269"></a><a name="indexterm-1270"></a><a name="indexterm-1271"></a><a name="indexterm-1272"></a><a name="indexterm-1273"></a><a name="indexterm-1274"></a><p>The Allocate Device authorization enables users to allocate a device. The Allocate Device
authorization, and the Revoke or Reclaim Device authorization, are appropriate for administrative roles.</p><h6>Before You Begin</h6><p>You must be in the Security Administrator role in the global zone.</p><p>If the existing profiles are not appropriate, the security administrator can create a
new profile. For an example, see <a href="usermgr-13.html#manageusers-40">How to Create a Rights Profile for Convenient Authorizations</a>.</p><ul>
<li><b><a name="indexterm-1275"></a>Assign to the user a rights profile that contains the Allocate Device authorization.</b><p>For assistance, see the online help. For the step-by-step procedure, see <a href="http://docs.sun.com/doc/819-3321/rbactask-25?a=view">How to Change the RBAC Properties of a User in <i>System Administration Guide: Security Services</i></a>.</p><p><a name="indexterm-1276"></a><a name="indexterm-1277"></a><a name="indexterm-1278"></a><a name="indexterm-1279"></a><a name="indexterm-1280"></a>The following profiles enable a role to allocate devices:</p>
<ul><li><p>All Authorizations</p></li>
<li><p>Device Management</p></li>
<li><p>Media Backup</p></li>
<li><p>Media Restore</p></li>
<li><p>Object Label Management</p></li>
<li><p>Software Installation</p></li></ul>
<p><a name="indexterm-1281"></a><a name="indexterm-1282"></a>The following profiles enable a role to revoke or reclaim devices:</p>
<ul><li><p>All Authorizations</p></li>
<li><p>Device Management</p></li></ul>
<p><a name="indexterm-1283"></a><a name="indexterm-1284"></a>The following profiles enable a role to create or configure devices:</p>
<ul><li><p>All Authorizations</p></li>
<li><p>Device Security</p></li></ul>
</li></ul><a name="managedev-15"></a><h6>Example&nbsp;23-6 Assigning New Device Authorizations</h6><p>In this example, the security administrator configures the new device authorizations for the
system and assigns the rights profile with the new authorizations to trustworthy users.
The security administrator does the following:</p>
<ol><li><p>Creates new device authorizations, as in <a href="#managedev-10">How to Create New Device Authorizations</a></p></li>
<li><p>In the Device Allocation Manager, adds the new device authorizations to the tape and diskette drives</p></li>
<li><p>Places the new authorizations in the rights profile, NewCo Allocation</p></li>
<li><p>Adds the NewCo Allocation rights profile to the profiles of users and roles who are authorized to allocate tape and diskette drives</p></li></ol>
<p>Authorized users and roles can now use the tape drives and diskette drives
on this system.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="managedev-33.html">Previous</a>
             </td>
             <td align="right">
                 <a href="audtask-1.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

