<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>Adding Software to Trusted Extensions - Solaris Trusted Extensions Administrator's Procedures</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2009-02-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">Solaris Trusted Extensions Administrator's Procedures</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="softmgt-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="addsoft-17.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface-4.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="trp-part-1.html">Part&nbsp;I&nbsp;Initial Configuration of Trusted Extensions</a></p>
<p class="toc level2"><a href="ovw-1.html">1.&nbsp;&nbsp;Security Planning for Trusted Extensions</a></p>
<p class="toc level2"><a href="tmap-1.html">2.&nbsp;&nbsp;Configuration Roadmap for Trusted Extensions</a></p>
<p class="toc level2"><a href="startinst-1.html">3.&nbsp;&nbsp;Adding Solaris Trusted Extensions Software to the Solaris OS (Tasks)</a></p>
<p class="toc level2"><a href="txconf-1.html">4.&nbsp;&nbsp;Configuring Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="txldap-1.html">5.&nbsp;&nbsp;Configuring LDAP for Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="headl-1.html">6.&nbsp;&nbsp;Configuring a Headless System With Trusted Extensions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="trp-part-2.html">Part&nbsp;II&nbsp;Administration of Trusted Extensions</a></p>
<p class="toc level2"><a href="txintro-1.html">7.&nbsp;&nbsp;Trusted Extensions Administration Concepts</a></p>
<p class="toc level2"><a href="txtool-1.html">8.&nbsp;&nbsp;Trusted Extensions Administration Tools</a></p>
<p class="toc level2"><a href="roles-1.html">9.&nbsp;&nbsp;Getting Started as a Trusted Extensions Administrator (Tasks)</a></p>
<p class="toc level2"><a href="secreq-1.html">10.&nbsp;&nbsp;Security Requirements on a Trusted Extensions System (Overview)</a></p>
<p class="toc level2"><a href="commontasks-1.html">11.&nbsp;&nbsp;Administering Security Requirements in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="useraccts-1.html">12.&nbsp;&nbsp;Users, Rights, and Roles in Trusted Extensions (Overview)</a></p>
<p class="toc level2"><a href="manageusers-1.html">13.&nbsp;&nbsp;Managing Users, Rights, and Roles in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="remotead-1.html">14.&nbsp;&nbsp;Remote Administration in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="manageldap-1.html">15.&nbsp;&nbsp;Trusted Extensions and LDAP (Overview)</a></p>
<p class="toc level2"><a href="managezones-1.html">16.&nbsp;&nbsp;Managing Zones in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="managefiles-1.html">17.&nbsp;&nbsp;Managing and Mounting Files in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="txnet-1.html">18.&nbsp;&nbsp;Trusted Networking (Overview)</a></p>
<p class="toc level2"><a href="managetnet-1.html">19.&nbsp;&nbsp;Managing Networks in Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="managemail-1.html">20.&nbsp;&nbsp;Multilevel Mail in Trusted Extensions (Overview)</a></p>
<p class="toc level2"><a href="manageprint-1.html">21.&nbsp;&nbsp;Managing Labeled Printing (Tasks)</a></p>
<p class="toc level2"><a href="gentextid-15538.html">22.&nbsp;&nbsp;Devices in Trusted Extensions (Overview)</a></p>
<p class="toc level2"><a href="managedev-1.html">23.&nbsp;&nbsp;Managing Devices for Trusted Extensions (Tasks)</a></p>
<p class="toc level2"><a href="audtask-1.html">24.&nbsp;&nbsp;Trusted Extensions Auditing (Overview)</a></p>
<p class="toc level2"><a href="softmgt-1.html">25.&nbsp;&nbsp;Software Management in Trusted Extensions (Tasks)</a></p>
<div class="onpage">
<p class="toc level3"><a href="">Adding Software to Trusted Extensions</a></p>
</div>
<p class="toc level3"><a href="addsoft-17.html">Trusted Processes in the Window System</a></p>
<p class="toc level3"><a href="addsoft-41.html">Managing Software in Trusted Extensions (Tasks)</a></p>
<p class="toc level1 tocsp"><a href="appol-1.html">A.&nbsp;&nbsp;Site Security Policy</a></p>
<p class="toc level2"><a href="appol-12.html">Creating and Managing a Security Policy</a></p>
<p class="toc level2"><a href="appol-11.html">Site Security Policy and Trusted Extensions</a></p>
<p class="toc level2"><a href="appol-2.html">Computer Security Recommendations</a></p>
<p class="toc level2"><a href="appol-3.html">Physical Security Recommendations</a></p>
<p class="toc level2"><a href="appol-4.html">Personnel Security Recommendations</a></p>
<p class="toc level2"><a href="appol-5.html">Common Security Violations</a></p>
<p class="toc level2"><a href="appol-6.html">Additional Security References</a></p>
<p class="toc level1 tocsp"><a href="aptxconf-1.html">B.&nbsp;&nbsp;Using CDE Actions to Install Zones in Trusted Extensions</a></p>
<p class="toc level2"><a href="aptxconf-62.html">Associating Network Interfaces With Zones by Using CDE Actions (Task Map)</a></p>
<p class="toc level2"><a href="aptxconf-40.html">Preparing to Create Zones by Using CDE Actions (Task Map)</a></p>
<p class="toc level2"><a href="aptxconf-20.html">Creating Labeled Zones by Using CDE Actions (Task Map)</a></p>
<p class="toc level1 tocsp"><a href="checklist-1.html">C.&nbsp;&nbsp;Configuration Checklist for Trusted Extensions</a></p>
<p class="toc level2"><a href="checklist-2.html">Checklist for Configuring Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="txapp-1.html">D.&nbsp;&nbsp;Quick Reference to Trusted Extensions Administration</a></p>
<p class="toc level2"><a href="txapp-2.html">Administrative Interfaces in Trusted Extensions</a></p>
<p class="toc level2"><a href="txapp-3.html">Solaris Interfaces Extended by Trusted Extensions</a></p>
<p class="toc level2"><a href="txapp-4.html">Tighter Security Defaults in Trusted Extensions</a></p>
<p class="toc level2"><a href="txapp-5.html">Limited Options in Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="txmp-1.html">E.&nbsp;&nbsp;List of Trusted Extensions Man Pages</a></p>
<p class="toc level2"><a href="txmp-2.html">Trusted Extensions Man Pages in Alphabetical Order</a></p>
<p class="toc level2"><a href="txmp-3.html">Solaris Man Pages That Are Modified by Trusted Extensions</a></p>
<p class="toc level1 tocsp"><a href="glossary-1.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="addsoft-12"></a><h3>Adding Software to Trusted Extensions</h3>
<p><a name="indexterm-1349"></a><a name="indexterm-1350"></a>Any software that can be added to a Solaris system can be added
to a system that is configured with Trusted Extensions. Additionally, programs that use
Trusted Extensions APIs can be added. Adding software to a Trusted Extensions
system is similar to adding software to a Solaris system that is running
non-global zones.</p><p>For example, packaging issues affect systems that have installed non-global zones. Package parameters
define the following:</p>
<ul><li><p><b>The zone scope of the package &ndash;</b> The scope determines the type of zone in which a specific package can be installed.</p></li>
<li><p><b>The visibility of the package &ndash;</b> Visibility determines whether a package must be installed and be identical in all zones.</p></li>
<li><p><b>The limitation of the package &ndash;</b> One limitation is whether a package must be installed in the current zone only.</p></li></ul>
<p>In Trusted Extensions, programs are typically installed in the global zone for use
by regular users in labeled zones. For details about installing packages in zones,
see <a href="http://docs.sun.com/doc/819-2450/z.pkginst.ov-1?a=view">Chapter 24, About Packages and Patches on a Solaris System With Zones Installed (Overview), in <i>System Administration Guide: Virtualization Using the Solaris Operating System</i></a>. Also, see the <a href="http://docs.sun.com/doc/819-2240/pkgadd-1m?a=view"><tt>pkgadd</tt>(1M)</a> man page.</p><p>At a Trusted Extensions site, the system administrator and the security administrator work
together to install software. The security administrator evaluates software additions for adherence to
security policy. When the software requires privileges or authorizations to succeed, the Security
Administrator role assigns an appropriate rights profile to the users of that software.</p><p>To import software from removable media requires authorization. An account with the Allocate
Device authorization can import or export data from removable media. Data can include
executable code. A regular user can only import data at a label within
that user's clearance.</p><p>The System Administrator role is responsible for adding the programs that the security
administrator approves.</p>

<a name="addsoft-53"></a><h4>Solaris Security Mechanisms for Software</h4>
<a name="indexterm-1351"></a><p>Trusted Extensions uses the same security mechanisms as the Solaris OS. The mechanisms
include the following:</p>
<ul><li><p><b>Authorizations &ndash;</b> Users of a program can be required to have a particular authorization. For information about authorizations, see <a href="http://docs.sun.com/doc/819-3321/rbac-29?a=view">Solaris RBAC Elements and Basic Concepts in <i>System Administration Guide: Security Services</i></a>. Also, see the <a href="http://docs.sun.com/doc/819-2251/auth-attr-4?a=view"><tt>auth_attr</tt>(4)</a> and <a href="http://docs.sun.com/doc/819-2248/getauthattr-3secdb?a=view"><tt>getauthattr</tt>(3SECDB)</a> man pages.</p></li>
<li><p><b>Privileges &ndash;</b> Programs and processes can be assigned privileges. For information about privileges, see <a href="http://docs.sun.com/doc/819-3321/prbac-1?a=view">Chapter 8, Using Roles and Privileges (Overview), in <i>System Administration Guide: Security Services</i></a>. Also, see the <a href="http://docs.sun.com/doc/819-2252/privileges-5?a=view"><tt>privileges</tt>(5)</a> man page.</p><p>The <tt>ppriv</tt> command provides a debugging utility. For details, see the <a href="http://docs.sun.com/doc/819-2239/ppriv-1?a=view"><tt>ppriv</tt>(1)</a> man page. For instructions on using this utility with programs that work in non-global zones, see <a href="http://docs.sun.com/doc/819-2450/z.admin.task-2?a=view">Using the ppriv Utility in <i>System Administration Guide: Virtualization Using the Solaris Operating System</i></a>.</p></li>
<li><p><b>Right Profiles &ndash;</b> Rights profiles collect security attributes in one place for assignment to users or roles. For information about rights profiles, see <a href="http://docs.sun.com/doc/819-3321/rbac-33?a=view">RBAC Rights Profiles in <i>System Administration Guide: Security Services</i></a>. Trusted Extensions adds CDE actions to the type of executables that can be assigned security attributes.</p></li>
<li><p><b>Trusted libraries &ndash;</b> Dynamically shared libraries that are used by <tt>setuid</tt>, <tt>setgid</tt>, and privileged programs can be loaded only from trusted directories. As in the Solaris OS, the <tt>crle</tt> command is used to add a privileged program's shared library directories to the list of trusted directories. For details, see the <a href="http://docs.sun.com/doc/819-2239/crle-1?a=view"><tt>crle</tt>(1)</a> man page.</p></li></ul>


<a name="addsoft-45"></a><h4>Evaluating Software for Security</h4>
<a name="indexterm-1352"></a><a name="indexterm-1353"></a><a name="indexterm-1354"></a><a name="indexterm-1355"></a><p>When software has been assigned privileges or when it runs with an
alternate user ID or group ID, the software becomes <b>trusted</b>. Trusted software can bypass
aspects of the Trusted Extensions security policy. Be aware that you can make
software trusted even though it might not be worthy of trust. The security
administrator must wait to give privileges to software until careful scrutiny has revealed
that the software uses the privileges in a trustworthy manner.</p><p>Programs fall into three categories on a trusted system:</p>
<ul><li><p><b>Programs that require no security attributes &ndash;</b> Some programs run at a single level and require no privileges. These programs can be installed in a public directory, such as <tt>/usr/local</tt>. For access, assign the programs as commands in the rights profiles of users and roles.</p></li>
<li><p><a name="indexterm-1356"></a><a name="indexterm-1357"></a><b>Programs that run as root &ndash;</b> Some programs execute with <tt>setuid 0</tt>. Such programs can be assigned an effective UID of <tt>0</tt> in a rights profile. The security administrator then assigns the profile to an administrative role.</p>
<hr><p><b>Tip - </b>If the application can use privileges in a trustworthy manner, assign the needed privileges to the application, and do not execute the program as <tt>root</tt>.</p>
<hr>
</li>
<li><p><a name="indexterm-1358"></a><a name="indexterm-1359"></a><a name="indexterm-1360"></a><b>Programs that require privileges &ndash;</b> Some programs might need privileges for reasons that are not obvious. Even if a program is not performing any function that seems to violate system security policy, the program might be doing something internally that violates security. For example, the program could be using a shared log file, or the program could be reading from <tt>/dev/kmem</tt>. For security concerns, see the <a href="http://docs.sun.com/doc/819-2254/mem-7d?a=view"><tt>mem</tt>(7D)</a> man page.</p><p>Sometimes, an internal policy override is not particularly important to the application's correct operation. Rather, the override provides a convenient feature for users.</p><p>If your organization has access to the source code, check if you can remove the operations that require policy overrides without affecting the application's performance.</p></li></ul>


<a name="addsoft-59"></a><h5>Developer Responsibilities When Creating Trusted Programs</h5>
<a name="indexterm-1361"></a><p>Even though a program's developer can manipulate privilege sets in the source code,
if the security administrator does not assign the required privileges to the program,
the program will fail. The developer and security administrator need to cooperate when
creating trusted programs.</p><p><a name="indexterm-1362"></a>A developer who writes a trusted program must do the following:</p>
<ol><li><p>Understand where the program requires privileges to do its work.</p></li>
<li><p>Know and follow techniques, such as privilege bracketing, for safely using privileges in programs.</p></li>
<li><p>Be aware of the security implications when assigning privileges to a program. The program must not violate security policy.</p></li>
<li><p>Compile the program by using shared libraries that are linked to the program from a trusted directory.</p><p>For additional information, see <a href="http://docs.sun.com/doc/819-2145"><i>Solaris Security for Developers Guide</i></a>. For examples of code for Trusted Extensions, see <a href="http://docs.sun.com/doc/819-7312"><i>Solaris Trusted Extensions Developer&rsquo;s Guide</i></a>.</p></li></ol>


<a name="addsoft-23"></a><h5>Security Administrator Responsibilities for Trusted Programs</h5>
<p><a name="indexterm-1363"></a><a name="indexterm-1364"></a>The security administrator is responsible for testing and evaluating new software. After determining
that the software is trustworthy, the security administrator configures rights profiles and other security-relevant
attributes for the program.</p><p>The security administrator responsibilities include the following:</p>
<ol><li><p>Make sure that the programmer and the program distribution process is trusted.</p></li>
<li><p>From one of the following sources, determine which privileges are required by the program:</p>
<ul><li><p>Ask the programmer.</p></li>
<li><p>Search the source code for any privileges that the program expects to use.</p></li>
<li><p>Search the source code for any authorizations that the program requires of its users.</p></li>
<li><p>Use the debugging options to the <tt>ppriv</tt> command to search for use of privilege. For examples, see the <a href="http://docs.sun.com/doc/819-2239/ppriv-1?a=view"><tt>ppriv</tt>(1)</a> man page.</p></li></ul>
</li>
<li><p>Examine the source code to make sure that the code behaves in a trustworthy manner regarding the privileges that the program needs to operate.</p><p>If the program fails to use privilege in a trustworthy manner, and you can modify the program's source code, then modify the code. A security consultant or developer who is knowledgeable about security can modify the code. Modifications might include privilege bracketing or checking for authorizations.</p><p>The assignment of privileges must be manual. A program that fails due to lack of privilege can be assigned privileges. Alternatively, the security administrator might decide to assign an effective UID or GID to make the privilege unnecessary.</p></li></ol>

         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="softmgt-1.html">Previous</a>
             </td>
             <td align="right">
                 <a href="addsoft-17.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

