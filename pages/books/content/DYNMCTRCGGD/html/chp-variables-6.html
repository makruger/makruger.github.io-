<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-US">
<head>
<meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
<title>External Variables - Solaris Dynamic Tracing Guide</title>
<meta name="robots" content="index,follow">
<meta name="robots" content="index,follow">
<meta name="date" content="2008-11-01">
<meta name="collection" content="reference">
<link rel="stylesheet" type="text/css" href="css/elements.css">
<link rel="stylesheet" type="text/css" href="css/indiana.css">
</head>

<body>


<div class="Masthead">
   <div class="MastheadLogo">
      <a href="http://www.opensolaris.org"><img border="0" src="graphics/header.png"></img></a>
   </div>
   <div class="Title">Solaris Dynamic Tracing Guide</div>
</div>

<table class="Layout" border="0" cellspacing="0" width="100%">
<tbody>

   <tr valign="top" class="PageControls">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="chp-variables-5.html">Previous</a>
             </td>
             <td align="right">
                 <a href="chp-prog.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
   
   <tr valign="top">
      <td class="Navigation" width="200px"><p class="toc level1"><a href="docinfo.html">Document Information</a></p>
<p class="toc level1 tocsp"><a href="preface.html">Preface</a></p>
<p class="toc level1 tocsp"><a href="chp-intro.html">1.&nbsp;&nbsp;Introduction</a></p>
<p class="toc level1 tocsp"><a href="chp-typeopexpr.html">2.&nbsp;&nbsp;Types, Operators, and Expressions</a></p>
<p class="toc level1 tocsp"><a href="chp-variables.html">3.&nbsp;&nbsp;Variables</a></p>
<p class="toc level2"><a href="chp-variables-1.html">Scalar Variables</a></p>
<p class="toc level2"><a href="chp-variables-2.html">Associative Arrays</a></p>
<p class="toc level2"><a href="chp-variables-3.html">Thread-Local Variables</a></p>
<p class="toc level2"><a href="chp-variables-4.html">Clause-Local Variables</a></p>
<p class="toc level2"><a href="chp-variables-5.html">Built-in Variables</a></p>
<div class="onpage">
<p class="toc level2"><a href="">External Variables</a></p>
</div>
<p class="toc level1 tocsp"><a href="chp-prog.html">4.&nbsp;&nbsp;D Program Structure</a></p>
<p class="toc level1 tocsp"><a href="chp-pointers.html">5.&nbsp;&nbsp;Pointers and Arrays</a></p>
<p class="toc level1 tocsp"><a href="chp-strings.html">6.&nbsp;&nbsp;Strings</a></p>
<p class="toc level1 tocsp"><a href="chp-structs.html">7.&nbsp;&nbsp;Structs and Unions</a></p>
<p class="toc level1 tocsp"><a href="chp-types.html">8.&nbsp;&nbsp;Type and Constant Definitions</a></p>
<p class="toc level1 tocsp"><a href="chp-aggs.html">9.&nbsp;&nbsp;Aggregations</a></p>
<p class="toc level1 tocsp"><a href="chp-actsub.html">10.&nbsp;&nbsp;Actions and Subroutines</a></p>
<p class="toc level1 tocsp"><a href="chp-buf.html">11.&nbsp;&nbsp;Buffers and Buffering</a></p>
<p class="toc level1 tocsp"><a href="chp-fmt.html">12.&nbsp;&nbsp;Output Formatting</a></p>
<p class="toc level1 tocsp"><a href="chp-spec.html">13.&nbsp;&nbsp;Speculative Tracing</a></p>
<p class="toc level1 tocsp"><a href="chp-dtrace1m.html">14.&nbsp;&nbsp;<tt>dtrace</tt>(1M) Utility</a></p>
<p class="toc level1 tocsp"><a href="chp-script.html">15.&nbsp;&nbsp;Scripting</a></p>
<p class="toc level1 tocsp"><a href="chp-opt.html">16.&nbsp;&nbsp;Options and Tunables</a></p>
<p class="toc level1 tocsp"><a href="chp-dtrace.html">17.&nbsp;&nbsp;<tt>dtrace</tt> Provider</a></p>
<p class="toc level1 tocsp"><a href="chp-lockstat.html">18.&nbsp;&nbsp;<tt>lockstat</tt> Provider</a></p>
<p class="toc level1 tocsp"><a href="chp-profile.html">19.&nbsp;&nbsp;<tt>profile</tt> Provider</a></p>
<p class="toc level1 tocsp"><a href="chp-fbt.html">20.&nbsp;&nbsp;<tt>fbt</tt> Provider</a></p>
<p class="toc level1 tocsp"><a href="chp-syscall.html">21.&nbsp;&nbsp;<tt>syscall</tt> Provider</a></p>
<p class="toc level1 tocsp"><a href="chp-sdt.html">22.&nbsp;&nbsp;<tt>sdt</tt> Provider</a></p>
<p class="toc level1 tocsp"><a href="chp-sysinfo.html">23.&nbsp;&nbsp;<tt>sysinfo</tt> Provider</a></p>
<p class="toc level1 tocsp"><a href="chp-vminfo.html">24.&nbsp;&nbsp;<tt>vminfo</tt> Provider</a></p>
<p class="toc level1 tocsp"><a href="chp-proc.html">25.&nbsp;&nbsp;<tt>proc</tt> Provider</a></p>
<p class="toc level1 tocsp"><a href="chp-sched.html">26.&nbsp;&nbsp;<tt>sched</tt> Provider</a></p>
<p class="toc level1 tocsp"><a href="chp-io.html">27.&nbsp;&nbsp;<tt>io</tt> Provider</a></p>
<p class="toc level1 tocsp"><a href="chp-mib.html">28.&nbsp;&nbsp;<tt>mib</tt> Provider</a></p>
<p class="toc level1 tocsp"><a href="chp-fpuinfo.html">29.&nbsp;&nbsp;<tt>fpuinfo</tt> Provider</a></p>
<p class="toc level1 tocsp"><a href="chp-pid.html">30.&nbsp;&nbsp;<tt>pid</tt> Provider</a></p>
<p class="toc level1 tocsp"><a href="chp-plockstat.html">31.&nbsp;&nbsp;<tt>plockstat</tt> Provider</a></p>
<p class="toc level1 tocsp"><a href="chp-fasttrap.html">32.&nbsp;&nbsp;<tt>fasttrap</tt> Provider</a></p>
<p class="toc level1 tocsp"><a href="chp-user.html">33.&nbsp;&nbsp;User Process Tracing</a></p>
<p class="toc level1 tocsp"><a href="chp-usdt.html">34.&nbsp;&nbsp;Statically Defined Tracing for User Applications</a></p>
<p class="toc level1 tocsp"><a href="chp-sec.html">35.&nbsp;&nbsp;Security</a></p>
<p class="toc level1 tocsp"><a href="chp-anon.html">36.&nbsp;&nbsp;Anonymous Tracing</a></p>
<p class="toc level1 tocsp"><a href="chp-post.html">37.&nbsp;&nbsp;Postmortem Tracing</a></p>
<p class="toc level1 tocsp"><a href="chp-perf.html">38.&nbsp;&nbsp;Performance Considerations</a></p>
<p class="toc level1 tocsp"><a href="chp-stab.html">39.&nbsp;&nbsp;Stability</a></p>
<p class="toc level1 tocsp"><a href="chp-xlate.html">40.&nbsp;&nbsp;Translators</a></p>
<p class="toc level1 tocsp"><a href="chp-vers.html">41.&nbsp;&nbsp;Versioning</a></p>
<p class="toc level1 tocsp"><a href="gloss01.html">Glossary</a></p>
<p class="toc level1 tocsp"><a href="idx-1.html">Index</a></p>
</td>
      <td class="ContentPane" width="705px">

	 <div class="MainContent">      	 
             

<a name="chp-variables-6"></a><h3>External Variables</h3>
<p><a name="indexterm-76"></a><a name="indexterm-77"></a>D uses the backquote character (<tt>`</tt>) as a special scoping operator for accessing variables
that are defined in the operating system and not in your D program.
For example, the Solaris kernel contains a C declaration of a system tunable
named <tt>kmem_flags</tt> for enabling memory allocator debugging features. See the <i>Solaris Tunable Parameters Reference Manual</i> for more information
about <tt>kmem_flags</tt>. This tunable is declared as a C variable in the kernel
source code as follows:</p><pre>int kmem_flags;</pre><p>To access the value of this variable in a D program, use
the D notation:</p><pre>`kmem_flags</pre><p><a name="indexterm-78"></a>DTrace associates each kernel symbol with the type used for the symbol in
the corresponding operating system C code, providing easy source-based access to the native
operating system data structures. In order to use external operating system variables, you
will need access to the corresponding operating system source code.</p><p><a name="indexterm-79"></a>When you access external variables from a D program, you are accessing the
internal implementation details of another program such as the operating system kernel or
its device drivers. These implementation details do not form a stable interface upon
which you can rely! Any D programs you write that depend on these
details might cease to work when you next upgrade the corresponding piece of
software. For this reason, external variables are typically used by kernel and device
driver developers and service personnel in order to debug performance or functionality problems
using DTrace. To learn more about the stability of your D programs, refer
to <a href="chp-stab.html">Chapter&nbsp;39, Stability</a>.</p><p><a name="indexterm-80"></a><a name="indexterm-81"></a><a name="indexterm-82"></a>Kernel symbol names are kept in a separate namespace from D variable and
function identifiers, so you never need to worry about these names conflicting with
your D variables. When you prefix a variable with a backquote, the
D compiler searches the known kernel symbols in order using the list of
loaded modules in order to find a matching variable definition. Because the Solaris kernel
supports dynamically loaded modules with separate symbol namespaces, the same variable name might
be used more than once in the active operating system kernel. You can
resolve these name conflicts by specifying the name of the kernel module whose
variable should be accessed prior to the backquote in the symbol name. For
example, each loadable kernel module typically provides a <tt>_fini</tt>(9E) function, so to refer to
the address of the <tt>_fini</tt> function provided by a kernel module named <tt>foo</tt>,
you would write:</p><pre>foo`_fini</pre><p><a name="indexterm-83"></a>You can apply any of the D operators to external variables, except those
that modify values, subject to the usual rules for operand types. When you
launch DTrace, the D compiler loads the set of variable names corresponding to
the active kernel modules, so declarations of these variables are not required. You
may not apply any operator to an external variable that modifies its
value, such as <tt>=</tt> or <tt>+=</tt>. For safety reasons, DTrace prevents you from damaging
or corrupting the state of the software you are observing.</p>
         </div>
      </td>
   </tr>

   <tr class="PageControls" valign="top">
      <td></td>
      <td>
         <table width="100%">
      	   <tr>
      	     <td>
                 <a href="chp-variables-5.html">Previous</a>
             </td>
             <td align="right">
                 <a href="chp-prog.html">Next</a>
             </td>
           </tr>
         </table>
      </td>
   </tr>
</tbody>
</table>


</body>
</html>

